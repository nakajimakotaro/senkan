(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])
return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports;}
__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.i=function(value){return value;};__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{configurable:false,enumerable:true,get:getter});}};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module['default'];}:function getModuleExports(){return module;};__webpack_require__.d(getter,'a',getter);return getter;};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property);};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=723);})
([(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var matrix=typed('matrix',{'':function(){return _create([]);},'string':function(format){return _create([],format);},'string, string':function(format,datatype){return _create([],format,datatype);},'Array':function(data){return _create(data);},'Matrix':function(data){return _create(data,data.storage());},'Array | Matrix, string':_create,'Array | Matrix, string, string':_create});matrix.toTex={0:'\\begin{bmatrix}\\end{bmatrix}',1:'\\left(${args[0]}\\right)',2:'\\left(${args[0]}\\right)'};return matrix;function _create(data,format,datatype){var M=type.Matrix.storage(format||'default');return new M(data,datatype);}}
exports.name='matrix';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";module.exports=function deepMap(array,callback,skipZeros){if(array&&(typeof array.map==='function')){return array.map(function(x){return deepMap(x,callback,skipZeros);});}
else{return callback(array);}};}),(function(module,exports,__webpack_require__){"use strict";exports.isNumber=function(value){return typeof value==='number';};exports.isInteger=function(value){return isFinite(value)?(value==Math.round(value)):false;};exports.sign=Math.sign||function(x){if(x>0){return 1;}
else if(x<0){return-1;}
else{return 0;}};exports.format=function(value,options){if(typeof options==='function'){return options(value);}
if(value===Infinity){return'Infinity';}
else if(value===-Infinity){return'-Infinity';}
else if(isNaN(value)){return'NaN';}
var notation='auto';var precision=undefined;if(options){if(options.notation){notation=options.notation;}
if(exports.isNumber(options)){precision=options;}
else if(options.precision){precision=options.precision;}}
switch(notation){case'fixed':return exports.toFixed(value,precision);case'exponential':return exports.toExponential(value,precision);case'engineering':return exports.toEngineering(value,precision);case'auto':return exports.toPrecision(value,precision,options&&options.exponential).replace(/((\.\d*?)(0+))($|e)/,function(){var digits=arguments[2];var e=arguments[4];return(digits!=='.')?digits+e:e;});default:throw new Error('Unknown notation "'+notation+'". '+'Choose "auto", "exponential", or "fixed".');}};exports.splitNumber=function(value){var match=String(value).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!match){throw new SyntaxError('Invalid number '+value);}
var sign=match[1];var digits=match[2];var exponent=parseFloat(match[4]||'0');var dot=digits.indexOf('.');exponent+=(dot!==-1)?(dot-1):(digits.length-1);var coefficients=digits.replace('.','').replace(/^0*/,function(zeros){exponent-=zeros.length;return'';}).replace(/0*$/,'').split('').map(function(d){return parseInt(d);});if(coefficients.length===0){coefficients.push(0);exponent++;}
return{sign:sign,coefficients:coefficients,exponent:exponent};};exports.toEngineering=function(value,precision){if(isNaN(value)||!isFinite(value)){return String(value);}
var rounded=exports.roundDigits(exports.splitNumber(value),precision);var e=rounded.exponent;var c=rounded.coefficients;var newExp=e%3===0?e:(e<0?(e-3)-(e%3):e-(e%3));var significandsDiff=e>=0?e:Math.abs(newExp);if(c.length-1<significandsDiff)c=c.concat(zeros(significandsDiff-(c.length-1)));var expDiff=Math.abs(e-newExp);var decimalIdx=1;while(--expDiff>=0)decimalIdx++;var decimals=c.slice(decimalIdx).join('');var decimalVal=decimals.match(/[1-9]/)?('.'+decimals):'';var str=c.slice(0,decimalIdx).join('')+
decimalVal+'e'+(e>=0?'+':'')+newExp.toString();return rounded.sign+str;};exports.toFixed=function(value,precision){if(isNaN(value)||!isFinite(value)){return String(value);}
var splitValue=exports.splitNumber(value)
var rounded=exports.roundDigits(splitValue,splitValue.exponent+1+(precision||0));var c=rounded.coefficients;var p=rounded.exponent+1;var pp=p+(precision||0);if(c.length<pp){c=c.concat(zeros(pp-c.length));}
if(p<0){c=zeros(-p+1).concat(c);p=1;}
if(precision){c.splice(p,0,(p===0)?'0.':'.');}
return rounded.sign+c.join('');};exports.toExponential=function(value,precision){if(isNaN(value)||!isFinite(value)){return String(value);}
var split=exports.splitNumber(value)
var rounded=precision?exports.roundDigits(split,precision):split;var c=rounded.coefficients;var e=rounded.exponent;if(c.length<precision){c=c.concat(zeros(precision-c.length));}
var first=c.shift();return rounded.sign+first+(c.length>0?('.'+c.join('')):'')+'e'+(e>=0?'+':'')+e;}
exports.toPrecision=function(value,precision,options){if(isNaN(value)||!isFinite(value)){return String(value);}
var lower=(options&&options.lower!==undefined)?options.lower:1e-3;var upper=(options&&options.upper!==undefined)?options.upper:1e+5;var split=exports.splitNumber(value)
var abs=Math.abs(Math.pow(10,split.exponent));if(abs<lower||abs>=upper){return exports.toExponential(value,precision);}
else{var rounded=precision?exports.roundDigits(split,precision):split;var c=rounded.coefficients;var e=rounded.exponent;if(c.length<precision){c=c.concat(zeros(precision-c.length));}
c=c.concat(zeros(e-c.length+1+
(c.length<precision?precision-c.length:0)));c=zeros(-e).concat(c);var dot=e>0?e:0;if(dot<c.length-1){c.splice(dot+1,0,'.');}
return rounded.sign+c.join('');}}
exports.roundDigits=function(split,precision){var rounded={sign:split.sign,coefficients:split.coefficients,exponent:split.exponent}
var c=rounded.coefficients;while(precision<=0){c.unshift(0);rounded.exponent++;precision++;}
if(c.length>precision){var removed=c.splice(precision,c.length-precision);if(removed[0]>=5){var i=precision-1;c[i]++;while(c[i]===10){c.pop();if(i===0){c.unshift(0);rounded.exponent++;i++;}
i--;c[i]++;}}}
return rounded;};function zeros(length){var arr=[];for(var i=0;i<length;i++){arr.push(0);}
return arr;}
exports.digits=function(value){return value.toExponential().replace(/e.*$/,'').replace(/^0\.?0*|\./,'').length};exports.DBL_EPSILON=Number.EPSILON||2.2204460492503130808472633361816E-16;exports.nearlyEqual=function(x,y,epsilon){if(epsilon==null){return x==y;}
if(x==y){return true;}
if(isNaN(x)||isNaN(y)){return false;}
if(isFinite(x)&&isFinite(y)){var diff=Math.abs(x-y);if(diff<exports.DBL_EPSILON){return true;}
else{return diff<=Math.max(Math.abs(x),Math.abs(y))*epsilon;}}
return false;};}),(function(module,exports,__webpack_require__){"use strict";exports.symbols={Alpha:'A',alpha:'\\alpha',Beta:'B',beta:'\\beta',Gamma:'\\Gamma',gamma:'\\gamma',Delta:'\\Delta',delta:'\\delta',Epsilon:'E',epsilon:'\\epsilon',varepsilon:'\\varepsilon',Zeta:'Z',zeta:'\\zeta',Eta:'H',eta:'\\eta',Theta:'\\Theta',theta:'\\theta',vartheta:'\\vartheta',Iota:'I',iota:'\\iota',Kappa:'K',kappa:'\\kappa',varkappa:'\\varkappa',Lambda:'\\Lambda',lambda:'\\lambda',Mu:'M',mu:'\\mu',Nu:'N',nu:'\\nu',Xi:'\\Xi',xi:'\\xi',Omicron:'O',omicron:'o',Pi:'\\Pi',pi:'\\pi',varpi:'\\varpi',Rho:'P',rho:'\\rho',varrho:'\\varrho',Sigma:'\\Sigma',sigma:'\\sigma',varsigma:'\\varsigma',Tau:'T',tau:'\\tau',Upsilon:'\\Upsilon',upsilon:'\\upsilon',Phi:'\\Phi',phi:'\\phi',varphi:'\\varphi',Chi:'X',chi:'\\chi',Psi:'\\Psi',psi:'\\psi',Omega:'\\Omega',omega:'\\omega','true':'\\mathrm{True}','false':'\\mathrm{False}',i:'i',inf:'\\infty',Inf:'\\infty',infinity:'\\infty',Infinity:'\\infty',oo:'\\infty',lim:'\\lim','undefined':'\\mathbf{?}'};exports.operators={'transpose':'^\\top','factorial':'!','pow':'^','dotPow':'.^\\wedge','unaryPlus':'+','unaryMinus':'-','bitNot':'~','not':'\\neg','multiply':'\\cdot','divide':'\\frac','dotMultiply':'.\\cdot','dotDivide':'.:','mod':'\\mod','add':'+','subtract':'-','to':'\\rightarrow','leftShift':'<<','rightArithShift':'>>','rightLogShift':'>>>','equal':'=','unequal':'\\neq','smaller':'<','larger':'>','smallerEq':'\\leq','largerEq':'\\geq','bitAnd':'\\&','bitXor':'\\underline{|}','bitOr':'|','and':'\\wedge','xor':'\\veebar','or':'\\vee'};exports.defaultTemplate='\\mathrm{${name}}\\left(${args}\\right)';var units={deg:'^\\circ'};
//@param {string} name
//@param {boolean} isUnitexports.toSymbol=function(name,isUnit){isUnit=typeof isUnit==='undefined'?false:isUnit;if(isUnit){if(units.hasOwnProperty(name)){return units[name];}
return'\\mathrm{'+name+'}';}
if(exports.symbols.hasOwnProperty(name)){return exports.symbols[name];}
else if(name.indexOf('_')!==-1){var index=name.indexOf('_');return exports.toSymbol(name.substring(0,index))+'_{'
+exports.toSymbol(name.substring(index+1))+'}';}
return name;};}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.autoDetectRenderer=exports.Application=exports.Filter=exports.SpriteMaskFilter=exports.Quad=exports.RenderTarget=exports.ObjectRenderer=exports.WebGLManager=exports.Shader=exports.CanvasRenderTarget=exports.TextureUvs=exports.VideoBaseTexture=exports.BaseRenderTexture=exports.RenderTexture=exports.BaseTexture=exports.Texture=exports.Spritesheet=exports.CanvasGraphicsRenderer=exports.GraphicsRenderer=exports.GraphicsData=exports.Graphics=exports.TextStyle=exports.Text=exports.SpriteRenderer=exports.CanvasTinter=exports.CanvasSpriteRenderer=exports.Sprite=exports.TransformBase=exports.TransformStatic=exports.Transform=exports.Container=exports.DisplayObject=exports.Bounds=exports.glCore=exports.WebGLRenderer=exports.CanvasRenderer=exports.ticker=exports.utils=exports.settings=undefined;var _const=__webpack_require__(8);Object.keys(_const).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _const[key];}});});var _math=__webpack_require__(14);Object.keys(_math).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _math[key];}});});var _pixiGlCore=__webpack_require__(26);Object.defineProperty(exports,'glCore',{enumerable:true,get:function get(){return _interopRequireDefault(_pixiGlCore).default;}});var _Bounds=__webpack_require__(107);Object.defineProperty(exports,'Bounds',{enumerable:true,get:function get(){return _interopRequireDefault(_Bounds).default;}});var _DisplayObject=__webpack_require__(191);Object.defineProperty(exports,'DisplayObject',{enumerable:true,get:function get(){return _interopRequireDefault(_DisplayObject).default;}});var _Container=__webpack_require__(61);Object.defineProperty(exports,'Container',{enumerable:true,get:function get(){return _interopRequireDefault(_Container).default;}});var _Transform=__webpack_require__(192);Object.defineProperty(exports,'Transform',{enumerable:true,get:function get(){return _interopRequireDefault(_Transform).default;}});var _TransformStatic=__webpack_require__(193);Object.defineProperty(exports,'TransformStatic',{enumerable:true,get:function get(){return _interopRequireDefault(_TransformStatic).default;}});var _TransformBase=__webpack_require__(108);Object.defineProperty(exports,'TransformBase',{enumerable:true,get:function get(){return _interopRequireDefault(_TransformBase).default;}});var _Sprite=__webpack_require__(112);Object.defineProperty(exports,'Sprite',{enumerable:true,get:function get(){return _interopRequireDefault(_Sprite).default;}});var _CanvasSpriteRenderer=__webpack_require__(653);Object.defineProperty(exports,'CanvasSpriteRenderer',{enumerable:true,get:function get(){return _interopRequireDefault(_CanvasSpriteRenderer).default;}});var _CanvasTinter=__webpack_require__(113);Object.defineProperty(exports,'CanvasTinter',{enumerable:true,get:function get(){return _interopRequireDefault(_CanvasTinter).default;}});var _SpriteRenderer=__webpack_require__(655);Object.defineProperty(exports,'SpriteRenderer',{enumerable:true,get:function get(){return _interopRequireDefault(_SpriteRenderer).default;}});var _Text=__webpack_require__(657);Object.defineProperty(exports,'Text',{enumerable:true,get:function get(){return _interopRequireDefault(_Text).default;}});var _TextStyle=__webpack_require__(203);Object.defineProperty(exports,'TextStyle',{enumerable:true,get:function get(){return _interopRequireDefault(_TextStyle).default;}});var _Graphics=__webpack_require__(625);Object.defineProperty(exports,'Graphics',{enumerable:true,get:function get(){return _interopRequireDefault(_Graphics).default;}});var _GraphicsData=__webpack_require__(194);Object.defineProperty(exports,'GraphicsData',{enumerable:true,get:function get(){return _interopRequireDefault(_GraphicsData).default;}});var _GraphicsRenderer=__webpack_require__(628);Object.defineProperty(exports,'GraphicsRenderer',{enumerable:true,get:function get(){return _interopRequireDefault(_GraphicsRenderer).default;}});var _CanvasGraphicsRenderer=__webpack_require__(626);Object.defineProperty(exports,'CanvasGraphicsRenderer',{enumerable:true,get:function get(){return _interopRequireDefault(_CanvasGraphicsRenderer).default;}});var _Spritesheet=__webpack_require__(658);Object.defineProperty(exports,'Spritesheet',{enumerable:true,get:function get(){return _interopRequireDefault(_Spritesheet).default;}});var _Texture=__webpack_require__(50);Object.defineProperty(exports,'Texture',{enumerable:true,get:function get(){return _interopRequireDefault(_Texture).default;}});var _BaseTexture=__webpack_require__(64);Object.defineProperty(exports,'BaseTexture',{enumerable:true,get:function get(){return _interopRequireDefault(_BaseTexture).default;}});var _RenderTexture=__webpack_require__(114);Object.defineProperty(exports,'RenderTexture',{enumerable:true,get:function get(){return _interopRequireDefault(_RenderTexture).default;}});var _BaseRenderTexture=__webpack_require__(204);Object.defineProperty(exports,'BaseRenderTexture',{enumerable:true,get:function get(){return _interopRequireDefault(_BaseRenderTexture).default;}});var _VideoBaseTexture=__webpack_require__(206);Object.defineProperty(exports,'VideoBaseTexture',{enumerable:true,get:function get(){return _interopRequireDefault(_VideoBaseTexture).default;}});var _TextureUvs=__webpack_require__(205);Object.defineProperty(exports,'TextureUvs',{enumerable:true,get:function get(){return _interopRequireDefault(_TextureUvs).default;}});var _CanvasRenderTarget=__webpack_require__(198);Object.defineProperty(exports,'CanvasRenderTarget',{enumerable:true,get:function get(){return _interopRequireDefault(_CanvasRenderTarget).default;}});var _Shader=__webpack_require__(60);Object.defineProperty(exports,'Shader',{enumerable:true,get:function get(){return _interopRequireDefault(_Shader).default;}});var _WebGLManager=__webpack_require__(63);Object.defineProperty(exports,'WebGLManager',{enumerable:true,get:function get(){return _interopRequireDefault(_WebGLManager).default;}});var _ObjectRenderer=__webpack_require__(85);Object.defineProperty(exports,'ObjectRenderer',{enumerable:true,get:function get(){return _interopRequireDefault(_ObjectRenderer).default;}});var _RenderTarget=__webpack_require__(86);Object.defineProperty(exports,'RenderTarget',{enumerable:true,get:function get(){return _interopRequireDefault(_RenderTarget).default;}});var _Quad=__webpack_require__(202);Object.defineProperty(exports,'Quad',{enumerable:true,get:function get(){return _interopRequireDefault(_Quad).default;}});var _SpriteMaskFilter=__webpack_require__(201);Object.defineProperty(exports,'SpriteMaskFilter',{enumerable:true,get:function get(){return _interopRequireDefault(_SpriteMaskFilter).default;}});var _Filter=__webpack_require__(200);Object.defineProperty(exports,'Filter',{enumerable:true,get:function get(){return _interopRequireDefault(_Filter).default;}});var _Application=__webpack_require__(624);Object.defineProperty(exports,'Application',{enumerable:true,get:function get(){return _interopRequireDefault(_Application).default;}});var _autoDetectRenderer=__webpack_require__(190);Object.defineProperty(exports,'autoDetectRenderer',{enumerable:true,get:function get(){return _autoDetectRenderer.autoDetectRenderer;}});var _utils=__webpack_require__(10);var utils=_interopRequireWildcard(_utils);var _ticker=__webpack_require__(115);var ticker=_interopRequireWildcard(_ticker);var _settings=__webpack_require__(19);var _settings2=_interopRequireDefault(_settings);var _CanvasRenderer=__webpack_require__(62);var _CanvasRenderer2=_interopRequireDefault(_CanvasRenderer);var _WebGLRenderer=__webpack_require__(84);var _WebGLRenderer2=_interopRequireDefault(_WebGLRenderer);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
exports.settings=_settings2.default;exports.utils=utils;exports.ticker=ticker;exports.CanvasRenderer=_CanvasRenderer2.default;exports.WebGLRenderer=_WebGLRenderer2.default;}),(function(module,exports,__webpack_require__){"use strict";exports.clone=function clone(x){var type=typeof x;if(type==='number'||type==='string'||type==='boolean'||x===null||x===undefined){return x;}
if(typeof x.clone==='function'){return x.clone();}
if(Array.isArray(x)){return x.map(function(value){return clone(value);});}
if(x instanceof Number)return new Number(x.valueOf());if(x instanceof String)return new String(x.valueOf());if(x instanceof Boolean)return new Boolean(x.valueOf());if(x instanceof Date)return new Date(x.valueOf());if(x&&x.isBigNumber===true)return x;if(x instanceof RegExp)throw new TypeError('Cannot clone '+x);var m={};for(var key in x){if(x.hasOwnProperty(key)){m[key]=clone(x[key]);}}
return m;};exports.extend=function(a,b){for(var prop in b){if(b.hasOwnProperty(prop)){a[prop]=b[prop];}}
return a;};exports.deepExtend=function deepExtend(a,b){if(Array.isArray(b)){throw new TypeError('Arrays are not supported by deepExtend');}
for(var prop in b){if(b.hasOwnProperty(prop)){if(b[prop]&&b[prop].constructor===Object){if(a[prop]===undefined){a[prop]={};}
if(a[prop].constructor===Object){deepExtend(a[prop],b[prop]);}
else{a[prop]=b[prop];}}else if(Array.isArray(b[prop])){throw new TypeError('Arrays are not supported by deepExtend');}else{a[prop]=b[prop];}}}
return a;};exports.deepEqual=function deepEqual(a,b){var prop,i,len;if(Array.isArray(a)){if(!Array.isArray(b)){return false;}
if(a.length!=b.length){return false;}
for(i=0,len=a.length;i<len;i++){if(!exports.deepEqual(a[i],b[i])){return false;}}
return true;}
else if(a instanceof Object){if(Array.isArray(b)||!(b instanceof Object)){return false;}
for(prop in a){if(!exports.deepEqual(a[prop],b[prop])){return false;}}
for(prop in b){if(!exports.deepEqual(a[prop],b[prop])){return false;}}
return true;}
else{return(typeof a===typeof b)&&(a==b);}};exports.canDefineProperty=function(){try{if(Object.defineProperty){Object.defineProperty({},'x',{get:function(){}});return true;}}catch(e){}
return false;};exports.lazy=function(object,prop,fn){if(exports.canDefineProperty()){var _uninitialized=true;var _value;Object.defineProperty(object,prop,{get:function(){if(_uninitialized){_value=fn();_uninitialized=false;}
return _value;},set:function(value){_value=value;_uninitialized=false;},configurable:true,enumerable:true});}
else{object[prop]=fn();}};exports.traverse=function(object,path){var obj=object;if(path){var names=path.split('.');for(var i=0;i<names.length;i++){var name=names[i];if(!(name in obj)){obj[name]={};}
obj=obj[name];}}
return obj;};exports.isFactory=function(object){return object&&typeof object.factory==='function';};}),(function(module,exports,__webpack_require__){"use strict";var clone=__webpack_require__(5).clone;function factory(type,config,load,typed){var DenseMatrix=type.DenseMatrix;var algorithm14=function(a,b,callback,inverse){var adata=a._data;var asize=a._size;var adt=a._datatype;var dt;var cf=callback;if(typeof adt==='string'){dt=adt;b=typed.convert(b,dt);cf=typed.find(callback,[dt,dt]);}
var cdata=asize.length>0?_iterate(cf,0,asize,asize[0],adata,b,inverse):[];return new DenseMatrix({data:cdata,size:clone(asize),datatype:dt});};var _iterate=function(f,level,s,n,av,bv,inverse){var cv=[];if(level===s.length-1){for(var i=0;i<n;i++){cv[i]=inverse?f(bv,av[i]):f(av[i],bv);}}
else{for(var j=0;j<n;j++){cv[j]=_iterate(f,level+1,s,s[level+1],av[j],bv,inverse);}}
return cv;};return algorithm14;}
exports.name='algorithm14';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var number=__webpack_require__(2);var string=__webpack_require__(25);var object=__webpack_require__(5);var types=__webpack_require__(82);var DimensionError=__webpack_require__(11);var IndexError=__webpack_require__(54);exports.size=function(x){var s=[];while(Array.isArray(x)){s.push(x.length);x=x[0];}
return s;};function _validate(array,size,dim){var i;var len=array.length;if(len!=size[dim]){throw new DimensionError(len,size[dim]);}
if(dim<size.length-1){var dimNext=dim+1;for(i=0;i<len;i++){var child=array[i];if(!Array.isArray(child)){throw new DimensionError(size.length-1,size.length,'<');}
_validate(array[i],size,dimNext);}}
else{for(i=0;i<len;i++){if(Array.isArray(array[i])){throw new DimensionError(size.length+1,size.length,'>');}}}}
exports.validate=function(array,size){var isScalar=(size.length==0);if(isScalar){if(Array.isArray(array)){throw new DimensionError(array.length,0);}}
else{_validate(array,size,0);}};exports.validateIndex=function(index,length){if(!number.isNumber(index)||!number.isInteger(index)){throw new TypeError('Index must be an integer (value: '+index+')');}
if(index<0||(typeof length==='number'&&index>=length)){throw new IndexError(index,length);}};exports.UNINITIALIZED={};exports.resize=function(array,size,defaultValue){if(!Array.isArray(array)||!Array.isArray(size)){throw new TypeError('Array expected');}
if(size.length===0){throw new Error('Resizing to scalar is not supported');}
size.forEach(function(value){if(!number.isNumber(value)||!number.isInteger(value)||value<0){throw new TypeError('Invalid size, must contain positive integers '+'(size: '+string.format(size)+')');}});var _defaultValue=(defaultValue!==undefined)?defaultValue:0;_resize(array,size,0,_defaultValue);return array;};function _resize(array,size,dim,defaultValue){var i;var elem;var oldLen=array.length;var newLen=size[dim];var minLen=Math.min(oldLen,newLen);array.length=newLen;if(dim<size.length-1){var dimNext=dim+1;for(i=0;i<minLen;i++){elem=array[i];if(!Array.isArray(elem)){elem=[elem];array[i]=elem;}
_resize(elem,size,dimNext,defaultValue);}
for(i=minLen;i<newLen;i++){elem=[];array[i]=elem;_resize(elem,size,dimNext,defaultValue);}}
else{for(i=0;i<minLen;i++){while(Array.isArray(array[i])){array[i]=array[i][0];}}
if(defaultValue!==exports.UNINITIALIZED){for(i=minLen;i<newLen;i++){array[i]=defaultValue;}}}}
exports.reshape=function(array,sizes){var flatArray=exports.flatten(array);var newArray;var product=function(arr){return arr.reduce(function(prev,curr){return prev*curr;});};if(!Array.isArray(array)||!Array.isArray(sizes)){throw new TypeError('Array expected');}
if(sizes.length===0){throw new DimensionError(0,product(exports.size(array)),'!=');}
try{newArray=_reshape(flatArray,sizes);}catch(e){if(e instanceof DimensionError){throw new DimensionError(product(sizes),product(exports.size(array)),'!=');}
throw e;}
if(flatArray.length>0){throw new DimensionError(product(sizes),product(exports.size(array)),'!=');}
return newArray;};function _reshape(array,sizes){var accumulator=[];var i;if(sizes.length===0){if(array.length===0){throw new DimensionError(null,null,'!=');}
return array.shift();}
for(i=0;i<sizes[0];i+=1){accumulator.push(_reshape(array,sizes.slice(1)));}
return accumulator;}
exports.squeeze=function(array,size){var s=size||exports.size(array);while(Array.isArray(array)&&array.length===1){array=array[0];s.shift();}
var dims=s.length;while(s[dims-1]===1){dims--;}
if(dims<s.length){array=_squeeze(array,dims,0);s.length=dims;}
return array;};function _squeeze(array,dims,dim){var i,ii;if(dim<dims){var next=dim+1;for(i=0,ii=array.length;i<ii;i++){array[i]=_squeeze(array[i],dims,next);}}
else{while(Array.isArray(array)){array=array[0];}}
return array;}
exports.unsqueeze=function(array,dims,outer,size){var s=size||exports.size(array);if(outer){for(var i=0;i<outer;i++){array=[array];s.unshift(1);}}
array=_unsqueeze(array,dims,0);while(s.length<dims){s.push(1);}
return array;};function _unsqueeze(array,dims,dim){var i,ii;if(Array.isArray(array)){var next=dim+1;for(i=0,ii=array.length;i<ii;i++){array[i]=_unsqueeze(array[i],dims,next);}}
else{for(var d=dim;d<dims;d++){array=[array];}}
return array;}
exports.flatten=function(array){if(!Array.isArray(array)){return array;}
var flat=[];array.forEach(function callback(value){if(Array.isArray(value)){value.forEach(callback);}
else{flat.push(value);}});return flat;};exports.isArray=Array.isArray;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var VERSION=exports.VERSION='4.4.0';var PI_2=exports.PI_2=Math.PI*2;var RAD_TO_DEG=exports.RAD_TO_DEG=180 / Math.PI;var DEG_TO_RAD=exports.DEG_TO_RAD=Math.PI / 180;var RENDERER_TYPE=exports.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2};var BLEND_MODES=exports.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16};var DRAW_MODES=exports.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6};var SCALE_MODES=exports.SCALE_MODES={LINEAR:0,NEAREST:1};var WRAP_MODES=exports.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2};var GC_MODES=exports.GC_MODES={AUTO:0,MANUAL:1};var URL_FILE_EXTENSION=exports.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i;var DATA_URI=exports.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;(charset=[\w-]+|base64))?,(.*)/i;var SVG_SIZE=exports.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;var SHAPES=exports.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4};var PRECISION=exports.PRECISION={LOW:'lowp',MEDIUM:'mediump',HIGH:'highp'};var TRANSFORM_MODE=exports.TRANSFORM_MODE={STATIC:0,DYNAMIC:1};var TEXT_GRADIENT=exports.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1};}),(function(module,exports,__webpack_require__){"use strict";var util=__webpack_require__(31);var DimensionError=__webpack_require__(11);var string=util.string,isString=string.isString;function factory(type,config,load,typed){var DenseMatrix=type.DenseMatrix;var algorithm13=function(a,b,callback){var adata=a._data;var asize=a._size;var adt=a._datatype;var bdata=b._data;var bsize=b._size;var bdt=b._datatype;var csize=[];if(asize.length!==bsize.length)
throw new DimensionError(asize.length,bsize.length);for(var s=0;s<asize.length;s++){if(asize[s]!==bsize[s])
throw new RangeError('Dimension mismatch. Matrix A ('+asize+') must match Matrix B ('+bsize+')');csize[s]=asize[s];}
var dt;var cf=callback;if(typeof adt==='string'&&adt===bdt){dt=adt;b=typed.convert(b,dt);cf=typed.find(callback,[dt,dt]);}
var cdata=csize.length>0?_iterate(cf,0,csize,csize[0],adata,bdata):[];return new DenseMatrix({data:cdata,size:csize,datatype:dt});};var _iterate=function(f,level,s,n,av,bv){var cv=[];if(level===s.length-1){for(var i=0;i<n;i++){cv[i]=f(av[i],bv[i]);}}
else{for(var j=0;j<n;j++){cv[j]=_iterate(f,level+1,s,s[level+1],av[j],bv[j]);}}
return cv;};return algorithm13;}
exports.name='algorithm13';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.BaseTextureCache=exports.TextureCache=exports.mixins=exports.pluginTarget=exports.EventEmitter=exports.isMobile=undefined;exports.uid=uid;exports.hex2rgb=hex2rgb;exports.hex2string=hex2string;exports.rgb2hex=rgb2hex;exports.getResolutionOfUrl=getResolutionOfUrl;exports.decomposeDataUri=decomposeDataUri;exports.getUrlFileExtension=getUrlFileExtension;exports.getSvgSize=getSvgSize;exports.skipHello=skipHello;exports.sayHello=sayHello;exports.isWebGLSupported=isWebGLSupported;exports.sign=sign;exports.removeItems=removeItems;exports.destroyTextureCache=destroyTextureCache;exports.clearTextureCache=clearTextureCache;var _const=__webpack_require__(8);var _settings=__webpack_require__(19);var _settings2=_interopRequireDefault(_settings);var _eventemitter=__webpack_require__(32);var _eventemitter2=_interopRequireDefault(_eventemitter);var _pluginTarget=__webpack_require__(664);var _pluginTarget2=_interopRequireDefault(_pluginTarget);var _mixin=__webpack_require__(663);var mixins=_interopRequireWildcard(_mixin);var _ismobilejs=__webpack_require__(88);var isMobile=_interopRequireWildcard(_ismobilejs);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var nextUid=0;var saidHello=false;exports.isMobile=isMobile;exports.EventEmitter=_eventemitter2.default;exports.pluginTarget=_pluginTarget2.default;exports.mixins=mixins;function uid(){return++nextUid;}
function hex2rgb(hex,out){out=out||[];out[0]=(hex>>16&0xFF)/ 255;out[1]=(hex>>8&0xFF)/ 255;out[2]=(hex&0xFF)/ 255;return out;}
function hex2string(hex){hex=hex.toString(16);hex='000000'.substr(0,6-hex.length)+hex;return'#'+hex;}
function rgb2hex(rgb){return(rgb[0]*255<<16)+(rgb[1]*255<<8)+(rgb[2]*255|0);}
function getResolutionOfUrl(url,defaultValue){var resolution=_settings2.default.RETINA_PREFIX.exec(url);if(resolution){return parseFloat(resolution[1]);}
return defaultValue!==undefined?defaultValue:1;}
function decomposeDataUri(dataUri){var dataUriMatch=_const.DATA_URI.exec(dataUri);if(dataUriMatch){return{mediaType:dataUriMatch[1]?dataUriMatch[1].toLowerCase():undefined,subType:dataUriMatch[2]?dataUriMatch[2].toLowerCase():undefined,encoding:dataUriMatch[3]?dataUriMatch[3].toLowerCase():undefined,data:dataUriMatch[4]};}
return undefined;}
function getUrlFileExtension(url){var extension=_const.URL_FILE_EXTENSION.exec(url);if(extension){return extension[1].toLowerCase();}
return undefined;}
function getSvgSize(svgString){var sizeMatch=_const.SVG_SIZE.exec(svgString);var size={};if(sizeMatch){size[sizeMatch[1]]=Math.round(parseFloat(sizeMatch[3]));size[sizeMatch[5]]=Math.round(parseFloat(sizeMatch[7]));}
return size;}
function skipHello(){saidHello=true;}
function sayHello(type){if(saidHello){return;}
if(navigator.userAgent.toLowerCase().indexOf('chrome')>-1){var args=['\n %c %c %c Pixi.js '+_const.VERSION+' - \u2730 '+type+' \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n','background: #ff66a5; padding:5px 0;','background: #ff66a5; padding:5px 0;','color: #ff66a5; background: #030307; padding:5px 0;','background: #ff66a5; padding:5px 0;','background: #ffc3dc; padding:5px 0;','background: #ff66a5; padding:5px 0;','color: #ff2424; background: #fff; padding:5px 0;','color: #ff2424; background: #fff; padding:5px 0;','color: #ff2424; background: #fff; padding:5px 0;'];window.console.log.apply(console,args);}else if(window.console){window.console.log('Pixi.js '+_const.VERSION+' - '+type+' - http://www.pixijs.com/');}
saidHello=true;}
function isWebGLSupported(){var contextOptions={stencil:true,failIfMajorPerformanceCaveat:true};try{if(!window.WebGLRenderingContext){return false;}
var canvas=document.createElement('canvas');var gl=canvas.getContext('webgl',contextOptions)||canvas.getContext('experimental-webgl',contextOptions);var success=!!(gl&&gl.getContextAttributes().stencil);if(gl){var loseContext=gl.getExtension('WEBGL_lose_context');if(loseContext){loseContext.loseContext();}}
gl=null;return success;}catch(e){return false;}}
function sign(n){if(n===0)return 0;return n<0?-1:1;}
function removeItems(arr,startIdx,removeCount){var length=arr.length;if(startIdx>=length||removeCount===0){return;}
removeCount=startIdx+removeCount>length?length-startIdx:removeCount;var len=length-removeCount;for(var i=startIdx;i<len;++i){arr[i]=arr[i+removeCount];}
arr.length=len;}
var TextureCache=exports.TextureCache={};var BaseTextureCache=exports.BaseTextureCache={};function destroyTextureCache(){var key=void 0;for(key in TextureCache){TextureCache[key].destroy();}
for(key in BaseTextureCache){BaseTextureCache[key].destroy();}}
function clearTextureCache(){var key=void 0;for(key in TextureCache){delete TextureCache[key];}
for(key in BaseTextureCache){delete BaseTextureCache[key];}}}),(function(module,exports,__webpack_require__){"use strict";function DimensionError(actual,expected,relation){if(!(this instanceof DimensionError)){throw new SyntaxError('Constructor must be called with the new operator');}
this.actual=actual;this.expected=expected;this.relation=relation;this.message='Dimension mismatch ('+
(Array.isArray(actual)?('['+actual.join(', ')+']'):actual)+' '+(this.relation||'!=')+' '+
(Array.isArray(expected)?('['+expected.join(', ')+']'):expected)+')';this.stack=(new Error()).stack;}
DimensionError.prototype=new RangeError();DimensionError.prototype.constructor=RangeError;DimensionError.prototype.name='DimensionError';DimensionError.prototype.isDimensionError=true;module.exports=DimensionError;}),(function(module,exports,__webpack_require__){"use strict";var nearlyEqual=__webpack_require__(2).nearlyEqual;var bigNearlyEqual=__webpack_require__(40);function factory(type,config,load,typed){var equalScalar=typed('equalScalar',{'boolean, boolean':function(x,y){return x===y;},'number, number':function(x,y){return x===y||nearlyEqual(x,y,config.epsilon);},'BigNumber, BigNumber':function(x,y){return x.eq(y)||bigNearlyEqual(x,y,config.epsilon);},'Fraction, Fraction':function(x,y){return x.equals(y);},'Complex, Complex':function(x,y){return x.equals(y);},'Unit, Unit':function(x,y){if(!x.equalBase(y)){throw new Error('Cannot compare units with different base');}
return equalScalar(x.value,y.value);},'string, string':function(x,y){return x===y;}});return equalScalar;}
exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var extend=__webpack_require__(5).extend;var array=__webpack_require__(7);function factory(type,config,load,typed){var latex=__webpack_require__(3);var matrix=load(__webpack_require__(0));var addScalar=load(__webpack_require__(23));var multiplyScalar=load(__webpack_require__(27));var equalScalar=load(__webpack_require__(12));var algorithm11=load(__webpack_require__(17));var algorithm14=load(__webpack_require__(6));var DenseMatrix=type.DenseMatrix;var SparseMatrix=type.SparseMatrix;var multiply=typed('multiply',extend({'Array, Array':function(x,y){_validateMatrixDimensions(array.size(x),array.size(y));var m=multiply(matrix(x),matrix(y));return(m&&m.isMatrix===true)?m.valueOf():m;},'Matrix, Matrix':function(x,y){var xsize=x.size();var ysize=y.size();_validateMatrixDimensions(xsize,ysize);if(xsize.length===1){if(ysize.length===1){return _multiplyVectorVector(x,y,xsize[0]);}
return _multiplyVectorMatrix(x,y);}
if(ysize.length===1){return _multiplyMatrixVector(x,y);}
return _multiplyMatrixMatrix(x,y);},'Matrix, Array':function(x,y){return multiply(x,matrix(y));},'Array, Matrix':function(x,y){return multiply(matrix(x,y.storage()),y);},'Matrix, any':function(x,y){var c;switch(x.storage()){case'sparse':c=algorithm11(x,y,multiplyScalar,false);break;case'dense':c=algorithm14(x,y,multiplyScalar,false);break;}
return c;},'any, Matrix':function(x,y){var c;switch(y.storage()){case'sparse':c=algorithm11(y,x,multiplyScalar,true);break;case'dense':c=algorithm14(y,x,multiplyScalar,true);break;}
return c;},'Array, any':function(x,y){return algorithm14(matrix(x),y,multiplyScalar,false).valueOf();},'any, Array':function(x,y){return algorithm14(matrix(y),x,multiplyScalar,true).valueOf();},'any, any':multiplyScalar,'any, any, ...any':function(x,y,rest){var result=multiply(x,y);for(var i=0;i<rest.length;i++){result=multiply(result,rest[i]);}
return result;}},multiplyScalar.signatures));var _validateMatrixDimensions=function(size1,size2){switch(size1.length){case 1:switch(size2.length){case 1:if(size1[0]!==size2[0]){throw new RangeError('Dimension mismatch in multiplication. Vectors must have the same length');}
break;case 2:if(size1[0]!==size2[0]){throw new RangeError('Dimension mismatch in multiplication. Vector length ('+size1[0]+') must match Matrix rows ('+size2[0]+')');}
break;default:throw new Error('Can only multiply a 1 or 2 dimensional matrix (Matrix B has '+size2.length+' dimensions)');}
break;case 2:switch(size2.length){case 1:if(size1[1]!==size2[0]){throw new RangeError('Dimension mismatch in multiplication. Matrix columns ('+size1[1]+') must match Vector length ('+size2[0]+')');}
break;case 2:if(size1[1]!==size2[0]){throw new RangeError('Dimension mismatch in multiplication. Matrix A columns ('+size1[1]+') must match Matrix B rows ('+size2[0]+')');}
break;default:throw new Error('Can only multiply a 1 or 2 dimensional matrix (Matrix B has '+size2.length+' dimensions)');}
break;default:throw new Error('Can only multiply a 1 or 2 dimensional matrix (Matrix A has '+size1.length+' dimensions)');}};var _multiplyVectorVector=function(a,b,n){if(n===0)
throw new Error('Cannot multiply two empty vectors');var adata=a._data;var adt=a._datatype;var bdata=b._data;var bdt=b._datatype;var dt;var af=addScalar;var mf=multiplyScalar;if(adt&&bdt&&adt===bdt&&typeof adt==='string'){dt=adt;af=typed.find(addScalar,[dt,dt]);mf=typed.find(multiplyScalar,[dt,dt]);}
var c=mf(adata[0],bdata[0]);for(var i=1;i<n;i++){c=af(c,mf(adata[i],bdata[i]));}
return c;};var _multiplyVectorMatrix=function(a,b){switch(b.storage()){case'dense':return _multiplyVectorDenseMatrix(a,b);}
throw new Error('Not implemented');};var _multiplyVectorDenseMatrix=function(a,b){var adata=a._data;var asize=a._size;var adt=a._datatype;var bdata=b._data;var bsize=b._size;var bdt=b._datatype;var alength=asize[0];var bcolumns=bsize[1];var dt;var af=addScalar;var mf=multiplyScalar;if(adt&&bdt&&adt===bdt&&typeof adt==='string'){dt=adt;af=typed.find(addScalar,[dt,dt]);mf=typed.find(multiplyScalar,[dt,dt]);}
var c=[];for(var j=0;j<bcolumns;j++){var sum=mf(adata[0],bdata[0][j]);for(var i=1;i<alength;i++){sum=af(sum,mf(adata[i],bdata[i][j]));}
c[j]=sum;}
return new DenseMatrix({data:c,size:[bcolumns],datatype:dt});};var _multiplyMatrixVector=function(a,b){switch(a.storage()){case'dense':return _multiplyDenseMatrixVector(a,b);case'sparse':return _multiplySparseMatrixVector(a,b);}};var _multiplyMatrixMatrix=function(a,b){switch(a.storage()){case'dense':switch(b.storage()){case'dense':return _multiplyDenseMatrixDenseMatrix(a,b);case'sparse':return _multiplyDenseMatrixSparseMatrix(a,b);}
break;case'sparse':switch(b.storage()){case'dense':return _multiplySparseMatrixDenseMatrix(a,b);case'sparse':return _multiplySparseMatrixSparseMatrix(a,b);}
break;}};var _multiplyDenseMatrixVector=function(a,b){var adata=a._data;var asize=a._size;var adt=a._datatype;var bdata=b._data;var bdt=b._datatype;var arows=asize[0];var acolumns=asize[1];var dt;var af=addScalar;var mf=multiplyScalar;if(adt&&bdt&&adt===bdt&&typeof adt==='string'){dt=adt;af=typed.find(addScalar,[dt,dt]);mf=typed.find(multiplyScalar,[dt,dt]);}
var c=[];for(var i=0;i<arows;i++){var row=adata[i];var sum=mf(row[0],bdata[0]);for(var j=1;j<acolumns;j++){sum=af(sum,mf(row[j],bdata[j]));}
c[i]=sum;}
return new DenseMatrix({data:c,size:[arows],datatype:dt});};var _multiplyDenseMatrixDenseMatrix=function(a,b){var adata=a._data;var asize=a._size;var adt=a._datatype;var bdata=b._data;var bsize=b._size;var bdt=b._datatype;var arows=asize[0];var acolumns=asize[1];var bcolumns=bsize[1];var dt;var af=addScalar;var mf=multiplyScalar;if(adt&&bdt&&adt===bdt&&typeof adt==='string'){dt=adt;af=typed.find(addScalar,[dt,dt]);mf=typed.find(multiplyScalar,[dt,dt]);}
var c=[];for(var i=0;i<arows;i++){var row=adata[i];c[i]=[];for(var j=0;j<bcolumns;j++){var sum=mf(row[0],bdata[0][j]);for(var x=1;x<acolumns;x++){sum=af(sum,mf(row[x],bdata[x][j]));}
c[i][j]=sum;}}
return new DenseMatrix({data:c,size:[arows,bcolumns],datatype:dt});};var _multiplyDenseMatrixSparseMatrix=function(a,b){var adata=a._data;var asize=a._size;var adt=a._datatype;var bvalues=b._values;var bindex=b._index;var bptr=b._ptr;var bsize=b._size;var bdt=b._datatype;if(!bvalues)
throw new Error('Cannot multiply Dense Matrix times Pattern only Matrix');var arows=asize[0];var bcolumns=bsize[1];var dt;var af=addScalar;var mf=multiplyScalar;var eq=equalScalar;var zero=0;if(adt&&bdt&&adt===bdt&&typeof adt==='string'){dt=adt;af=typed.find(addScalar,[dt,dt]);mf=typed.find(multiplyScalar,[dt,dt]);eq=typed.find(equalScalar,[dt,dt]);zero=typed.convert(0,dt);}
var cvalues=[];var cindex=[];var cptr=[];var c=new SparseMatrix({values:cvalues,index:cindex,ptr:cptr,size:[arows,bcolumns],datatype:dt});for(var jb=0;jb<bcolumns;jb++){cptr[jb]=cindex.length;var kb0=bptr[jb];var kb1=bptr[jb+1];if(kb1>kb0){var last=0;for(var i=0;i<arows;i++){var mark=i+1;var cij;for(var kb=kb0;kb<kb1;kb++){var ib=bindex[kb];if(last!==mark){cij=mf(adata[i][ib],bvalues[kb]);last=mark;}
else{cij=af(cij,mf(adata[i][ib],bvalues[kb]));}}
if(last===mark&&!eq(cij,zero)){cindex.push(i);cvalues.push(cij);}}}}
cptr[bcolumns]=cindex.length;return c;};var _multiplySparseMatrixVector=function(a,b){var avalues=a._values;var aindex=a._index;var aptr=a._ptr;var adt=a._datatype;if(!avalues)
throw new Error('Cannot multiply Pattern only Matrix times Dense Matrix');var bdata=b._data;var bdt=b._datatype;var arows=a._size[0];var brows=b._size[0];var cvalues=[];var cindex=[];var cptr=[];var dt;var af=addScalar;var mf=multiplyScalar;var eq=equalScalar;var zero=0;if(adt&&bdt&&adt===bdt&&typeof adt==='string'){dt=adt;af=typed.find(addScalar,[dt,dt]);mf=typed.find(multiplyScalar,[dt,dt]);eq=typed.find(equalScalar,[dt,dt]);zero=typed.convert(0,dt);}
var x=[];var w=[];cptr[0]=0;for(var ib=0;ib<brows;ib++){var vbi=bdata[ib];if(!eq(vbi,zero)){for(var ka0=aptr[ib],ka1=aptr[ib+1],ka=ka0;ka<ka1;ka++){var ia=aindex[ka];if(!w[ia]){w[ia]=true;cindex.push(ia);x[ia]=mf(vbi,avalues[ka]);}
else{x[ia]=af(x[ia],mf(vbi,avalues[ka]));}}}}
for(var p1=cindex.length,p=0;p<p1;p++){var ic=cindex[p];cvalues[p]=x[ic];}
cptr[1]=cindex.length;return new SparseMatrix({values:cvalues,index:cindex,ptr:cptr,size:[arows,1],datatype:dt});};var _multiplySparseMatrixDenseMatrix=function(a,b){var avalues=a._values;var aindex=a._index;var aptr=a._ptr;var adt=a._datatype;if(!avalues)
throw new Error('Cannot multiply Pattern only Matrix times Dense Matrix');var bdata=b._data;var bdt=b._datatype;var arows=a._size[0];var brows=b._size[0];var bcolumns=b._size[1];var dt;var af=addScalar;var mf=multiplyScalar;var eq=equalScalar;var zero=0;if(adt&&bdt&&adt===bdt&&typeof adt==='string'){dt=adt;af=typed.find(addScalar,[dt,dt]);mf=typed.find(multiplyScalar,[dt,dt]);eq=typed.find(equalScalar,[dt,dt]);zero=typed.convert(0,dt);}
var cvalues=[];var cindex=[];var cptr=[];var c=new SparseMatrix({values:cvalues,index:cindex,ptr:cptr,size:[arows,bcolumns],datatype:dt});var x=[];var w=[];for(var jb=0;jb<bcolumns;jb++){cptr[jb]=cindex.length;var mark=jb+1;for(var ib=0;ib<brows;ib++){var vbij=bdata[ib][jb];if(!eq(vbij,zero)){for(var ka0=aptr[ib],ka1=aptr[ib+1],ka=ka0;ka<ka1;ka++){var ia=aindex[ka];if(w[ia]!==mark){w[ia]=mark;cindex.push(ia);x[ia]=mf(vbij,avalues[ka]);}
else{x[ia]=af(x[ia],mf(vbij,avalues[ka]));}}}}
for(var p0=cptr[jb],p1=cindex.length,p=p0;p<p1;p++){var ic=cindex[p];cvalues[p]=x[ic];}}
cptr[bcolumns]=cindex.length;return c;};var _multiplySparseMatrixSparseMatrix=function(a,b){var avalues=a._values;var aindex=a._index;var aptr=a._ptr;var adt=a._datatype;var bvalues=b._values;var bindex=b._index;var bptr=b._ptr;var bdt=b._datatype;var arows=a._size[0];var bcolumns=b._size[1];var values=avalues&&bvalues;var dt;var af=addScalar;var mf=multiplyScalar;if(adt&&bdt&&adt===bdt&&typeof adt==='string'){dt=adt;af=typed.find(addScalar,[dt,dt]);mf=typed.find(multiplyScalar,[dt,dt]);}
var cvalues=values?[]:undefined;var cindex=[];var cptr=[];var c=new SparseMatrix({values:cvalues,index:cindex,ptr:cptr,size:[arows,bcolumns],datatype:dt});var x=values?[]:undefined;var w=[];var ka,ka0,ka1,kb,kb0,kb1,ia,ib;for(var jb=0;jb<bcolumns;jb++){cptr[jb]=cindex.length;var mark=jb+1;for(kb0=bptr[jb],kb1=bptr[jb+1],kb=kb0;kb<kb1;kb++){ib=bindex[kb];if(values){for(ka0=aptr[ib],ka1=aptr[ib+1],ka=ka0;ka<ka1;ka++){ia=aindex[ka];if(w[ia]!==mark){w[ia]=mark;cindex.push(ia);x[ia]=mf(bvalues[kb],avalues[ka]);}
else{x[ia]=af(x[ia],mf(bvalues[kb],avalues[ka]));}}}
else{for(ka0=aptr[ib],ka1=aptr[ib+1],ka=ka0;ka<ka1;ka++){ia=aindex[ka];if(w[ia]!==mark){w[ia]=mark;cindex.push(ia);}}}}
if(values){for(var p0=cptr[jb],p1=cindex.length,p=p0;p<p1;p++){var ic=cindex[p];cvalues[p]=x[ic];}}}
cptr[bcolumns]=cindex.length;return c;};multiply.toTex={2:'\\left(${args[0]}'+latex.operators['multiply']+'${args[1]}\\right)'};return multiply;}
exports.name='multiply';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _Point=__webpack_require__(110);Object.defineProperty(exports,'Point',{enumerable:true,get:function get(){return _interopRequireDefault(_Point).default;}});var _ObservablePoint=__webpack_require__(196);Object.defineProperty(exports,'ObservablePoint',{enumerable:true,get:function get(){return _interopRequireDefault(_ObservablePoint).default;}});var _Matrix=__webpack_require__(109);Object.defineProperty(exports,'Matrix',{enumerable:true,get:function get(){return _interopRequireDefault(_Matrix).default;}});var _GroupD=__webpack_require__(195);Object.defineProperty(exports,'GroupD8',{enumerable:true,get:function get(){return _interopRequireDefault(_GroupD).default;}});var _Circle=__webpack_require__(635);Object.defineProperty(exports,'Circle',{enumerable:true,get:function get(){return _interopRequireDefault(_Circle).default;}});var _Ellipse=__webpack_require__(636);Object.defineProperty(exports,'Ellipse',{enumerable:true,get:function get(){return _interopRequireDefault(_Ellipse).default;}});var _Polygon=__webpack_require__(637);Object.defineProperty(exports,'Polygon',{enumerable:true,get:function get(){return _interopRequireDefault(_Polygon).default;}});var _Rectangle=__webpack_require__(111);Object.defineProperty(exports,'Rectangle',{enumerable:true,get:function get(){return _interopRequireDefault(_Rectangle).default;}});var _RoundedRectangle=__webpack_require__(638);Object.defineProperty(exports,'RoundedRectangle',{enumerable:true,get:function get(){return _interopRequireDefault(_RoundedRectangle).default;}});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}}),(function(module,exports,__webpack_require__){"use strict";var keywords=__webpack_require__(89);var extend=__webpack_require__(5).extend;var deepEqual=__webpack_require__(5).deepEqual;function factory(type,config,load,typed,math){function Node(){if(!(this instanceof Node)){throw new SyntaxError('Constructor must be called with the new operator');}}
Node.prototype.eval=function(scope){return this.compile().eval(scope);};Node.prototype.type='Node';Node.prototype.isNode=true;Node.prototype.comment='';Node.prototype.compile=function(){if(arguments.length>0){throw new Error('Calling compile(math) is deprecated. Call the function as compile() instead.');}
var defs={math:math.expression.transform,args:{},_validateScope:_validateScope};var args={};var code=this._compile(defs,args);var defsCode=Object.keys(defs).map(function(name){return'    var '+name+' = defs["'+name+'"];';});var factoryCode=defsCode.join(' ')+'return {'+'  "eval": function (scope) {'+'    if (scope) _validateScope(scope);'+'    scope = scope || {};'+'    return '+code+';'+'  }'+'};';var factory=new Function('defs',factoryCode);return factory(defs);};Node.prototype._compile=function(defs,args){throw new Error('Cannot compile a Node interface');};Node.prototype.forEach=function(callback){throw new Error('Cannot run forEach on a Node interface');};Node.prototype.map=function(callback){throw new Error('Cannot run map on a Node interface');};Node.prototype._ifNode=function(node){if(!(node&&node.isNode)){throw new TypeError('Callback function must return a Node');}
return node;};Node.prototype.traverse=function(callback){callback(this,null,null);function _traverse(node,callback){node.forEach(function(child,path,parent){callback(child,path,parent);_traverse(child,callback);});}
_traverse(this,callback);};Node.prototype.transform=function(callback){function _transform(node,callback){return node.map(function(child,path,parent){var replacement=callback(child,path,parent);return _transform(replacement,callback);});}
var replacement=callback(this,null,null);return _transform(replacement,callback);};Node.prototype.filter=function(callback){var nodes=[];this.traverse(function(node,path,parent){if(callback(node,path,parent)){nodes.push(node);}});return nodes;};Node.prototype.find=function(){throw new Error('Function Node.find is deprecated. Use Node.filter instead.');};Node.prototype.match=function(){throw new Error('Function Node.match is deprecated. See functions Node.filter, Node.transform, Node.traverse.');};Node.prototype.clone=function(){throw new Error('Cannot clone a Node interface');};Node.prototype.cloneDeep=function(){return this.map(function(node){return node.cloneDeep();});};Node.prototype.equals=function(other){return other?deepEqual(this,other):false};Node.prototype.toString=function(options){var customString;if(options&&typeof options=="object"){switch(typeof options.handler){case'object':case'undefined':break;case'function':customString=options.handler(this,options);break;default:throw new TypeError('Object or function expected as callback');}}
if(typeof customString!=='undefined'){return customString;}
return this._toString(options);};Node.prototype._toString=function(){throw new Error('_toString not implemented for '+this.type);};Node.prototype.toTex=function(options){var customTex;if(options&&typeof options=='object'){switch(typeof options.handler){case'object':case'undefined':break;case'function':customTex=options.handler(this,options);break;default:throw new TypeError('Object or function expected as callback');}}
if(typeof customTex!=='undefined'){return customTex;}
return this._toTex(options);};Node.prototype._toTex=function(options){throw new Error('_toTex not implemented for '+this.type);};Node.prototype.getIdentifier=function(){return this.type;};Node.prototype.getContent=function(){return this;};function _validateScope(scope){for(var symbol in scope){if(scope.hasOwnProperty(symbol)){if(symbol in keywords){throw new Error('Scope contains an illegal symbol, "'+symbol+'" is a reserved keyword');}}}}
return Node;}
exports.name='Node';exports.path='expression.node';exports.math=true;exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var DimensionError=__webpack_require__(11);function factory(type,config,load,typed){var DenseMatrix=type.DenseMatrix;var algorithm03=function(denseMatrix,sparseMatrix,callback,inverse){var adata=denseMatrix._data;var asize=denseMatrix._size;var adt=denseMatrix._datatype;var bvalues=sparseMatrix._values;var bindex=sparseMatrix._index;var bptr=sparseMatrix._ptr;var bsize=sparseMatrix._size;var bdt=sparseMatrix._datatype;if(asize.length!==bsize.length)
throw new DimensionError(asize.length,bsize.length);if(asize[0]!==bsize[0]||asize[1]!==bsize[1])
throw new RangeError('Dimension mismatch. Matrix A ('+asize+') must match Matrix B ('+bsize+')');if(!bvalues)
throw new Error('Cannot perform operation on Dense Matrix and Pattern Sparse Matrix');var rows=asize[0];var columns=asize[1];var dt;var zero=0;var cf=callback;if(typeof adt==='string'&&adt===bdt){dt=adt;zero=typed.convert(0,dt);cf=typed.find(callback,[dt,dt]);}
var cdata=[];for(var z=0;z<rows;z++){cdata[z]=[];}
var x=[];var w=[];for(var j=0;j<columns;j++){var mark=j+1;for(var k0=bptr[j],k1=bptr[j+1],k=k0;k<k1;k++){var i=bindex[k];x[i]=inverse?cf(bvalues[k],adata[i][j]):cf(adata[i][j],bvalues[k]);w[i]=mark;}
for(var y=0;y<rows;y++){if(w[y]===mark){cdata[y][j]=x[y];}
else{cdata[y][j]=inverse?cf(zero,adata[y][j]):cf(adata[y][j],zero);}}}
return new DenseMatrix({data:cdata,size:[rows,columns],datatype:dt});};return algorithm03;}
exports.name='algorithm03';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var equalScalar=load(__webpack_require__(12));var SparseMatrix=type.SparseMatrix;var algorithm11=function(s,b,callback,inverse){var avalues=s._values;var aindex=s._index;var aptr=s._ptr;var asize=s._size;var adt=s._datatype;if(!avalues)
throw new Error('Cannot perform operation on Pattern Sparse Matrix and Scalar value');var rows=asize[0];var columns=asize[1];var dt;var eq=equalScalar;var zero=0;var cf=callback;if(typeof adt==='string'){dt=adt;eq=typed.find(equalScalar,[dt,dt]);zero=typed.convert(0,dt);b=typed.convert(b,dt);cf=typed.find(callback,[dt,dt]);}
var cvalues=[];var cindex=[];var cptr=[];var c=new SparseMatrix({values:cvalues,index:cindex,ptr:cptr,size:[rows,columns],datatype:dt});for(var j=0;j<columns;j++){cptr[j]=cindex.length;for(var k0=aptr[j],k1=aptr[j+1],k=k0;k<k1;k++){var i=aindex[k];var v=inverse?cf(b,avalues[k]):cf(avalues[k],b);if(!eq(v,zero)){cindex.push(i);cvalues.push(v);}}}
cptr[columns]=cindex.length;return c;};return algorithm11;}
exports.name='algorithm11';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var DenseMatrix=type.DenseMatrix;var algorithm12=function(s,b,callback,inverse){var avalues=s._values;var aindex=s._index;var aptr=s._ptr;var asize=s._size;var adt=s._datatype;if(!avalues)
throw new Error('Cannot perform operation on Pattern Sparse Matrix and Scalar value');var rows=asize[0];var columns=asize[1];var dt;var cf=callback;if(typeof adt==='string'){dt=adt;b=typed.convert(b,dt);cf=typed.find(callback,[dt,dt]);}
var cdata=[];var c=new DenseMatrix({data:cdata,size:[rows,columns],datatype:dt});var x=[];var w=[];for(var j=0;j<columns;j++){var mark=j+1;for(var k0=aptr[j],k1=aptr[j+1],k=k0;k<k1;k++){var r=aindex[k];x[r]=avalues[k];w[r]=mark;}
for(var i=0;i<rows;i++){if(j===0){cdata[i]=[];}
if(w[i]===mark){cdata[i][j]=inverse?cf(b,x[i]):cf(x[i],b);}
else{cdata[i][j]=inverse?cf(b,0):cf(0,b);}}}
return c;};return algorithm12;}
exports.name='algorithm12';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _maxRecommendedTextures=__webpack_require__(662);var _maxRecommendedTextures2=_interopRequireDefault(_maxRecommendedTextures);var _canUploadSameBuffer=__webpack_require__(660);var _canUploadSameBuffer2=_interopRequireDefault(_canUploadSameBuffer);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
exports.default={TARGET_FPMS:0.06,MIPMAP_TEXTURES:true,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,_maxRecommendedTextures2.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:false,forceFXAA:false,autoResize:false,transparent:false,backgroundColor:0x000000,clearBeforeRender:true,preserveDrawingBuffer:false,roundPixels:false},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:'highp',PRECISION_FRAGMENT:'mediump',CAN_UPLOAD_SAME_BUFFER:(0,_canUploadSameBuffer2.default)()};}),(function(module,exports,__webpack_require__){"use strict";var extend=__webpack_require__(5).extend;function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var addScalar=load(__webpack_require__(23));var latex=__webpack_require__(3);var algorithm01=load(__webpack_require__(36));var algorithm04=load(__webpack_require__(101));var algorithm10=load(__webpack_require__(39));var algorithm13=load(__webpack_require__(9));var algorithm14=load(__webpack_require__(6));var add=typed('add',extend({'Matrix, Matrix':function(x,y){var c;switch(x.storage()){case'sparse':switch(y.storage()){case'sparse':c=algorithm04(x,y,addScalar);break;default:c=algorithm01(y,x,addScalar,true);break;}
break;default:switch(y.storage()){case'sparse':c=algorithm01(x,y,addScalar,false);break;default:c=algorithm13(x,y,addScalar);break;}
break;}
return c;},'Array, Array':function(x,y){return add(matrix(x),matrix(y)).valueOf();},'Array, Matrix':function(x,y){return add(matrix(x),y);},'Matrix, Array':function(x,y){return add(x,matrix(y));},'Matrix, any':function(x,y){var c;switch(x.storage()){case'sparse':c=algorithm10(x,y,addScalar,false);break;default:c=algorithm14(x,y,addScalar,false);break;}
return c;},'any, Matrix':function(x,y){var c;switch(y.storage()){case'sparse':c=algorithm10(y,x,addScalar,true);break;default:c=algorithm14(y,x,addScalar,true);break;}
return c;},'Array, any':function(x,y){return algorithm14(matrix(x),y,addScalar,false).valueOf();},'any, Array':function(x,y){return algorithm14(matrix(y),x,addScalar,true).valueOf();},'any, any':addScalar,'any, any, ...any':function(x,y,rest){var result=add(x,y);for(var i=0;i<rest.length;i++){result=add(result,rest[i]);}
return result;}},addScalar.signatures));add.toTex={2:'\\left(${args[0]}'+latex.operators['add']+'${args[1]}\\right)'};return add;}
exports.name='add';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var multiplyScalar=load(__webpack_require__(27));var divideScalar=typed('divide',{'number, number':function(x,y){return x / y;},'Complex, Complex':function(x,y){return x.div(y);},'BigNumber, BigNumber':function(x,y){return x.div(y);},'Fraction, Fraction':function(x,y){return x.div(y);},'Unit, number | Fraction | BigNumber':function(x,y){var res=x.clone();res.value=divideScalar(((res.value===null)?res._normalize(1):res.value),y);return res;},'number | Fraction | BigNumber, Unit':function(x,y){var res=y.pow(-1);res.value=multiplyScalar(((res.value===null)?res._normalize(1):res.value),x);return res;},'Unit, Unit':function(x,y){return x.divide(y);}});return divideScalar;}
exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";(function(global){exports.__esModule=true;exports.loader=exports.prepare=exports.particles=exports.mesh=exports.loaders=exports.interaction=exports.filters=exports.extras=exports.extract=exports.accessibility=undefined;var _polyfill=__webpack_require__(697);Object.keys(_polyfill).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _polyfill[key];}});});var _deprecation=__webpack_require__(666);Object.keys(_deprecation).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _deprecation[key];}});});var _core=__webpack_require__(4);Object.keys(_core).forEach(function(key){if(key==="default"||key==="__esModule")return;Object.defineProperty(exports,key,{enumerable:true,get:function get(){return _core[key];}});});var _accessibility=__webpack_require__(623);var accessibility=_interopRequireWildcard(_accessibility);var _extract=__webpack_require__(668);var extract=_interopRequireWildcard(_extract);var _extras=__webpack_require__(117);var extras=_interopRequireWildcard(_extras);var _filters=__webpack_require__(213);var filters=_interopRequireWildcard(_filters);var _interaction=__webpack_require__(215);var interaction=_interopRequireWildcard(_interaction);var _loaders=__webpack_require__(218);var loaders=_interopRequireWildcard(_loaders);var _mesh=__webpack_require__(222);var mesh=_interopRequireWildcard(_mesh);var _particles=__webpack_require__(223);var particles=_interopRequireWildcard(_particles);var _prepare=__webpack_require__(224);var prepare=_interopRequireWildcard(_prepare);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
_core.utils.mixins.performMixins();exports.accessibility=accessibility;exports.extract=extract;exports.extras=extras;exports.filters=filters;exports.interaction=interaction;exports.loaders=loaders;exports.mesh=mesh;exports.particles=particles;exports.prepare=prepare;var loader=loaders&&loaders.Loader?new loaders.Loader():null;exports.loader=loader;global.PIXI=exports;}.call(exports,__webpack_require__(52)))}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var add=typed('add',{'number, number':function(x,y){return x+y;},'Complex, Complex':function(x,y){return x.add(y);},'BigNumber, BigNumber':function(x,y){return x.plus(y);},'Fraction, Fraction':function(x,y){return x.add(y);},'Unit, Unit':function(x,y){if(x.value==null)throw new Error('Parameter x contains a unit with undefined value');if(y.value==null)throw new Error('Parameter y contains a unit with undefined value');if(!x.equalBase(y))throw new Error('Units do not match');var res=x.clone();res.value=add(res.value,y.value);res.fixPrefix=false;return res;}});return add;}
exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var DimensionError=__webpack_require__(11);function factory(type,config,load,typed){var latex=__webpack_require__(3);var matrix=load(__webpack_require__(0));var addScalar=load(__webpack_require__(23));var unaryMinus=load(__webpack_require__(45));var algorithm01=load(__webpack_require__(36));var algorithm03=load(__webpack_require__(16));var algorithm05=load(__webpack_require__(78));var algorithm10=load(__webpack_require__(39));var algorithm13=load(__webpack_require__(9));var algorithm14=load(__webpack_require__(6));var subtract=typed('subtract',{'number, number':function(x,y){return x-y;},'Complex, Complex':function(x,y){return x.sub(y);},'BigNumber, BigNumber':function(x,y){return x.minus(y);},'Fraction, Fraction':function(x,y){return x.sub(y);},'Unit, Unit':function(x,y){if(x.value==null){throw new Error('Parameter x contains a unit with undefined value');}
if(y.value==null){throw new Error('Parameter y contains a unit with undefined value');}
if(!x.equalBase(y)){throw new Error('Units do not match');}
var res=x.clone();res.value=subtract(res.value,y.value);res.fixPrefix=false;return res;},'Matrix, Matrix':function(x,y){var xsize=x.size();var ysize=y.size();if(xsize.length!==ysize.length)
throw new DimensionError(xsize.length,ysize.length);var c;switch(x.storage()){case'sparse':switch(y.storage()){case'sparse':c=algorithm05(x,y,subtract);break;default:c=algorithm03(y,x,subtract,true);break;}
break;default:switch(y.storage()){case'sparse':c=algorithm01(x,y,subtract,false);break;default:c=algorithm13(x,y,subtract);break;}
break;}
return c;},'Array, Array':function(x,y){return subtract(matrix(x),matrix(y)).valueOf();},'Array, Matrix':function(x,y){return subtract(matrix(x),y);},'Matrix, Array':function(x,y){return subtract(x,matrix(y));},'Matrix, any':function(x,y){var c;switch(x.storage()){case'sparse':c=algorithm10(x,unaryMinus(y),addScalar);break;default:c=algorithm14(x,y,subtract);break;}
return c;},'any, Matrix':function(x,y){var c;switch(y.storage()){case'sparse':c=algorithm10(y,x,subtract,true);break;default:c=algorithm14(y,x,subtract,true);break;}
return c;},'Array, any':function(x,y){return algorithm14(matrix(x),y,subtract,false).valueOf();},'any, Array':function(x,y){return algorithm14(matrix(y),x,subtract,true).valueOf();}});subtract.toTex={2:'\\left(${args[0]}'+latex.operators['subtract']+'${args[1]}\\right)'};return subtract;}
exports.name='subtract';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var formatNumber=__webpack_require__(2).format;var formatBigNumber=__webpack_require__(609).format;exports.isString=function(value){return typeof value==='string';};exports.endsWith=function(text,search){var start=text.length-search.length;var end=text.length;return(text.substring(start,end)===search);};exports.format=function(value,options){if(typeof value==='number'){return formatNumber(value,options);}
if(value&&value.isBigNumber===true){return formatBigNumber(value,options);}
if(value&&value.isFraction===true){if(!options||options.fraction!=='decimal'){return(value.s*value.n)+'/'+value.d;}
else{return value.toString();}}
if(Array.isArray(value)){return formatArray(value,options);}
if(exports.isString(value)){return'"'+value+'"';}
if(typeof value==='function'){return value.syntax?String(value.syntax):'function';}
if(value&&typeof value==='object'){if(typeof value.format==='function'){return value.format(options);}
else if(value&&value.toString()!=={}.toString()){return value.toString();}
else{var entries=[];for(var key in value){if(value.hasOwnProperty(key)){entries.push('"'+key+'": '+exports.format(value[key],options));}}
return'{'+entries.join(', ')+'}';}}
return String(value);};function formatArray(array,options){if(Array.isArray(array)){var str='[';var len=array.length;for(var i=0;i<len;i++){if(i!=0){str+=', ';}
str+=formatArray(array[i],options);}
str+=']';return str;}
else{return exports.format(array,options);}}}),(function(module,exports,__webpack_require__){var gl={createContext:__webpack_require__(620),setVertexAttribArrays:__webpack_require__(181),GLBuffer:__webpack_require__(616),GLFramebuffer:__webpack_require__(617),GLShader:__webpack_require__(618),GLTexture:__webpack_require__(180),VertexArrayObject:__webpack_require__(619),shader:__webpack_require__(621)};if(typeof module!=='undefined'&&module.exports)
{module.exports=gl;}
if(typeof window!=='undefined')
{window.PIXI=window.PIXI||{};window.PIXI.glCore=gl;}}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var multiplyScalar=typed('multiplyScalar',{'number, number':function(x,y){return x*y;},'Complex, Complex':function(x,y){return x.mul(y);},'BigNumber, BigNumber':function(x,y){return x.times(y);},'Fraction, Fraction':function(x,y){return x.mul(y);},'number | Fraction | BigNumber | Complex, Unit':function(x,y){var res=y.clone();res.value=(res.value===null)?res._normalize(x):multiplyScalar(res.value,x);return res;},'Unit, number | Fraction | BigNumber | Complex':function(x,y){var res=x.clone();res.value=(res.value===null)?res._normalize(y):multiplyScalar(res.value,y);return res;},'Unit, Unit':function(x,y){return x.multiply(y);}});return multiplyScalar;}
exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var DimensionError=__webpack_require__(11);function factory(type,config,load,typed){var equalScalar=load(__webpack_require__(12));var SparseMatrix=type.SparseMatrix;var algorithm02=function(denseMatrix,sparseMatrix,callback,inverse){var adata=denseMatrix._data;var asize=denseMatrix._size;var adt=denseMatrix._datatype;var bvalues=sparseMatrix._values;var bindex=sparseMatrix._index;var bptr=sparseMatrix._ptr;var bsize=sparseMatrix._size;var bdt=sparseMatrix._datatype;if(asize.length!==bsize.length)
throw new DimensionError(asize.length,bsize.length);if(asize[0]!==bsize[0]||asize[1]!==bsize[1])
throw new RangeError('Dimension mismatch. Matrix A ('+asize+') must match Matrix B ('+bsize+')');if(!bvalues)
throw new Error('Cannot perform operation on Dense Matrix and Pattern Sparse Matrix');var rows=asize[0];var columns=asize[1];var dt;var eq=equalScalar;var zero=0;var cf=callback;if(typeof adt==='string'&&adt===bdt){dt=adt;eq=typed.find(equalScalar,[dt,dt]);zero=typed.convert(0,dt);cf=typed.find(callback,[dt,dt]);}
var cvalues=[];var cindex=[];var cptr=[];for(var j=0;j<columns;j++){cptr[j]=cindex.length;for(var k0=bptr[j],k1=bptr[j+1],k=k0;k<k1;k++){var i=bindex[k];var cij=inverse?cf(bvalues[k],adata[i][j]):cf(adata[i][j],bvalues[k]);if(!eq(cij,zero)){cindex.push(i);cvalues.push(cij);}}}
cptr[columns]=cindex.length;return new SparseMatrix({values:cvalues,index:cindex,ptr:cptr,size:[rows,columns],datatype:dt});};return algorithm02;}
exports.name='algorithm02';exports.factory=factory;}),(function(module,exports,__webpack_require__){(function(process){function normalizeArray(parts,allowAboveRoot){var up=0;for(var i=parts.length-1;i>=0;i--){var last=parts[i];if(last==='.'){parts.splice(i,1);}else if(last==='..'){parts.splice(i,1);up++;}else if(up){parts.splice(i,1);up--;}}
if(allowAboveRoot){for(;up--;up){parts.unshift('..');}}
return parts;}
var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;var splitPath=function(filename){return splitPathRe.exec(filename).slice(1);};exports.resolve=function(){var resolvedPath='',resolvedAbsolute=false;for(var i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=(i>=0)?arguments[i]:process.cwd();if(typeof path!=='string'){throw new TypeError('Arguments to path.resolve must be strings');}else if(!path){continue;}
resolvedPath=path+'/'+resolvedPath;resolvedAbsolute=path.charAt(0)==='/';}
resolvedPath=normalizeArray(filter(resolvedPath.split('/'),function(p){return!!p;}),!resolvedAbsolute).join('/');return((resolvedAbsolute?'/':'')+resolvedPath)||'.';};exports.normalize=function(path){var isAbsolute=exports.isAbsolute(path),trailingSlash=substr(path,-1)==='/';path=normalizeArray(filter(path.split('/'),function(p){return!!p;}),!isAbsolute).join('/');if(!path&&!isAbsolute){path='.';}
if(path&&trailingSlash){path+='/';}
return(isAbsolute?'/':'')+path;};exports.isAbsolute=function(path){return path.charAt(0)==='/';};exports.join=function(){var paths=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(paths,function(p,index){if(typeof p!=='string'){throw new TypeError('Arguments to path.join must be strings');}
return p;}).join('/'));};exports.relative=function(from,to){from=exports.resolve(from).substr(1);to=exports.resolve(to).substr(1);function trim(arr){var start=0;for(;start<arr.length;start++){if(arr[start]!=='')break;}
var end=arr.length-1;for(;end>=0;end--){if(arr[end]!=='')break;}
if(start>end)return[];return arr.slice(start,end-start+1);}
var fromParts=trim(from.split('/'));var toParts=trim(to.split('/'));var length=Math.min(fromParts.length,toParts.length);var samePartsLength=length;for(var i=0;i<length;i++){if(fromParts[i]!==toParts[i]){samePartsLength=i;break;}}
var outputParts=[];for(var i=samePartsLength;i<fromParts.length;i++){outputParts.push('..');}
outputParts=outputParts.concat(toParts.slice(samePartsLength));return outputParts.join('/');};exports.sep='/';exports.delimiter=':';exports.dirname=function(path){var result=splitPath(path),root=result[0],dir=result[1];if(!root&&!dir){return'.';}
if(dir){dir=dir.substr(0,dir.length-1);}
return root+dir;};exports.basename=function(path,ext){var f=splitPath(path)[2];if(ext&&f.substr(-1*ext.length)===ext){f=f.substr(0,f.length-ext.length);}
return f;};exports.extname=function(path){return splitPath(path)[3];};function filter(xs,f){if(xs.filter)return xs.filter(f);var res=[];for(var i=0;i<xs.length;i++){if(f(xs[i],i,xs))res.push(xs[i]);}
return res;}
var substr='ab'.substr(-1)==='b'?function(str,start,len){return str.substr(start,len)}:function(str,start,len){if(start<0)start=str.length+start;return str.substr(start,len);};}.call(exports,__webpack_require__(702)))}),(function(module,exports,__webpack_require__){"use strict";var DimensionError=__webpack_require__(11);function factory(type,config,load,typed){var DenseMatrix=type.DenseMatrix;var algorithm07=function(a,b,callback){var asize=a._size;var adt=a._datatype;var bsize=b._size;var bdt=b._datatype;if(asize.length!==bsize.length)
throw new DimensionError(asize.length,bsize.length);if(asize[0]!==bsize[0]||asize[1]!==bsize[1])
throw new RangeError('Dimension mismatch. Matrix A ('+asize+') must match Matrix B ('+bsize+')');var rows=asize[0];var columns=asize[1];var dt;var zero=0;var cf=callback;if(typeof adt==='string'&&adt===bdt){dt=adt;zero=typed.convert(0,dt);cf=typed.find(callback,[dt,dt]);}
var i,j;var cdata=[];for(i=0;i<rows;i++)
cdata[i]=[];var c=new DenseMatrix({data:cdata,size:[rows,columns],datatype:dt});var xa=[];var xb=[];var wa=[];var wb=[];for(j=0;j<columns;j++){var mark=j+1;_scatter(a,j,wa,xa,mark);_scatter(b,j,wb,xb,mark);for(i=0;i<rows;i++){var va=wa[i]===mark?xa[i]:zero;var vb=wb[i]===mark?xb[i]:zero;cdata[i][j]=cf(va,vb);}}
return c;};var _scatter=function(m,j,w,x,mark){var values=m._values;var index=m._index;var ptr=m._ptr;for(var k=ptr[j],k1=ptr[j+1];k<k1;k++){var i=index[k];w[i]=mark;x[i]=values[k];}};return algorithm07;}
exports.name='algorithm07';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";exports.array=__webpack_require__(7);exports['boolean']=__webpack_require__(612);exports['function']=__webpack_require__(42);exports.number=__webpack_require__(2);exports.object=__webpack_require__(5);exports.string=__webpack_require__(25);exports.types=__webpack_require__(82);exports.emitter=__webpack_require__(177);}),(function(module,exports,__webpack_require__){"use strict";var has=Object.prototype.hasOwnProperty,prefix='~';function Events(){}
if(Object.create){Events.prototype=Object.create(null);if(!new Events().__proto__)prefix=false;}
function EE(fn,context,once){this.fn=fn;this.context=context;this.once=once||false;}
function EventEmitter(){this._events=new Events();this._eventsCount=0;}
EventEmitter.prototype.eventNames=function eventNames(){var names=[],events,name;if(this._eventsCount===0)return names;for(name in(events=this._events)){if(has.call(events,name))names.push(prefix?name.slice(1):name);}
if(Object.getOwnPropertySymbols){return names.concat(Object.getOwnPropertySymbols(events));}
return names;};EventEmitter.prototype.listeners=function listeners(event,exists){var evt=prefix?prefix+event:event,available=this._events[evt];if(exists)return!!available;if(!available)return[];if(available.fn)return[available.fn];for(var i=0,l=available.length,ee=new Array(l);i<l;i++){ee[i]=available[i].fn;}
return ee;};EventEmitter.prototype.emit=function emit(event,a1,a2,a3,a4,a5){var evt=prefix?prefix+event:event;if(!this._events[evt])return false;var listeners=this._events[evt],len=arguments.length,args,i;if(listeners.fn){if(listeners.once)this.removeListener(event,listeners.fn,undefined,true);switch(len){case 1:return listeners.fn.call(listeners.context),true;case 2:return listeners.fn.call(listeners.context,a1),true;case 3:return listeners.fn.call(listeners.context,a1,a2),true;case 4:return listeners.fn.call(listeners.context,a1,a2,a3),true;case 5:return listeners.fn.call(listeners.context,a1,a2,a3,a4),true;case 6:return listeners.fn.call(listeners.context,a1,a2,a3,a4,a5),true;}
for(i=1,args=new Array(len-1);i<len;i++){args[i-1]=arguments[i];}
listeners.fn.apply(listeners.context,args);}else{var length=listeners.length,j;for(i=0;i<length;i++){if(listeners[i].once)this.removeListener(event,listeners[i].fn,undefined,true);switch(len){case 1:listeners[i].fn.call(listeners[i].context);break;case 2:listeners[i].fn.call(listeners[i].context,a1);break;case 3:listeners[i].fn.call(listeners[i].context,a1,a2);break;case 4:listeners[i].fn.call(listeners[i].context,a1,a2,a3);break;default:if(!args)for(j=1,args=new Array(len-1);j<len;j++){args[j-1]=arguments[j];}
listeners[i].fn.apply(listeners[i].context,args);}}}
return true;};EventEmitter.prototype.on=function on(event,fn,context){var listener=new EE(fn,context||this),evt=prefix?prefix+event:event;if(!this._events[evt])this._events[evt]=listener,this._eventsCount++;else if(!this._events[evt].fn)this._events[evt].push(listener);else this._events[evt]=[this._events[evt],listener];return this;};EventEmitter.prototype.once=function once(event,fn,context){var listener=new EE(fn,context||this,true),evt=prefix?prefix+event:event;if(!this._events[evt])this._events[evt]=listener,this._eventsCount++;else if(!this._events[evt].fn)this._events[evt].push(listener);else this._events[evt]=[this._events[evt],listener];return this;};EventEmitter.prototype.removeListener=function removeListener(event,fn,context,once){var evt=prefix?prefix+event:event;if(!this._events[evt])return this;if(!fn){if(--this._eventsCount===0)this._events=new Events();else delete this._events[evt];return this;}
var listeners=this._events[evt];if(listeners.fn){if(listeners.fn===fn&&(!once||listeners.once)&&(!context||listeners.context===context)){if(--this._eventsCount===0)this._events=new Events();else delete this._events[evt];}}else{for(var i=0,events=[],length=listeners.length;i<length;i++){if(listeners[i].fn!==fn||(once&&!listeners[i].once)||(context&&listeners[i].context!==context)){events.push(listeners[i]);}}
if(events.length)this._events[evt]=events.length===1?events[0]:events;else if(--this._eventsCount===0)this._events=new Events();else delete this._events[evt];}
return this;};EventEmitter.prototype.removeAllListeners=function removeAllListeners(event){var evt;if(event){evt=prefix?prefix+event:event;if(this._events[evt]){if(--this._eventsCount===0)this._events=new Events();else delete this._events[evt];}}else{this._events=new Events();this._eventsCount=0;}
return this;};EventEmitter.prototype.off=EventEmitter.prototype.removeListener;EventEmitter.prototype.addListener=EventEmitter.prototype.on;EventEmitter.prototype.setMaxListeners=function setMaxListeners(){return this;};EventEmitter.prefixed=prefix;EventEmitter.EventEmitter=EventEmitter;if(true){module.exports=EventEmitter;}}),(function(module,exports,__webpack_require__){"use strict";var latex=__webpack_require__(3);function factory(type,config,load,typed,math){var Node=load(__webpack_require__(15));var Unit=load(__webpack_require__(175));function SymbolNode(name){if(!(this instanceof SymbolNode)){throw new SyntaxError('Constructor must be called with the new operator');}
if(typeof name!=='string')throw new TypeError('String expected for parameter "name"');this.name=name;}
SymbolNode.prototype=new Node();SymbolNode.prototype.type='SymbolNode';SymbolNode.prototype.isSymbolNode=true;SymbolNode.prototype._compile=function(defs,args){defs['undef']=undef;defs['Unit']=Unit;if(args[this.name]){return this.name;}
else if(this.name in defs.math){return'("'+this.name+'" in scope ? scope["'+this.name+'"] : math["'+this.name+'"])';}
else{return'('+'"'+this.name+'" in scope ? scope["'+this.name+'"] : '+
(Unit.isValuelessUnit(this.name)?'new Unit(null, "'+this.name+'")':'undef("'+this.name+'")')+')';}};SymbolNode.prototype.forEach=function(callback){};SymbolNode.prototype.map=function(callback){return this.clone();};function undef(name){throw new Error('Undefined symbol '+name);}
SymbolNode.prototype.clone=function(){return new SymbolNode(this.name);};SymbolNode.prototype._toString=function(options){return this.name;};SymbolNode.prototype._toTex=function(options){var isUnit=false;if((typeof math[this.name]==='undefined')&&Unit.isValuelessUnit(this.name)){isUnit=true;}
var symbol=latex.toSymbol(this.name,isUnit);if(symbol[0]==='\\'){return symbol;}
return' '+symbol;};return SymbolNode;}
exports.name='SymbolNode';exports.path='expression.node';exports.math=true;exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var abs=typed('abs',{'number':Math.abs,'Complex':function(x){return x.abs();},'BigNumber':function(x){return x.abs();},'Fraction':function(x){return x.abs();},'Array | Matrix':function(x){return deepMap(x,abs,true);},'Unit':function(x){return x.abs();}});abs.toTex={1:'\\left|${args[0]}\\right|'};return abs;}
exports.name='abs';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var nearlyEqual=__webpack_require__(2).nearlyEqual;var bigNearlyEqual=__webpack_require__(40);function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var algorithm03=load(__webpack_require__(16));var algorithm07=load(__webpack_require__(30));var algorithm12=load(__webpack_require__(18));var algorithm13=load(__webpack_require__(9));var algorithm14=load(__webpack_require__(6));var latex=__webpack_require__(3);var larger=typed('larger',{'boolean, boolean':function(x,y){return x>y;},'number, number':function(x,y){return x>y&&!nearlyEqual(x,y,config.epsilon);},'BigNumber, BigNumber':function(x,y){return x.gt(y)&&!bigNearlyEqual(x,y,config.epsilon);},'Fraction, Fraction':function(x,y){return x.compare(y)===1;},'Complex, Complex':function(){throw new TypeError('No ordering relation is defined for complex numbers');},'Unit, Unit':function(x,y){if(!x.equalBase(y)){throw new Error('Cannot compare units with different base');}
return larger(x.value,y.value);},'string, string':function(x,y){return x>y;},'Matrix, Matrix':function(x,y){var c;switch(x.storage()){case'sparse':switch(y.storage()){case'sparse':c=algorithm07(x,y,larger);break;default:c=algorithm03(y,x,larger,true);break;}
break;default:switch(y.storage()){case'sparse':c=algorithm03(x,y,larger,false);break;default:c=algorithm13(x,y,larger);break;}
break;}
return c;},'Array, Array':function(x,y){return larger(matrix(x),matrix(y)).valueOf();},'Array, Matrix':function(x,y){return larger(matrix(x),y);},'Matrix, Array':function(x,y){return larger(x,matrix(y));},'Matrix, any':function(x,y){var c;switch(x.storage()){case'sparse':c=algorithm12(x,y,larger,false);break;default:c=algorithm14(x,y,larger,false);break;}
return c;},'any, Matrix':function(x,y){var c;switch(y.storage()){case'sparse':c=algorithm12(y,x,larger,true);break;default:c=algorithm14(y,x,larger,true);break;}
return c;},'Array, any':function(x,y){return algorithm14(matrix(x),y,larger,false).valueOf();},'any, Array':function(x,y){return algorithm14(matrix(y),x,larger,true).valueOf();}});larger.toTex={2:'\\left(${args[0]}'+latex.operators['larger']+'${args[1]}\\right)'};return larger;}
exports.name='larger';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var DimensionError=__webpack_require__(11);function factory(type,config,load,typed){var DenseMatrix=type.DenseMatrix;var algorithm01=function(denseMatrix,sparseMatrix,callback,inverse){var adata=denseMatrix._data;var asize=denseMatrix._size;var adt=denseMatrix._datatype;var bvalues=sparseMatrix._values;var bindex=sparseMatrix._index;var bptr=sparseMatrix._ptr;var bsize=sparseMatrix._size;var bdt=sparseMatrix._datatype;if(asize.length!==bsize.length)
throw new DimensionError(asize.length,bsize.length);if(asize[0]!==bsize[0]||asize[1]!==bsize[1])
throw new RangeError('Dimension mismatch. Matrix A ('+asize+') must match Matrix B ('+bsize+')');if(!bvalues)
throw new Error('Cannot perform operation on Dense Matrix and Pattern Sparse Matrix');var rows=asize[0];var columns=asize[1];var dt=typeof adt==='string'&&adt===bdt?adt:undefined;var cf=dt?typed.find(callback,[dt,dt]):callback;var i,j;var cdata=[];for(i=0;i<rows;i++)
cdata[i]=[];var x=[];var w=[];for(j=0;j<columns;j++){var mark=j+1;for(var k0=bptr[j],k1=bptr[j+1],k=k0;k<k1;k++){i=bindex[k];x[i]=inverse?cf(bvalues[k],adata[i][j]):cf(adata[i][j],bvalues[k]);w[i]=mark;}
for(i=0;i<rows;i++){if(w[i]===mark){cdata[i][j]=x[i];}
else{cdata[i][j]=adata[i][j];}}}
return new DenseMatrix({data:cdata,size:[rows,columns],datatype:dt});};return algorithm01;}
exports.name='algorithm01';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var ArgumentsError=__webpack_require__(53);var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var AccessorNode=load(__webpack_require__(128));var ArrayNode=load(__webpack_require__(90));var AssignmentNode=load(__webpack_require__(129));var BlockNode=load(__webpack_require__(130));var ConditionalNode=load(__webpack_require__(131));var ConstantNode=load(__webpack_require__(55));var FunctionAssignmentNode=load(__webpack_require__(132));var IndexNode=load(__webpack_require__(133));var ObjectNode=load(__webpack_require__(134));var OperatorNode=load(__webpack_require__(70));var ParenthesisNode=load(__webpack_require__(71));var FunctionNode=load(__webpack_require__(56));var RangeNode=load(__webpack_require__(91));var SymbolNode=load(__webpack_require__(33));function parse(expr,options){if(arguments.length!=1&&arguments.length!=2){throw new ArgumentsError('parse',arguments.length,1,2);}
extra_nodes=(options&&options.nodes)?options.nodes:{};if(typeof expr==='string'){expression=expr;return parseStart();}
else if(Array.isArray(expr)||expr instanceof type.Matrix){return deepMap(expr,function(elem){if(typeof elem!=='string')throw new TypeError('String expected');expression=elem;return parseStart();});}
else{throw new TypeError('String or matrix expected');}}
var TOKENTYPE={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4};var DELIMITERS={',':true,'(':true,')':true,'[':true,']':true,'{':true,'}':true,'\"':true,';':true,'+':true,'-':true,'*':true,'.*':true,'/':true,'./':true,'%':true,'^':true,'.^':true,'~':true,'!':true,'&':true,'|':true,'^|':true,'\'':true,'=':true,':':true,'?':true,'==':true,'!=':true,'<':true,'>':true,'<=':true,'>=':true,'<<':true,'>>':true,'>>>':true};var NAMED_DELIMITERS={'mod':true,'to':true,'in':true,'and':true,'xor':true,'or':true,'not':true};var extra_nodes={};var expression='';var comment='';var index=0;var c='';var token='';var token_type=TOKENTYPE.NULL;var nesting_level=0;var conditional_level=null;function first(){index=0;c=expression.charAt(0);nesting_level=0;conditional_level=null;}
function next(){index++;c=expression.charAt(index);}
function prevPreview(){return expression.charAt(index-1);}
function nextPreview(){return expression.charAt(index+1);}
function nextNextPreview(){return expression.charAt(index+2);}
function getToken(){token_type=TOKENTYPE.NULL;token='';comment='';while(parse.isWhitespace(c,nesting_level)){next();}
if(c=='#'){while(c!='\n'&&c!=''){comment+=c;next();}}
if(c==''){token_type=TOKENTYPE.DELIMITER;return;}
if(c=='\n'&&!nesting_level){token_type=TOKENTYPE.DELIMITER;token=c;next();return;}
var c2=c+nextPreview();var c3=c2+nextNextPreview();if(c3.length==3&&DELIMITERS[c3]){token_type=TOKENTYPE.DELIMITER;token=c3;next();next();next();return;}
if(c2.length==2&&DELIMITERS[c2]){token_type=TOKENTYPE.DELIMITER;token=c2;next();next();return;}
if(DELIMITERS[c]){token_type=TOKENTYPE.DELIMITER;token=c;next();return;}
if(parse.isDigitDot(c)){token_type=TOKENTYPE.NUMBER;if(c=='.'){token+=c;next();if(!parse.isDigit(c)){token_type=TOKENTYPE.DELIMITER;}}
else{while(parse.isDigit(c)){token+=c;next();}
if(parse.isDecimalMark(c,nextPreview())){token+=c;next();}}
while(parse.isDigit(c)){token+=c;next();}
c2=nextPreview();if(c=='E'||c=='e'){if(parse.isDigit(c2)||c2=='-'||c2=='+'){token+=c;next();if(c=='+'||c=='-'){token+=c;next();}
if(!parse.isDigit(c)){throw createSyntaxError('Digit expected, got "'+c+'"');}
while(parse.isDigit(c)){token+=c;next();}
if(parse.isDecimalMark(c,nextPreview())){throw createSyntaxError('Digit expected, got "'+c+'"');}}
else if(c2=='.'){next();throw createSyntaxError('Digit expected, got "'+c+'"');}}
return;}
if(parse.isAlpha(c,prevPreview(),nextPreview())){while(parse.isAlpha(c,prevPreview(),nextPreview())||parse.isDigit(c)){token+=c;next();}
if(NAMED_DELIMITERS.hasOwnProperty(token)){token_type=TOKENTYPE.DELIMITER;}
else{token_type=TOKENTYPE.SYMBOL;}
return;}
token_type=TOKENTYPE.UNKNOWN;while(c!=''){token+=c;next();}
throw createSyntaxError('Syntax error in part "'+token+'"');}
function getTokenSkipNewline(){do{getToken();}
while(token=='\n');}
function openParams(){nesting_level++;}
function closeParams(){nesting_level--;}
parse.isAlpha=function isAlpha(c,cPrev,cNext){return parse.isValidLatinOrGreek(c)||parse.isValidMathSymbol(c,cNext)||parse.isValidMathSymbol(cPrev,c);};parse.isValidLatinOrGreek=function isValidLatinOrGreek(c){return /^[a-zA-Z_\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(c);};parse.isValidMathSymbol=function isValidMathSymbol(high,low){return /^[\uD835]$/.test(high)&&/^[\uDC00-\uDFFF]$/.test(low)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(low);};parse.isWhitespace=function isWhitespace(c,nestingLevel){return c==' '||c=='\t'||(c=='\n'&&nestingLevel>0);};parse.isDecimalMark=function isDecimalMark(c,cNext){return c=='.'&&cNext!=='/'&&cNext!=='*'&&cNext!=='^';};parse.isDigitDot=function isDigitDot(c){return((c>='0'&&c<='9')||c=='.');};parse.isDigit=function isDigit(c){return(c>='0'&&c<='9');};function parseStart(){first();getToken();var node=parseBlock();if(token!=''){if(token_type==TOKENTYPE.DELIMITER){throw createError('Unexpected operator '+token);}
else{throw createSyntaxError('Unexpected part "'+token+'"');}}
return node;}
function parseBlock(){var node;var blocks=[];var visible;if(token!=''&&token!='\n'&&token!=';'){node=parseAssignment();node.comment=comment;}
while(token=='\n'||token==';'){if(blocks.length==0&&node){visible=(token!=';');blocks.push({node:node,visible:visible});}
getToken();if(token!='\n'&&token!=';'&&token!=''){node=parseAssignment();node.comment=comment;visible=(token!=';');blocks.push({node:node,visible:visible});}}
if(blocks.length>0){return new BlockNode(blocks);}
else{if(!node){node=new ConstantNode('undefined','undefined');node.comment=comment;}
return node}}
function parseAssignment(){var name,args,value,valid;var node=parseConditional();if(token=='='){if(node&&node.isSymbolNode){name=node.name;getTokenSkipNewline();value=parseAssignment();return new AssignmentNode(new SymbolNode(name),value);}
else if(node&&node.isAccessorNode){getTokenSkipNewline();value=parseAssignment();return new AssignmentNode(node.object,node.index,value);}
else if(node&&node.isFunctionNode){valid=true;args=[];name=node.name;node.args.forEach(function(arg,index){if(arg&&arg.isSymbolNode){args[index]=arg.name;}
else{valid=false;}});if(valid){getTokenSkipNewline();value=parseAssignment();return new FunctionAssignmentNode(name,args,value);}}
throw createSyntaxError('Invalid left hand side of assignment operator =');}
return node;}
function parseConditional(){var node=parseLogicalOr();while(token=='?'){var prev=conditional_level;conditional_level=nesting_level;getTokenSkipNewline();var condition=node;var trueExpr=parseAssignment();if(token!=':')throw createSyntaxError('False part of conditional expression expected');conditional_level=null;getTokenSkipNewline();var falseExpr=parseAssignment();node=new ConditionalNode(condition,trueExpr,falseExpr);conditional_level=prev;}
return node;}
function parseLogicalOr(){var node=parseLogicalXor();while(token=='or'){getTokenSkipNewline();node=new OperatorNode('or','or',[node,parseLogicalXor()]);}
return node;}
function parseLogicalXor(){var node=parseLogicalAnd();while(token=='xor'){getTokenSkipNewline();node=new OperatorNode('xor','xor',[node,parseLogicalAnd()]);}
return node;}
function parseLogicalAnd(){var node=parseBitwiseOr();while(token=='and'){getTokenSkipNewline();node=new OperatorNode('and','and',[node,parseBitwiseOr()]);}
return node;}
function parseBitwiseOr(){var node=parseBitwiseXor();while(token=='|'){getTokenSkipNewline();node=new OperatorNode('|','bitOr',[node,parseBitwiseXor()]);}
return node;}
function parseBitwiseXor(){var node=parseBitwiseAnd();while(token=='^|'){getTokenSkipNewline();node=new OperatorNode('^|','bitXor',[node,parseBitwiseAnd()]);}
return node;}
function parseBitwiseAnd(){var node=parseRelational();while(token=='&'){getTokenSkipNewline();node=new OperatorNode('&','bitAnd',[node,parseRelational()]);}
return node;}
function parseRelational(){var node,operators,name,fn,params;node=parseShift();operators={'==':'equal','!=':'unequal','<':'smaller','>':'larger','<=':'smallerEq','>=':'largerEq'};while(token in operators){name=token;fn=operators[name];getTokenSkipNewline();params=[node,parseShift()];node=new OperatorNode(name,fn,params);}
return node;}
function parseShift(){var node,operators,name,fn,params;node=parseConversion();operators={'<<':'leftShift','>>':'rightArithShift','>>>':'rightLogShift'};while(token in operators){name=token;fn=operators[name];getTokenSkipNewline();params=[node,parseConversion()];node=new OperatorNode(name,fn,params);}
return node;}
function parseConversion(){var node,operators,name,fn,params;node=parseRange();operators={'to':'to','in':'to'};while(token in operators){name=token;fn=operators[name];getTokenSkipNewline();if(name==='in'&&token===''){node=new OperatorNode('*','multiply',[node,new SymbolNode('in')],true);}
else{params=[node,parseRange()];node=new OperatorNode(name,fn,params);}}
return node;}
function parseRange(){var node,params=[];if(token==':'){node=new ConstantNode('1','number');}
else{node=parseAddSubtract();}
if(token==':'&&(conditional_level!==nesting_level)){params.push(node);while(token==':'&&params.length<3){getTokenSkipNewline();if(token==')'||token==']'||token==','||token==''){params.push(new SymbolNode('end'));}
else{params.push(parseAddSubtract());}}
if(params.length==3){node=new RangeNode(params[0],params[2],params[1]);}
else{node=new RangeNode(params[0],params[1]);}}
return node;}
function parseAddSubtract(){var node,operators,name,fn,params;node=parseMultiplyDivide();operators={'+':'add','-':'subtract'};while(token in operators){name=token;fn=operators[name];getTokenSkipNewline();params=[node,parseMultiplyDivide()];node=new OperatorNode(name,fn,params);}
return node;}
function parseMultiplyDivide(){var node,last,operators,name,fn;node=parseUnary();last=node;operators={'*':'multiply','.*':'dotMultiply','/':'divide','./':'dotDivide','%':'mod','mod':'mod'};while(true){if(token in operators){name=token;fn=operators[name];getTokenSkipNewline();last=parseUnary();node=new OperatorNode(name,fn,[node,last]);}
else if((token_type==TOKENTYPE.SYMBOL)||(token=='in'&&(node&&node.isConstantNode))||(token_type==TOKENTYPE.NUMBER&&!last.isConstantNode&&(!last.isOperatorNode||last.op==='!'))||(token=='(')){last=parseUnary();node=new OperatorNode('*','multiply',[node,last],true);}
else{break;}}
return node;}
function parseUnary(){var name,params;var fn={'-':'unaryMinus','+':'unaryPlus','~':'bitNot','not':'not'}[token];if(fn){name=token;getTokenSkipNewline();params=[parseUnary()];return new OperatorNode(name,fn,params);}
return parsePow();}
function parsePow(){var node,name,fn,params;node=parseLeftHandOperators();if(token=='^'||token=='.^'){name=token;fn=(name=='^')?'pow':'dotPow';getTokenSkipNewline();params=[node,parseUnary()];node=new OperatorNode(name,fn,params);}
return node;}
function parseLeftHandOperators(){var node,operators,name,fn,params;node=parseCustomNodes();operators={'!':'factorial','\'':'transpose'};while(token in operators){name=token;fn=operators[name];getToken();params=[node];node=new OperatorNode(name,fn,params);node=parseAccessors(node);}
return node;}
function parseCustomNodes(){var params=[],handler;if(token_type==TOKENTYPE.SYMBOL&&extra_nodes[token]){handler=extra_nodes[token];getToken();if(token=='('){params=[];openParams();getToken();if(token!=')'){params.push(parseAssignment());while(token==','){getToken();params.push(parseAssignment());}}
if(token!=')'){throw createSyntaxError('Parenthesis ) expected');}
closeParams();getToken();}
return new handler(params);}
return parseSymbol();}
function parseSymbol(){var node,name;if(token_type==TOKENTYPE.SYMBOL||(token_type==TOKENTYPE.DELIMITER&&token in NAMED_DELIMITERS)){name=token;getToken();node=new SymbolNode(name);node=parseAccessors(node);return node;}
return parseString();}
function parseAccessors(node,types){var params;while((token=='('||token=='['||token=='.')&&(!types||types.indexOf(token)!==-1)){params=[];if(token=='('){if(node.isSymbolNode||node.isAccessorNode||node.isFunctionNode){openParams();getToken();if(token!=')'){params.push(parseAssignment());while(token==','){getToken();params.push(parseAssignment());}}
if(token!=')'){throw createSyntaxError('Parenthesis ) expected');}
closeParams();getToken();node=new FunctionNode(node,params);}
else{return node;}}
else if(token=='['){openParams();getToken();if(token!=']'){params.push(parseAssignment());while(token==','){getToken();params.push(parseAssignment());}}
if(token!=']'){throw createSyntaxError('Parenthesis ] expected');}
closeParams();getToken();node=new AccessorNode(node,new IndexNode(params));}
else{getToken();if(token_type!=TOKENTYPE.SYMBOL){throw createSyntaxError('Property name expected after dot');}
params.push(new ConstantNode(token));getToken();var dotNotation=true;node=new AccessorNode(node,new IndexNode(params,dotNotation));}}
return node;}
function parseString(){var node,str;if(token=='"'){str=parseStringToken();node=new ConstantNode(str,'string');node=parseAccessors(node);return node;}
return parseMatrix();}
function parseStringToken(){var str='';while(c!=''&&c!='\"'){if(c=='\\'){str+=c;next();}
str+=c;next();}
getToken();if(token!='"'){throw createSyntaxError('End of string " expected');}
getToken();return str;}
function parseMatrix(){var array,params,rows,cols;if(token=='['){openParams();getToken();if(token!=']'){var row=parseRow();if(token==';'){rows=1;params=[row];while(token==';'){getToken();params[rows]=parseRow();rows++;}
if(token!=']'){throw createSyntaxError('End of matrix ] expected');}
closeParams();getToken();cols=params[0].items.length;for(var r=1;r<rows;r++){if(params[r].items.length!=cols){throw createError('Column dimensions mismatch '+'('+params[r].items.length+' != '+cols+')');}}
array=new ArrayNode(params);}
else{if(token!=']'){throw createSyntaxError('End of matrix ] expected');}
closeParams();getToken();array=row;}}
else{closeParams();getToken();array=new ArrayNode([]);}
return parseAccessors(array);}
return parseObject();}
function parseRow(){var params=[parseAssignment()];var len=1;while(token==','){getToken();params[len]=parseAssignment();len++;}
return new ArrayNode(params);}
function parseObject(){if(token=='{'){var key;var properties={};do{getToken();if(token!='}'){if(token=='"'){key=parseStringToken();}
else if(token_type==TOKENTYPE.SYMBOL){key=token;getToken();}
else{throw createSyntaxError('Symbol or string expected as object key');}
if(token!=':'){throw createSyntaxError('Colon : expected after object key');}
getToken();properties[key]=parseAssignment();}}
while(token==',');if(token!='}'){throw createSyntaxError('Comma , or bracket } expected after object value');}
getToken();var node=new ObjectNode(properties);node=parseAccessors(node);return node;}
return parseNumber();}
function parseNumber(){var number;if(token_type==TOKENTYPE.NUMBER){number=token;getToken();return new ConstantNode(number,'number');}
return parseParentheses();}
function parseParentheses(){var node;if(token=='('){openParams();getToken();node=parseAssignment();if(token!=')'){throw createSyntaxError('Parenthesis ) expected');}
closeParams();getToken();node=new ParenthesisNode(node);node=parseAccessors(node);return node;}
return parseEnd();}
function parseEnd(){if(token==''){throw createSyntaxError('Unexpected end of expression');}else{throw createSyntaxError('Value expected');}}
function col(){return index-token.length+1;}
function createSyntaxError(message){var c=col();var error=new SyntaxError(message+' (char '+c+')');error['char']=c;return error;}
function createError(message){var c=col();var error=new SyntaxError(message+' (char '+c+')');error['char']=c;return error;}
return parse;}
exports.name='parse';exports.path='expression';exports.factory=factory;}),(function(module,exports,__webpack_require__){var IndexError=__webpack_require__(54);exports.transform=function(err){if(err&&err.isIndexError){return new IndexError(err.index+1,err.min+1,err.max!==undefined?err.max+1:undefined);}
return err;};}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var DenseMatrix=type.DenseMatrix;var algorithm10=function(s,b,callback,inverse){var avalues=s._values;var aindex=s._index;var aptr=s._ptr;var asize=s._size;var adt=s._datatype;if(!avalues)
throw new Error('Cannot perform operation on Pattern Sparse Matrix and Scalar value');var rows=asize[0];var columns=asize[1];var dt;var cf=callback;if(typeof adt==='string'){dt=adt;b=typed.convert(b,dt);cf=typed.find(callback,[dt,dt]);}
var cdata=[];var c=new DenseMatrix({data:cdata,size:[rows,columns],datatype:dt});var x=[];var w=[];for(var j=0;j<columns;j++){var mark=j+1;for(var k0=aptr[j],k1=aptr[j+1],k=k0;k<k1;k++){var r=aindex[k];x[r]=avalues[k];w[r]=mark;}
for(var i=0;i<rows;i++){if(j===0){cdata[i]=[];}
if(w[i]===mark){cdata[i][j]=inverse?cf(b,x[i]):cf(x[i],b);}
else{cdata[i][j]=b;}}}
return c;};return algorithm10;}
exports.name='algorithm10';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";module.exports=function nearlyEqual(x,y,epsilon){if(epsilon==null){return x.eq(y);}
if(x.eq(y)){return true;}
if(x.isNaN()||y.isNaN()){return false;}
if(x.isFinite()&&y.isFinite()){var diff=x.minus(y).abs();if(diff.isZero()){return true;}
else{var max=x.constructor.max(x.abs(),y.abs());return diff.lte(max.times(epsilon));}}
return false;};}),(function(module,exports,__webpack_require__){"use strict";module.exports=function deepForEach(array,callback){if(array&&array.isMatrix===true){array=array.valueOf();}
for(var i=0,ii=array.length;i<ii;i++){var value=array[i];if(Array.isArray(value)){deepForEach(value,callback);}
else{callback(value);}}};}),(function(module,exports){exports.memoize=function(fn,hasher){return function memoize(){if(typeof memoize.cache!=='object'){memoize.cache={};}
var args=[];for(var i=0;i<arguments.length;i++){args[i]=arguments[i];}
var hash=hasher?hasher(args):JSON.stringify(args);if(!(hash in memoize.cache)){return memoize.cache[hash]=fn.apply(fn,args);}
return memoize.cache[hash];};};exports.maxArgumentCount=function(fn){return Object.keys(fn.signatures||{}).reduce(function(args,signature){var count=(signature.match(/,/g)||[]).length+1;return Math.max(args,count);},-1);};}),(function(module,exports,__webpack_require__){"use strict";var extend=__webpack_require__(5).extend;function factory(type,config,load,typed){var divideScalar=load(__webpack_require__(21));var multiply=load(__webpack_require__(13));var inv=load(__webpack_require__(154));var matrix=load(__webpack_require__(0));var algorithm11=load(__webpack_require__(17));var algorithm14=load(__webpack_require__(6));var divide=typed('divide',extend({'Array | Matrix, Array | Matrix':function(x,y){return multiply(x,inv(y));},'Matrix, any':function(x,y){var c;switch(x.storage()){case'sparse':c=algorithm11(x,y,divideScalar,false);break;case'dense':c=algorithm14(x,y,divideScalar,false);break;}
return c;},'Array, any':function(x,y){return algorithm14(matrix(x),y,divideScalar,false).valueOf();},'any, Array | Matrix':function(x,y){return multiply(x,inv(y));}},divideScalar.signatures));divide.toTex={2:'\\frac{${args[0]}}{${args[1]}}'};return divide;}
exports.name='divide';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var isInteger=__webpack_require__(2).isInteger;var size=__webpack_require__(7).size;function factory(type,config,load,typed){var latex=__webpack_require__(3);var eye=load(__webpack_require__(94));var multiply=load(__webpack_require__(13));var matrix=load(__webpack_require__(0));var fraction=load(__webpack_require__(170));var number=load(__webpack_require__(103));var pow=typed('pow',{'number, number':_pow,'Complex, Complex':function(x,y){return x.pow(y);},'BigNumber, BigNumber':function(x,y){if(y.isInteger()||x>=0||config.predictable){return x.pow(y);}
else{return new type.Complex(x.toNumber(),0).pow(y.toNumber(),0);}},'Fraction, Fraction':function(x,y){if(y.d!==1){if(config.predictable){throw new Error('Function pow does not support non-integer exponents for fractions.');}
else{return _pow(x.valueOf(),y.valueOf());}}
else{return x.pow(y);}},'Array, number':_powArray,'Array, BigNumber':function(x,y){return _powArray(x,y.toNumber());},'Matrix, number':_powMatrix,'Matrix, BigNumber':function(x,y){return _powMatrix(x,y.toNumber());},'Unit, number':function(x,y){return x.pow(y);}});function _pow(x,y){if(config.predictable&&!isInteger(y)&&x<0){try{var yFrac=fraction(y);var yNum=number(yFrac);if(y===yNum||Math.abs((y-yNum)/ y)<1e-14){if(yFrac.d%2===1){return(yFrac.n%2===0?1:-1)*Math.pow(-x,y);}}}
catch(ex){}}
if(isInteger(y)||x>=0||config.predictable){return Math.pow(x,y);}
else{return new type.Complex(x,0).pow(y,0);}}
function _powArray(x,y){if(!isInteger(y)||y<0){throw new TypeError('For A^b, b must be a positive integer (value is '+y+')');}
var s=size(x);if(s.length!=2){throw new Error('For A^b, A must be 2 dimensional (A has '+s.length+' dimensions)');}
if(s[0]!=s[1]){throw new Error('For A^b, A must be square (size is '+s[0]+'x'+s[1]+')');}
var res=eye(s[0]).valueOf();var px=x;while(y>=1){if((y&1)==1){res=multiply(px,res);}
y>>=1;px=multiply(px,px);}
return res;}
function _powMatrix(x,y){return matrix(_powArray(x.valueOf(),y));}
pow.toTex={2:'\\left(${args[0]}\\right)'+latex.operators['pow']+'{${args[1]}}'};return pow;}
exports.name='pow';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var latex=__webpack_require__(3);var unaryMinus=typed('unaryMinus',{'number':function(x){return-x;},'Complex':function(x){return x.neg();},'BigNumber':function(x){return x.neg();},'Fraction':function(x){return x.neg();},'Unit':function(x){var res=x.clone();res.value=unaryMinus(x.value);return res;},'Array | Matrix':function(x){return deepMap(x,unaryMinus,true);}});unaryMinus.toTex={1:latex.operators['unaryMinus']+'\\left(${args[0]}\\right)'};return unaryMinus;}
exports.name='unaryMinus';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var isInteger=__webpack_require__(2).isInteger;var resize=__webpack_require__(7).resize;function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var zeros=typed('zeros',{'':function(){return(config.matrix==='Array')?_zeros([]):_zeros([],'default');},'...number | BigNumber | string':function(size){var last=size[size.length-1];if(typeof last==='string'){var format=size.pop();return _zeros(size,format);}
else if(config.matrix==='Array'){return _zeros(size);}
else{return _zeros(size,'default');}},'Array':_zeros,'Matrix':function(size){var format=size.storage();return _zeros(size.valueOf(),format);},'Array | Matrix, string':function(size,format){return _zeros(size.valueOf(),format);}});zeros.toTex=undefined;return zeros;function _zeros(size,format){var hasBigNumbers=_normalize(size);var defaultValue=hasBigNumbers?new type.BigNumber(0):0;_validate(size);if(format){var m=matrix(format);if(size.length>0){return m.resize(size,defaultValue);}
return m;}
else{var arr=[];if(size.length>0){return resize(arr,size,defaultValue);}
return arr;}}
function _normalize(size){var hasBigNumbers=false;size.forEach(function(value,index,arr){if(value&&value.isBigNumber===true){hasBigNumbers=true;arr[index]=value.toNumber();}});return hasBigNumbers;}
function _validate(size){size.forEach(function(value){if(typeof value!=='number'||!isInteger(value)||value<0){throw new Error('Parameters in function zeros must be positive integers');}});}}
exports.name='zeros';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var nearlyEqual=__webpack_require__(2).nearlyEqual;var bigNearlyEqual=__webpack_require__(40);function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var algorithm03=load(__webpack_require__(16));var algorithm07=load(__webpack_require__(30));var algorithm12=load(__webpack_require__(18));var algorithm13=load(__webpack_require__(9));var algorithm14=load(__webpack_require__(6));var latex=__webpack_require__(3);var smaller=typed('smaller',{'boolean, boolean':function(x,y){return x<y;},'number, number':function(x,y){return x<y&&!nearlyEqual(x,y,config.epsilon);},'BigNumber, BigNumber':function(x,y){return x.lt(y)&&!bigNearlyEqual(x,y,config.epsilon);},'Fraction, Fraction':function(x,y){return x.compare(y)===-1;},'Complex, Complex':function(x,y){throw new TypeError('No ordering relation is defined for complex numbers');},'Unit, Unit':function(x,y){if(!x.equalBase(y)){throw new Error('Cannot compare units with different base');}
return smaller(x.value,y.value);},'string, string':function(x,y){return x<y;},'Matrix, Matrix':function(x,y){var c;switch(x.storage()){case'sparse':switch(y.storage()){case'sparse':c=algorithm07(x,y,smaller);break;default:c=algorithm03(y,x,smaller,true);break;}
break;default:switch(y.storage()){case'sparse':c=algorithm03(x,y,smaller,false);break;default:c=algorithm13(x,y,smaller);break;}
break;}
return c;},'Array, Array':function(x,y){return smaller(matrix(x),matrix(y)).valueOf();},'Array, Matrix':function(x,y){return smaller(matrix(x),y);},'Matrix, Array':function(x,y){return smaller(x,matrix(y));},'Matrix, any':function(x,y){var c;switch(x.storage()){case'sparse':c=algorithm12(x,y,smaller,false);break;default:c=algorithm14(x,y,smaller,false);break;}
return c;},'any, Matrix':function(x,y){var c;switch(y.storage()){case'sparse':c=algorithm12(y,x,smaller,true);break;default:c=algorithm14(y,x,smaller,true);break;}
return c;},'Array, any':function(x,y){return algorithm14(matrix(x),y,smaller,false).valueOf();},'any, Array':function(x,y){return algorithm14(matrix(y),x,smaller,true).valueOf();}});smaller.toTex={2:'\\left(${args[0]}'+latex.operators['smaller']+'${args[1]}\\right)'};return smaller;}
exports.name='smaller';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);var number=__webpack_require__(2);function factory(type,config,load,typed){var isInteger=typed('isInteger',{'number':number.isInteger,'BigNumber':function(x){return x.isInt();},'Fraction':function(x){return x.d===1&&isFinite(x.n);},'Array | Matrix':function(x){return deepMap(x,isInteger);}});return isInteger;}
exports.name='isInteger';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";module.exports=function isCollection(x){return(Array.isArray(x)||(x&&x.isMatrix===true));};}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _BaseTexture=__webpack_require__(64);var _BaseTexture2=_interopRequireDefault(_BaseTexture);var _VideoBaseTexture=__webpack_require__(206);var _VideoBaseTexture2=_interopRequireDefault(_VideoBaseTexture);var _TextureUvs=__webpack_require__(205);var _TextureUvs2=_interopRequireDefault(_TextureUvs);var _eventemitter=__webpack_require__(32);var _eventemitter2=_interopRequireDefault(_eventemitter);var _math=__webpack_require__(14);var _utils=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var Texture=function(_EventEmitter){_inherits(Texture,_EventEmitter);function Texture(baseTexture,frame,orig,trim,rotate){_classCallCheck(this,Texture);var _this=_possibleConstructorReturn(this,_EventEmitter.call(this));_this.noFrame=false;if(!frame){_this.noFrame=true;frame=new _math.Rectangle(0,0,1,1);}
if(baseTexture instanceof Texture){baseTexture=baseTexture.baseTexture;}
_this.baseTexture=baseTexture;_this._frame=frame;_this.trim=trim;_this.valid=false;_this.requiresUpdate=false;_this._uvs=null;_this.orig=orig||frame;_this._rotate=Number(rotate||0);if(rotate===true){_this._rotate=2;}else if(_this._rotate%2!==0){throw new Error('attempt to use diamond-shaped UVs. If you are sure, set rotation manually');}
if(baseTexture.hasLoaded){if(_this.noFrame){frame=new _math.Rectangle(0,0,baseTexture.width,baseTexture.height);baseTexture.on('update',_this.onBaseTextureUpdated,_this);}
_this.frame=frame;}else{baseTexture.once('loaded',_this.onBaseTextureLoaded,_this);}
_this._updateID=0;_this.transform=null;return _this;}
Texture.prototype.update=function update(){this.baseTexture.update();};Texture.prototype.onBaseTextureLoaded=function onBaseTextureLoaded(baseTexture){this._updateID++;if(this.noFrame){this.frame=new _math.Rectangle(0,0,baseTexture.width,baseTexture.height);}else{this.frame=this._frame;}
this.baseTexture.on('update',this.onBaseTextureUpdated,this);this.emit('update',this);};Texture.prototype.onBaseTextureUpdated=function onBaseTextureUpdated(baseTexture){this._updateID++;this._frame.width=baseTexture.width;this._frame.height=baseTexture.height;this.emit('update',this);};Texture.prototype.destroy=function destroy(destroyBase){if(this.baseTexture){if(destroyBase){if(_utils.TextureCache[this.baseTexture.imageUrl]){delete _utils.TextureCache[this.baseTexture.imageUrl];}
this.baseTexture.destroy();}
this.baseTexture.off('update',this.onBaseTextureUpdated,this);this.baseTexture.off('loaded',this.onBaseTextureLoaded,this);this.baseTexture=null;}
this._frame=null;this._uvs=null;this.trim=null;this.orig=null;this.valid=false;this.off('dispose',this.dispose,this);this.off('update',this.update,this);};Texture.prototype.clone=function clone(){return new Texture(this.baseTexture,this.frame,this.orig,this.trim,this.rotate);};Texture.prototype._updateUvs=function _updateUvs(){if(!this._uvs){this._uvs=new _TextureUvs2.default();}
this._uvs.set(this._frame,this.baseTexture,this.rotate);this._updateID++;};Texture.fromImage=function fromImage(imageUrl,crossorigin,scaleMode,sourceScale){var texture=_utils.TextureCache[imageUrl];if(!texture){texture=new Texture(_BaseTexture2.default.fromImage(imageUrl,crossorigin,scaleMode,sourceScale));_utils.TextureCache[imageUrl]=texture;}
return texture;};Texture.fromFrame=function fromFrame(frameId){var texture=_utils.TextureCache[frameId];if(!texture){throw new Error('The frameId "'+frameId+'" does not exist in the texture cache');}
return texture;};Texture.fromCanvas=function fromCanvas(canvas,scaleMode){return new Texture(_BaseTexture2.default.fromCanvas(canvas,scaleMode));};Texture.fromVideo=function fromVideo(video,scaleMode){if(typeof video==='string'){return Texture.fromVideoUrl(video,scaleMode);}
return new Texture(_VideoBaseTexture2.default.fromVideo(video,scaleMode));};Texture.fromVideoUrl=function fromVideoUrl(videoUrl,scaleMode){return new Texture(_VideoBaseTexture2.default.fromUrl(videoUrl,scaleMode));};Texture.from=function from(source){if(typeof source==='string'){var texture=_utils.TextureCache[source];if(!texture){var isVideo=source.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)!==null;if(isVideo){return Texture.fromVideoUrl(source);}
return Texture.fromImage(source);}
return texture;}else if(source instanceof HTMLImageElement){return new Texture(_BaseTexture2.default.from(source));}else if(source instanceof HTMLCanvasElement){return Texture.fromCanvas(source);}else if(source instanceof HTMLVideoElement){return Texture.fromVideo(source);}else if(source instanceof _BaseTexture2.default){return new Texture(source);}
return source;};Texture.fromLoader=function fromLoader(source,imageUrl,name){var baseTexture=new _BaseTexture2.default(source,null,(0,_utils.getResolutionOfUrl)(imageUrl));var texture=new Texture(baseTexture);baseTexture.imageUrl=imageUrl;if(!name){name=imageUrl;}
_utils.BaseTextureCache[name]=baseTexture;_utils.TextureCache[name]=texture;if(name!==imageUrl){_utils.BaseTextureCache[imageUrl]=baseTexture;_utils.TextureCache[imageUrl]=texture;}
return texture;};Texture.addTextureToCache=function addTextureToCache(texture,id){_utils.TextureCache[id]=texture;};Texture.removeTextureFromCache=function removeTextureFromCache(id){var texture=_utils.TextureCache[id];delete _utils.TextureCache[id];delete _utils.BaseTextureCache[id];return texture;};_createClass(Texture,[{key:'frame',get:function get(){return this._frame;},set:function set(frame)
{this._frame=frame;this.noFrame=false;if(frame.x+frame.width>this.baseTexture.width||frame.y+frame.height>this.baseTexture.height){throw new Error('Texture Error: frame does not fit inside the base Texture dimensions: '+('X: '+frame.x+' + '+frame.width+' > '+this.baseTexture.width+' ')+('Y: '+frame.y+' + '+frame.height+' > '+this.baseTexture.height));}
this.valid=frame&&frame.width&&frame.height&&this.baseTexture.hasLoaded;if(!this.trim&&!this.rotate){this.orig=frame;}
if(this.valid){this._updateUvs();}}},{key:'rotate',get:function get(){return this._rotate;},set:function set(rotate)
{this._rotate=rotate;if(this.valid){this._updateUvs();}}},{key:'width',get:function get(){return this.orig.width;}},{key:'height',get:function get(){return this.orig.height;}}]);return Texture;}(_eventemitter2.default);exports.default=Texture;function createWhiteTexture(){var canvas=document.createElement('canvas');canvas.width=10;canvas.height=10;var context=canvas.getContext('2d');context.fillStyle='white';context.fillRect(0,0,10,10);return new Texture(new _BaseTexture2.default(canvas));}
function removeAllHandlers(tex){tex.destroy=function _emptyDestroy(){};tex.on=function _emptyOn(){};tex.once=function _emptyOnce(){};tex.emit=function _emptyEmit(){};}
Texture.EMPTY=new Texture(new _BaseTexture2.default());removeAllHandlers(Texture.EMPTY);Texture.WHITE=createWhiteTexture();removeAllHandlers(Texture.WHITE);}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});const _=__webpack_require__(69);class GameObject{constructor(game){this.game=game;this.move={x:0,y:0};this.id=_.uniqueId();this.moveHistory=new Array(30).fill(0).map(()=>{return{x:0,y:0};});}
update(){if(this.hasScreenOut()){this.remove();}
this.shape.x+=this.move.x;this.shape.y+=this.move.y;this.moveHistory.shift();this.moveHistory.push(this.move);this.move={x:0,y:0};}
draw(renderer){}
remove(){this.game.level.removeQueue(this);}
moveAverage(){let moveTotal={x:0,y:0};for(let move of this.moveHistory){moveTotal.x+=move.x;moveTotal.y+=move.y;}
return{x:moveTotal.x / this.moveHistory.length,y:moveTotal.y / this.moveHistory.length};}
hasScreenOut(){if(this.shape.x<-300||this.shape.x>1300||this.shape.y<-300||this.shape.y>1000){return true;}
else{return false;}}}
exports.GameObject=GameObject;}),(function(module,exports){var g;g=(function(){return this;})();try{g=g||Function("return this")()||(1,eval)("this");}catch(e){if(typeof window==="object")
g=window;}
module.exports=g;}),(function(module,exports,__webpack_require__){"use strict";function ArgumentsError(fn,count,min,max){if(!(this instanceof ArgumentsError)){throw new SyntaxError('Constructor must be called with the new operator');}
this.fn=fn;this.count=count;this.min=min;this.max=max;this.message='Wrong number of arguments in function '+fn+' ('+count+' provided, '+
min+((max!=undefined)?('-'+max):'')+' expected)';this.stack=(new Error()).stack;}
ArgumentsError.prototype=new Error();ArgumentsError.prototype.constructor=Error;ArgumentsError.prototype.name='ArgumentsError';ArgumentsError.prototype.isArgumentsError=true;module.exports=ArgumentsError;}),(function(module,exports,__webpack_require__){"use strict";function IndexError(index,min,max){if(!(this instanceof IndexError)){throw new SyntaxError('Constructor must be called with the new operator');}
this.index=index;if(arguments.length<3){this.min=0;this.max=min;}
else{this.min=min;this.max=max;}
if(this.min!==undefined&&this.index<this.min){this.message='Index out of range ('+this.index+' < '+this.min+')';}
else if(this.max!==undefined&&this.index>=this.max){this.message='Index out of range ('+this.index+' > '+(this.max-1)+')';}
else{this.message='Index out of range ('+this.index+')';}
this.stack=(new Error()).stack;}
IndexError.prototype=new RangeError();IndexError.prototype.constructor=RangeError;IndexError.prototype.name='IndexError';IndexError.prototype.isIndexError=true;module.exports=IndexError;}),(function(module,exports,__webpack_require__){"use strict";var getType=__webpack_require__(82).type;function factory(type,config,load,typed){var Node=load(__webpack_require__(15));function ConstantNode(value,valueType){if(!(this instanceof ConstantNode)){throw new SyntaxError('Constructor must be called with the new operator');}
if(valueType){if(typeof valueType!=='string'){throw new TypeError('String expected for parameter "valueType"');}
if(typeof value!=='string'){throw new TypeError('String expected for parameter "value"');}
this.value=value;this.valueType=valueType;}
else{this.value=value+'';this.valueType=getType(value);}
if(!SUPPORTED_TYPES[this.valueType]){throw new TypeError('Unsupported type of value "'+this.valueType+'"');}}
var SUPPORTED_TYPES={'number':true,'string':true,'boolean':true,'undefined':true,'null':true};ConstantNode.prototype=new Node();ConstantNode.prototype.type='ConstantNode';ConstantNode.prototype.isConstantNode=true;ConstantNode.prototype._compile=function(defs,args){switch(this.valueType){case'number':var numConfig=defs.math.config().number;if(numConfig==='BigNumber'){return'math.bignumber("'+this.value+'")';}
else if(numConfig==='Fraction'){return'math.fraction("'+this.value+'")';}
else{return this.value.replace(/^(0*)[0-9]/,function(match,zeros){return match.substring(zeros.length);});}
case'string':return'"'+this.value+'"';case'boolean':return this.value;case'undefined':return this.value;case'null':return this.value;default:throw new TypeError('Unsupported type of constant "'+this.valueType+'"');}};ConstantNode.prototype.forEach=function(callback){};ConstantNode.prototype.map=function(callback){return this.clone();};ConstantNode.prototype.clone=function(){return new ConstantNode(this.value,this.valueType);};ConstantNode.prototype._toString=function(options){switch(this.valueType){case'string':return'"'+this.value+'"';default:return this.value;}};ConstantNode.prototype._toTex=function(options){var value=this.value,index;switch(this.valueType){case'string':return'\\mathtt{"'+value+'"}';case'number':index=value.toLowerCase().indexOf('e');if(index!==-1){return value.substring(0,index)+'\\cdot10^{'+
value.substring(index+1)+'}';}
return value;default:return value;}};return ConstantNode;}
exports.name='ConstantNode';exports.path='expression.node';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var latex=__webpack_require__(3);var extend=__webpack_require__(5).extend;function factory(type,config,load,typed,math){var Node=load(__webpack_require__(15));var SymbolNode=load(__webpack_require__(33));function FunctionNode(fn,args){if(!(this instanceof FunctionNode)){throw new SyntaxError('Constructor must be called with the new operator');}
if(typeof fn==='string'){fn=new SymbolNode(fn);}
if(!fn||!fn.isNode)throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(args)||!args.every(function(arg){return arg&&arg.isNode;})){throw new TypeError('Array containing Nodes expected for parameter "args"');}
this.fn=fn;this.args=args||[];Object.defineProperty(this,'name',{get:function(){return this.fn.name||'';}.bind(this),set:function(){throw new Error('Cannot assign a new name, name is read-only');}});var deprecated=function(){throw new Error('Property `FunctionNode.object` is deprecated, use `FunctionNode.fn` instead');};Object.defineProperty(this,'object',{get:deprecated,set:deprecated});}
FunctionNode.prototype=new Node();FunctionNode.prototype.type='FunctionNode';FunctionNode.prototype.isFunctionNode=true;FunctionNode.prototype._compile=function(defs,args){var jsFn=this.fn._compile(defs,args);var jsArgs=this.args.map(function(arg){return arg._compile(defs,args);});var jsScope=this._compileScope(defs,args);var argsName;if(this.fn.isSymbolNode){var name=this.fn.name;var fn=defs.math[name];var isRaw=(typeof fn==='function')&&(fn.rawArgs==true);if(isRaw){argsName=this._getUniqueArgumentsName(defs);defs[argsName]=this.args;return jsFn+'('+argsName+', math, '+jsScope+')';}
else{return jsFn+'('+jsArgs.join(', ')+')';}}
else if(this.fn.isAccessorNode&&this.fn.index.isObjectProperty()){argsName=this._getUniqueArgumentsName(defs);defs[argsName]=this.args;var jsObject=this.fn.object._compile(defs,args);var prop=this.fn.index.getObjectProperty();return'(function () {'+'var object = '+jsObject+';'+'return (object["'+prop+'"] && object["'+prop+'"].rawArgs) '+' ? object["'+prop+'"]('+argsName+', math, '+jsScope+')'+' : object["'+prop+'"]('+jsArgs.join(', ')+')'+'})()';}
else{argsName=this._getUniqueArgumentsName(defs);defs[argsName]=this.args;return'(function () {'+'var fn = '+jsFn+';'+'return (fn && fn.rawArgs) '+' ? fn('+argsName+', math, '+jsScope+')'+' : fn('+jsArgs.join(', ')+')'+'})()';}};FunctionNode.prototype._compileScope=function(defs,args){var names=Object.keys(args);if(names.length===0){return'scope';}
else{defs.extend=extend;var jsArgs=names.map(function(arg){return'"'+arg+'": '+arg;}).join(', ');return'extend(extend({}, scope), {'+jsArgs+'})';}};FunctionNode.prototype._getUniqueArgumentsName=function(defs){var argsName;var i=0;do{argsName='args'+i;i++;}
while(argsName in defs);return argsName;};FunctionNode.prototype.forEach=function(callback){for(var i=0;i<this.args.length;i++){callback(this.args[i],'args['+i+']',this);}};FunctionNode.prototype.map=function(callback){var fn=this.fn.map(callback);var args=[];for(var i=0;i<this.args.length;i++){args[i]=this._ifNode(callback(this.args[i],'args['+i+']',this));}
return new FunctionNode(fn,args);};FunctionNode.prototype.clone=function(){return new FunctionNode(this.fn,this.args.slice(0));};
//@privatevar nodeToString=FunctionNode.prototype.toString;FunctionNode.prototype.toString=function(options){var customString;var name=this.fn.toString(options);if(options&&(typeof options.handler==='object')&&options.handler.hasOwnProperty(name)){customString=options.handler[name](this,options);}
if(typeof customString!=='undefined'){return customString;}
return nodeToString.call(this,options);};FunctionNode.prototype._toString=function(options){var args=this.args.map(function(arg){return arg.toString(options);});return this.fn.toString(options)+'('+args.join(', ')+')';};function expandTemplate(template,node,options){var latex='';var regex=new RegExp('\\$(?:\\{([a-z_][a-z_0-9]*)(?:\\[([0-9]+)\\])?\\}|\\$)','ig');var inputPos=0;var match;while((match=regex.exec(template))!==null){latex+=template.substring(inputPos,match.index);inputPos=match.index;if(match[0]==='$$'){latex+='$';inputPos++;}
else{inputPos+=match[0].length;var property=node[match[1]];if(!property){throw new ReferenceError('Template: Property '+match[1]+' does not exist.');}
if(match[2]===undefined){switch(typeof property){case'string':latex+=property;break;case'object':if(property.isNode){latex+=property.toTex(options);}
else if(Array.isArray(property)){latex+=property.map(function(arg,index){if(arg&&arg.isNode){return arg.toTex(options);}
throw new TypeError('Template: '+match[1]+'['+index+'] is not a Node.');}).join(',');}
else{throw new TypeError('Template: '+match[1]+' has to be a Node, String or array of Nodes');}
break;default:throw new TypeError('Template: '+match[1]+' has to be a Node, String or array of Nodes');}}
else{if(property[match[2]]&&property[match[2]].isNode){latex+=property[match[2]].toTex(options);}
else{throw new TypeError('Template: '+match[1]+'['+match[2]+'] is not a Node.');}}}}
latex+=template.slice(inputPos);return latex;}
//@privatevar nodeToTex=FunctionNode.prototype.toTex;FunctionNode.prototype.toTex=function(options){var customTex;if(options&&(typeof options.handler==='object')&&options.handler.hasOwnProperty(this.name)){customTex=options.handler[this.name](this,options);}
if(typeof customTex!=='undefined'){return customTex;}
return nodeToTex.call(this,options);};FunctionNode.prototype._toTex=function(options){var args=this.args.map(function(arg){return arg.toTex(options);});var latexConverter;if(math[this.name]&&((typeof math[this.name].toTex==='function')||(typeof math[this.name].toTex==='object')||(typeof math[this.name].toTex==='string'))){latexConverter=math[this.name].toTex;}
var customToTex;switch(typeof latexConverter){case'function':customToTex=latexConverter(this,options);break;case'string':customToTex=expandTemplate(latexConverter,this,options);break;case'object':switch(typeof latexConverter[args.length]){case'function':customToTex=latexConverter[args.length](this,options);break;case'string':customToTex=expandTemplate(latexConverter[args.length],this,options);break;}}
if(typeof customToTex!=='undefined'){return customToTex;}
return expandTemplate(latex.defaultTemplate,this,options);};FunctionNode.prototype.getIdentifier=function(){return this.type+':'+this.name;};return FunctionNode;}
exports.name='FunctionNode';exports.path='expression.node';exports.math=true;exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var properties=[{'AssignmentNode':{},'FunctionAssignmentNode':{}},{'ConditionalNode':{latexLeftParens:false,latexRightParens:false,latexParens:false}},{'OperatorNode:or':{associativity:'left',associativeWith:[]}},{'OperatorNode:xor':{associativity:'left',associativeWith:[]}},{'OperatorNode:and':{associativity:'left',associativeWith:[]}},{'OperatorNode:bitOr':{associativity:'left',associativeWith:[]}},{'OperatorNode:bitXor':{associativity:'left',associativeWith:[]}},{'OperatorNode:bitAnd':{associativity:'left',associativeWith:[]}},{'OperatorNode:equal':{associativity:'left',associativeWith:[]},'OperatorNode:unequal':{associativity:'left',associativeWith:[]},'OperatorNode:smaller':{associativity:'left',associativeWith:[]},'OperatorNode:larger':{associativity:'left',associativeWith:[]},'OperatorNode:smallerEq':{associativity:'left',associativeWith:[]},'OperatorNode:largerEq':{associativity:'left',associativeWith:[]}},{'OperatorNode:leftShift':{associativity:'left',associativeWith:[]},'OperatorNode:rightArithShift':{associativity:'left',associativeWith:[]},'OperatorNode:rightLogShift':{associativity:'left',associativeWith:[]}},{'OperatorNode:to':{associativity:'left',associativeWith:[]}},{'RangeNode':{}},{'OperatorNode:add':{associativity:'left',associativeWith:['OperatorNode:add','OperatorNode:subtract']},'OperatorNode:subtract':{associativity:'left',associativeWith:[]}},{'OperatorNode:multiply':{associativity:'left',associativeWith:['OperatorNode:multiply','OperatorNode:divide','Operator:dotMultiply','Operator:dotDivide']},'OperatorNode:divide':{associativity:'left',associativeWith:[],latexLeftParens:false,latexRightParens:false,latexParens:false},'OperatorNode:dotMultiply':{associativity:'left',associativeWith:['OperatorNode:multiply','OperatorNode:divide','OperatorNode:dotMultiply','OperatorNode:doDivide']},'OperatorNode:dotDivide':{associativity:'left',associativeWith:[]},'OperatorNode:mod':{associativity:'left',associativeWith:[]}},{'OperatorNode:unaryPlus':{associativity:'right'},'OperatorNode:unaryMinus':{associativity:'right'},'OperatorNode:bitNot':{associativity:'right'},'OperatorNode:not':{associativity:'right'}},{'OperatorNode:pow':{associativity:'right',associativeWith:[],latexRightParens:false},'OperatorNode:dotPow':{associativity:'right',associativeWith:[]}},{'OperatorNode:factorial':{associativity:'left'}},{'OperatorNode:transpose':{associativity:'left'}}];function getPrecedence(_node,parenthesis){var node=_node;if(parenthesis!=='keep'){node=_node.getContent();}
var identifier=node.getIdentifier();for(var i=0;i<properties.length;i++){if(identifier in properties[i]){return i;}}
return null;}
function getAssociativity(_node,parenthesis){var node=_node;if(parenthesis!=='keep'){node=_node.getContent();}
var identifier=node.getIdentifier();var index=getPrecedence(node,parenthesis);if(index===null){return null;}
var property=properties[index][identifier];if(property.hasOwnProperty('associativity')){if(property.associativity==='left'){return'left';}
if(property.associativity==='right'){return'right';}
throw Error('\''+identifier+'\' has the invalid associativity \''
+property.associativity+'\'.');}
return null;}
function isAssociativeWith(nodeA,nodeB,parenthesis){var a=nodeA;var b=nodeB;if(parenthesis!=='keep'){var a=nodeA.getContent();var b=nodeB.getContent();}
var identifierA=a.getIdentifier();var identifierB=b.getIdentifier();var index=getPrecedence(a,parenthesis);if(index===null){return null;}
var property=properties[index][identifierA];if(property.hasOwnProperty('associativeWith')&&(property.associativeWith instanceof Array)){for(var i=0;i<property.associativeWith.length;i++){if(property.associativeWith[i]===identifierB){return true;}}
return false;}
return null;}
module.exports.properties=properties;module.exports.getPrecedence=getPrecedence;module.exports.getAssociativity=getAssociativity;module.exports.isAssociativeWith=isAssociativeWith;}),(function(module,exports,__webpack_require__){"use strict";var nearlyEqual=__webpack_require__(2).nearlyEqual;var bigNearlyEqual=__webpack_require__(40);function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var algorithm03=load(__webpack_require__(16));var algorithm05=load(__webpack_require__(78));var algorithm12=load(__webpack_require__(18));var algorithm13=load(__webpack_require__(9));var algorithm14=load(__webpack_require__(6));var compare=typed('compare',{'boolean, boolean':function(x,y){return x===y?0:(x>y?1:-1);},'number, number':function(x,y){return(x===y||nearlyEqual(x,y,config.epsilon))?0:(x>y?1:-1);},'BigNumber, BigNumber':function(x,y){return(x.eq(y)||bigNearlyEqual(x,y,config.epsilon))?new type.BigNumber(0):new type.BigNumber(x.cmp(y));},'Fraction, Fraction':function(x,y){return new type.Fraction(x.compare(y));},'Complex, Complex':function(){throw new TypeError('No ordering relation is defined for complex numbers');},'Unit, Unit':function(x,y){if(!x.equalBase(y)){throw new Error('Cannot compare units with different base');}
return compare(x.value,y.value);},'string, string':function(x,y){return x===y?0:(x>y?1:-1);},'Matrix, Matrix':function(x,y){var c;switch(x.storage()){case'sparse':switch(y.storage()){case'sparse':c=algorithm05(x,y,compare);break;default:c=algorithm03(y,x,compare,true);break;}
break;default:switch(y.storage()){case'sparse':c=algorithm03(x,y,compare,false);break;default:c=algorithm13(x,y,compare);break;}
break;}
return c;},'Array, Array':function(x,y){return compare(matrix(x),matrix(y)).valueOf();},'Array, Matrix':function(x,y){return compare(matrix(x),y);},'Matrix, Array':function(x,y){return compare(x,matrix(y));},'Matrix, any':function(x,y){var c;switch(x.storage()){case'sparse':c=algorithm12(x,y,compare,false);break;default:c=algorithm14(x,y,compare,false);break;}
return c;},'any, Matrix':function(x,y){var c;switch(y.storage()){case'sparse':c=algorithm12(y,x,compare,true);break;default:c=algorithm14(y,x,compare,true);break;}
return c;},'Array, any':function(x,y){return algorithm14(matrix(x),y,compare,false).valueOf();},'any, Array':function(x,y){return algorithm14(matrix(y),x,compare,true).valueOf();}});compare.toTex=undefined;return compare;}
exports.name='compare';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);var number=__webpack_require__(2);function factory(type,config,load,typed){var isNegative=typed('isNegative',{'number':function(x){return x<0;},'BigNumber':function(x){return x.isNeg()&&!x.isZero()&&!x.isNaN();},'Fraction':function(x){return x.s<0;},'Unit':function(x){return isNegative(x.value);},'Array | Matrix':function(x){return deepMap(x,isNegative);}});return isNegative;}
exports.name='isNegative';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _pixiGlCore=__webpack_require__(26);var _settings=__webpack_require__(19);var _settings2=_interopRequireDefault(_settings);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
function checkPrecision(src,def){if(src instanceof Array){if(src[0].substring(0,9)!=='precision'){var copy=src.slice(0);copy.unshift('precision '+def+' float;');return copy;}}else if(src.substring(0,9)!=='precision'){return'precision '+def+' float;\n'+src;}
return src;}
var Shader=function(_GLShader){_inherits(Shader,_GLShader);function Shader(gl,vertexSrc,fragmentSrc){_classCallCheck(this,Shader);return _possibleConstructorReturn(this,_GLShader.call(this,gl,checkPrecision(vertexSrc,_settings2.default.PRECISION_VERTEX),checkPrecision(fragmentSrc,_settings2.default.PRECISION_FRAGMENT)));}
return Shader;}(_pixiGlCore.GLShader);exports.default=Shader;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _utils=__webpack_require__(10);var _DisplayObject2=__webpack_require__(191);var _DisplayObject3=_interopRequireDefault(_DisplayObject2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var Container=function(_DisplayObject){_inherits(Container,_DisplayObject);function Container(){_classCallCheck(this,Container);var _this=_possibleConstructorReturn(this,_DisplayObject.call(this));_this.children=[];return _this;}
Container.prototype.onChildrenChange=function onChildrenChange(){};Container.prototype.addChild=function addChild(child){var argumentsLength=arguments.length;if(argumentsLength>1){for(var i=0;i<argumentsLength;i++){this.addChild(arguments[i]);}}else{if(child.parent){child.parent.removeChild(child);}
child.parent=this;child.transform._parentID=-1;this.children.push(child);this._boundsID++;this.onChildrenChange(this.children.length-1);child.emit('added',this);}
return child;};Container.prototype.addChildAt=function addChildAt(child,index){if(index<0||index>this.children.length){throw new Error(child+'addChildAt: The index '+index+' supplied is out of bounds '+this.children.length);}
if(child.parent){child.parent.removeChild(child);}
child.parent=this;child.transform._parentID=-1;this.children.splice(index,0,child);this._boundsID++;this.onChildrenChange(index);child.emit('added',this);return child;};Container.prototype.swapChildren=function swapChildren(child,child2){if(child===child2){return;}
var index1=this.getChildIndex(child);var index2=this.getChildIndex(child2);this.children[index1]=child2;this.children[index2]=child;this.onChildrenChange(index1<index2?index1:index2);};Container.prototype.getChildIndex=function getChildIndex(child){var index=this.children.indexOf(child);if(index===-1){throw new Error('The supplied DisplayObject must be a child of the caller');}
return index;};Container.prototype.setChildIndex=function setChildIndex(child,index){if(index<0||index>=this.children.length){throw new Error('The supplied index is out of bounds');}
var currentIndex=this.getChildIndex(child);(0,_utils.removeItems)(this.children,currentIndex,1);this.children.splice(index,0,child);this.onChildrenChange(index);};Container.prototype.getChildAt=function getChildAt(index){if(index<0||index>=this.children.length){throw new Error('getChildAt: Index ('+index+') does not exist.');}
return this.children[index];};Container.prototype.removeChild=function removeChild(child){var argumentsLength=arguments.length;if(argumentsLength>1){for(var i=0;i<argumentsLength;i++){this.removeChild(arguments[i]);}}else{var index=this.children.indexOf(child);if(index===-1)return null;child.parent=null;child.transform._parentID=-1;(0,_utils.removeItems)(this.children,index,1);this._boundsID++;this.onChildrenChange(index);child.emit('removed',this);}
return child;};Container.prototype.removeChildAt=function removeChildAt(index){var child=this.getChildAt(index);child.parent=null;child.transform._parentID=-1;(0,_utils.removeItems)(this.children,index,1);this._boundsID++;this.onChildrenChange(index);child.emit('removed',this);return child;};Container.prototype.removeChildren=function removeChildren(){var beginIndex=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var endIndex=arguments[1];var begin=beginIndex;var end=typeof endIndex==='number'?endIndex:this.children.length;var range=end-begin;var removed=void 0;if(range>0&&range<=end){removed=this.children.splice(begin,range);for(var i=0;i<removed.length;++i){removed[i].parent=null;if(removed[i].transform){removed[i].transform._parentID=-1;}}
this._boundsID++;this.onChildrenChange(beginIndex);for(var _i=0;_i<removed.length;++_i){removed[_i].emit('removed',this);}
return removed;}else if(range===0&&this.children.length===0){return[];}
throw new RangeError('removeChildren: numeric values are outside the acceptable range.');};Container.prototype.updateTransform=function updateTransform(){this._boundsID++;this.transform.updateTransform(this.parent.transform);this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var i=0,j=this.children.length;i<j;++i){var child=this.children[i];if(child.visible){child.updateTransform();}}};Container.prototype.calculateBounds=function calculateBounds(){this._bounds.clear();this._calculateBounds();for(var i=0;i<this.children.length;i++){var child=this.children[i];if(!child.visible||!child.renderable){continue;}
child.calculateBounds();if(child._mask){child._mask.calculateBounds();this._bounds.addBoundsMask(child._bounds,child._mask._bounds);}else if(child.filterArea){this._bounds.addBoundsArea(child._bounds,child.filterArea);}else{this._bounds.addBounds(child._bounds);}}
this._lastBoundsID=this._boundsID;};Container.prototype._calculateBounds=function _calculateBounds(){};Container.prototype.renderWebGL=function renderWebGL(renderer){if(!this.visible||this.worldAlpha<=0||!this.renderable){return;}
if(this._mask||this._filters){this.renderAdvancedWebGL(renderer);}else{this._renderWebGL(renderer);for(var i=0,j=this.children.length;i<j;++i){this.children[i].renderWebGL(renderer);}}};Container.prototype.renderAdvancedWebGL=function renderAdvancedWebGL(renderer){renderer.flush();var filters=this._filters;var mask=this._mask;if(filters){if(!this._enabledFilters){this._enabledFilters=[];}
this._enabledFilters.length=0;for(var i=0;i<filters.length;i++){if(filters[i].enabled){this._enabledFilters.push(filters[i]);}}
if(this._enabledFilters.length){renderer.filterManager.pushFilter(this,this._enabledFilters);}}
if(mask){renderer.maskManager.pushMask(this,this._mask);}
this._renderWebGL(renderer);for(var _i2=0,j=this.children.length;_i2<j;_i2++){this.children[_i2].renderWebGL(renderer);}
renderer.flush();if(mask){renderer.maskManager.popMask(this,this._mask);}
if(filters&&this._enabledFilters&&this._enabledFilters.length){renderer.filterManager.popFilter();}};Container.prototype._renderWebGL=function _renderWebGL(renderer)
{};Container.prototype._renderCanvas=function _renderCanvas(renderer)
{};Container.prototype.renderCanvas=function renderCanvas(renderer){if(!this.visible||this.worldAlpha<=0||!this.renderable){return;}
if(this._mask){renderer.maskManager.pushMask(this._mask);}
this._renderCanvas(renderer);for(var i=0,j=this.children.length;i<j;++i){this.children[i].renderCanvas(renderer);}
if(this._mask){renderer.maskManager.popMask(renderer);}};Container.prototype.destroy=function destroy(options){_DisplayObject.prototype.destroy.call(this);var destroyChildren=typeof options==='boolean'?options:options&&options.children;var oldChildren=this.removeChildren(0,this.children.length);if(destroyChildren){for(var i=0;i<oldChildren.length;++i){oldChildren[i].destroy(options);}}};_createClass(Container,[{key:'width',get:function get(){return this.scale.x*this.getLocalBounds().width;},set:function set(value)
{var width=this.getLocalBounds().width;if(width!==0){this.scale.x=value / width;}else{this.scale.x=1;}
this._width=value;}},{key:'height',get:function get(){return this.scale.y*this.getLocalBounds().height;},set:function set(value)
{var height=this.getLocalBounds().height;if(height!==0){this.scale.y=value / height;}else{this.scale.y=1;}
this._height=value;}}]);return Container;}(_DisplayObject3.default);exports.default=Container;Container.prototype.containerUpdateTransform=Container.prototype.updateTransform;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _SystemRenderer2=__webpack_require__(197);var _SystemRenderer3=_interopRequireDefault(_SystemRenderer2);var _CanvasMaskManager=__webpack_require__(639);var _CanvasMaskManager2=_interopRequireDefault(_CanvasMaskManager);var _CanvasRenderTarget=__webpack_require__(198);var _CanvasRenderTarget2=_interopRequireDefault(_CanvasRenderTarget);var _mapCanvasBlendModesToPixi=__webpack_require__(640);var _mapCanvasBlendModesToPixi2=_interopRequireDefault(_mapCanvasBlendModesToPixi);var _utils=__webpack_require__(10);var _const=__webpack_require__(8);var _settings=__webpack_require__(19);var _settings2=_interopRequireDefault(_settings);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var CanvasRenderer=function(_SystemRenderer){_inherits(CanvasRenderer,_SystemRenderer);function CanvasRenderer(screenWidth,screenHeight){var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};_classCallCheck(this,CanvasRenderer);var _this=_possibleConstructorReturn(this,_SystemRenderer.call(this,'Canvas',screenWidth,screenHeight,options));_this.type=_const.RENDERER_TYPE.CANVAS;_this.rootContext=_this.view.getContext('2d',{alpha:_this.transparent});_this.refresh=true;_this.maskManager=new _CanvasMaskManager2.default(_this);_this.smoothProperty='imageSmoothingEnabled';if(!_this.rootContext.imageSmoothingEnabled){if(_this.rootContext.webkitImageSmoothingEnabled){_this.smoothProperty='webkitImageSmoothingEnabled';}else if(_this.rootContext.mozImageSmoothingEnabled){_this.smoothProperty='mozImageSmoothingEnabled';}else if(_this.rootContext.oImageSmoothingEnabled){_this.smoothProperty='oImageSmoothingEnabled';}else if(_this.rootContext.msImageSmoothingEnabled){_this.smoothProperty='msImageSmoothingEnabled';}}
_this.initPlugins();_this.blendModes=(0,_mapCanvasBlendModesToPixi2.default)();_this._activeBlendMode=null;_this.context=null;_this.renderingToScreen=false;_this.resize(screenWidth,screenHeight);return _this;}
CanvasRenderer.prototype.render=function render(displayObject,renderTexture,clear,transform,skipUpdateTransform){if(!this.view){return;}
this.renderingToScreen=!renderTexture;this.emit('prerender');var rootResolution=this.resolution;if(renderTexture){renderTexture=renderTexture.baseTexture||renderTexture;if(!renderTexture._canvasRenderTarget){renderTexture._canvasRenderTarget=new _CanvasRenderTarget2.default(renderTexture.width,renderTexture.height,renderTexture.resolution);renderTexture.source=renderTexture._canvasRenderTarget.canvas;renderTexture.valid=true;}
this.context=renderTexture._canvasRenderTarget.context;this.resolution=renderTexture._canvasRenderTarget.resolution;}else{this.context=this.rootContext;}
var context=this.context;if(!renderTexture){this._lastObjectRendered=displayObject;}
if(!skipUpdateTransform){var cacheParent=displayObject.parent;var tempWt=this._tempDisplayObjectParent.transform.worldTransform;if(transform){transform.copy(tempWt);this._tempDisplayObjectParent.transform._worldID=-1;}else{tempWt.identity();}
displayObject.parent=this._tempDisplayObjectParent;displayObject.updateTransform();displayObject.parent=cacheParent;}
context.setTransform(1,0,0,1,0,0);context.globalAlpha=1;context.globalCompositeOperation=this.blendModes[_const.BLEND_MODES.NORMAL];if(navigator.isCocoonJS&&this.view.screencanvas){context.fillStyle='black';context.clear();}
if(clear!==undefined?clear:this.clearBeforeRender){if(this.renderingToScreen){if(this.transparent){context.clearRect(0,0,this.width,this.height);}else{context.fillStyle=this._backgroundColorString;context.fillRect(0,0,this.width,this.height);}}}
var tempContext=this.context;this.context=context;displayObject.renderCanvas(this);this.context=tempContext;this.resolution=rootResolution;this.emit('postrender');};CanvasRenderer.prototype.clear=function clear(clearColor){var context=this.context;clearColor=clearColor||this._backgroundColorString;if(!this.transparent&&clearColor){context.fillStyle=clearColor;context.fillRect(0,0,this.width,this.height);}else{context.clearRect(0,0,this.width,this.height);}};CanvasRenderer.prototype.setBlendMode=function setBlendMode(blendMode){if(this._activeBlendMode===blendMode){return;}
this._activeBlendMode=blendMode;this.context.globalCompositeOperation=this.blendModes[blendMode];};CanvasRenderer.prototype.destroy=function destroy(removeView){this.destroyPlugins();_SystemRenderer.prototype.destroy.call(this,removeView);this.context=null;this.refresh=true;this.maskManager.destroy();this.maskManager=null;this.smoothProperty=null;};CanvasRenderer.prototype.resize=function resize(screenWidth,screenHeight){_SystemRenderer.prototype.resize.call(this,screenWidth,screenHeight);if(this.smoothProperty){this.rootContext[this.smoothProperty]=_settings2.default.SCALE_MODE===_const.SCALE_MODES.LINEAR;}};return CanvasRenderer;}(_SystemRenderer3.default);exports.default=CanvasRenderer;_utils.pluginTarget.mixin(CanvasRenderer);}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var WebGLManager=function(){function WebGLManager(renderer){_classCallCheck(this,WebGLManager);this.renderer=renderer;this.renderer.on('context',this.onContextChange,this);}
WebGLManager.prototype.onContextChange=function onContextChange(){};WebGLManager.prototype.destroy=function destroy(){this.renderer.off('context',this.onContextChange,this);this.renderer=null;};return WebGLManager;}();exports.default=WebGLManager;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _utils=__webpack_require__(10);var _settings=__webpack_require__(19);var _settings2=_interopRequireDefault(_settings);var _eventemitter=__webpack_require__(32);var _eventemitter2=_interopRequireDefault(_eventemitter);var _determineCrossOrigin=__webpack_require__(661);var _determineCrossOrigin2=_interopRequireDefault(_determineCrossOrigin);var _bitTwiddle=__webpack_require__(87);var _bitTwiddle2=_interopRequireDefault(_bitTwiddle);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var BaseTexture=function(_EventEmitter){_inherits(BaseTexture,_EventEmitter);function BaseTexture(source,scaleMode,resolution){_classCallCheck(this,BaseTexture);var _this=_possibleConstructorReturn(this,_EventEmitter.call(this));_this.uid=(0,_utils.uid)();_this.touched=0;_this.resolution=resolution||_settings2.default.RESOLUTION;_this.width=100;_this.height=100;_this.realWidth=100;_this.realHeight=100;_this.scaleMode=scaleMode!==undefined?scaleMode:_settings2.default.SCALE_MODE;_this.hasLoaded=false;_this.isLoading=false;_this.source=null;_this.origSource=null;_this.imageType=null;_this.sourceScale=1.0;_this.premultipliedAlpha=true;_this.imageUrl=null;_this.isPowerOfTwo=false;_this.mipmap=_settings2.default.MIPMAP_TEXTURES;_this.wrapMode=_settings2.default.WRAP_MODE;_this._glTextures={};_this._enabled=0;_this._virtalBoundId=-1;if(source){_this.loadSource(source);}
return _this;}
BaseTexture.prototype.update=function update(){if(this.imageType!=='svg'){this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width;this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height;this._updateDimensions();}
this.emit('update',this);};BaseTexture.prototype._updateDimensions=function _updateDimensions(){this.width=this.realWidth / this.resolution;this.height=this.realHeight / this.resolution;this.isPowerOfTwo=_bitTwiddle2.default.isPow2(this.realWidth)&&_bitTwiddle2.default.isPow2(this.realHeight);};BaseTexture.prototype.loadSource=function loadSource(source){var wasLoading=this.isLoading;this.hasLoaded=false;this.isLoading=false;if(wasLoading&&this.source){this.source.onload=null;this.source.onerror=null;}
var firstSourceLoaded=!this.source;this.source=source;if((source.src&&source.complete||source.getContext)&&source.width&&source.height){this._updateImageType();if(this.imageType==='svg'){this._loadSvgSource();}else{this._sourceLoaded();}
if(firstSourceLoaded){this.emit('loaded',this);}}else if(!source.getContext){this.isLoading=true;var scope=this;source.onload=function(){scope._updateImageType();source.onload=null;source.onerror=null;if(!scope.isLoading){return;}
scope.isLoading=false;scope._sourceLoaded();if(scope.imageType==='svg'){scope._loadSvgSource();return;}
scope.emit('loaded',scope);};source.onerror=function(){source.onload=null;source.onerror=null;if(!scope.isLoading){return;}
scope.isLoading=false;scope.emit('error',scope);};if(source.complete&&source.src){source.onload=null;source.onerror=null;if(scope.imageType==='svg'){scope._loadSvgSource();return;}
this.isLoading=false;if(source.width&&source.height){this._sourceLoaded();if(wasLoading){this.emit('loaded',this);}}
else if(wasLoading){this.emit('error',this);}}}};BaseTexture.prototype._updateImageType=function _updateImageType(){if(!this.imageUrl){return;}
var dataUri=(0,_utils.decomposeDataUri)(this.imageUrl);var imageType=void 0;if(dataUri&&dataUri.mediaType==='image'){var firstSubType=dataUri.subType.split('+')[0];imageType=(0,_utils.getUrlFileExtension)('.'+firstSubType);if(!imageType){throw new Error('Invalid image type in data URI.');}}else{imageType=(0,_utils.getUrlFileExtension)(this.imageUrl);if(!imageType){imageType='png';}}
this.imageType=imageType;};BaseTexture.prototype._loadSvgSource=function _loadSvgSource(){if(this.imageType!=='svg'){return;}
var dataUri=(0,_utils.decomposeDataUri)(this.imageUrl);if(dataUri){this._loadSvgSourceUsingDataUri(dataUri);}else{this._loadSvgSourceUsingXhr();}};BaseTexture.prototype._loadSvgSourceUsingDataUri=function _loadSvgSourceUsingDataUri(dataUri){var svgString=void 0;if(dataUri.encoding==='base64'){if(!atob){throw new Error('Your browser doesn\'t support base64 conversions.');}
svgString=atob(dataUri.data);}else{svgString=dataUri.data;}
this._loadSvgSourceUsingString(svgString);};BaseTexture.prototype._loadSvgSourceUsingXhr=function _loadSvgSourceUsingXhr(){var _this2=this;var svgXhr=new XMLHttpRequest();svgXhr.onload=function(){if(svgXhr.readyState!==svgXhr.DONE||svgXhr.status!==200){throw new Error('Failed to load SVG using XHR.');}
_this2._loadSvgSourceUsingString(svgXhr.response);};svgXhr.onerror=function(){return _this2.emit('error',_this2);};svgXhr.open('GET',this.imageUrl,true);svgXhr.send();};BaseTexture.prototype._loadSvgSourceUsingString=function _loadSvgSourceUsingString(svgString){var svgSize=(0,_utils.getSvgSize)(svgString);var svgWidth=svgSize.width;var svgHeight=svgSize.height;if(!svgWidth||!svgHeight){throw new Error('The SVG image must have width and height defined (in pixels), canvas API needs them.');}
this.realWidth=Math.round(svgWidth*this.sourceScale);this.realHeight=Math.round(svgHeight*this.sourceScale);this._updateDimensions();var canvas=document.createElement('canvas');canvas.width=this.realWidth;canvas.height=this.realHeight;canvas._pixiId='canvas_'+(0,_utils.uid)();canvas.getContext('2d').drawImage(this.source,0,0,svgWidth,svgHeight,0,0,this.realWidth,this.realHeight);this.origSource=this.source;this.source=canvas;_utils.BaseTextureCache[canvas._pixiId]=this;this.isLoading=false;this._sourceLoaded();this.emit('loaded',this);};BaseTexture.prototype._sourceLoaded=function _sourceLoaded(){this.hasLoaded=true;this.update();};BaseTexture.prototype.destroy=function destroy(){if(this.imageUrl){delete _utils.BaseTextureCache[this.imageUrl];delete _utils.TextureCache[this.imageUrl];this.imageUrl=null;if(!navigator.isCocoonJS){this.source.src='';}}
if(this.source&&this.source._pixiId){delete _utils.BaseTextureCache[this.source._pixiId];}
this.source=null;this.dispose();};BaseTexture.prototype.dispose=function dispose(){this.emit('dispose',this);};BaseTexture.prototype.updateSourceImage=function updateSourceImage(newSrc){this.source.src=newSrc;this.loadSource(this.source);};BaseTexture.fromImage=function fromImage(imageUrl,crossorigin,scaleMode,sourceScale){var baseTexture=_utils.BaseTextureCache[imageUrl];if(!baseTexture){var image=new Image();if(crossorigin===undefined&&imageUrl.indexOf('data:')!==0){image.crossOrigin=(0,_determineCrossOrigin2.default)(imageUrl);}
baseTexture=new BaseTexture(image,scaleMode);baseTexture.imageUrl=imageUrl;if(sourceScale){baseTexture.sourceScale=sourceScale;}
baseTexture.resolution=(0,_utils.getResolutionOfUrl)(imageUrl);image.src=imageUrl;_utils.BaseTextureCache[imageUrl]=baseTexture;}
return baseTexture;};BaseTexture.fromCanvas=function fromCanvas(canvas,scaleMode){if(!canvas._pixiId){canvas._pixiId='canvas_'+(0,_utils.uid)();}
var baseTexture=_utils.BaseTextureCache[canvas._pixiId];if(!baseTexture){baseTexture=new BaseTexture(canvas,scaleMode);_utils.BaseTextureCache[canvas._pixiId]=baseTexture;}
return baseTexture;};BaseTexture.from=function from(source,scaleMode,sourceScale){if(typeof source==='string'){return BaseTexture.fromImage(source,undefined,scaleMode,sourceScale);}else if(source instanceof HTMLImageElement){var imageUrl=source.src;var baseTexture=_utils.BaseTextureCache[imageUrl];if(!baseTexture){baseTexture=new BaseTexture(source,scaleMode);baseTexture.imageUrl=imageUrl;if(sourceScale){baseTexture.sourceScale=sourceScale;}
baseTexture.resolution=(0,_utils.getResolutionOfUrl)(imageUrl);_utils.BaseTextureCache[imageUrl]=baseTexture;}
return baseTexture;}else if(source instanceof HTMLCanvasElement){return BaseTexture.fromCanvas(source,scaleMode);}
return source;};return BaseTexture;}(_eventemitter2.default);exports.default=BaseTexture;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _core=__webpack_require__(4);var core=_interopRequireWildcard(_core);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var tempPoint=new core.Point();var tempPolygon=new core.Polygon();var Mesh=function(_core$Container){_inherits(Mesh,_core$Container);function Mesh(texture,vertices,uvs,indices,drawMode){_classCallCheck(this,Mesh);var _this=_possibleConstructorReturn(this,_core$Container.call(this));_this._texture=null;_this.uvs=uvs||new Float32Array([0,0,1,0,1,1,0,1]);_this.vertices=vertices||new Float32Array([0,0,100,0,100,100,0,100]);_this.indices=indices||new Uint16Array([0,1,3,2]);_this.dirty=0;_this.indexDirty=0;_this.blendMode=core.BLEND_MODES.NORMAL;_this.canvasPadding=0;_this.drawMode=drawMode||Mesh.DRAW_MODES.TRIANGLE_MESH;_this.texture=texture;_this.shader=null;_this.tintRgb=new Float32Array([1,1,1]);_this._glDatas={};_this.pluginName='mesh';return _this;}
Mesh.prototype._renderWebGL=function _renderWebGL(renderer){renderer.setObjectRenderer(renderer.plugins[this.pluginName]);renderer.plugins[this.pluginName].render(this);};Mesh.prototype._renderCanvas=function _renderCanvas(renderer){renderer.plugins[this.pluginName].render(this);};Mesh.prototype._onTextureUpdate=function _onTextureUpdate(){};Mesh.prototype._calculateBounds=function _calculateBounds(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length);};Mesh.prototype.containsPoint=function containsPoint(point){if(!this.getBounds().contains(point.x,point.y)){return false;}
this.worldTransform.applyInverse(point,tempPoint);var vertices=this.vertices;var points=tempPolygon.points;var indices=this.indices;var len=this.indices.length;var step=this.drawMode===Mesh.DRAW_MODES.TRIANGLES?3:1;for(var i=0;i+2<len;i+=step){var ind0=indices[i]*2;var ind1=indices[i+1]*2;var ind2=indices[i+2]*2;points[0]=vertices[ind0];points[1]=vertices[ind0+1];points[2]=vertices[ind1];points[3]=vertices[ind1+1];points[4]=vertices[ind2];points[5]=vertices[ind2+1];if(tempPolygon.contains(tempPoint.x,tempPoint.y)){return true;}}
return false;};_createClass(Mesh,[{key:'texture',get:function get(){return this._texture;},set:function set(value)
{if(this._texture===value){return;}
this._texture=value;if(value){if(value.baseTexture.hasLoaded){this._onTextureUpdate();}else{value.once('update',this._onTextureUpdate,this);}}}},{key:'tint',get:function get(){return core.utils.rgb2hex(this.tintRgb);},set:function set(value)
{this.tintRgb=core.utils.hex2rgb(value,this.tintRgb);}}]);return Mesh;}(core.Container);exports.default=Mesh;Mesh.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1};}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _Loader=__webpack_require__(707);var _Loader2=_interopRequireDefault(_Loader);var _Resource=__webpack_require__(119);var _Resource2=_interopRequireDefault(_Resource);var _async=__webpack_require__(226);var async=_interopRequireWildcard(_async);var _b=__webpack_require__(227);var b64=_interopRequireWildcard(_b);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
_Loader2.default.Resource=_Resource2.default;_Loader2.default.async=async;_Loader2.default.base64=b64;module.exports=_Loader2.default;exports.default=_Loader2.default;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});const gameObject_1=__webpack_require__(51);class Area extends gameObject_1.GameObject{constructor(game,type,x,y,width,height){super(game);this.shape={kind:"Rectangle",x:0,y:0,width:0,height:0,angle:0};this.shape.x=x;this.shape.y=y;this.shape.width=width;this.shape.height=height;this.type=type;this.game.level.collision.add(this,this.shape);console.log(1);}
update(){}
draw(renderer){let color=0xffffff;if(this.type=="land"){color=0xd700ff;}
else if(this.type=="sea"){color=0x00cdff;}
renderer.beginFill(color);renderer.drawRect(this.shape.x,this.shape.y,this.shape.width,this.shape.height);}}
exports.Area=Area;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});__webpack_require__(22);const gameObject_1=__webpack_require__(51);const particle_1=__webpack_require__(715);class Weapon extends gameObject_1.GameObject{constructor(game,shape,direction,organization){super(game);this.shape=shape;this.direction=direction;this.organization=organization;this.hp=3;this.collisionList=[];this.sprite=new PIXI.Sprite(PIXI.Texture.EMPTY);this.game.level.view.addChild(this.sprite);this.game.level.collision.add(this,this.shape,this.collisionList);}
update(){super.update();if(this.hp<=0){this.remove();}
this.sprite.x=this.shape.x;this.sprite.y=this.shape.y;}
remove(){super.remove();this.game.level.view.removeChild(this.sprite);this.explosion();}
explosion(){this.game.level.addObject(new particle_1.Particle(this.game,{type:"firework",pos:{kind:"Point",x:this.shape.x,y:this.shape.y,},posRandom:{xmin:-10,xmax:10,ymin:-10,ymax:10,},color:0xff0000,sparkNum:20,initialVelocity:{x:0,y:-3,},randomVelocity:{xmin:-10,xmax:10,ymin:-10,ymax:10,},endTime:60+this.game.level.countFrame,}));}
draw(renderer){}
setSprite(path){this.game.loader.load(path).then((texture)=>{this.sprite.texture=texture;});}}
exports.Weapon=Weapon;}),(function(module,exports,__webpack_require__){(function(global,module){var __WEBPACK_AMD_DEFINE_RESULT__;;(function(){var undefined;var VERSION='4.17.4';var LARGE_ARRAY_SIZE=200;var CORE_ERROR_TEXT='Unsupported core-js use. Try https://npms.io/search?q=ponyfill.',FUNC_ERROR_TEXT='Expected a function';var HASH_UNDEFINED='__lodash_hash_undefined__';var MAX_MEMOIZE_SIZE=500;var PLACEHOLDER='__lodash_placeholder__';var CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4;var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;var WRAP_BIND_FLAG=1,WRAP_BIND_KEY_FLAG=2,WRAP_CURRY_BOUND_FLAG=4,WRAP_CURRY_FLAG=8,WRAP_CURRY_RIGHT_FLAG=16,WRAP_PARTIAL_FLAG=32,WRAP_PARTIAL_RIGHT_FLAG=64,WRAP_ARY_FLAG=128,WRAP_REARG_FLAG=256,WRAP_FLIP_FLAG=512;var DEFAULT_TRUNC_LENGTH=30,DEFAULT_TRUNC_OMISSION='...';var HOT_COUNT=800,HOT_SPAN=16;var LAZY_FILTER_FLAG=1,LAZY_MAP_FLAG=2,LAZY_WHILE_FLAG=3;var INFINITY=1 / 0,MAX_SAFE_INTEGER=9007199254740991,MAX_INTEGER=1.7976931348623157e+308,NAN=0 / 0;var MAX_ARRAY_LENGTH=4294967295,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH-1,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH>>>1;var wrapFlags=[['ary',WRAP_ARY_FLAG],['bind',WRAP_BIND_FLAG],['bindKey',WRAP_BIND_KEY_FLAG],['curry',WRAP_CURRY_FLAG],['curryRight',WRAP_CURRY_RIGHT_FLAG],['flip',WRAP_FLIP_FLAG],['partial',WRAP_PARTIAL_FLAG],['partialRight',WRAP_PARTIAL_RIGHT_FLAG],['rearg',WRAP_REARG_FLAG]];var argsTag='[object Arguments]',arrayTag='[object Array]',asyncTag='[object AsyncFunction]',boolTag='[object Boolean]',dateTag='[object Date]',domExcTag='[object DOMException]',errorTag='[object Error]',funcTag='[object Function]',genTag='[object GeneratorFunction]',mapTag='[object Map]',numberTag='[object Number]',nullTag='[object Null]',objectTag='[object Object]',promiseTag='[object Promise]',proxyTag='[object Proxy]',regexpTag='[object RegExp]',setTag='[object Set]',stringTag='[object String]',symbolTag='[object Symbol]',undefinedTag='[object Undefined]',weakMapTag='[object WeakMap]',weakSetTag='[object WeakSet]';var arrayBufferTag='[object ArrayBuffer]',dataViewTag='[object DataView]',float32Tag='[object Float32Array]',float64Tag='[object Float64Array]',int8Tag='[object Int8Array]',int16Tag='[object Int16Array]',int32Tag='[object Int32Array]',uint8Tag='[object Uint8Array]',uint8ClampedTag='[object Uint8ClampedArray]',uint16Tag='[object Uint16Array]',uint32Tag='[object Uint32Array]';var reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g;var reEscapedHtml=/&(?:amp|lt|gt|quot|#39);/g,reUnescapedHtml=/[&<>"']/g,reHasEscapedHtml=RegExp(reEscapedHtml.source),reHasUnescapedHtml=RegExp(reUnescapedHtml.source);var reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,reInterpolate=/<%=([\s\S]+?)%>/g;var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,reLeadingDot=/^\./,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reHasRegExpChar=RegExp(reRegExpChar.source);var reTrim=/^\s+|\s+$/g,reTrimStart=/^\s+/,reTrimEnd=/\s+$/;var reWrapComment=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,reWrapDetails=/\{\n\/\* \[wrapped with (.+)\] \*/,reSplitDetails=/,? & /;var reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var reEscapeChar=/\\(\\)?/g;var reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;var reFlags=/\w*$/;var reIsBadHex=/^[-+]0x[0-9a-f]+$/i;var reIsBinary=/^0b[01]+$/i;var reIsHostCtor=/^\[object .+?Constructor\]$/;var reIsOctal=/^0o[0-7]+$/i;var reIsUint=/^(?:0|[1-9]\d*)$/;var reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g;var reNoMatch=/($^)/;var reUnescapedString=/['\n\r\u2028\u2029\\]/g;var rsAstralRange='\\ud800-\\udfff',rsComboMarksRange='\\u0300-\\u036f',reComboHalfMarksRange='\\ufe20-\\ufe2f',rsComboSymbolsRange='\\u20d0-\\u20ff',rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsDingbatRange='\\u2700-\\u27bf',rsLowerRange='a-z\\xdf-\\xf6\\xf8-\\xff',rsMathOpRange='\\xac\\xb1\\xd7\\xf7',rsNonCharRange='\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf',rsPunctuationRange='\\u2000-\\u206f',rsSpaceRange=' \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000',rsUpperRange='A-Z\\xc0-\\xd6\\xd8-\\xde',rsVarRange='\\ufe0e\\ufe0f',rsBreakRange=rsMathOpRange+rsNonCharRange+rsPunctuationRange+rsSpaceRange;var rsApos="['\u2019]",rsAstral='['+rsAstralRange+']',rsBreak='['+rsBreakRange+']',rsCombo='['+rsComboRange+']',rsDigits='\\d+',rsDingbat='['+rsDingbatRange+']',rsLower='['+rsLowerRange+']',rsMisc='[^'+rsAstralRange+rsBreakRange+rsDigits+rsDingbatRange+rsLowerRange+rsUpperRange+']',rsFitz='\\ud83c[\\udffb-\\udfff]',rsModifier='(?:'+rsCombo+'|'+rsFitz+')',rsNonAstral='[^'+rsAstralRange+']',rsRegional='(?:\\ud83c[\\udde6-\\uddff]){2}',rsSurrPair='[\\ud800-\\udbff][\\udc00-\\udfff]',rsUpper='['+rsUpperRange+']',rsZWJ='\\u200d';var rsMiscLower='(?:'+rsLower+'|'+rsMisc+')',rsMiscUpper='(?:'+rsUpper+'|'+rsMisc+')',rsOptContrLower='(?:'+rsApos+'(?:d|ll|m|re|s|t|ve))?',rsOptContrUpper='(?:'+rsApos+'(?:D|LL|M|RE|S|T|VE))?',reOptMod=rsModifier+'?',rsOptVar='['+rsVarRange+']?',rsOptJoin='(?:'+rsZWJ+'(?:'+[rsNonAstral,rsRegional,rsSurrPair].join('|')+')'+rsOptVar+reOptMod+')*',rsOrdLower='\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)',rsOrdUpper='\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)',rsSeq=rsOptVar+reOptMod+rsOptJoin,rsEmoji='(?:'+[rsDingbat,rsRegional,rsSurrPair].join('|')+')'+rsSeq,rsSymbol='(?:'+[rsNonAstral+rsCombo+'?',rsCombo,rsRegional,rsSurrPair,rsAstral].join('|')+')';var reApos=RegExp(rsApos,'g');var reComboMark=RegExp(rsCombo,'g');var reUnicode=RegExp(rsFitz+'(?='+rsFitz+')|'+rsSymbol+rsSeq,'g');var reUnicodeWord=RegExp([rsUpper+'?'+rsLower+'+'+rsOptContrLower+'(?='+[rsBreak,rsUpper,'$'].join('|')+')',rsMiscUpper+'+'+rsOptContrUpper+'(?='+[rsBreak,rsUpper+rsMiscLower,'$'].join('|')+')',rsUpper+'?'+rsMiscLower+'+'+rsOptContrLower,rsUpper+'+'+rsOptContrUpper,rsOrdUpper,rsOrdLower,rsDigits,rsEmoji].join('|'),'g');var reHasUnicode=RegExp('['+rsZWJ+rsAstralRange+rsComboRange+rsVarRange+']');var reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var contextProps=['Array','Buffer','DataView','Date','Error','Float32Array','Float64Array','Function','Int8Array','Int16Array','Int32Array','Map','Math','Object','Promise','RegExp','Set','String','Symbol','TypeError','Uint8Array','Uint8ClampedArray','Uint16Array','Uint32Array','WeakMap','_','clearTimeout','isFinite','parseInt','setTimeout'];var templateCounter=-1;var typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=true;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=false;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=true;cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=false;var deburredLetters={'\xc0':'A','\xc1':'A','\xc2':'A','\xc3':'A','\xc4':'A','\xc5':'A','\xe0':'a','\xe1':'a','\xe2':'a','\xe3':'a','\xe4':'a','\xe5':'a','\xc7':'C','\xe7':'c','\xd0':'D','\xf0':'d','\xc8':'E','\xc9':'E','\xca':'E','\xcb':'E','\xe8':'e','\xe9':'e','\xea':'e','\xeb':'e','\xcc':'I','\xcd':'I','\xce':'I','\xcf':'I','\xec':'i','\xed':'i','\xee':'i','\xef':'i','\xd1':'N','\xf1':'n','\xd2':'O','\xd3':'O','\xd4':'O','\xd5':'O','\xd6':'O','\xd8':'O','\xf2':'o','\xf3':'o','\xf4':'o','\xf5':'o','\xf6':'o','\xf8':'o','\xd9':'U','\xda':'U','\xdb':'U','\xdc':'U','\xf9':'u','\xfa':'u','\xfb':'u','\xfc':'u','\xdd':'Y','\xfd':'y','\xff':'y','\xc6':'Ae','\xe6':'ae','\xde':'Th','\xfe':'th','\xdf':'ss','\u0100':'A','\u0102':'A','\u0104':'A','\u0101':'a','\u0103':'a','\u0105':'a','\u0106':'C','\u0108':'C','\u010a':'C','\u010c':'C','\u0107':'c','\u0109':'c','\u010b':'c','\u010d':'c','\u010e':'D','\u0110':'D','\u010f':'d','\u0111':'d','\u0112':'E','\u0114':'E','\u0116':'E','\u0118':'E','\u011a':'E','\u0113':'e','\u0115':'e','\u0117':'e','\u0119':'e','\u011b':'e','\u011c':'G','\u011e':'G','\u0120':'G','\u0122':'G','\u011d':'g','\u011f':'g','\u0121':'g','\u0123':'g','\u0124':'H','\u0126':'H','\u0125':'h','\u0127':'h','\u0128':'I','\u012a':'I','\u012c':'I','\u012e':'I','\u0130':'I','\u0129':'i','\u012b':'i','\u012d':'i','\u012f':'i','\u0131':'i','\u0134':'J','\u0135':'j','\u0136':'K','\u0137':'k','\u0138':'k','\u0139':'L','\u013b':'L','\u013d':'L','\u013f':'L','\u0141':'L','\u013a':'l','\u013c':'l','\u013e':'l','\u0140':'l','\u0142':'l','\u0143':'N','\u0145':'N','\u0147':'N','\u014a':'N','\u0144':'n','\u0146':'n','\u0148':'n','\u014b':'n','\u014c':'O','\u014e':'O','\u0150':'O','\u014d':'o','\u014f':'o','\u0151':'o','\u0154':'R','\u0156':'R','\u0158':'R','\u0155':'r','\u0157':'r','\u0159':'r','\u015a':'S','\u015c':'S','\u015e':'S','\u0160':'S','\u015b':'s','\u015d':'s','\u015f':'s','\u0161':'s','\u0162':'T','\u0164':'T','\u0166':'T','\u0163':'t','\u0165':'t','\u0167':'t','\u0168':'U','\u016a':'U','\u016c':'U','\u016e':'U','\u0170':'U','\u0172':'U','\u0169':'u','\u016b':'u','\u016d':'u','\u016f':'u','\u0171':'u','\u0173':'u','\u0174':'W','\u0175':'w','\u0176':'Y','\u0177':'y','\u0178':'Y','\u0179':'Z','\u017b':'Z','\u017d':'Z','\u017a':'z','\u017c':'z','\u017e':'z','\u0132':'IJ','\u0133':'ij','\u0152':'Oe','\u0153':'oe','\u0149':"'n",'\u017f':'s'};var htmlEscapes={'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'};var htmlUnescapes={'&amp;':'&','&lt;':'<','&gt;':'>','&quot;':'"','&#39;':"'"};var stringEscapes={'\\':'\\',"'":"'",'\n':'n','\r':'r','\u2028':'u2028','\u2029':'u2029'};var freeParseFloat=parseFloat,freeParseInt=parseInt;var freeGlobal=typeof global=='object'&&global&&global.Object===Object&&global;var freeSelf=typeof self=='object'&&self&&self.Object===Object&&self;var root=freeGlobal||freeSelf||Function('return this')();var freeExports=typeof exports=='object'&&exports&&!exports.nodeType&&exports;var freeModule=freeExports&&typeof module=='object'&&module&&!module.nodeType&&module;var moduleExports=freeModule&&freeModule.exports===freeExports;var freeProcess=moduleExports&&freeGlobal.process;var nodeUtil=(function(){try{return freeProcess&&freeProcess.binding&&freeProcess.binding('util');}catch(e){}}());var nodeIsArrayBuffer=nodeUtil&&nodeUtil.isArrayBuffer,nodeIsDate=nodeUtil&&nodeUtil.isDate,nodeIsMap=nodeUtil&&nodeUtil.isMap,nodeIsRegExp=nodeUtil&&nodeUtil.isRegExp,nodeIsSet=nodeUtil&&nodeUtil.isSet,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray;function addMapEntry(map,pair){map.set(pair[0],pair[1]);return map;}
function addSetEntry(set,value){set.add(value);return set;}
function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2]);}
return func.apply(thisArg,args);}
function arrayAggregator(array,setter,iteratee,accumulator){var index=-1,length=array==null?0:array.length;while(++index<length){var value=array[index];setter(accumulator,value,iteratee(value),array);}
return accumulator;}
function arrayEach(array,iteratee){var index=-1,length=array==null?0:array.length;while(++index<length){if(iteratee(array[index],index,array)===false){break;}}
return array;}
function arrayEachRight(array,iteratee){var length=array==null?0:array.length;while(length--){if(iteratee(array[length],length,array)===false){break;}}
return array;}
function arrayEvery(array,predicate){var index=-1,length=array==null?0:array.length;while(++index<length){if(!predicate(array[index],index,array)){return false;}}
return true;}
function arrayFilter(array,predicate){var index=-1,length=array==null?0:array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(predicate(value,index,array)){result[resIndex++]=value;}}
return result;}
function arrayIncludes(array,value){var length=array==null?0:array.length;return!!length&&baseIndexOf(array,value,0)>-1;}
function arrayIncludesWith(array,value,comparator){var index=-1,length=array==null?0:array.length;while(++index<length){if(comparator(value,array[index])){return true;}}
return false;}
function arrayMap(array,iteratee){var index=-1,length=array==null?0:array.length,result=Array(length);while(++index<length){result[index]=iteratee(array[index],index,array);}
return result;}
function arrayPush(array,values){var index=-1,length=values.length,offset=array.length;while(++index<length){array[offset+index]=values[index];}
return array;}
function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=array==null?0:array.length;if(initAccum&&length){accumulator=array[++index];}
while(++index<length){accumulator=iteratee(accumulator,array[index],index,array);}
return accumulator;}
function arrayReduceRight(array,iteratee,accumulator,initAccum){var length=array==null?0:array.length;if(initAccum&&length){accumulator=array[--length];}
while(length--){accumulator=iteratee(accumulator,array[length],length,array);}
return accumulator;}
function arraySome(array,predicate){var index=-1,length=array==null?0:array.length;while(++index<length){if(predicate(array[index],index,array)){return true;}}
return false;}
var asciiSize=baseProperty('length');function asciiToArray(string){return string.split('');}
function asciiWords(string){return string.match(reAsciiWord)||[];}
function baseFindKey(collection,predicate,eachFunc){var result;eachFunc(collection,function(value,key,collection){if(predicate(value,key,collection)){result=key;return false;}});return result;}
function baseFindIndex(array,predicate,fromIndex,fromRight){var length=array.length,index=fromIndex+(fromRight?1:-1);while((fromRight?index--:++index<length)){if(predicate(array[index],index,array)){return index;}}
return-1;}
function baseIndexOf(array,value,fromIndex){return value===value?strictIndexOf(array,value,fromIndex):baseFindIndex(array,baseIsNaN,fromIndex);}
function baseIndexOfWith(array,value,fromIndex,comparator){var index=fromIndex-1,length=array.length;while(++index<length){if(comparator(array[index],value)){return index;}}
return-1;}
function baseIsNaN(value){return value!==value;}
function baseMean(array,iteratee){var length=array==null?0:array.length;return length?(baseSum(array,iteratee)/ length):NAN;}
function baseProperty(key){return function(object){return object==null?undefined:object[key];};}
function basePropertyOf(object){return function(key){return object==null?undefined:object[key];};}
function baseReduce(collection,iteratee,accumulator,initAccum,eachFunc){eachFunc(collection,function(value,index,collection){accumulator=initAccum?(initAccum=false,value):iteratee(accumulator,value,index,collection);});return accumulator;}
function baseSortBy(array,comparer){var length=array.length;array.sort(comparer);while(length--){array[length]=array[length].value;}
return array;}
function baseSum(array,iteratee){var result,index=-1,length=array.length;while(++index<length){var current=iteratee(array[index]);if(current!==undefined){result=result===undefined?current:(result+current);}}
return result;}
function baseTimes(n,iteratee){var index=-1,result=Array(n);while(++index<n){result[index]=iteratee(index);}
return result;}
function baseToPairs(object,props){return arrayMap(props,function(key){return[key,object[key]];});}
function baseUnary(func){return function(value){return func(value);};}
function baseValues(object,props){return arrayMap(props,function(key){return object[key];});}
function cacheHas(cache,key){return cache.has(key);}
function charsStartIndex(strSymbols,chrSymbols){var index=-1,length=strSymbols.length;while(++index<length&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1){}
return index;}
function charsEndIndex(strSymbols,chrSymbols){var index=strSymbols.length;while(index--&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1){}
return index;}
function countHolders(array,placeholder){var length=array.length,result=0;while(length--){if(array[length]===placeholder){++result;}}
return result;}
var deburrLetter=basePropertyOf(deburredLetters);var escapeHtmlChar=basePropertyOf(htmlEscapes);function escapeStringChar(chr){return'\\'+stringEscapes[chr];}
function getValue(object,key){return object==null?undefined:object[key];}
function hasUnicode(string){return reHasUnicode.test(string);}
function hasUnicodeWord(string){return reHasUnicodeWord.test(string);}
function iteratorToArray(iterator){var data,result=[];while(!(data=iterator.next()).done){result.push(data.value);}
return result;}
function mapToArray(map){var index=-1,result=Array(map.size);map.forEach(function(value,key){result[++index]=[key,value];});return result;}
function overArg(func,transform){return function(arg){return func(transform(arg));};}
function replaceHolders(array,placeholder){var index=-1,length=array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(value===placeholder||value===PLACEHOLDER){array[index]=PLACEHOLDER;result[resIndex++]=index;}}
return result;}
function setToArray(set){var index=-1,result=Array(set.size);set.forEach(function(value){result[++index]=value;});return result;}
function setToPairs(set){var index=-1,result=Array(set.size);set.forEach(function(value){result[++index]=[value,value];});return result;}
function strictIndexOf(array,value,fromIndex){var index=fromIndex-1,length=array.length;while(++index<length){if(array[index]===value){return index;}}
return-1;}
function strictLastIndexOf(array,value,fromIndex){var index=fromIndex+1;while(index--){if(array[index]===value){return index;}}
return index;}
function stringSize(string){return hasUnicode(string)?unicodeSize(string):asciiSize(string);}
function stringToArray(string){return hasUnicode(string)?unicodeToArray(string):asciiToArray(string);}
var unescapeHtmlChar=basePropertyOf(htmlUnescapes);function unicodeSize(string){var result=reUnicode.lastIndex=0;while(reUnicode.test(string)){++result;}
return result;}
function unicodeToArray(string){return string.match(reUnicode)||[];}
function unicodeWords(string){return string.match(reUnicodeWord)||[];}
var runInContext=(function runInContext(context){context=context==null?root:_.defaults(root.Object(),context,_.pick(root,contextProps));var Array=context.Array,Date=context.Date,Error=context.Error,Function=context.Function,Math=context.Math,Object=context.Object,RegExp=context.RegExp,String=context.String,TypeError=context.TypeError;var arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype;var coreJsData=context['__core-js_shared__'];var funcToString=funcProto.toString;var hasOwnProperty=objectProto.hasOwnProperty;var idCounter=0;var maskSrcKey=(function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||'');return uid?('Symbol(src)_1.'+uid):'';}());var nativeObjectToString=objectProto.toString;var objectCtorString=funcToString.call(Object);var oldDash=root._;var reIsNative=RegExp('^'+
funcToString.call(hasOwnProperty).replace(reRegExpChar,'\\$&').replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,'$1.*?')+'$');var Buffer=moduleExports?context.Buffer:undefined,Symbol=context.Symbol,Uint8Array=context.Uint8Array,allocUnsafe=Buffer?Buffer.allocUnsafe:undefined,getPrototype=overArg(Object.getPrototypeOf,Object),objectCreate=Object.create,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,spreadableSymbol=Symbol?Symbol.isConcatSpreadable:undefined,symIterator=Symbol?Symbol.iterator:undefined,symToStringTag=Symbol?Symbol.toStringTag:undefined;var defineProperty=(function(){try{var func=getNative(Object,'defineProperty');func({},'',{});return func;}catch(e){}}());var ctxClearTimeout=context.clearTimeout!==root.clearTimeout&&context.clearTimeout,ctxNow=Date&&Date.now!==root.Date.now&&Date.now,ctxSetTimeout=context.setTimeout!==root.setTimeout&&context.setTimeout;var nativeCeil=Math.ceil,nativeFloor=Math.floor,nativeGetSymbols=Object.getOwnPropertySymbols,nativeIsBuffer=Buffer?Buffer.isBuffer:undefined,nativeIsFinite=context.isFinite,nativeJoin=arrayProto.join,nativeKeys=overArg(Object.keys,Object),nativeMax=Math.max,nativeMin=Math.min,nativeNow=Date.now,nativeParseInt=context.parseInt,nativeRandom=Math.random,nativeReverse=arrayProto.reverse;var DataView=getNative(context,'DataView'),Map=getNative(context,'Map'),Promise=getNative(context,'Promise'),Set=getNative(context,'Set'),WeakMap=getNative(context,'WeakMap'),nativeCreate=getNative(Object,'create');var metaMap=WeakMap&&new WeakMap;var realNames={};var dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap);var symbolProto=Symbol?Symbol.prototype:undefined,symbolValueOf=symbolProto?symbolProto.valueOf:undefined,symbolToString=symbolProto?symbolProto.toString:undefined;function lodash(value){if(isObjectLike(value)&&!isArray(value)&&!(value instanceof LazyWrapper)){if(value instanceof LodashWrapper){return value;}
if(hasOwnProperty.call(value,'__wrapped__')){return wrapperClone(value);}}
return new LodashWrapper(value);}
var baseCreate=(function(){function object(){}
return function(proto){if(!isObject(proto)){return{};}
if(objectCreate){return objectCreate(proto);}
object.prototype=proto;var result=new object;object.prototype=undefined;return result;};}());function baseLodash(){}
function LodashWrapper(value,chainAll){this.__wrapped__=value;this.__actions__=[];this.__chain__=!!chainAll;this.__index__=0;this.__values__=undefined;}
lodash.templateSettings={'escape':reEscape,'evaluate':reEvaluate,'interpolate':reInterpolate,'variable':'','imports':{'_':lodash}};lodash.prototype=baseLodash.prototype;lodash.prototype.constructor=lodash;LodashWrapper.prototype=baseCreate(baseLodash.prototype);LodashWrapper.prototype.constructor=LodashWrapper;function LazyWrapper(value){this.__wrapped__=value;this.__actions__=[];this.__dir__=1;this.__filtered__=false;this.__iteratees__=[];this.__takeCount__=MAX_ARRAY_LENGTH;this.__views__=[];}
function lazyClone(){var result=new LazyWrapper(this.__wrapped__);result.__actions__=copyArray(this.__actions__);result.__dir__=this.__dir__;result.__filtered__=this.__filtered__;result.__iteratees__=copyArray(this.__iteratees__);result.__takeCount__=this.__takeCount__;result.__views__=copyArray(this.__views__);return result;}
function lazyReverse(){if(this.__filtered__){var result=new LazyWrapper(this);result.__dir__=-1;result.__filtered__=true;}else{result=this.clone();result.__dir__*=-1;}
return result;}
function lazyValue(){var array=this.__wrapped__.value(),dir=this.__dir__,isArr=isArray(array),isRight=dir<0,arrLength=isArr?array.length:0,view=getView(0,arrLength,this.__views__),start=view.start,end=view.end,length=end-start,index=isRight?end:(start-1),iteratees=this.__iteratees__,iterLength=iteratees.length,resIndex=0,takeCount=nativeMin(length,this.__takeCount__);if(!isArr||(!isRight&&arrLength==length&&takeCount==length)){return baseWrapperValue(array,this.__actions__);}
var result=[];outer:while(length--&&resIndex<takeCount){index+=dir;var iterIndex=-1,value=array[index];while(++iterIndex<iterLength){var data=iteratees[iterIndex],iteratee=data.iteratee,type=data.type,computed=iteratee(value);if(type==LAZY_MAP_FLAG){value=computed;}else if(!computed){if(type==LAZY_FILTER_FLAG){continue outer;}else{break outer;}}}
result[resIndex++]=value;}
return result;}
LazyWrapper.prototype=baseCreate(baseLodash.prototype);LazyWrapper.prototype.constructor=LazyWrapper;function Hash(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1]);}}
function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{};this.size=0;}
function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];this.size-=result?1:0;return result;}
function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?undefined:result;}
return hasOwnProperty.call(data,key)?data[key]:undefined;}
function hashHas(key){var data=this.__data__;return nativeCreate?(data[key]!==undefined):hasOwnProperty.call(data,key);}
function hashSet(key,value){var data=this.__data__;this.size+=this.has(key)?0:1;data[key]=(nativeCreate&&value===undefined)?HASH_UNDEFINED:value;return this;}
Hash.prototype.clear=hashClear;Hash.prototype['delete']=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function ListCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1]);}}
function listCacheClear(){this.__data__=[];this.size=0;}
function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){return false;}
var lastIndex=data.length-1;if(index==lastIndex){data.pop();}else{splice.call(data,index,1);}
--this.size;return true;}
function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?undefined:data[index][1];}
function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1;}
function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){++this.size;data.push([key,value]);}else{data[index][1]=value;}
return this;}
ListCache.prototype.clear=listCacheClear;ListCache.prototype['delete']=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;function MapCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1]);}}
function mapCacheClear(){this.size=0;this.__data__={'hash':new Hash,'map':new(Map||ListCache),'string':new Hash};}
function mapCacheDelete(key){var result=getMapData(this,key)['delete'](key);this.size-=result?1:0;return result;}
function mapCacheGet(key){return getMapData(this,key).get(key);}
function mapCacheHas(key){return getMapData(this,key).has(key);}
function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;data.set(key,value);this.size+=data.size==size?0:1;return this;}
MapCache.prototype.clear=mapCacheClear;MapCache.prototype['delete']=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;function SetCache(values){var index=-1,length=values==null?0:values.length;this.__data__=new MapCache;while(++index<length){this.add(values[index]);}}
function setCacheAdd(value){this.__data__.set(value,HASH_UNDEFINED);return this;}
function setCacheHas(value){return this.__data__.has(value);}
SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size;}
function stackClear(){this.__data__=new ListCache;this.size=0;}
function stackDelete(key){var data=this.__data__,result=data['delete'](key);this.size=data.size;return result;}
function stackGet(key){return this.__data__.get(key);}
function stackHas(key){return this.__data__.has(key);}
function stackSet(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||(pairs.length<LARGE_ARRAY_SIZE-1)){pairs.push([key,value]);this.size=++data.size;return this;}
data=this.__data__=new MapCache(pairs);}
data.set(key,value);this.size=data.size;return this;}
Stack.prototype.clear=stackClear;Stack.prototype['delete']=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value){if((inherited||hasOwnProperty.call(value,key))&&!(skipIndexes&&(key=='length'||(isBuff&&(key=='offset'||key=='parent'))||(isType&&(key=='buffer'||key=='byteLength'||key=='byteOffset'))||isIndex(key,length)))){result.push(key);}}
return result;}
function arraySample(array){var length=array.length;return length?array[baseRandom(0,length-1)]:undefined;}
function arraySampleSize(array,n){return shuffleSelf(copyArray(array),baseClamp(n,0,array.length));}
function arrayShuffle(array){return shuffleSelf(copyArray(array));}
function assignMergeValue(object,key,value){if((value!==undefined&&!eq(object[key],value))||(value===undefined&&!(key in object))){baseAssignValue(object,key,value);}}
function assignValue(object,key,value){var objValue=object[key];if(!(hasOwnProperty.call(object,key)&&eq(objValue,value))||(value===undefined&&!(key in object))){baseAssignValue(object,key,value);}}
function assocIndexOf(array,key){var length=array.length;while(length--){if(eq(array[length][0],key)){return length;}}
return-1;}
function baseAggregator(collection,setter,iteratee,accumulator){baseEach(collection,function(value,key,collection){setter(accumulator,value,iteratee(value),collection);});return accumulator;}
function baseAssign(object,source){return object&&copyObject(source,keys(source),object);}
function baseAssignIn(object,source){return object&&copyObject(source,keysIn(source),object);}
function baseAssignValue(object,key,value){if(key=='__proto__'&&defineProperty){defineProperty(object,key,{'configurable':true,'enumerable':true,'value':value,'writable':true});}else{object[key]=value;}}
function baseAt(object,paths){var index=-1,length=paths.length,result=Array(length),skip=object==null;while(++index<length){result[index]=skip?undefined:get(object,paths[index]);}
return result;}
function baseClamp(number,lower,upper){if(number===number){if(upper!==undefined){number=number<=upper?number:upper;}
if(lower!==undefined){number=number>=lower?number:lower;}}
return number;}
function baseClone(value,bitmask,customizer,key,object,stack){var result,isDeep=bitmask&CLONE_DEEP_FLAG,isFlat=bitmask&CLONE_FLAT_FLAG,isFull=bitmask&CLONE_SYMBOLS_FLAG;if(customizer){result=object?customizer(value,key,object,stack):customizer(value);}
if(result!==undefined){return result;}
if(!isObject(value)){return value;}
var isArr=isArray(value);if(isArr){result=initCloneArray(value);if(!isDeep){return copyArray(value,result);}}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value)){return cloneBuffer(value,isDeep);}
if(tag==objectTag||tag==argsTag||(isFunc&&!object)){result=(isFlat||isFunc)?{}:initCloneObject(value);if(!isDeep){return isFlat?copySymbolsIn(value,baseAssignIn(result,value)):copySymbols(value,baseAssign(result,value));}}else{if(!cloneableTags[tag]){return object?value:{};}
result=initCloneByTag(value,tag,baseClone,isDeep);}}
stack||(stack=new Stack);var stacked=stack.get(value);if(stacked){return stacked;}
stack.set(value,result);var keysFunc=isFull?(isFlat?getAllKeysIn:getAllKeys):(isFlat?keysIn:keys);var props=isArr?undefined:keysFunc(value);arrayEach(props||value,function(subValue,key){if(props){key=subValue;subValue=value[key];}
assignValue(result,key,baseClone(subValue,bitmask,customizer,key,value,stack));});return result;}
function baseConforms(source){var props=keys(source);return function(object){return baseConformsTo(object,source,props);};}
function baseConformsTo(object,source,props){var length=props.length;if(object==null){return!length;}
object=Object(object);while(length--){var key=props[length],predicate=source[key],value=object[key];if((value===undefined&&!(key in object))||!predicate(value)){return false;}}
return true;}
function baseDelay(func,wait,args){if(typeof func!='function'){throw new TypeError(FUNC_ERROR_TEXT);}
return setTimeout(function(){func.apply(undefined,args);},wait);}
function baseDifference(array,values,iteratee,comparator){var index=-1,includes=arrayIncludes,isCommon=true,length=array.length,result=[],valuesLength=values.length;if(!length){return result;}
if(iteratee){values=arrayMap(values,baseUnary(iteratee));}
if(comparator){includes=arrayIncludesWith;isCommon=false;}
else if(values.length>=LARGE_ARRAY_SIZE){includes=cacheHas;isCommon=false;values=new SetCache(values);}
outer:while(++index<length){var value=array[index],computed=iteratee==null?value:iteratee(value);value=(comparator||value!==0)?value:0;if(isCommon&&computed===computed){var valuesIndex=valuesLength;while(valuesIndex--){if(values[valuesIndex]===computed){continue outer;}}
result.push(value);}
else if(!includes(values,computed,comparator)){result.push(value);}}
return result;}
var baseEach=createBaseEach(baseForOwn);var baseEachRight=createBaseEach(baseForOwnRight,true);function baseEvery(collection,predicate){var result=true;baseEach(collection,function(value,index,collection){result=!!predicate(value,index,collection);return result;});return result;}
function baseExtremum(array,iteratee,comparator){var index=-1,length=array.length;while(++index<length){var value=array[index],current=iteratee(value);if(current!=null&&(computed===undefined?(current===current&&!isSymbol(current)):comparator(current,computed))){var computed=current,result=value;}}
return result;}
function baseFill(array,value,start,end){var length=array.length;start=toInteger(start);if(start<0){start=-start>length?0:(length+start);}
end=(end===undefined||end>length)?length:toInteger(end);if(end<0){end+=length;}
end=start>end?0:toLength(end);while(start<end){array[start++]=value;}
return array;}
function baseFilter(collection,predicate){var result=[];baseEach(collection,function(value,index,collection){if(predicate(value,index,collection)){result.push(value);}});return result;}
function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;predicate||(predicate=isFlattenable);result||(result=[]);while(++index<length){var value=array[index];if(depth>0&&predicate(value)){if(depth>1){baseFlatten(value,depth-1,predicate,isStrict,result);}else{arrayPush(result,value);}}else if(!isStrict){result[result.length]=value;}}
return result;}
var baseFor=createBaseFor();var baseForRight=createBaseFor(true);function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys);}
function baseForOwnRight(object,iteratee){return object&&baseForRight(object,iteratee,keys);}
function baseFunctions(object,props){return arrayFilter(props,function(key){return isFunction(object[key]);});}
function baseGet(object,path){path=castPath(path,object);var index=0,length=path.length;while(object!=null&&index<length){object=object[toKey(path[index++])];}
return(index&&index==length)?object:undefined;}
function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object));}
function baseGetTag(value){if(value==null){return value===undefined?undefinedTag:nullTag;}
return(symToStringTag&&symToStringTag in Object(value))?getRawTag(value):objectToString(value);}
function baseGt(value,other){return value>other;}
function baseHas(object,key){return object!=null&&hasOwnProperty.call(object,key);}
function baseHasIn(object,key){return object!=null&&key in Object(object);}
function baseInRange(number,start,end){return number>=nativeMin(start,end)&&number<nativeMax(start,end);}
function baseIntersection(arrays,iteratee,comparator){var includes=comparator?arrayIncludesWith:arrayIncludes,length=arrays[0].length,othLength=arrays.length,othIndex=othLength,caches=Array(othLength),maxLength=Infinity,result=[];while(othIndex--){var array=arrays[othIndex];if(othIndex&&iteratee){array=arrayMap(array,baseUnary(iteratee));}
maxLength=nativeMin(array.length,maxLength);caches[othIndex]=!comparator&&(iteratee||(length>=120&&array.length>=120))?new SetCache(othIndex&&array):undefined;}
array=arrays[0];var index=-1,seen=caches[0];outer:while(++index<length&&result.length<maxLength){var value=array[index],computed=iteratee?iteratee(value):value;value=(comparator||value!==0)?value:0;if(!(seen?cacheHas(seen,computed):includes(result,computed,comparator))){othIndex=othLength;while(--othIndex){var cache=caches[othIndex];if(!(cache?cacheHas(cache,computed):includes(arrays[othIndex],computed,comparator))){continue outer;}}
if(seen){seen.push(computed);}
result.push(value);}}
return result;}
function baseInverter(object,setter,iteratee,accumulator){baseForOwn(object,function(value,key,object){setter(accumulator,iteratee(value),key,object);});return accumulator;}
function baseInvoke(object,path,args){path=castPath(path,object);object=parent(object,path);var func=object==null?object:object[toKey(last(path))];return func==null?undefined:apply(func,object,args);}
function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag;}
function baseIsArrayBuffer(value){return isObjectLike(value)&&baseGetTag(value)==arrayBufferTag;}
function baseIsDate(value){return isObjectLike(value)&&baseGetTag(value)==dateTag;}
function baseIsEqual(value,other,bitmask,customizer,stack){if(value===other){return true;}
if(value==null||other==null||(!isObjectLike(value)&&!isObjectLike(other))){return value!==value&&other!==other;}
return baseIsEqualDeep(value,other,bitmask,customizer,baseIsEqual,stack);}
function baseIsEqualDeep(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?arrayTag:getTag(object),othTag=othIsArr?arrayTag:getTag(other);objTag=objTag==argsTag?objectTag:objTag;othTag=othTag==argsTag?objectTag:othTag;var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other)){return false;}
objIsArr=true;objIsObj=false;}
if(isSameTag&&!objIsObj){stack||(stack=new Stack);return(objIsArr||isTypedArray(object))?equalArrays(object,other,bitmask,customizer,equalFunc,stack):equalByTag(object,other,objTag,bitmask,customizer,equalFunc,stack);}
if(!(bitmask&COMPARE_PARTIAL_FLAG)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,'__wrapped__'),othIsWrapped=othIsObj&&hasOwnProperty.call(other,'__wrapped__');if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;stack||(stack=new Stack);return equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack);}}
if(!isSameTag){return false;}
stack||(stack=new Stack);return equalObjects(object,other,bitmask,customizer,equalFunc,stack);}
function baseIsMap(value){return isObjectLike(value)&&getTag(value)==mapTag;}
function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(object==null){return!length;}
object=Object(object);while(index--){var data=matchData[index];if((noCustomizer&&data[2])?data[1]!==object[data[0]]:!(data[0]in object)){return false;}}
while(++index<length){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(objValue===undefined&&!(key in object)){return false;}}else{var stack=new Stack;if(customizer){var result=customizer(objValue,srcValue,key,object,source,stack);}
if(!(result===undefined?baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG,customizer,stack):result)){return false;}}}
return true;}
function baseIsNative(value){if(!isObject(value)||isMasked(value)){return false;}
var pattern=isFunction(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value));}
function baseIsRegExp(value){return isObjectLike(value)&&baseGetTag(value)==regexpTag;}
function baseIsSet(value){return isObjectLike(value)&&getTag(value)==setTag;}
function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)];}
function baseIteratee(value){if(typeof value=='function'){return value;}
if(value==null){return identity;}
if(typeof value=='object'){return isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value);}
return property(value);}
function baseKeys(object){if(!isPrototype(object)){return nativeKeys(object);}
var result=[];for(var key in Object(object)){if(hasOwnProperty.call(object,key)&&key!='constructor'){result.push(key);}}
return result;}
function baseKeysIn(object){if(!isObject(object)){return nativeKeysIn(object);}
var isProto=isPrototype(object),result=[];for(var key in object){if(!(key=='constructor'&&(isProto||!hasOwnProperty.call(object,key)))){result.push(key);}}
return result;}
function baseLt(value,other){return value<other;}
function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];baseEach(collection,function(value,key,collection){result[++index]=iteratee(value,key,collection);});return result;}
function baseMatches(source){var matchData=getMatchData(source);if(matchData.length==1&&matchData[0][2]){return matchesStrictComparable(matchData[0][0],matchData[0][1]);}
return function(object){return object===source||baseIsMatch(object,source,matchData);};}
function baseMatchesProperty(path,srcValue){if(isKey(path)&&isStrictComparable(srcValue)){return matchesStrictComparable(toKey(path),srcValue);}
return function(object){var objValue=get(object,path);return(objValue===undefined&&objValue===srcValue)?hasIn(object,path):baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG);};}
function baseMerge(object,source,srcIndex,customizer,stack){if(object===source){return;}
baseFor(source,function(srcValue,key){if(isObject(srcValue)){stack||(stack=new Stack);baseMergeDeep(object,source,key,srcIndex,baseMerge,customizer,stack);}
else{var newValue=customizer?customizer(object[key],srcValue,(key+''),object,source,stack):undefined;if(newValue===undefined){newValue=srcValue;}
assignMergeValue(object,key,newValue);}},keysIn);}
function baseMergeDeep(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=object[key],srcValue=source[key],stacked=stack.get(srcValue);if(stacked){assignMergeValue(object,key,stacked);return;}
var newValue=customizer?customizer(objValue,srcValue,(key+''),object,source,stack):undefined;var isCommon=newValue===undefined;if(isCommon){var isArr=isArray(srcValue),isBuff=!isArr&&isBuffer(srcValue),isTyped=!isArr&&!isBuff&&isTypedArray(srcValue);newValue=srcValue;if(isArr||isBuff||isTyped){if(isArray(objValue)){newValue=objValue;}
else if(isArrayLikeObject(objValue)){newValue=copyArray(objValue);}
else if(isBuff){isCommon=false;newValue=cloneBuffer(srcValue,true);}
else if(isTyped){isCommon=false;newValue=cloneTypedArray(srcValue,true);}
else{newValue=[];}}
else if(isPlainObject(srcValue)||isArguments(srcValue)){newValue=objValue;if(isArguments(objValue)){newValue=toPlainObject(objValue);}
else if(!isObject(objValue)||(srcIndex&&isFunction(objValue))){newValue=initCloneObject(srcValue);}}
else{isCommon=false;}}
if(isCommon){stack.set(srcValue,newValue);mergeFunc(newValue,srcValue,srcIndex,customizer,stack);stack['delete'](srcValue);}
assignMergeValue(object,key,newValue);}
function baseNth(array,n){var length=array.length;if(!length){return;}
n+=n<0?length:0;return isIndex(n,length)?array[n]:undefined;}
function baseOrderBy(collection,iteratees,orders){var index=-1;iteratees=arrayMap(iteratees.length?iteratees:[identity],baseUnary(getIteratee()));var result=baseMap(collection,function(value,key,collection){var criteria=arrayMap(iteratees,function(iteratee){return iteratee(value);});return{'criteria':criteria,'index':++index,'value':value};});return baseSortBy(result,function(object,other){return compareMultiple(object,other,orders);});}
function basePick(object,paths){return basePickBy(object,paths,function(value,path){return hasIn(object,path);});}
function basePickBy(object,paths,predicate){var index=-1,length=paths.length,result={};while(++index<length){var path=paths[index],value=baseGet(object,path);if(predicate(value,path)){baseSet(result,castPath(path,object),value);}}
return result;}
function basePropertyDeep(path){return function(object){return baseGet(object,path);};}
function basePullAll(array,values,iteratee,comparator){var indexOf=comparator?baseIndexOfWith:baseIndexOf,index=-1,length=values.length,seen=array;if(array===values){values=copyArray(values);}
if(iteratee){seen=arrayMap(array,baseUnary(iteratee));}
while(++index<length){var fromIndex=0,value=values[index],computed=iteratee?iteratee(value):value;while((fromIndex=indexOf(seen,computed,fromIndex,comparator))>-1){if(seen!==array){splice.call(seen,fromIndex,1);}
splice.call(array,fromIndex,1);}}
return array;}
function basePullAt(array,indexes){var length=array?indexes.length:0,lastIndex=length-1;while(length--){var index=indexes[length];if(length==lastIndex||index!==previous){var previous=index;if(isIndex(index)){splice.call(array,index,1);}else{baseUnset(array,index);}}}
return array;}
function baseRandom(lower,upper){return lower+nativeFloor(nativeRandom()*(upper-lower+1));}
function baseRange(start,end,step,fromRight){var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);while(length--){result[fromRight?length:++index]=start;start+=step;}
return result;}
function baseRepeat(string,n){var result='';if(!string||n<1||n>MAX_SAFE_INTEGER){return result;}
do{if(n%2){result+=string;}
n=nativeFloor(n / 2);if(n){string+=string;}}while(n);return result;}
function baseRest(func,start){return setToString(overRest(func,start,identity),func+'');}
function baseSample(collection){return arraySample(values(collection));}
function baseSampleSize(collection,n){var array=values(collection);return shuffleSelf(array,baseClamp(n,0,array.length));}
function baseSet(object,path,value,customizer){if(!isObject(object)){return object;}
path=castPath(path,object);var index=-1,length=path.length,lastIndex=length-1,nested=object;while(nested!=null&&++index<length){var key=toKey(path[index]),newValue=value;if(index!=lastIndex){var objValue=nested[key];newValue=customizer?customizer(objValue,key,nested):undefined;if(newValue===undefined){newValue=isObject(objValue)?objValue:(isIndex(path[index+1])?[]:{});}}
assignValue(nested,key,newValue);nested=nested[key];}
return object;}
var baseSetData=!metaMap?identity:function(func,data){metaMap.set(func,data);return func;};var baseSetToString=!defineProperty?identity:function(func,string){return defineProperty(func,'toString',{'configurable':true,'enumerable':false,'value':constant(string),'writable':true});};function baseShuffle(collection){return shuffleSelf(values(collection));}
function baseSlice(array,start,end){var index=-1,length=array.length;if(start<0){start=-start>length?0:(length+start);}
end=end>length?length:end;if(end<0){end+=length;}
length=start>end?0:((end-start)>>>0);start>>>=0;var result=Array(length);while(++index<length){result[index]=array[index+start];}
return result;}
function baseSome(collection,predicate){var result;baseEach(collection,function(value,index,collection){result=predicate(value,index,collection);return!result;});return!!result;}
function baseSortedIndex(array,value,retHighest){var low=0,high=array==null?low:array.length;if(typeof value=='number'&&value===value&&high<=HALF_MAX_ARRAY_LENGTH){while(low<high){var mid=(low+high)>>>1,computed=array[mid];if(computed!==null&&!isSymbol(computed)&&(retHighest?(computed<=value):(computed<value))){low=mid+1;}else{high=mid;}}
return high;}
return baseSortedIndexBy(array,value,identity,retHighest);}
function baseSortedIndexBy(array,value,iteratee,retHighest){value=iteratee(value);var low=0,high=array==null?0:array.length,valIsNaN=value!==value,valIsNull=value===null,valIsSymbol=isSymbol(value),valIsUndefined=value===undefined;while(low<high){var mid=nativeFloor((low+high)/ 2),computed=iteratee(array[mid]),othIsDefined=computed!==undefined,othIsNull=computed===null,othIsReflexive=computed===computed,othIsSymbol=isSymbol(computed);if(valIsNaN){var setLow=retHighest||othIsReflexive;}else if(valIsUndefined){setLow=othIsReflexive&&(retHighest||othIsDefined);}else if(valIsNull){setLow=othIsReflexive&&othIsDefined&&(retHighest||!othIsNull);}else if(valIsSymbol){setLow=othIsReflexive&&othIsDefined&&!othIsNull&&(retHighest||!othIsSymbol);}else if(othIsNull||othIsSymbol){setLow=false;}else{setLow=retHighest?(computed<=value):(computed<value);}
if(setLow){low=mid+1;}else{high=mid;}}
return nativeMin(high,MAX_ARRAY_INDEX);}
function baseSortedUniq(array,iteratee){var index=-1,length=array.length,resIndex=0,result=[];while(++index<length){var value=array[index],computed=iteratee?iteratee(value):value;if(!index||!eq(computed,seen)){var seen=computed;result[resIndex++]=value===0?0:value;}}
return result;}
function baseToNumber(value){if(typeof value=='number'){return value;}
if(isSymbol(value)){return NAN;}
return+value;}
function baseToString(value){if(typeof value=='string'){return value;}
if(isArray(value)){return arrayMap(value,baseToString)+'';}
if(isSymbol(value)){return symbolToString?symbolToString.call(value):'';}
var result=(value+'');return(result=='0'&&(1 / value)==-INFINITY)?'-0':result;}
function baseUniq(array,iteratee,comparator){var index=-1,includes=arrayIncludes,length=array.length,isCommon=true,result=[],seen=result;if(comparator){isCommon=false;includes=arrayIncludesWith;}
else if(length>=LARGE_ARRAY_SIZE){var set=iteratee?null:createSet(array);if(set){return setToArray(set);}
isCommon=false;includes=cacheHas;seen=new SetCache;}
else{seen=iteratee?[]:result;}
outer:while(++index<length){var value=array[index],computed=iteratee?iteratee(value):value;value=(comparator||value!==0)?value:0;if(isCommon&&computed===computed){var seenIndex=seen.length;while(seenIndex--){if(seen[seenIndex]===computed){continue outer;}}
if(iteratee){seen.push(computed);}
result.push(value);}
else if(!includes(seen,computed,comparator)){if(seen!==result){seen.push(computed);}
result.push(value);}}
return result;}
function baseUnset(object,path){path=castPath(path,object);object=parent(object,path);return object==null||delete object[toKey(last(path))];}
function baseUpdate(object,path,updater,customizer){return baseSet(object,path,updater(baseGet(object,path)),customizer);}
function baseWhile(array,predicate,isDrop,fromRight){var length=array.length,index=fromRight?length:-1;while((fromRight?index--:++index<length)&&predicate(array[index],index,array)){}
return isDrop?baseSlice(array,(fromRight?0:index),(fromRight?index+1:length)):baseSlice(array,(fromRight?index+1:0),(fromRight?length:index));}
function baseWrapperValue(value,actions){var result=value;if(result instanceof LazyWrapper){result=result.value();}
return arrayReduce(actions,function(result,action){return action.func.apply(action.thisArg,arrayPush([result],action.args));},result);}
function baseXor(arrays,iteratee,comparator){var length=arrays.length;if(length<2){return length?baseUniq(arrays[0]):[];}
var index=-1,result=Array(length);while(++index<length){var array=arrays[index],othIndex=-1;while(++othIndex<length){if(othIndex!=index){result[index]=baseDifference(result[index]||array,arrays[othIndex],iteratee,comparator);}}}
return baseUniq(baseFlatten(result,1),iteratee,comparator);}
function baseZipObject(props,values,assignFunc){var index=-1,length=props.length,valsLength=values.length,result={};while(++index<length){var value=index<valsLength?values[index]:undefined;assignFunc(result,props[index],value);}
return result;}
function castArrayLikeObject(value){return isArrayLikeObject(value)?value:[];}
function castFunction(value){return typeof value=='function'?value:identity;}
function castPath(value,object){if(isArray(value)){return value;}
return isKey(value,object)?[value]:stringToPath(toString(value));}
var castRest=baseRest;function castSlice(array,start,end){var length=array.length;end=end===undefined?length:end;return(!start&&end>=length)?array:baseSlice(array,start,end);}
var clearTimeout=ctxClearTimeout||function(id){return root.clearTimeout(id);};function cloneBuffer(buffer,isDeep){if(isDeep){return buffer.slice();}
var length=buffer.length,result=allocUnsafe?allocUnsafe(length):new buffer.constructor(length);buffer.copy(result);return result;}
function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);new Uint8Array(result).set(new Uint8Array(arrayBuffer));return result;}
function cloneDataView(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength);}
function cloneMap(map,isDeep,cloneFunc){var array=isDeep?cloneFunc(mapToArray(map),CLONE_DEEP_FLAG):mapToArray(map);return arrayReduce(array,addMapEntry,new map.constructor);}
function cloneRegExp(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));result.lastIndex=regexp.lastIndex;return result;}
function cloneSet(set,isDeep,cloneFunc){var array=isDeep?cloneFunc(setToArray(set),CLONE_DEEP_FLAG):setToArray(set);return arrayReduce(array,addSetEntry,new set.constructor);}
function cloneSymbol(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{};}
function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length);}
function compareAscending(value,other){if(value!==other){var valIsDefined=value!==undefined,valIsNull=value===null,valIsReflexive=value===value,valIsSymbol=isSymbol(value);var othIsDefined=other!==undefined,othIsNull=other===null,othIsReflexive=other===other,othIsSymbol=isSymbol(other);if((!othIsNull&&!othIsSymbol&&!valIsSymbol&&value>other)||(valIsSymbol&&othIsDefined&&othIsReflexive&&!othIsNull&&!othIsSymbol)||(valIsNull&&othIsDefined&&othIsReflexive)||(!valIsDefined&&othIsReflexive)||!valIsReflexive){return 1;}
if((!valIsNull&&!valIsSymbol&&!othIsSymbol&&value<other)||(othIsSymbol&&valIsDefined&&valIsReflexive&&!valIsNull&&!valIsSymbol)||(othIsNull&&valIsDefined&&valIsReflexive)||(!othIsDefined&&valIsReflexive)||!othIsReflexive){return-1;}}
return 0;}
function compareMultiple(object,other,orders){var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;while(++index<length){var result=compareAscending(objCriteria[index],othCriteria[index]);if(result){if(index>=ordersLength){return result;}
var order=orders[index];return result*(order=='desc'?-1:1);}}
return object.index-other.index;}
function composeArgs(args,partials,holders,isCurried){var argsIndex=-1,argsLength=args.length,holdersLength=holders.length,leftIndex=-1,leftLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(leftLength+rangeLength),isUncurried=!isCurried;while(++leftIndex<leftLength){result[leftIndex]=partials[leftIndex];}
while(++argsIndex<holdersLength){if(isUncurried||argsIndex<argsLength){result[holders[argsIndex]]=args[argsIndex];}}
while(rangeLength--){result[leftIndex++]=args[argsIndex++];}
return result;}
function composeArgsRight(args,partials,holders,isCurried){var argsIndex=-1,argsLength=args.length,holdersIndex=-1,holdersLength=holders.length,rightIndex=-1,rightLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(rangeLength+rightLength),isUncurried=!isCurried;while(++argsIndex<rangeLength){result[argsIndex]=args[argsIndex];}
var offset=argsIndex;while(++rightIndex<rightLength){result[offset+rightIndex]=partials[rightIndex];}
while(++holdersIndex<holdersLength){if(isUncurried||argsIndex<argsLength){result[offset+holders[holdersIndex]]=args[argsIndex++];}}
return result;}
function copyArray(source,array){var index=-1,length=source.length;array||(array=Array(length));while(++index<length){array[index]=source[index];}
return array;}
function copyObject(source,props,object,customizer){var isNew=!object;object||(object={});var index=-1,length=props.length;while(++index<length){var key=props[index];var newValue=customizer?customizer(object[key],source[key],key,object,source):undefined;if(newValue===undefined){newValue=source[key];}
if(isNew){baseAssignValue(object,key,newValue);}else{assignValue(object,key,newValue);}}
return object;}
function copySymbols(source,object){return copyObject(source,getSymbols(source),object);}
function copySymbolsIn(source,object){return copyObject(source,getSymbolsIn(source),object);}
function createAggregator(setter,initializer){return function(collection,iteratee){var func=isArray(collection)?arrayAggregator:baseAggregator,accumulator=initializer?initializer():{};return func(collection,setter,getIteratee(iteratee,2),accumulator);};}
function createAssigner(assigner){return baseRest(function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:undefined,guard=length>2?sources[2]:undefined;customizer=(assigner.length>3&&typeof customizer=='function')?(length--,customizer):undefined;if(guard&&isIterateeCall(sources[0],sources[1],guard)){customizer=length<3?undefined:customizer;length=1;}
object=Object(object);while(++index<length){var source=sources[index];if(source){assigner(object,source,index,customizer);}}
return object;});}
function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(collection==null){return collection;}
if(!isArrayLike(collection)){return eachFunc(collection,iteratee);}
var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);while((fromRight?index--:++index<length)){if(iteratee(iterable[index],index,iterable)===false){break;}}
return collection;};}
function createBaseFor(fromRight){return function(object,iteratee,keysFunc){var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;while(length--){var key=props[fromRight?length:++index];if(iteratee(iterable[key],key,iterable)===false){break;}}
return object;};}
function createBind(func,bitmask,thisArg){var isBind=bitmask&WRAP_BIND_FLAG,Ctor=createCtor(func);function wrapper(){var fn=(this&&this!==root&&this instanceof wrapper)?Ctor:func;return fn.apply(isBind?thisArg:this,arguments);}
return wrapper;}
function createCaseFirst(methodName){return function(string){string=toString(string);var strSymbols=hasUnicode(string)?stringToArray(string):undefined;var chr=strSymbols?strSymbols[0]:string.charAt(0);var trailing=strSymbols?castSlice(strSymbols,1).join(''):string.slice(1);return chr[methodName]()+trailing;};}
function createCompounder(callback){return function(string){return arrayReduce(words(deburr(string).replace(reApos,'')),callback,'');};}
function createCtor(Ctor){return function(){var args=arguments;switch(args.length){case 0:return new Ctor;case 1:return new Ctor(args[0]);case 2:return new Ctor(args[0],args[1]);case 3:return new Ctor(args[0],args[1],args[2]);case 4:return new Ctor(args[0],args[1],args[2],args[3]);case 5:return new Ctor(args[0],args[1],args[2],args[3],args[4]);case 6:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5],args[6]);}
var thisBinding=baseCreate(Ctor.prototype),result=Ctor.apply(thisBinding,args);return isObject(result)?result:thisBinding;};}
function createCurry(func,bitmask,arity){var Ctor=createCtor(func);function wrapper(){var length=arguments.length,args=Array(length),index=length,placeholder=getHolder(wrapper);while(index--){args[index]=arguments[index];}
var holders=(length<3&&args[0]!==placeholder&&args[length-1]!==placeholder)?[]:replaceHolders(args,placeholder);length-=holders.length;if(length<arity){return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,undefined,args,holders,undefined,undefined,arity-length);}
var fn=(this&&this!==root&&this instanceof wrapper)?Ctor:func;return apply(fn,this,args);}
return wrapper;}
function createFind(findIndexFunc){return function(collection,predicate,fromIndex){var iterable=Object(collection);if(!isArrayLike(collection)){var iteratee=getIteratee(predicate,3);collection=keys(collection);predicate=function(key){return iteratee(iterable[key],key,iterable);};}
var index=findIndexFunc(collection,predicate,fromIndex);return index>-1?iterable[iteratee?collection[index]:index]:undefined;};}
function createFlow(fromRight){return flatRest(function(funcs){var length=funcs.length,index=length,prereq=LodashWrapper.prototype.thru;if(fromRight){funcs.reverse();}
while(index--){var func=funcs[index];if(typeof func!='function'){throw new TypeError(FUNC_ERROR_TEXT);}
if(prereq&&!wrapper&&getFuncName(func)=='wrapper'){var wrapper=new LodashWrapper([],true);}}
index=wrapper?index:length;while(++index<length){func=funcs[index];var funcName=getFuncName(func),data=funcName=='wrapper'?getData(func):undefined;if(data&&isLaziable(data[0])&&data[1]==(WRAP_ARY_FLAG|WRAP_CURRY_FLAG|WRAP_PARTIAL_FLAG|WRAP_REARG_FLAG)&&!data[4].length&&data[9]==1){wrapper=wrapper[getFuncName(data[0])].apply(wrapper,data[3]);}else{wrapper=(func.length==1&&isLaziable(func))?wrapper[funcName]():wrapper.thru(func);}}
return function(){var args=arguments,value=args[0];if(wrapper&&args.length==1&&isArray(value)){return wrapper.plant(value).value();}
var index=0,result=length?funcs[index].apply(this,args):value;while(++index<length){result=funcs[index].call(this,result);}
return result;};});}
function createHybrid(func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity){var isAry=bitmask&WRAP_ARY_FLAG,isBind=bitmask&WRAP_BIND_FLAG,isBindKey=bitmask&WRAP_BIND_KEY_FLAG,isCurried=bitmask&(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG),isFlip=bitmask&WRAP_FLIP_FLAG,Ctor=isBindKey?undefined:createCtor(func);function wrapper(){var length=arguments.length,args=Array(length),index=length;while(index--){args[index]=arguments[index];}
if(isCurried){var placeholder=getHolder(wrapper),holdersCount=countHolders(args,placeholder);}
if(partials){args=composeArgs(args,partials,holders,isCurried);}
if(partialsRight){args=composeArgsRight(args,partialsRight,holdersRight,isCurried);}
length-=holdersCount;if(isCurried&&length<arity){var newHolders=replaceHolders(args,placeholder);return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,thisArg,args,newHolders,argPos,ary,arity-length);}
var thisBinding=isBind?thisArg:this,fn=isBindKey?thisBinding[func]:func;length=args.length;if(argPos){args=reorder(args,argPos);}else if(isFlip&&length>1){args.reverse();}
if(isAry&&ary<length){args.length=ary;}
if(this&&this!==root&&this instanceof wrapper){fn=Ctor||createCtor(fn);}
return fn.apply(thisBinding,args);}
return wrapper;}
function createInverter(setter,toIteratee){return function(object,iteratee){return baseInverter(object,setter,toIteratee(iteratee),{});};}
function createMathOperation(operator,defaultValue){return function(value,other){var result;if(value===undefined&&other===undefined){return defaultValue;}
if(value!==undefined){result=value;}
if(other!==undefined){if(result===undefined){return other;}
if(typeof value=='string'||typeof other=='string'){value=baseToString(value);other=baseToString(other);}else{value=baseToNumber(value);other=baseToNumber(other);}
result=operator(value,other);}
return result;};}
function createOver(arrayFunc){return flatRest(function(iteratees){iteratees=arrayMap(iteratees,baseUnary(getIteratee()));return baseRest(function(args){var thisArg=this;return arrayFunc(iteratees,function(iteratee){return apply(iteratee,thisArg,args);});});});}
function createPadding(length,chars){chars=chars===undefined?' ':baseToString(chars);var charsLength=chars.length;if(charsLength<2){return charsLength?baseRepeat(chars,length):chars;}
var result=baseRepeat(chars,nativeCeil(length / stringSize(chars)));return hasUnicode(chars)?castSlice(stringToArray(result),0,length).join(''):result.slice(0,length);}
function createPartial(func,bitmask,thisArg,partials){var isBind=bitmask&WRAP_BIND_FLAG,Ctor=createCtor(func);function wrapper(){var argsIndex=-1,argsLength=arguments.length,leftIndex=-1,leftLength=partials.length,args=Array(leftLength+argsLength),fn=(this&&this!==root&&this instanceof wrapper)?Ctor:func;while(++leftIndex<leftLength){args[leftIndex]=partials[leftIndex];}
while(argsLength--){args[leftIndex++]=arguments[++argsIndex];}
return apply(fn,isBind?thisArg:this,args);}
return wrapper;}
function createRange(fromRight){return function(start,end,step){if(step&&typeof step!='number'&&isIterateeCall(start,end,step)){end=step=undefined;}
start=toFinite(start);if(end===undefined){end=start;start=0;}else{end=toFinite(end);}
step=step===undefined?(start<end?1:-1):toFinite(step);return baseRange(start,end,step,fromRight);};}
function createRelationalOperation(operator){return function(value,other){if(!(typeof value=='string'&&typeof other=='string')){value=toNumber(value);other=toNumber(other);}
return operator(value,other);};}
function createRecurry(func,bitmask,wrapFunc,placeholder,thisArg,partials,holders,argPos,ary,arity){var isCurry=bitmask&WRAP_CURRY_FLAG,newHolders=isCurry?holders:undefined,newHoldersRight=isCurry?undefined:holders,newPartials=isCurry?partials:undefined,newPartialsRight=isCurry?undefined:partials;bitmask|=(isCurry?WRAP_PARTIAL_FLAG:WRAP_PARTIAL_RIGHT_FLAG);bitmask&=~(isCurry?WRAP_PARTIAL_RIGHT_FLAG:WRAP_PARTIAL_FLAG);if(!(bitmask&WRAP_CURRY_BOUND_FLAG)){bitmask&=~(WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG);}
var newData=[func,bitmask,thisArg,newPartials,newHolders,newPartialsRight,newHoldersRight,argPos,ary,arity];var result=wrapFunc.apply(undefined,newData);if(isLaziable(func)){setData(result,newData);}
result.placeholder=placeholder;return setWrapToString(result,func,bitmask);}
function createRound(methodName){var func=Math[methodName];return function(number,precision){number=toNumber(number);precision=precision==null?0:nativeMin(toInteger(precision),292);if(precision){var pair=(toString(number)+'e').split('e'),value=func(pair[0]+'e'+(+pair[1]+precision));pair=(toString(value)+'e').split('e');return+(pair[0]+'e'+(+pair[1]-precision));}
return func(number);};}
var createSet=!(Set&&(1 / setToArray(new Set([,-0]))[1])==INFINITY)?noop:function(values){return new Set(values);};function createToPairs(keysFunc){return function(object){var tag=getTag(object);if(tag==mapTag){return mapToArray(object);}
if(tag==setTag){return setToPairs(object);}
return baseToPairs(object,keysFunc(object));};}
function createWrap(func,bitmask,thisArg,partials,holders,argPos,ary,arity){var isBindKey=bitmask&WRAP_BIND_KEY_FLAG;if(!isBindKey&&typeof func!='function'){throw new TypeError(FUNC_ERROR_TEXT);}
var length=partials?partials.length:0;if(!length){bitmask&=~(WRAP_PARTIAL_FLAG|WRAP_PARTIAL_RIGHT_FLAG);partials=holders=undefined;}
ary=ary===undefined?ary:nativeMax(toInteger(ary),0);arity=arity===undefined?arity:toInteger(arity);length-=holders?holders.length:0;if(bitmask&WRAP_PARTIAL_RIGHT_FLAG){var partialsRight=partials,holdersRight=holders;partials=holders=undefined;}
var data=isBindKey?undefined:getData(func);var newData=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];if(data){mergeData(newData,data);}
func=newData[0];bitmask=newData[1];thisArg=newData[2];partials=newData[3];holders=newData[4];arity=newData[9]=newData[9]===undefined?(isBindKey?0:func.length):nativeMax(newData[9]-length,0);if(!arity&&bitmask&(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG)){bitmask&=~(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG);}
if(!bitmask||bitmask==WRAP_BIND_FLAG){var result=createBind(func,bitmask,thisArg);}else if(bitmask==WRAP_CURRY_FLAG||bitmask==WRAP_CURRY_RIGHT_FLAG){result=createCurry(func,bitmask,arity);}else if((bitmask==WRAP_PARTIAL_FLAG||bitmask==(WRAP_BIND_FLAG|WRAP_PARTIAL_FLAG))&&!holders.length){result=createPartial(func,bitmask,thisArg,partials);}else{result=createHybrid.apply(undefined,newData);}
var setter=data?baseSetData:setData;return setWrapToString(setter(result,newData),func,bitmask);}
function customDefaultsAssignIn(objValue,srcValue,key,object){if(objValue===undefined||(eq(objValue,objectProto[key])&&!hasOwnProperty.call(object,key))){return srcValue;}
return objValue;}
function customDefaultsMerge(objValue,srcValue,key,object,source,stack){if(isObject(objValue)&&isObject(srcValue)){stack.set(srcValue,objValue);baseMerge(objValue,srcValue,undefined,customDefaultsMerge,stack);stack['delete'](srcValue);}
return objValue;}
function customOmitClone(value){return isPlainObject(value)?undefined:value;}
function equalArrays(array,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength)){return false;}
var stacked=stack.get(array);if(stacked&&stack.get(other)){return stacked==other;}
var index=-1,result=true,seen=(bitmask&COMPARE_UNORDERED_FLAG)?new SetCache:undefined;stack.set(array,other);stack.set(other,array);while(++index<arrLength){var arrValue=array[index],othValue=other[index];if(customizer){var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);}
if(compared!==undefined){if(compared){continue;}
result=false;break;}
if(seen){if(!arraySome(other,function(othValue,othIndex){if(!cacheHas(seen,othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack))){return seen.push(othIndex);}})){result=false;break;}}else if(!(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack))){result=false;break;}}
stack['delete'](array);stack['delete'](other);return result;}
function equalByTag(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case dataViewTag:if((object.byteLength!=other.byteLength)||(object.byteOffset!=other.byteOffset)){return false;}
object=object.buffer;other=other.buffer;case arrayBufferTag:if((object.byteLength!=other.byteLength)||!equalFunc(new Uint8Array(object),new Uint8Array(other))){return false;}
return true;case boolTag:case dateTag:case numberTag:return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:return object==(other+'');case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&COMPARE_PARTIAL_FLAG;convert||(convert=setToArray);if(object.size!=other.size&&!isPartial){return false;}
var stacked=stack.get(object);if(stacked){return stacked==other;}
bitmask|=COMPARE_UNORDERED_FLAG;stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);stack['delete'](object);return result;case symbolTag:if(symbolValueOf){return symbolValueOf.call(object)==symbolValueOf.call(other);}}
return false;}
function equalObjects(object,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,objProps=getAllKeys(object),objLength=objProps.length,othProps=getAllKeys(other),othLength=othProps.length;if(objLength!=othLength&&!isPartial){return false;}
var index=objLength;while(index--){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key))){return false;}}
var stacked=stack.get(object);if(stacked&&stack.get(other)){return stacked==other;}
var result=true;stack.set(object,other);stack.set(other,object);var skipCtor=isPartial;while(++index<objLength){key=objProps[index];var objValue=object[key],othValue=other[key];if(customizer){var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);}
if(!(compared===undefined?(objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack)):compared)){result=false;break;}
skipCtor||(skipCtor=key=='constructor');}
if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&('constructor'in object&&'constructor'in other)&&!(typeof objCtor=='function'&&objCtor instanceof objCtor&&typeof othCtor=='function'&&othCtor instanceof othCtor)){result=false;}}
stack['delete'](object);stack['delete'](other);return result;}
function flatRest(func){return setToString(overRest(func,undefined,flatten),func+'');}
function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols);}
function getAllKeysIn(object){return baseGetAllKeys(object,keysIn,getSymbolsIn);}
var getData=!metaMap?noop:function(func){return metaMap.get(func);};function getFuncName(func){var result=(func.name+''),array=realNames[result],length=hasOwnProperty.call(realNames,result)?array.length:0;while(length--){var data=array[length],otherFunc=data.func;if(otherFunc==null||otherFunc==func){return data.name;}}
return result;}
function getHolder(func){var object=hasOwnProperty.call(lodash,'placeholder')?lodash:func;return object.placeholder;}
function getIteratee(){var result=lodash.iteratee||iteratee;result=result===iteratee?baseIteratee:result;return arguments.length?result(arguments[0],arguments[1]):result;}
function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data[typeof key=='string'?'string':'hash']:data.map;}
function getMatchData(object){var result=keys(object),length=result.length;while(length--){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)];}
return result;}
function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:undefined;}
function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=undefined;var unmasked=true;}catch(e){}
var result=nativeObjectToString.call(value);if(unmasked){if(isOwn){value[symToStringTag]=tag;}else{delete value[symToStringTag];}}
return result;}
var getSymbols=!nativeGetSymbols?stubArray:function(object){if(object==null){return[];}
object=Object(object);return arrayFilter(nativeGetSymbols(object),function(symbol){return propertyIsEnumerable.call(object,symbol);});};var getSymbolsIn=!nativeGetSymbols?stubArray:function(object){var result=[];while(object){arrayPush(result,getSymbols(object));object=getPrototype(object);}
return result;};var getTag=baseGetTag;if((DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag)||(Map&&getTag(new Map)!=mapTag)||(Promise&&getTag(Promise.resolve())!=promiseTag)||(Set&&getTag(new Set)!=setTag)||(WeakMap&&getTag(new WeakMap)!=weakMapTag)){getTag=function(value){var result=baseGetTag(value),Ctor=result==objectTag?value.constructor:undefined,ctorString=Ctor?toSource(Ctor):'';if(ctorString){switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag;}}
return result;};}
function getView(start,end,transforms){var index=-1,length=transforms.length;while(++index<length){var data=transforms[index],size=data.size;switch(data.type){case'drop':start+=size;break;case'dropRight':end-=size;break;case'take':end=nativeMin(end,start+size);break;case'takeRight':start=nativeMax(start,end-size);break;}}
return{'start':start,'end':end};}
function getWrapDetails(source){var match=source.match(reWrapDetails);return match?match[1].split(reSplitDetails):[];}
function hasPath(object,path,hasFunc){path=castPath(path,object);var index=-1,length=path.length,result=false;while(++index<length){var key=toKey(path[index]);if(!(result=object!=null&&hasFunc(object,key))){break;}
object=object[key];}
if(result||++index!=length){return result;}
length=object==null?0:object.length;return!!length&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object));}
function initCloneArray(array){var length=array.length,result=array.constructor(length);if(length&&typeof array[0]=='string'&&hasOwnProperty.call(array,'index')){result.index=array.index;result.input=array.input;}
return result;}
function initCloneObject(object){return(typeof object.constructor=='function'&&!isPrototype(object))?baseCreate(getPrototype(object)):{};}
function initCloneByTag(object,tag,cloneFunc,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return cloneArrayBuffer(object);case boolTag:case dateTag:return new Ctor(+object);case dataViewTag:return cloneDataView(object,isDeep);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:return cloneTypedArray(object,isDeep);case mapTag:return cloneMap(object,isDeep,cloneFunc);case numberTag:case stringTag:return new Ctor(object);case regexpTag:return cloneRegExp(object);case setTag:return cloneSet(object,isDeep,cloneFunc);case symbolTag:return cloneSymbol(object);}}
function insertWrapDetails(source,details){var length=details.length;if(!length){return source;}
var lastIndex=length-1;details[lastIndex]=(length>1?'& ':'')+details[lastIndex];details=details.join(length>2?', ':' ');return source.replace(reWrapComment,'{\n/* [wrapped with '+details+'] */\n');}
function isFlattenable(value){return isArray(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol]);}
function isIndex(value,length){length=length==null?MAX_SAFE_INTEGER:length;return!!length&&(typeof value=='number'||reIsUint.test(value))&&(value>-1&&value%1==0&&value<length);}
function isIterateeCall(value,index,object){if(!isObject(object)){return false;}
var type=typeof index;if(type=='number'?(isArrayLike(object)&&isIndex(index,object.length)):(type=='string'&&index in object)){return eq(object[index],value);}
return false;}
function isKey(value,object){if(isArray(value)){return false;}
var type=typeof value;if(type=='number'||type=='symbol'||type=='boolean'||value==null||isSymbol(value)){return true;}
return reIsPlainProp.test(value)||!reIsDeepProp.test(value)||(object!=null&&value in Object(object));}
function isKeyable(value){var type=typeof value;return(type=='string'||type=='number'||type=='symbol'||type=='boolean')?(value!=='__proto__'):(value===null);}
function isLaziable(func){var funcName=getFuncName(func),other=lodash[funcName];if(typeof other!='function'||!(funcName in LazyWrapper.prototype)){return false;}
if(func===other){return true;}
var data=getData(other);return!!data&&func===data[0];}
function isMasked(func){return!!maskSrcKey&&(maskSrcKey in func);}
var isMaskable=coreJsData?isFunction:stubFalse;function isPrototype(value){var Ctor=value&&value.constructor,proto=(typeof Ctor=='function'&&Ctor.prototype)||objectProto;return value===proto;}
function isStrictComparable(value){return value===value&&!isObject(value);}
function matchesStrictComparable(key,srcValue){return function(object){if(object==null){return false;}
return object[key]===srcValue&&(srcValue!==undefined||(key in Object(object)));};}
function memoizeCapped(func){var result=memoize(func,function(key){if(cache.size===MAX_MEMOIZE_SIZE){cache.clear();}
return key;});var cache=result.cache;return result;}
function mergeData(data,source){var bitmask=data[1],srcBitmask=source[1],newBitmask=bitmask|srcBitmask,isCommon=newBitmask<(WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG|WRAP_ARY_FLAG);var isCombo=((srcBitmask==WRAP_ARY_FLAG)&&(bitmask==WRAP_CURRY_FLAG))||((srcBitmask==WRAP_ARY_FLAG)&&(bitmask==WRAP_REARG_FLAG)&&(data[7].length<=source[8]))||((srcBitmask==(WRAP_ARY_FLAG|WRAP_REARG_FLAG))&&(source[7].length<=source[8])&&(bitmask==WRAP_CURRY_FLAG));if(!(isCommon||isCombo)){return data;}
if(srcBitmask&WRAP_BIND_FLAG){data[2]=source[2];newBitmask|=bitmask&WRAP_BIND_FLAG?0:WRAP_CURRY_BOUND_FLAG;}
var value=source[3];if(value){var partials=data[3];data[3]=partials?composeArgs(partials,value,source[4]):value;data[4]=partials?replaceHolders(data[3],PLACEHOLDER):source[4];}
value=source[5];if(value){partials=data[5];data[5]=partials?composeArgsRight(partials,value,source[6]):value;data[6]=partials?replaceHolders(data[5],PLACEHOLDER):source[6];}
value=source[7];if(value){data[7]=value;}
if(srcBitmask&WRAP_ARY_FLAG){data[8]=data[8]==null?source[8]:nativeMin(data[8],source[8]);}
if(data[9]==null){data[9]=source[9];}
data[0]=source[0];data[1]=newBitmask;return data;}
function nativeKeysIn(object){var result=[];if(object!=null){for(var key in Object(object)){result.push(key);}}
return result;}
function objectToString(value){return nativeObjectToString.call(value);}
function overRest(func,start,transform){start=nativeMax(start===undefined?(func.length-1):start,0);return function(){var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);while(++index<length){array[index]=args[start+index];}
index=-1;var otherArgs=Array(start+1);while(++index<start){otherArgs[index]=args[index];}
otherArgs[start]=transform(array);return apply(func,this,otherArgs);};}
function parent(object,path){return path.length<2?object:baseGet(object,baseSlice(path,0,-1));}
function reorder(array,indexes){var arrLength=array.length,length=nativeMin(indexes.length,arrLength),oldArray=copyArray(array);while(length--){var index=indexes[length];array[length]=isIndex(index,arrLength)?oldArray[index]:undefined;}
return array;}
var setData=shortOut(baseSetData);var setTimeout=ctxSetTimeout||function(func,wait){return root.setTimeout(func,wait);};var setToString=shortOut(baseSetToString);function setWrapToString(wrapper,reference,bitmask){var source=(reference+'');return setToString(wrapper,insertWrapDetails(source,updateWrapDetails(getWrapDetails(source),bitmask)));}
function shortOut(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=HOT_SPAN-(stamp-lastCalled);lastCalled=stamp;if(remaining>0){if(++count>=HOT_COUNT){return arguments[0];}}else{count=0;}
return func.apply(undefined,arguments);};}
function shuffleSelf(array,size){var index=-1,length=array.length,lastIndex=length-1;size=size===undefined?length:size;while(++index<size){var rand=baseRandom(index,lastIndex),value=array[rand];array[rand]=array[index];array[index]=value;}
array.length=size;return array;}
var stringToPath=memoizeCapped(function(string){var result=[];if(reLeadingDot.test(string)){result.push('');}
string.replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,'$1'):(number||match));});return result;});function toKey(value){if(typeof value=='string'||isSymbol(value)){return value;}
var result=(value+'');return(result=='0'&&(1 / value)==-INFINITY)?'-0':result;}
function toSource(func){if(func!=null){try{return funcToString.call(func);}catch(e){}
try{return(func+'');}catch(e){}}
return'';}
function updateWrapDetails(details,bitmask){arrayEach(wrapFlags,function(pair){var value='_.'+pair[0];if((bitmask&pair[1])&&!arrayIncludes(details,value)){details.push(value);}});return details.sort();}
function wrapperClone(wrapper){if(wrapper instanceof LazyWrapper){return wrapper.clone();}
var result=new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__);result.__actions__=copyArray(wrapper.__actions__);result.__index__=wrapper.__index__;result.__values__=wrapper.__values__;return result;}
function chunk(array,size,guard){if((guard?isIterateeCall(array,size,guard):size===undefined)){size=1;}else{size=nativeMax(toInteger(size),0);}
var length=array==null?0:array.length;if(!length||size<1){return[];}
var index=0,resIndex=0,result=Array(nativeCeil(length / size));while(index<length){result[resIndex++]=baseSlice(array,index,(index+=size));}
return result;}
function compact(array){var index=-1,length=array==null?0:array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(value){result[resIndex++]=value;}}
return result;}
function concat(){var length=arguments.length;if(!length){return[];}
var args=Array(length-1),array=arguments[0],index=length;while(index--){args[index-1]=arguments[index];}
return arrayPush(isArray(array)?copyArray(array):[array],baseFlatten(args,1));}
var difference=baseRest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,true)):[];});var differenceBy=baseRest(function(array,values){var iteratee=last(values);if(isArrayLikeObject(iteratee)){iteratee=undefined;}
return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,true),getIteratee(iteratee,2)):[];});var differenceWith=baseRest(function(array,values){var comparator=last(values);if(isArrayLikeObject(comparator)){comparator=undefined;}
return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,true),undefined,comparator):[];});function drop(array,n,guard){var length=array==null?0:array.length;if(!length){return[];}
n=(guard||n===undefined)?1:toInteger(n);return baseSlice(array,n<0?0:n,length);}
function dropRight(array,n,guard){var length=array==null?0:array.length;if(!length){return[];}
n=(guard||n===undefined)?1:toInteger(n);n=length-n;return baseSlice(array,0,n<0?0:n);}
function dropRightWhile(array,predicate){return(array&&array.length)?baseWhile(array,getIteratee(predicate,3),true,true):[];}
function dropWhile(array,predicate){return(array&&array.length)?baseWhile(array,getIteratee(predicate,3),true):[];}
function fill(array,value,start,end){var length=array==null?0:array.length;if(!length){return[];}
if(start&&typeof start!='number'&&isIterateeCall(array,value,start)){start=0;end=length;}
return baseFill(array,value,start,end);}
function findIndex(array,predicate,fromIndex){var length=array==null?0:array.length;if(!length){return-1;}
var index=fromIndex==null?0:toInteger(fromIndex);if(index<0){index=nativeMax(length+index,0);}
return baseFindIndex(array,getIteratee(predicate,3),index);}
function findLastIndex(array,predicate,fromIndex){var length=array==null?0:array.length;if(!length){return-1;}
var index=length-1;if(fromIndex!==undefined){index=toInteger(fromIndex);index=fromIndex<0?nativeMax(length+index,0):nativeMin(index,length-1);}
return baseFindIndex(array,getIteratee(predicate,3),index,true);}
function flatten(array){var length=array==null?0:array.length;return length?baseFlatten(array,1):[];}
function flattenDeep(array){var length=array==null?0:array.length;return length?baseFlatten(array,INFINITY):[];}
function flattenDepth(array,depth){var length=array==null?0:array.length;if(!length){return[];}
depth=depth===undefined?1:toInteger(depth);return baseFlatten(array,depth);}
function fromPairs(pairs){var index=-1,length=pairs==null?0:pairs.length,result={};while(++index<length){var pair=pairs[index];result[pair[0]]=pair[1];}
return result;}
function head(array){return(array&&array.length)?array[0]:undefined;}
function indexOf(array,value,fromIndex){var length=array==null?0:array.length;if(!length){return-1;}
var index=fromIndex==null?0:toInteger(fromIndex);if(index<0){index=nativeMax(length+index,0);}
return baseIndexOf(array,value,index);}
function initial(array){var length=array==null?0:array.length;return length?baseSlice(array,0,-1):[];}
var intersection=baseRest(function(arrays){var mapped=arrayMap(arrays,castArrayLikeObject);return(mapped.length&&mapped[0]===arrays[0])?baseIntersection(mapped):[];});var intersectionBy=baseRest(function(arrays){var iteratee=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);if(iteratee===last(mapped)){iteratee=undefined;}else{mapped.pop();}
return(mapped.length&&mapped[0]===arrays[0])?baseIntersection(mapped,getIteratee(iteratee,2)):[];});var intersectionWith=baseRest(function(arrays){var comparator=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);comparator=typeof comparator=='function'?comparator:undefined;if(comparator){mapped.pop();}
return(mapped.length&&mapped[0]===arrays[0])?baseIntersection(mapped,undefined,comparator):[];});function join(array,separator){return array==null?'':nativeJoin.call(array,separator);}
function last(array){var length=array==null?0:array.length;return length?array[length-1]:undefined;}
function lastIndexOf(array,value,fromIndex){var length=array==null?0:array.length;if(!length){return-1;}
var index=length;if(fromIndex!==undefined){index=toInteger(fromIndex);index=index<0?nativeMax(length+index,0):nativeMin(index,length-1);}
return value===value?strictLastIndexOf(array,value,index):baseFindIndex(array,baseIsNaN,index,true);}
function nth(array,n){return(array&&array.length)?baseNth(array,toInteger(n)):undefined;}
var pull=baseRest(pullAll);function pullAll(array,values){return(array&&array.length&&values&&values.length)?basePullAll(array,values):array;}
function pullAllBy(array,values,iteratee){return(array&&array.length&&values&&values.length)?basePullAll(array,values,getIteratee(iteratee,2)):array;}
function pullAllWith(array,values,comparator){return(array&&array.length&&values&&values.length)?basePullAll(array,values,undefined,comparator):array;}
var pullAt=flatRest(function(array,indexes){var length=array==null?0:array.length,result=baseAt(array,indexes);basePullAt(array,arrayMap(indexes,function(index){return isIndex(index,length)?+index:index;}).sort(compareAscending));return result;});function remove(array,predicate){var result=[];if(!(array&&array.length)){return result;}
var index=-1,indexes=[],length=array.length;predicate=getIteratee(predicate,3);while(++index<length){var value=array[index];if(predicate(value,index,array)){result.push(value);indexes.push(index);}}
basePullAt(array,indexes);return result;}
function reverse(array){return array==null?array:nativeReverse.call(array);}
function slice(array,start,end){var length=array==null?0:array.length;if(!length){return[];}
if(end&&typeof end!='number'&&isIterateeCall(array,start,end)){start=0;end=length;}
else{start=start==null?0:toInteger(start);end=end===undefined?length:toInteger(end);}
return baseSlice(array,start,end);}
function sortedIndex(array,value){return baseSortedIndex(array,value);}
function sortedIndexBy(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2));}
function sortedIndexOf(array,value){var length=array==null?0:array.length;if(length){var index=baseSortedIndex(array,value);if(index<length&&eq(array[index],value)){return index;}}
return-1;}
function sortedLastIndex(array,value){return baseSortedIndex(array,value,true);}
function sortedLastIndexBy(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2),true);}
function sortedLastIndexOf(array,value){var length=array==null?0:array.length;if(length){var index=baseSortedIndex(array,value,true)-1;if(eq(array[index],value)){return index;}}
return-1;}
function sortedUniq(array){return(array&&array.length)?baseSortedUniq(array):[];}
function sortedUniqBy(array,iteratee){return(array&&array.length)?baseSortedUniq(array,getIteratee(iteratee,2)):[];}
function tail(array){var length=array==null?0:array.length;return length?baseSlice(array,1,length):[];}
function take(array,n,guard){if(!(array&&array.length)){return[];}
n=(guard||n===undefined)?1:toInteger(n);return baseSlice(array,0,n<0?0:n);}
function takeRight(array,n,guard){var length=array==null?0:array.length;if(!length){return[];}
n=(guard||n===undefined)?1:toInteger(n);n=length-n;return baseSlice(array,n<0?0:n,length);}
function takeRightWhile(array,predicate){return(array&&array.length)?baseWhile(array,getIteratee(predicate,3),false,true):[];}
function takeWhile(array,predicate){return(array&&array.length)?baseWhile(array,getIteratee(predicate,3)):[];}
var union=baseRest(function(arrays){return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,true));});var unionBy=baseRest(function(arrays){var iteratee=last(arrays);if(isArrayLikeObject(iteratee)){iteratee=undefined;}
return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,true),getIteratee(iteratee,2));});var unionWith=baseRest(function(arrays){var comparator=last(arrays);comparator=typeof comparator=='function'?comparator:undefined;return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,true),undefined,comparator);});function uniq(array){return(array&&array.length)?baseUniq(array):[];}
function uniqBy(array,iteratee){return(array&&array.length)?baseUniq(array,getIteratee(iteratee,2)):[];}
function uniqWith(array,comparator){comparator=typeof comparator=='function'?comparator:undefined;return(array&&array.length)?baseUniq(array,undefined,comparator):[];}
function unzip(array){if(!(array&&array.length)){return[];}
var length=0;array=arrayFilter(array,function(group){if(isArrayLikeObject(group)){length=nativeMax(group.length,length);return true;}});return baseTimes(length,function(index){return arrayMap(array,baseProperty(index));});}
function unzipWith(array,iteratee){if(!(array&&array.length)){return[];}
var result=unzip(array);if(iteratee==null){return result;}
return arrayMap(result,function(group){return apply(iteratee,undefined,group);});}
var without=baseRest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,values):[];});var xor=baseRest(function(arrays){return baseXor(arrayFilter(arrays,isArrayLikeObject));});var xorBy=baseRest(function(arrays){var iteratee=last(arrays);if(isArrayLikeObject(iteratee)){iteratee=undefined;}
return baseXor(arrayFilter(arrays,isArrayLikeObject),getIteratee(iteratee,2));});var xorWith=baseRest(function(arrays){var comparator=last(arrays);comparator=typeof comparator=='function'?comparator:undefined;return baseXor(arrayFilter(arrays,isArrayLikeObject),undefined,comparator);});var zip=baseRest(unzip);function zipObject(props,values){return baseZipObject(props||[],values||[],assignValue);}
function zipObjectDeep(props,values){return baseZipObject(props||[],values||[],baseSet);}
var zipWith=baseRest(function(arrays){var length=arrays.length,iteratee=length>1?arrays[length-1]:undefined;iteratee=typeof iteratee=='function'?(arrays.pop(),iteratee):undefined;return unzipWith(arrays,iteratee);});function chain(value){var result=lodash(value);result.__chain__=true;return result;}
function tap(value,interceptor){interceptor(value);return value;}
function thru(value,interceptor){return interceptor(value);}
var wrapperAt=flatRest(function(paths){var length=paths.length,start=length?paths[0]:0,value=this.__wrapped__,interceptor=function(object){return baseAt(object,paths);};if(length>1||this.__actions__.length||!(value instanceof LazyWrapper)||!isIndex(start)){return this.thru(interceptor);}
value=value.slice(start,+start+(length?1:0));value.__actions__.push({'func':thru,'args':[interceptor],'thisArg':undefined});return new LodashWrapper(value,this.__chain__).thru(function(array){if(length&&!array.length){array.push(undefined);}
return array;});});function wrapperChain(){return chain(this);}
function wrapperCommit(){return new LodashWrapper(this.value(),this.__chain__);}
function wrapperNext(){if(this.__values__===undefined){this.__values__=toArray(this.value());}
var done=this.__index__>=this.__values__.length,value=done?undefined:this.__values__[this.__index__++];return{'done':done,'value':value};}
function wrapperToIterator(){return this;}
function wrapperPlant(value){var result,parent=this;while(parent instanceof baseLodash){var clone=wrapperClone(parent);clone.__index__=0;clone.__values__=undefined;if(result){previous.__wrapped__=clone;}else{result=clone;}
var previous=clone;parent=parent.__wrapped__;}
previous.__wrapped__=value;return result;}
function wrapperReverse(){var value=this.__wrapped__;if(value instanceof LazyWrapper){var wrapped=value;if(this.__actions__.length){wrapped=new LazyWrapper(this);}
wrapped=wrapped.reverse();wrapped.__actions__.push({'func':thru,'args':[reverse],'thisArg':undefined});return new LodashWrapper(wrapped,this.__chain__);}
return this.thru(reverse);}
function wrapperValue(){return baseWrapperValue(this.__wrapped__,this.__actions__);}
var countBy=createAggregator(function(result,value,key){if(hasOwnProperty.call(result,key)){++result[key];}else{baseAssignValue(result,key,1);}});function every(collection,predicate,guard){var func=isArray(collection)?arrayEvery:baseEvery;if(guard&&isIterateeCall(collection,predicate,guard)){predicate=undefined;}
return func(collection,getIteratee(predicate,3));}
function filter(collection,predicate){var func=isArray(collection)?arrayFilter:baseFilter;return func(collection,getIteratee(predicate,3));}
var find=createFind(findIndex);var findLast=createFind(findLastIndex);function flatMap(collection,iteratee){return baseFlatten(map(collection,iteratee),1);}
function flatMapDeep(collection,iteratee){return baseFlatten(map(collection,iteratee),INFINITY);}
function flatMapDepth(collection,iteratee,depth){depth=depth===undefined?1:toInteger(depth);return baseFlatten(map(collection,iteratee),depth);}
function forEach(collection,iteratee){var func=isArray(collection)?arrayEach:baseEach;return func(collection,getIteratee(iteratee,3));}
function forEachRight(collection,iteratee){var func=isArray(collection)?arrayEachRight:baseEachRight;return func(collection,getIteratee(iteratee,3));}
var groupBy=createAggregator(function(result,value,key){if(hasOwnProperty.call(result,key)){result[key].push(value);}else{baseAssignValue(result,key,[value]);}});function includes(collection,value,fromIndex,guard){collection=isArrayLike(collection)?collection:values(collection);fromIndex=(fromIndex&&!guard)?toInteger(fromIndex):0;var length=collection.length;if(fromIndex<0){fromIndex=nativeMax(length+fromIndex,0);}
return isString(collection)?(fromIndex<=length&&collection.indexOf(value,fromIndex)>-1):(!!length&&baseIndexOf(collection,value,fromIndex)>-1);}
var invokeMap=baseRest(function(collection,path,args){var index=-1,isFunc=typeof path=='function',result=isArrayLike(collection)?Array(collection.length):[];baseEach(collection,function(value){result[++index]=isFunc?apply(path,value,args):baseInvoke(value,path,args);});return result;});var keyBy=createAggregator(function(result,value,key){baseAssignValue(result,key,value);});function map(collection,iteratee){var func=isArray(collection)?arrayMap:baseMap;return func(collection,getIteratee(iteratee,3));}
function orderBy(collection,iteratees,orders,guard){if(collection==null){return[];}
if(!isArray(iteratees)){iteratees=iteratees==null?[]:[iteratees];}
orders=guard?undefined:orders;if(!isArray(orders)){orders=orders==null?[]:[orders];}
return baseOrderBy(collection,iteratees,orders);}
var partition=createAggregator(function(result,value,key){result[key?0:1].push(value);},function(){return[[],[]];});function reduce(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduce:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEach);}
function reduceRight(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduceRight:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEachRight);}
function reject(collection,predicate){var func=isArray(collection)?arrayFilter:baseFilter;return func(collection,negate(getIteratee(predicate,3)));}
function sample(collection){var func=isArray(collection)?arraySample:baseSample;return func(collection);}
function sampleSize(collection,n,guard){if((guard?isIterateeCall(collection,n,guard):n===undefined)){n=1;}else{n=toInteger(n);}
var func=isArray(collection)?arraySampleSize:baseSampleSize;return func(collection,n);}
function shuffle(collection){var func=isArray(collection)?arrayShuffle:baseShuffle;return func(collection);}
function size(collection){if(collection==null){return 0;}
if(isArrayLike(collection)){return isString(collection)?stringSize(collection):collection.length;}
var tag=getTag(collection);if(tag==mapTag||tag==setTag){return collection.size;}
return baseKeys(collection).length;}
function some(collection,predicate,guard){var func=isArray(collection)?arraySome:baseSome;if(guard&&isIterateeCall(collection,predicate,guard)){predicate=undefined;}
return func(collection,getIteratee(predicate,3));}
var sortBy=baseRest(function(collection,iteratees){if(collection==null){return[];}
var length=iteratees.length;if(length>1&&isIterateeCall(collection,iteratees[0],iteratees[1])){iteratees=[];}else if(length>2&&isIterateeCall(iteratees[0],iteratees[1],iteratees[2])){iteratees=[iteratees[0]];}
return baseOrderBy(collection,baseFlatten(iteratees,1),[]);});var now=ctxNow||function(){return root.Date.now();};function after(n,func){if(typeof func!='function'){throw new TypeError(FUNC_ERROR_TEXT);}
n=toInteger(n);return function(){if(--n<1){return func.apply(this,arguments);}};}
function ary(func,n,guard){n=guard?undefined:n;n=(func&&n==null)?func.length:n;return createWrap(func,WRAP_ARY_FLAG,undefined,undefined,undefined,undefined,n);}
function before(n,func){var result;if(typeof func!='function'){throw new TypeError(FUNC_ERROR_TEXT);}
n=toInteger(n);return function(){if(--n>0){result=func.apply(this,arguments);}
if(n<=1){func=undefined;}
return result;};}
var bind=baseRest(function(func,thisArg,partials){var bitmask=WRAP_BIND_FLAG;if(partials.length){var holders=replaceHolders(partials,getHolder(bind));bitmask|=WRAP_PARTIAL_FLAG;}
return createWrap(func,bitmask,thisArg,partials,holders);});var bindKey=baseRest(function(object,key,partials){var bitmask=WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG;if(partials.length){var holders=replaceHolders(partials,getHolder(bindKey));bitmask|=WRAP_PARTIAL_FLAG;}
return createWrap(key,bitmask,object,partials,holders);});function curry(func,arity,guard){arity=guard?undefined:arity;var result=createWrap(func,WRAP_CURRY_FLAG,undefined,undefined,undefined,undefined,undefined,arity);result.placeholder=curry.placeholder;return result;}
function curryRight(func,arity,guard){arity=guard?undefined:arity;var result=createWrap(func,WRAP_CURRY_RIGHT_FLAG,undefined,undefined,undefined,undefined,undefined,arity);result.placeholder=curryRight.placeholder;return result;}
function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=false,maxing=false,trailing=true;if(typeof func!='function'){throw new TypeError(FUNC_ERROR_TEXT);}
wait=toNumber(wait)||0;if(isObject(options)){leading=!!options.leading;maxing='maxWait'in options;maxWait=maxing?nativeMax(toNumber(options.maxWait)||0,wait):maxWait;trailing='trailing'in options?!!options.trailing:trailing;}
function invokeFunc(time){var args=lastArgs,thisArg=lastThis;lastArgs=lastThis=undefined;lastInvokeTime=time;result=func.apply(thisArg,args);return result;}
function leadingEdge(time){lastInvokeTime=time;timerId=setTimeout(timerExpired,wait);return leading?invokeFunc(time):result;}
function remainingWait(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime,result=wait-timeSinceLastCall;return maxing?nativeMin(result,maxWait-timeSinceLastInvoke):result;}
function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime;return(lastCallTime===undefined||(timeSinceLastCall>=wait)||(timeSinceLastCall<0)||(maxing&&timeSinceLastInvoke>=maxWait));}
function timerExpired(){var time=now();if(shouldInvoke(time)){return trailingEdge(time);}
timerId=setTimeout(timerExpired,remainingWait(time));}
function trailingEdge(time){timerId=undefined;if(trailing&&lastArgs){return invokeFunc(time);}
lastArgs=lastThis=undefined;return result;}
function cancel(){if(timerId!==undefined){clearTimeout(timerId);}
lastInvokeTime=0;lastArgs=lastCallTime=lastThis=timerId=undefined;}
function flush(){return timerId===undefined?result:trailingEdge(now());}
function debounced(){var time=now(),isInvoking=shouldInvoke(time);lastArgs=arguments;lastThis=this;lastCallTime=time;if(isInvoking){if(timerId===undefined){return leadingEdge(lastCallTime);}
if(maxing){timerId=setTimeout(timerExpired,wait);return invokeFunc(lastCallTime);}}
if(timerId===undefined){timerId=setTimeout(timerExpired,wait);}
return result;}
debounced.cancel=cancel;debounced.flush=flush;return debounced;}
var defer=baseRest(function(func,args){return baseDelay(func,1,args);});var delay=baseRest(function(func,wait,args){return baseDelay(func,toNumber(wait)||0,args);});function flip(func){return createWrap(func,WRAP_FLIP_FLAG);}
function memoize(func,resolver){if(typeof func!='function'||(resolver!=null&&typeof resolver!='function')){throw new TypeError(FUNC_ERROR_TEXT);}
var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key)){return cache.get(key);}
var result=func.apply(this,args);memoized.cache=cache.set(key,result)||cache;return result;};memoized.cache=new(memoize.Cache||MapCache);return memoized;}
memoize.Cache=MapCache;function negate(predicate){if(typeof predicate!='function'){throw new TypeError(FUNC_ERROR_TEXT);}
return function(){var args=arguments;switch(args.length){case 0:return!predicate.call(this);case 1:return!predicate.call(this,args[0]);case 2:return!predicate.call(this,args[0],args[1]);case 3:return!predicate.call(this,args[0],args[1],args[2]);}
return!predicate.apply(this,args);};}
function once(func){return before(2,func);}
var overArgs=castRest(function(func,transforms){transforms=(transforms.length==1&&isArray(transforms[0]))?arrayMap(transforms[0],baseUnary(getIteratee())):arrayMap(baseFlatten(transforms,1),baseUnary(getIteratee()));var funcsLength=transforms.length;return baseRest(function(args){var index=-1,length=nativeMin(args.length,funcsLength);while(++index<length){args[index]=transforms[index].call(this,args[index]);}
return apply(func,this,args);});});var partial=baseRest(function(func,partials){var holders=replaceHolders(partials,getHolder(partial));return createWrap(func,WRAP_PARTIAL_FLAG,undefined,partials,holders);});var partialRight=baseRest(function(func,partials){var holders=replaceHolders(partials,getHolder(partialRight));return createWrap(func,WRAP_PARTIAL_RIGHT_FLAG,undefined,partials,holders);});var rearg=flatRest(function(func,indexes){return createWrap(func,WRAP_REARG_FLAG,undefined,undefined,undefined,indexes);});function rest(func,start){if(typeof func!='function'){throw new TypeError(FUNC_ERROR_TEXT);}
start=start===undefined?start:toInteger(start);return baseRest(func,start);}
function spread(func,start){if(typeof func!='function'){throw new TypeError(FUNC_ERROR_TEXT);}
start=start==null?0:nativeMax(toInteger(start),0);return baseRest(function(args){var array=args[start],otherArgs=castSlice(args,0,start);if(array){arrayPush(otherArgs,array);}
return apply(func,this,otherArgs);});}
function throttle(func,wait,options){var leading=true,trailing=true;if(typeof func!='function'){throw new TypeError(FUNC_ERROR_TEXT);}
if(isObject(options)){leading='leading'in options?!!options.leading:leading;trailing='trailing'in options?!!options.trailing:trailing;}
return debounce(func,wait,{'leading':leading,'maxWait':wait,'trailing':trailing});}
function unary(func){return ary(func,1);}
function wrap(value,wrapper){return partial(castFunction(wrapper),value);}
function castArray(){if(!arguments.length){return[];}
var value=arguments[0];return isArray(value)?value:[value];}
function clone(value){return baseClone(value,CLONE_SYMBOLS_FLAG);}
function cloneWith(value,customizer){customizer=typeof customizer=='function'?customizer:undefined;return baseClone(value,CLONE_SYMBOLS_FLAG,customizer);}
function cloneDeep(value){return baseClone(value,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG);}
function cloneDeepWith(value,customizer){customizer=typeof customizer=='function'?customizer:undefined;return baseClone(value,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG,customizer);}
function conformsTo(object,source){return source==null||baseConformsTo(object,source,keys(source));}
function eq(value,other){return value===other||(value!==value&&other!==other);}
var gt=createRelationalOperation(baseGt);var gte=createRelationalOperation(function(value,other){return value>=other;});var isArguments=baseIsArguments(function(){return arguments;}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,'callee')&&!propertyIsEnumerable.call(value,'callee');};var isArray=Array.isArray;var isArrayBuffer=nodeIsArrayBuffer?baseUnary(nodeIsArrayBuffer):baseIsArrayBuffer;function isArrayLike(value){return value!=null&&isLength(value.length)&&!isFunction(value);}
function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value);}
function isBoolean(value){return value===true||value===false||(isObjectLike(value)&&baseGetTag(value)==boolTag);}
var isBuffer=nativeIsBuffer||stubFalse;var isDate=nodeIsDate?baseUnary(nodeIsDate):baseIsDate;function isElement(value){return isObjectLike(value)&&value.nodeType===1&&!isPlainObject(value);}
function isEmpty(value){if(value==null){return true;}
if(isArrayLike(value)&&(isArray(value)||typeof value=='string'||typeof value.splice=='function'||isBuffer(value)||isTypedArray(value)||isArguments(value))){return!value.length;}
var tag=getTag(value);if(tag==mapTag||tag==setTag){return!value.size;}
if(isPrototype(value)){return!baseKeys(value).length;}
for(var key in value){if(hasOwnProperty.call(value,key)){return false;}}
return true;}
function isEqual(value,other){return baseIsEqual(value,other);}
function isEqualWith(value,other,customizer){customizer=typeof customizer=='function'?customizer:undefined;var result=customizer?customizer(value,other):undefined;return result===undefined?baseIsEqual(value,other,undefined,customizer):!!result;}
function isError(value){if(!isObjectLike(value)){return false;}
var tag=baseGetTag(value);return tag==errorTag||tag==domExcTag||(typeof value.message=='string'&&typeof value.name=='string'&&!isPlainObject(value));}
function isFinite(value){return typeof value=='number'&&nativeIsFinite(value);}
function isFunction(value){if(!isObject(value)){return false;}
var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag;}
function isInteger(value){return typeof value=='number'&&value==toInteger(value);}
function isLength(value){return typeof value=='number'&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER;}
function isObject(value){var type=typeof value;return value!=null&&(type=='object'||type=='function');}
function isObjectLike(value){return value!=null&&typeof value=='object';}
var isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap;function isMatch(object,source){return object===source||baseIsMatch(object,source,getMatchData(source));}
function isMatchWith(object,source,customizer){customizer=typeof customizer=='function'?customizer:undefined;return baseIsMatch(object,source,getMatchData(source),customizer);}
function isNaN(value){return isNumber(value)&&value!=+value;}
function isNative(value){if(isMaskable(value)){throw new Error(CORE_ERROR_TEXT);}
return baseIsNative(value);}
function isNull(value){return value===null;}
function isNil(value){return value==null;}
function isNumber(value){return typeof value=='number'||(isObjectLike(value)&&baseGetTag(value)==numberTag);}
function isPlainObject(value){if(!isObjectLike(value)||baseGetTag(value)!=objectTag){return false;}
var proto=getPrototype(value);if(proto===null){return true;}
var Ctor=hasOwnProperty.call(proto,'constructor')&&proto.constructor;return typeof Ctor=='function'&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString;}
var isRegExp=nodeIsRegExp?baseUnary(nodeIsRegExp):baseIsRegExp;function isSafeInteger(value){return isInteger(value)&&value>=-MAX_SAFE_INTEGER&&value<=MAX_SAFE_INTEGER;}
var isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet;function isString(value){return typeof value=='string'||(!isArray(value)&&isObjectLike(value)&&baseGetTag(value)==stringTag);}
function isSymbol(value){return typeof value=='symbol'||(isObjectLike(value)&&baseGetTag(value)==symbolTag);}
var isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;function isUndefined(value){return value===undefined;}
function isWeakMap(value){return isObjectLike(value)&&getTag(value)==weakMapTag;}
function isWeakSet(value){return isObjectLike(value)&&baseGetTag(value)==weakSetTag;}
var lt=createRelationalOperation(baseLt);var lte=createRelationalOperation(function(value,other){return value<=other;});function toArray(value){if(!value){return[];}
if(isArrayLike(value)){return isString(value)?stringToArray(value):copyArray(value);}
if(symIterator&&value[symIterator]){return iteratorToArray(value[symIterator]());}
var tag=getTag(value),func=tag==mapTag?mapToArray:(tag==setTag?setToArray:values);return func(value);}
function toFinite(value){if(!value){return value===0?value:0;}
value=toNumber(value);if(value===INFINITY||value===-INFINITY){var sign=(value<0?-1:1);return sign*MAX_INTEGER;}
return value===value?value:0;}
function toInteger(value){var result=toFinite(value),remainder=result%1;return result===result?(remainder?result-remainder:result):0;}
function toLength(value){return value?baseClamp(toInteger(value),0,MAX_ARRAY_LENGTH):0;}
function toNumber(value){if(typeof value=='number'){return value;}
if(isSymbol(value)){return NAN;}
if(isObject(value)){var other=typeof value.valueOf=='function'?value.valueOf():value;value=isObject(other)?(other+''):other;}
if(typeof value!='string'){return value===0?value:+value;}
value=value.replace(reTrim,'');var isBinary=reIsBinary.test(value);return(isBinary||reIsOctal.test(value))?freeParseInt(value.slice(2),isBinary?2:8):(reIsBadHex.test(value)?NAN:+value);}
function toPlainObject(value){return copyObject(value,keysIn(value));}
function toSafeInteger(value){return value?baseClamp(toInteger(value),-MAX_SAFE_INTEGER,MAX_SAFE_INTEGER):(value===0?value:0);}
function toString(value){return value==null?'':baseToString(value);}
var assign=createAssigner(function(object,source){if(isPrototype(source)||isArrayLike(source)){copyObject(source,keys(source),object);return;}
for(var key in source){if(hasOwnProperty.call(source,key)){assignValue(object,key,source[key]);}}});var assignIn=createAssigner(function(object,source){copyObject(source,keysIn(source),object);});var assignInWith=createAssigner(function(object,source,srcIndex,customizer){copyObject(source,keysIn(source),object,customizer);});var assignWith=createAssigner(function(object,source,srcIndex,customizer){copyObject(source,keys(source),object,customizer);});var at=flatRest(baseAt);function create(prototype,properties){var result=baseCreate(prototype);return properties==null?result:baseAssign(result,properties);}
var defaults=baseRest(function(args){args.push(undefined,customDefaultsAssignIn);return apply(assignInWith,undefined,args);});var defaultsDeep=baseRest(function(args){args.push(undefined,customDefaultsMerge);return apply(mergeWith,undefined,args);});function findKey(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwn);}
function findLastKey(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwnRight);}
function forIn(object,iteratee){return object==null?object:baseFor(object,getIteratee(iteratee,3),keysIn);}
function forInRight(object,iteratee){return object==null?object:baseForRight(object,getIteratee(iteratee,3),keysIn);}
function forOwn(object,iteratee){return object&&baseForOwn(object,getIteratee(iteratee,3));}
function forOwnRight(object,iteratee){return object&&baseForOwnRight(object,getIteratee(iteratee,3));}
function functions(object){return object==null?[]:baseFunctions(object,keys(object));}
function functionsIn(object){return object==null?[]:baseFunctions(object,keysIn(object));}
function get(object,path,defaultValue){var result=object==null?undefined:baseGet(object,path);return result===undefined?defaultValue:result;}
function has(object,path){return object!=null&&hasPath(object,path,baseHas);}
function hasIn(object,path){return object!=null&&hasPath(object,path,baseHasIn);}
var invert=createInverter(function(result,value,key){result[value]=key;},constant(identity));var invertBy=createInverter(function(result,value,key){if(hasOwnProperty.call(result,value)){result[value].push(key);}else{result[value]=[key];}},getIteratee);var invoke=baseRest(baseInvoke);function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object);}
function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object,true):baseKeysIn(object);}
function mapKeys(object,iteratee){var result={};iteratee=getIteratee(iteratee,3);baseForOwn(object,function(value,key,object){baseAssignValue(result,iteratee(value,key,object),value);});return result;}
function mapValues(object,iteratee){var result={};iteratee=getIteratee(iteratee,3);baseForOwn(object,function(value,key,object){baseAssignValue(result,key,iteratee(value,key,object));});return result;}
var merge=createAssigner(function(object,source,srcIndex){baseMerge(object,source,srcIndex);});var mergeWith=createAssigner(function(object,source,srcIndex,customizer){baseMerge(object,source,srcIndex,customizer);});var omit=flatRest(function(object,paths){var result={};if(object==null){return result;}
var isDeep=false;paths=arrayMap(paths,function(path){path=castPath(path,object);isDeep||(isDeep=path.length>1);return path;});copyObject(object,getAllKeysIn(object),result);if(isDeep){result=baseClone(result,CLONE_DEEP_FLAG|CLONE_FLAT_FLAG|CLONE_SYMBOLS_FLAG,customOmitClone);}
var length=paths.length;while(length--){baseUnset(result,paths[length]);}
return result;});function omitBy(object,predicate){return pickBy(object,negate(getIteratee(predicate)));}
var pick=flatRest(function(object,paths){return object==null?{}:basePick(object,paths);});function pickBy(object,predicate){if(object==null){return{};}
var props=arrayMap(getAllKeysIn(object),function(prop){return[prop];});predicate=getIteratee(predicate);return basePickBy(object,props,function(value,path){return predicate(value,path[0]);});}
function result(object,path,defaultValue){path=castPath(path,object);var index=-1,length=path.length;if(!length){length=1;object=undefined;}
while(++index<length){var value=object==null?undefined:object[toKey(path[index])];if(value===undefined){index=length;value=defaultValue;}
object=isFunction(value)?value.call(object):value;}
return object;}
function set(object,path,value){return object==null?object:baseSet(object,path,value);}
function setWith(object,path,value,customizer){customizer=typeof customizer=='function'?customizer:undefined;return object==null?object:baseSet(object,path,value,customizer);}
var toPairs=createToPairs(keys);var toPairsIn=createToPairs(keysIn);function transform(object,iteratee,accumulator){var isArr=isArray(object),isArrLike=isArr||isBuffer(object)||isTypedArray(object);iteratee=getIteratee(iteratee,4);if(accumulator==null){var Ctor=object&&object.constructor;if(isArrLike){accumulator=isArr?new Ctor:[];}
else if(isObject(object)){accumulator=isFunction(Ctor)?baseCreate(getPrototype(object)):{};}
else{accumulator={};}}
(isArrLike?arrayEach:baseForOwn)(object,function(value,index,object){return iteratee(accumulator,value,index,object);});return accumulator;}
function unset(object,path){return object==null?true:baseUnset(object,path);}
function update(object,path,updater){return object==null?object:baseUpdate(object,path,castFunction(updater));}
function updateWith(object,path,updater,customizer){customizer=typeof customizer=='function'?customizer:undefined;return object==null?object:baseUpdate(object,path,castFunction(updater),customizer);}
function values(object){return object==null?[]:baseValues(object,keys(object));}
function valuesIn(object){return object==null?[]:baseValues(object,keysIn(object));}
function clamp(number,lower,upper){if(upper===undefined){upper=lower;lower=undefined;}
if(upper!==undefined){upper=toNumber(upper);upper=upper===upper?upper:0;}
if(lower!==undefined){lower=toNumber(lower);lower=lower===lower?lower:0;}
return baseClamp(toNumber(number),lower,upper);}
function inRange(number,start,end){start=toFinite(start);if(end===undefined){end=start;start=0;}else{end=toFinite(end);}
number=toNumber(number);return baseInRange(number,start,end);}
function random(lower,upper,floating){if(floating&&typeof floating!='boolean'&&isIterateeCall(lower,upper,floating)){upper=floating=undefined;}
if(floating===undefined){if(typeof upper=='boolean'){floating=upper;upper=undefined;}
else if(typeof lower=='boolean'){floating=lower;lower=undefined;}}
if(lower===undefined&&upper===undefined){lower=0;upper=1;}
else{lower=toFinite(lower);if(upper===undefined){upper=lower;lower=0;}else{upper=toFinite(upper);}}
if(lower>upper){var temp=lower;lower=upper;upper=temp;}
if(floating||lower%1||upper%1){var rand=nativeRandom();return nativeMin(lower+(rand*(upper-lower+freeParseFloat('1e-'+((rand+'').length-1)))),upper);}
return baseRandom(lower,upper);}
var camelCase=createCompounder(function(result,word,index){word=word.toLowerCase();return result+(index?capitalize(word):word);});function capitalize(string){return upperFirst(toString(string).toLowerCase());}
function deburr(string){string=toString(string);return string&&string.replace(reLatin,deburrLetter).replace(reComboMark,'');}
function endsWith(string,target,position){string=toString(string);target=baseToString(target);var length=string.length;position=position===undefined?length:baseClamp(toInteger(position),0,length);var end=position;position-=target.length;return position>=0&&string.slice(position,end)==target;}
function escape(string){string=toString(string);return(string&&reHasUnescapedHtml.test(string))?string.replace(reUnescapedHtml,escapeHtmlChar):string;}
function escapeRegExp(string){string=toString(string);return(string&&reHasRegExpChar.test(string))?string.replace(reRegExpChar,'\\$&'):string;}
var kebabCase=createCompounder(function(result,word,index){return result+(index?'-':'')+word.toLowerCase();});var lowerCase=createCompounder(function(result,word,index){return result+(index?' ':'')+word.toLowerCase();});var lowerFirst=createCaseFirst('toLowerCase');function pad(string,length,chars){string=toString(string);length=toInteger(length);var strLength=length?stringSize(string):0;if(!length||strLength>=length){return string;}
var mid=(length-strLength)/ 2;return(createPadding(nativeFloor(mid),chars)+
string+
createPadding(nativeCeil(mid),chars));}
function padEnd(string,length,chars){string=toString(string);length=toInteger(length);var strLength=length?stringSize(string):0;return(length&&strLength<length)?(string+createPadding(length-strLength,chars)):string;}
function padStart(string,length,chars){string=toString(string);length=toInteger(length);var strLength=length?stringSize(string):0;return(length&&strLength<length)?(createPadding(length-strLength,chars)+string):string;}
function parseInt(string,radix,guard){if(guard||radix==null){radix=0;}else if(radix){radix=+radix;}
return nativeParseInt(toString(string).replace(reTrimStart,''),radix||0);}
function repeat(string,n,guard){if((guard?isIterateeCall(string,n,guard):n===undefined)){n=1;}else{n=toInteger(n);}
return baseRepeat(toString(string),n);}
function replace(){var args=arguments,string=toString(args[0]);return args.length<3?string:string.replace(args[1],args[2]);}
var snakeCase=createCompounder(function(result,word,index){return result+(index?'_':'')+word.toLowerCase();});function split(string,separator,limit){if(limit&&typeof limit!='number'&&isIterateeCall(string,separator,limit)){separator=limit=undefined;}
limit=limit===undefined?MAX_ARRAY_LENGTH:limit>>>0;if(!limit){return[];}
string=toString(string);if(string&&(typeof separator=='string'||(separator!=null&&!isRegExp(separator)))){separator=baseToString(separator);if(!separator&&hasUnicode(string)){return castSlice(stringToArray(string),0,limit);}}
return string.split(separator,limit);}
var startCase=createCompounder(function(result,word,index){return result+(index?' ':'')+upperFirst(word);});function startsWith(string,target,position){string=toString(string);position=position==null?0:baseClamp(toInteger(position),0,string.length);target=baseToString(target);return string.slice(position,position+target.length)==target;}
function template(string,options,guard){var settings=lodash.templateSettings;if(guard&&isIterateeCall(string,options,guard)){options=undefined;}
string=toString(string);options=assignInWith({},options,settings,customDefaultsAssignIn);var imports=assignInWith({},options.imports,settings.imports,customDefaultsAssignIn),importsKeys=keys(imports),importsValues=baseValues(imports,importsKeys);var isEscaping,isEvaluating,index=0,interpolate=options.interpolate||reNoMatch,source="__p += '";var reDelimiters=RegExp((options.escape||reNoMatch).source+'|'+
interpolate.source+'|'+
(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+'|'+
(options.evaluate||reNoMatch).source+'|$','g');var sourceURL='//# sourceURL='+
('sourceURL'in options?options.sourceURL:('lodash.templateSources['+(++templateCounter)+']'))+'\n';string.replace(reDelimiters,function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){interpolateValue||(interpolateValue=esTemplateValue);source+=string.slice(index,offset).replace(reUnescapedString,escapeStringChar);if(escapeValue){isEscaping=true;source+="' +\n__e("+escapeValue+") +\n'";}
if(evaluateValue){isEvaluating=true;source+="';\n"+evaluateValue+";\n__p += '";}
if(interpolateValue){source+="' +\n((__t = ("+interpolateValue+")) == null ? '' : __t) +\n'";}
index=offset+match.length;return match;});source+="';\n";var variable=options.variable;if(!variable){source='with (obj) {\n'+source+'\n}\n';}
source=(isEvaluating?source.replace(reEmptyStringLeading,''):source).replace(reEmptyStringMiddle,'$1').replace(reEmptyStringTrailing,'$1;');source='function('+(variable||'obj')+') {\n'+
(variable?'':'obj || (obj = {});\n')+"var __t, __p = ''"+
(isEscaping?', __e = _.escape':'')+
(isEvaluating?', __j = Array.prototype.join;\n'+"function print() { __p += __j.call(arguments, '') }\n":';\n')+
source+'return __p\n}';var result=attempt(function(){return Function(importsKeys,sourceURL+'return '+source).apply(undefined,importsValues);});result.source=source;if(isError(result)){throw result;}
return result;}
function toLower(value){return toString(value).toLowerCase();}
function toUpper(value){return toString(value).toUpperCase();}
function trim(string,chars,guard){string=toString(string);if(string&&(guard||chars===undefined)){return string.replace(reTrim,'');}
if(!string||!(chars=baseToString(chars))){return string;}
var strSymbols=stringToArray(string),chrSymbols=stringToArray(chars),start=charsStartIndex(strSymbols,chrSymbols),end=charsEndIndex(strSymbols,chrSymbols)+1;return castSlice(strSymbols,start,end).join('');}
function trimEnd(string,chars,guard){string=toString(string);if(string&&(guard||chars===undefined)){return string.replace(reTrimEnd,'');}
if(!string||!(chars=baseToString(chars))){return string;}
var strSymbols=stringToArray(string),end=charsEndIndex(strSymbols,stringToArray(chars))+1;return castSlice(strSymbols,0,end).join('');}
function trimStart(string,chars,guard){string=toString(string);if(string&&(guard||chars===undefined)){return string.replace(reTrimStart,'');}
if(!string||!(chars=baseToString(chars))){return string;}
var strSymbols=stringToArray(string),start=charsStartIndex(strSymbols,stringToArray(chars));return castSlice(strSymbols,start).join('');}
function truncate(string,options){var length=DEFAULT_TRUNC_LENGTH,omission=DEFAULT_TRUNC_OMISSION;if(isObject(options)){var separator='separator'in options?options.separator:separator;length='length'in options?toInteger(options.length):length;omission='omission'in options?baseToString(options.omission):omission;}
string=toString(string);var strLength=string.length;if(hasUnicode(string)){var strSymbols=stringToArray(string);strLength=strSymbols.length;}
if(length>=strLength){return string;}
var end=length-stringSize(omission);if(end<1){return omission;}
var result=strSymbols?castSlice(strSymbols,0,end).join(''):string.slice(0,end);if(separator===undefined){return result+omission;}
if(strSymbols){end+=(result.length-end);}
if(isRegExp(separator)){if(string.slice(end).search(separator)){var match,substring=result;if(!separator.global){separator=RegExp(separator.source,toString(reFlags.exec(separator))+'g');}
separator.lastIndex=0;while((match=separator.exec(substring))){var newEnd=match.index;}
result=result.slice(0,newEnd===undefined?end:newEnd);}}else if(string.indexOf(baseToString(separator),end)!=end){var index=result.lastIndexOf(separator);if(index>-1){result=result.slice(0,index);}}
return result+omission;}
function unescape(string){string=toString(string);return(string&&reHasEscapedHtml.test(string))?string.replace(reEscapedHtml,unescapeHtmlChar):string;}
var upperCase=createCompounder(function(result,word,index){return result+(index?' ':'')+word.toUpperCase();});var upperFirst=createCaseFirst('toUpperCase');function words(string,pattern,guard){string=toString(string);pattern=guard?undefined:pattern;if(pattern===undefined){return hasUnicodeWord(string)?unicodeWords(string):asciiWords(string);}
return string.match(pattern)||[];}
var attempt=baseRest(function(func,args){try{return apply(func,undefined,args);}catch(e){return isError(e)?e:new Error(e);}});var bindAll=flatRest(function(object,methodNames){arrayEach(methodNames,function(key){key=toKey(key);baseAssignValue(object,key,bind(object[key],object));});return object;});function cond(pairs){var length=pairs==null?0:pairs.length,toIteratee=getIteratee();pairs=!length?[]:arrayMap(pairs,function(pair){if(typeof pair[1]!='function'){throw new TypeError(FUNC_ERROR_TEXT);}
return[toIteratee(pair[0]),pair[1]];});return baseRest(function(args){var index=-1;while(++index<length){var pair=pairs[index];if(apply(pair[0],this,args)){return apply(pair[1],this,args);}}});}
function conforms(source){return baseConforms(baseClone(source,CLONE_DEEP_FLAG));}
function constant(value){return function(){return value;};}
function defaultTo(value,defaultValue){return(value==null||value!==value)?defaultValue:value;}
var flow=createFlow();var flowRight=createFlow(true);function identity(value){return value;}
function iteratee(func){return baseIteratee(typeof func=='function'?func:baseClone(func,CLONE_DEEP_FLAG));}
function matches(source){return baseMatches(baseClone(source,CLONE_DEEP_FLAG));}
function matchesProperty(path,srcValue){return baseMatchesProperty(path,baseClone(srcValue,CLONE_DEEP_FLAG));}
var method=baseRest(function(path,args){return function(object){return baseInvoke(object,path,args);};});var methodOf=baseRest(function(object,args){return function(path){return baseInvoke(object,path,args);};});function mixin(object,source,options){var props=keys(source),methodNames=baseFunctions(source,props);if(options==null&&!(isObject(source)&&(methodNames.length||!props.length))){options=source;source=object;object=this;methodNames=baseFunctions(source,keys(source));}
var chain=!(isObject(options)&&'chain'in options)||!!options.chain,isFunc=isFunction(object);arrayEach(methodNames,function(methodName){var func=source[methodName];object[methodName]=func;if(isFunc){object.prototype[methodName]=function(){var chainAll=this.__chain__;if(chain||chainAll){var result=object(this.__wrapped__),actions=result.__actions__=copyArray(this.__actions__);actions.push({'func':func,'args':arguments,'thisArg':object});result.__chain__=chainAll;return result;}
return func.apply(object,arrayPush([this.value()],arguments));};}});return object;}
function noConflict(){if(root._===this){root._=oldDash;}
return this;}
function noop(){}
function nthArg(n){n=toInteger(n);return baseRest(function(args){return baseNth(args,n);});}
var over=createOver(arrayMap);var overEvery=createOver(arrayEvery);var overSome=createOver(arraySome);function property(path){return isKey(path)?baseProperty(toKey(path)):basePropertyDeep(path);}
function propertyOf(object){return function(path){return object==null?undefined:baseGet(object,path);};}
var range=createRange();var rangeRight=createRange(true);function stubArray(){return[];}
function stubFalse(){return false;}
function stubObject(){return{};}
function stubString(){return'';}
function stubTrue(){return true;}
function times(n,iteratee){n=toInteger(n);if(n<1||n>MAX_SAFE_INTEGER){return[];}
var index=MAX_ARRAY_LENGTH,length=nativeMin(n,MAX_ARRAY_LENGTH);iteratee=getIteratee(iteratee);n-=MAX_ARRAY_LENGTH;var result=baseTimes(length,iteratee);while(++index<n){iteratee(index);}
return result;}
function toPath(value){if(isArray(value)){return arrayMap(value,toKey);}
return isSymbol(value)?[value]:copyArray(stringToPath(toString(value)));}
function uniqueId(prefix){var id=++idCounter;return toString(prefix)+id;}
var add=createMathOperation(function(augend,addend){return augend+addend;},0);var ceil=createRound('ceil');var divide=createMathOperation(function(dividend,divisor){return dividend / divisor;},1);var floor=createRound('floor');function max(array){return(array&&array.length)?baseExtremum(array,identity,baseGt):undefined;}
function maxBy(array,iteratee){return(array&&array.length)?baseExtremum(array,getIteratee(iteratee,2),baseGt):undefined;}
function mean(array){return baseMean(array,identity);}
function meanBy(array,iteratee){return baseMean(array,getIteratee(iteratee,2));}
function min(array){return(array&&array.length)?baseExtremum(array,identity,baseLt):undefined;}
function minBy(array,iteratee){return(array&&array.length)?baseExtremum(array,getIteratee(iteratee,2),baseLt):undefined;}
var multiply=createMathOperation(function(multiplier,multiplicand){return multiplier*multiplicand;},1);var round=createRound('round');var subtract=createMathOperation(function(minuend,subtrahend){return minuend-subtrahend;},0);function sum(array){return(array&&array.length)?baseSum(array,identity):0;}
function sumBy(array,iteratee){return(array&&array.length)?baseSum(array,getIteratee(iteratee,2)):0;}
lodash.after=after;lodash.ary=ary;lodash.assign=assign;lodash.assignIn=assignIn;lodash.assignInWith=assignInWith;lodash.assignWith=assignWith;lodash.at=at;lodash.before=before;lodash.bind=bind;lodash.bindAll=bindAll;lodash.bindKey=bindKey;lodash.castArray=castArray;lodash.chain=chain;lodash.chunk=chunk;lodash.compact=compact;lodash.concat=concat;lodash.cond=cond;lodash.conforms=conforms;lodash.constant=constant;lodash.countBy=countBy;lodash.create=create;lodash.curry=curry;lodash.curryRight=curryRight;lodash.debounce=debounce;lodash.defaults=defaults;lodash.defaultsDeep=defaultsDeep;lodash.defer=defer;lodash.delay=delay;lodash.difference=difference;lodash.differenceBy=differenceBy;lodash.differenceWith=differenceWith;lodash.drop=drop;lodash.dropRight=dropRight;lodash.dropRightWhile=dropRightWhile;lodash.dropWhile=dropWhile;lodash.fill=fill;lodash.filter=filter;lodash.flatMap=flatMap;lodash.flatMapDeep=flatMapDeep;lodash.flatMapDepth=flatMapDepth;lodash.flatten=flatten;lodash.flattenDeep=flattenDeep;lodash.flattenDepth=flattenDepth;lodash.flip=flip;lodash.flow=flow;lodash.flowRight=flowRight;lodash.fromPairs=fromPairs;lodash.functions=functions;lodash.functionsIn=functionsIn;lodash.groupBy=groupBy;lodash.initial=initial;lodash.intersection=intersection;lodash.intersectionBy=intersectionBy;lodash.intersectionWith=intersectionWith;lodash.invert=invert;lodash.invertBy=invertBy;lodash.invokeMap=invokeMap;lodash.iteratee=iteratee;lodash.keyBy=keyBy;lodash.keys=keys;lodash.keysIn=keysIn;lodash.map=map;lodash.mapKeys=mapKeys;lodash.mapValues=mapValues;lodash.matches=matches;lodash.matchesProperty=matchesProperty;lodash.memoize=memoize;lodash.merge=merge;lodash.mergeWith=mergeWith;lodash.method=method;lodash.methodOf=methodOf;lodash.mixin=mixin;lodash.negate=negate;lodash.nthArg=nthArg;lodash.omit=omit;lodash.omitBy=omitBy;lodash.once=once;lodash.orderBy=orderBy;lodash.over=over;lodash.overArgs=overArgs;lodash.overEvery=overEvery;lodash.overSome=overSome;lodash.partial=partial;lodash.partialRight=partialRight;lodash.partition=partition;lodash.pick=pick;lodash.pickBy=pickBy;lodash.property=property;lodash.propertyOf=propertyOf;lodash.pull=pull;lodash.pullAll=pullAll;lodash.pullAllBy=pullAllBy;lodash.pullAllWith=pullAllWith;lodash.pullAt=pullAt;lodash.range=range;lodash.rangeRight=rangeRight;lodash.rearg=rearg;lodash.reject=reject;lodash.remove=remove;lodash.rest=rest;lodash.reverse=reverse;lodash.sampleSize=sampleSize;lodash.set=set;lodash.setWith=setWith;lodash.shuffle=shuffle;lodash.slice=slice;lodash.sortBy=sortBy;lodash.sortedUniq=sortedUniq;lodash.sortedUniqBy=sortedUniqBy;lodash.split=split;lodash.spread=spread;lodash.tail=tail;lodash.take=take;lodash.takeRight=takeRight;lodash.takeRightWhile=takeRightWhile;lodash.takeWhile=takeWhile;lodash.tap=tap;lodash.throttle=throttle;lodash.thru=thru;lodash.toArray=toArray;lodash.toPairs=toPairs;lodash.toPairsIn=toPairsIn;lodash.toPath=toPath;lodash.toPlainObject=toPlainObject;lodash.transform=transform;lodash.unary=unary;lodash.union=union;lodash.unionBy=unionBy;lodash.unionWith=unionWith;lodash.uniq=uniq;lodash.uniqBy=uniqBy;lodash.uniqWith=uniqWith;lodash.unset=unset;lodash.unzip=unzip;lodash.unzipWith=unzipWith;lodash.update=update;lodash.updateWith=updateWith;lodash.values=values;lodash.valuesIn=valuesIn;lodash.without=without;lodash.words=words;lodash.wrap=wrap;lodash.xor=xor;lodash.xorBy=xorBy;lodash.xorWith=xorWith;lodash.zip=zip;lodash.zipObject=zipObject;lodash.zipObjectDeep=zipObjectDeep;lodash.zipWith=zipWith;lodash.entries=toPairs;lodash.entriesIn=toPairsIn;lodash.extend=assignIn;lodash.extendWith=assignInWith;mixin(lodash,lodash);lodash.add=add;lodash.attempt=attempt;lodash.camelCase=camelCase;lodash.capitalize=capitalize;lodash.ceil=ceil;lodash.clamp=clamp;lodash.clone=clone;lodash.cloneDeep=cloneDeep;lodash.cloneDeepWith=cloneDeepWith;lodash.cloneWith=cloneWith;lodash.conformsTo=conformsTo;lodash.deburr=deburr;lodash.defaultTo=defaultTo;lodash.divide=divide;lodash.endsWith=endsWith;lodash.eq=eq;lodash.escape=escape;lodash.escapeRegExp=escapeRegExp;lodash.every=every;lodash.find=find;lodash.findIndex=findIndex;lodash.findKey=findKey;lodash.findLast=findLast;lodash.findLastIndex=findLastIndex;lodash.findLastKey=findLastKey;lodash.floor=floor;lodash.forEach=forEach;lodash.forEachRight=forEachRight;lodash.forIn=forIn;lodash.forInRight=forInRight;lodash.forOwn=forOwn;lodash.forOwnRight=forOwnRight;lodash.get=get;lodash.gt=gt;lodash.gte=gte;lodash.has=has;lodash.hasIn=hasIn;lodash.head=head;lodash.identity=identity;lodash.includes=includes;lodash.indexOf=indexOf;lodash.inRange=inRange;lodash.invoke=invoke;lodash.isArguments=isArguments;lodash.isArray=isArray;lodash.isArrayBuffer=isArrayBuffer;lodash.isArrayLike=isArrayLike;lodash.isArrayLikeObject=isArrayLikeObject;lodash.isBoolean=isBoolean;lodash.isBuffer=isBuffer;lodash.isDate=isDate;lodash.isElement=isElement;lodash.isEmpty=isEmpty;lodash.isEqual=isEqual;lodash.isEqualWith=isEqualWith;lodash.isError=isError;lodash.isFinite=isFinite;lodash.isFunction=isFunction;lodash.isInteger=isInteger;lodash.isLength=isLength;lodash.isMap=isMap;lodash.isMatch=isMatch;lodash.isMatchWith=isMatchWith;lodash.isNaN=isNaN;lodash.isNative=isNative;lodash.isNil=isNil;lodash.isNull=isNull;lodash.isNumber=isNumber;lodash.isObject=isObject;lodash.isObjectLike=isObjectLike;lodash.isPlainObject=isPlainObject;lodash.isRegExp=isRegExp;lodash.isSafeInteger=isSafeInteger;lodash.isSet=isSet;lodash.isString=isString;lodash.isSymbol=isSymbol;lodash.isTypedArray=isTypedArray;lodash.isUndefined=isUndefined;lodash.isWeakMap=isWeakMap;lodash.isWeakSet=isWeakSet;lodash.join=join;lodash.kebabCase=kebabCase;lodash.last=last;lodash.lastIndexOf=lastIndexOf;lodash.lowerCase=lowerCase;lodash.lowerFirst=lowerFirst;lodash.lt=lt;lodash.lte=lte;lodash.max=max;lodash.maxBy=maxBy;lodash.mean=mean;lodash.meanBy=meanBy;lodash.min=min;lodash.minBy=minBy;lodash.stubArray=stubArray;lodash.stubFalse=stubFalse;lodash.stubObject=stubObject;lodash.stubString=stubString;lodash.stubTrue=stubTrue;lodash.multiply=multiply;lodash.nth=nth;lodash.noConflict=noConflict;lodash.noop=noop;lodash.now=now;lodash.pad=pad;lodash.padEnd=padEnd;lodash.padStart=padStart;lodash.parseInt=parseInt;lodash.random=random;lodash.reduce=reduce;lodash.reduceRight=reduceRight;lodash.repeat=repeat;lodash.replace=replace;lodash.result=result;lodash.round=round;lodash.runInContext=runInContext;lodash.sample=sample;lodash.size=size;lodash.snakeCase=snakeCase;lodash.some=some;lodash.sortedIndex=sortedIndex;lodash.sortedIndexBy=sortedIndexBy;lodash.sortedIndexOf=sortedIndexOf;lodash.sortedLastIndex=sortedLastIndex;lodash.sortedLastIndexBy=sortedLastIndexBy;lodash.sortedLastIndexOf=sortedLastIndexOf;lodash.startCase=startCase;lodash.startsWith=startsWith;lodash.subtract=subtract;lodash.sum=sum;lodash.sumBy=sumBy;lodash.template=template;lodash.times=times;lodash.toFinite=toFinite;lodash.toInteger=toInteger;lodash.toLength=toLength;lodash.toLower=toLower;lodash.toNumber=toNumber;lodash.toSafeInteger=toSafeInteger;lodash.toString=toString;lodash.toUpper=toUpper;lodash.trim=trim;lodash.trimEnd=trimEnd;lodash.trimStart=trimStart;lodash.truncate=truncate;lodash.unescape=unescape;lodash.uniqueId=uniqueId;lodash.upperCase=upperCase;lodash.upperFirst=upperFirst;lodash.each=forEach;lodash.eachRight=forEachRight;lodash.first=head;mixin(lodash,(function(){var source={};baseForOwn(lodash,function(func,methodName){if(!hasOwnProperty.call(lodash.prototype,methodName)){source[methodName]=func;}});return source;}()),{'chain':false});lodash.VERSION=VERSION;arrayEach(['bind','bindKey','curry','curryRight','partial','partialRight'],function(methodName){lodash[methodName].placeholder=lodash;});arrayEach(['drop','take'],function(methodName,index){LazyWrapper.prototype[methodName]=function(n){n=n===undefined?1:nativeMax(toInteger(n),0);var result=(this.__filtered__&&!index)?new LazyWrapper(this):this.clone();if(result.__filtered__){result.__takeCount__=nativeMin(n,result.__takeCount__);}else{result.__views__.push({'size':nativeMin(n,MAX_ARRAY_LENGTH),'type':methodName+(result.__dir__<0?'Right':'')});}
return result;};LazyWrapper.prototype[methodName+'Right']=function(n){return this.reverse()[methodName](n).reverse();};});arrayEach(['filter','map','takeWhile'],function(methodName,index){var type=index+1,isFilter=type==LAZY_FILTER_FLAG||type==LAZY_WHILE_FLAG;LazyWrapper.prototype[methodName]=function(iteratee){var result=this.clone();result.__iteratees__.push({'iteratee':getIteratee(iteratee,3),'type':type});result.__filtered__=result.__filtered__||isFilter;return result;};});arrayEach(['head','last'],function(methodName,index){var takeName='take'+(index?'Right':'');LazyWrapper.prototype[methodName]=function(){return this[takeName](1).value()[0];};});arrayEach(['initial','tail'],function(methodName,index){var dropName='drop'+(index?'':'Right');LazyWrapper.prototype[methodName]=function(){return this.__filtered__?new LazyWrapper(this):this[dropName](1);};});LazyWrapper.prototype.compact=function(){return this.filter(identity);};LazyWrapper.prototype.find=function(predicate){return this.filter(predicate).head();};LazyWrapper.prototype.findLast=function(predicate){return this.reverse().find(predicate);};LazyWrapper.prototype.invokeMap=baseRest(function(path,args){if(typeof path=='function'){return new LazyWrapper(this);}
return this.map(function(value){return baseInvoke(value,path,args);});});LazyWrapper.prototype.reject=function(predicate){return this.filter(negate(getIteratee(predicate)));};LazyWrapper.prototype.slice=function(start,end){start=toInteger(start);var result=this;if(result.__filtered__&&(start>0||end<0)){return new LazyWrapper(result);}
if(start<0){result=result.takeRight(-start);}else if(start){result=result.drop(start);}
if(end!==undefined){end=toInteger(end);result=end<0?result.dropRight(-end):result.take(end-start);}
return result;};LazyWrapper.prototype.takeRightWhile=function(predicate){return this.reverse().takeWhile(predicate).reverse();};LazyWrapper.prototype.toArray=function(){return this.take(MAX_ARRAY_LENGTH);};baseForOwn(LazyWrapper.prototype,function(func,methodName){var checkIteratee=/^(?:filter|find|map|reject)|While$/.test(methodName),isTaker=/^(?:head|last)$/.test(methodName),lodashFunc=lodash[isTaker?('take'+(methodName=='last'?'Right':'')):methodName],retUnwrapped=isTaker||/^find/.test(methodName);if(!lodashFunc){return;}
lodash.prototype[methodName]=function(){var value=this.__wrapped__,args=isTaker?[1]:arguments,isLazy=value instanceof LazyWrapper,iteratee=args[0],useLazy=isLazy||isArray(value);var interceptor=function(value){var result=lodashFunc.apply(lodash,arrayPush([value],args));return(isTaker&&chainAll)?result[0]:result;};if(useLazy&&checkIteratee&&typeof iteratee=='function'&&iteratee.length!=1){isLazy=useLazy=false;}
var chainAll=this.__chain__,isHybrid=!!this.__actions__.length,isUnwrapped=retUnwrapped&&!chainAll,onlyLazy=isLazy&&!isHybrid;if(!retUnwrapped&&useLazy){value=onlyLazy?value:new LazyWrapper(this);var result=func.apply(value,args);result.__actions__.push({'func':thru,'args':[interceptor],'thisArg':undefined});return new LodashWrapper(result,chainAll);}
if(isUnwrapped&&onlyLazy){return func.apply(this,args);}
result=this.thru(interceptor);return isUnwrapped?(isTaker?result.value()[0]:result.value()):result;};});arrayEach(['pop','push','shift','sort','splice','unshift'],function(methodName){var func=arrayProto[methodName],chainName=/^(?:push|sort|unshift)$/.test(methodName)?'tap':'thru',retUnwrapped=/^(?:pop|shift)$/.test(methodName);lodash.prototype[methodName]=function(){var args=arguments;if(retUnwrapped&&!this.__chain__){var value=this.value();return func.apply(isArray(value)?value:[],args);}
return this[chainName](function(value){return func.apply(isArray(value)?value:[],args);});};});baseForOwn(LazyWrapper.prototype,function(func,methodName){var lodashFunc=lodash[methodName];if(lodashFunc){var key=(lodashFunc.name+''),names=realNames[key]||(realNames[key]=[]);names.push({'name':methodName,'func':lodashFunc});}});realNames[createHybrid(undefined,WRAP_BIND_KEY_FLAG).name]=[{'name':'wrapper','func':undefined}];LazyWrapper.prototype.clone=lazyClone;LazyWrapper.prototype.reverse=lazyReverse;LazyWrapper.prototype.value=lazyValue;lodash.prototype.at=wrapperAt;lodash.prototype.chain=wrapperChain;lodash.prototype.commit=wrapperCommit;lodash.prototype.next=wrapperNext;lodash.prototype.plant=wrapperPlant;lodash.prototype.reverse=wrapperReverse;lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=wrapperValue;lodash.prototype.first=lodash.prototype.head;if(symIterator){lodash.prototype[symIterator]=wrapperToIterator;}
return lodash;});var _=runInContext();if(true){root._=_;!(__WEBPACK_AMD_DEFINE_RESULT__=function(){return _;}.call(exports,__webpack_require__,exports,module),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));}
else if(freeModule){(freeModule.exports=_)._=_;freeExports._=_;}
else{root._=_;}}.call(this));}.call(exports,__webpack_require__(52),__webpack_require__(121)(module)))}),(function(module,exports,__webpack_require__){"use strict";var latex=__webpack_require__(3);var operators=__webpack_require__(57);function factory(type,config,load,typed,math){var Node=load(__webpack_require__(15));var ConstantNode=load(__webpack_require__(55));var SymbolNode=load(__webpack_require__(33));var FunctionNode=load(__webpack_require__(56));function OperatorNode(op,fn,args,implicit){if(!(this instanceof OperatorNode)){throw new SyntaxError('Constructor must be called with the new operator');}
if(typeof op!=='string'){throw new TypeError('string expected for parameter "op"');}
if(typeof fn!=='string'){throw new TypeError('string expected for parameter "fn"');}
if(!Array.isArray(args)||!args.every(function(node){return node&&node.isNode;})){throw new TypeError('Array containing Nodes expected for parameter "args"');}
this.implicit=(implicit===true);this.op=op;this.fn=fn;this.args=args||[];}
OperatorNode.prototype=new Node();OperatorNode.prototype.type='OperatorNode';OperatorNode.prototype.isOperatorNode=true;OperatorNode.prototype._compile=function(defs,args){if(!defs.math[this.fn]){throw new Error('Function '+this.fn+' missing in provided namespace "math"');}
var jsArgs=this.args.map(function(arg){return arg._compile(defs,args);});return'math.'+this.fn+'('+jsArgs.join(', ')+')';};OperatorNode.prototype.forEach=function(callback){for(var i=0;i<this.args.length;i++){callback(this.args[i],'args['+i+']',this);}};OperatorNode.prototype.map=function(callback){var args=[];for(var i=0;i<this.args.length;i++){args[i]=this._ifNode(callback(this.args[i],'args['+i+']',this));}
return new OperatorNode(this.op,this.fn,args);};OperatorNode.prototype.clone=function(){return new OperatorNode(this.op,this.fn,this.args.slice(0),this.implicit);};function calculateNecessaryParentheses(root,parenthesis,args,latex){var precedence=operators.getPrecedence(root,parenthesis);var associativity=operators.getAssociativity(root,parenthesis);if((parenthesis==='all')||((args.length>2)&&(root.getIdentifier()!=='OperatorNode:add')&&(root.getIdentifier()!=='OperatorNode:multiply'))){var parens=args.map(function(arg){switch(arg.getContent().type){case'ArrayNode':case'ConstantNode':case'SymbolNode':case'ParenthesisNode':return false;break;default:return true;}});return parens;}
if(args.length===0){return[];}else if(args.length===1){var operandPrecedence=operators.getPrecedence(args[0],parenthesis);if(latex&&(operandPrecedence!==null)){var operandIdentifier;var rootIdentifier;if(parenthesis==='keep'){operandIdentifier=args[0].getIdentifier();rootIdentifier=root.getIdentifier();}
else{operandIdentifier=args[0].getContent().getIdentifier();rootIdentifier=root.getContent().getIdentifier();}
if(operators.properties[precedence][rootIdentifier].latexLeftParens===false){return[false];}
if(operators.properties[operandPrecedence][operandIdentifier].latexParens===false){return[false];}}
if(operandPrecedence===null){return[false];}
if(operandPrecedence<=precedence){return[true];}
return[false];}else if(args.length===2){var lhsParens;var lhsPrecedence=operators.getPrecedence(args[0],parenthesis);var assocWithLhs=operators.isAssociativeWith(root,args[0],parenthesis);if(lhsPrecedence===null){lhsParens=false;}
else if((lhsPrecedence===precedence)&&(associativity==='right')&&!assocWithLhs){lhsParens=true;}
else if(lhsPrecedence<precedence){lhsParens=true;}
else{lhsParens=false;}
var rhsParens;var rhsPrecedence=operators.getPrecedence(args[1],parenthesis);var assocWithRhs=operators.isAssociativeWith(root,args[1],parenthesis);if(rhsPrecedence===null){rhsParens=false;}
else if((rhsPrecedence===precedence)&&(associativity==='left')&&!assocWithRhs){rhsParens=true;}
else if(rhsPrecedence<precedence){rhsParens=true;}
else{rhsParens=false;}
if(latex){var rootIdentifier;var lhsIdentifier;var rhsIdentifier;if(parenthesis==='keep'){rootIdentifier=root.getIdentifier();lhsIdentifier=root.args[0].getIdentifier();rhsIdentifier=root.args[1].getIdentifier();}
else{rootIdentifier=root.getContent().getIdentifier();lhsIdentifier=root.args[0].getContent().getIdentifier();rhsIdentifier=root.args[1].getContent().getIdentifier();}
if(lhsPrecedence!==null){if(operators.properties[precedence][rootIdentifier].latexLeftParens===false){lhsParens=false;}
if(operators.properties[lhsPrecedence][lhsIdentifier].latexParens===false){lhsParens=false;}}
if(rhsPrecedence!==null){if(operators.properties[precedence][rootIdentifier].latexRightParens===false){rhsParens=false;}
if(operators.properties[rhsPrecedence][rhsIdentifier].latexParens===false){rhsParens=false;}}}
return[lhsParens,rhsParens];}else if((args.length>2)&&((root.getIdentifier()==='OperatorNode:add')||(root.getIdentifier()==='OperatorNode:multiply'))){var parensArray=args.map(function(arg){var argPrecedence=operators.getPrecedence(arg,parenthesis);var assocWithArg=operators.isAssociativeWith(root,arg,parenthesis);var argAssociativity=operators.getAssociativity(arg,parenthesis);if(argPrecedence===null){return false;}else if((precedence===argPrecedence)&&(associativity===argAssociativity)&&!assocWithArg){return true;}else if(argPrecedence<precedence){return true;}
return false;});return parensArray;}}
OperatorNode.prototype._toString=function(options){var parenthesis=(options&&options.parenthesis)?options.parenthesis:'keep';var implicit=(options&&options.implicit)?options.implicit:'hide';var args=this.args;var parens=calculateNecessaryParentheses(this,parenthesis,args,false);if(args.length===1){var assoc=operators.getAssociativity(this,parenthesis);var operand=args[0].toString(options);if(parens[0]){operand='('+operand+')';}
if(assoc==='right'){return this.op+operand;}
else if(assoc==='left'){return operand+this.op;}
return operand+this.op;}else if(args.length==2){var lhs=args[0].toString(options);var rhs=args[1].toString(options);if(parens[0]){lhs='('+lhs+')';}
if(parens[1]){rhs='('+rhs+')';}
if(this.implicit&&(this.getIdentifier()==='OperatorNode:multiply')&&(implicit=='hide')){return lhs+' '+rhs;}
return lhs+' '+this.op+' '+rhs;}else if((args.length>2)&&((this.getIdentifier()==='OperatorNode:add')||(this.getIdentifier()==='OperatorNode:multiply'))){var stringifiedArgs=args.map(function(arg,index){arg=arg.toString(options);if(parens[index]){arg='('+arg+')';}
return arg;});if(this.implicit&&(this.getIdentifier()==='OperatorNode:multiply')&&(implicit==='hide')){return stringifiedArgs.join(' ');}
return stringifiedArgs.join(' '+this.op+' ');}else{return this.fn+'('+this.args.join(', ')+')';}};OperatorNode.prototype._toTex=function(options){var parenthesis=(options&&options.parenthesis)?options.parenthesis:'keep';var implicit=(options&&options.implicit)?options.implicit:'hide';var args=this.args;var parens=calculateNecessaryParentheses(this,parenthesis,args,true);var op=latex.operators[this.fn];op=typeof op==='undefined'?this.op:op;if(args.length===1){var assoc=operators.getAssociativity(this,parenthesis);var operand=args[0].toTex(options);if(parens[0]){operand='\\left('+operand+'\\right)';}
if(assoc==='right'){return op+operand;}
else if(assoc==='left'){return operand+op;}
return operand+op;}else if(args.length===2){var lhs=args[0];var lhsTex=lhs.toTex(options);if(parens[0]){lhsTex='\\left('+lhsTex+'\\right)';}
var rhs=args[1];var rhsTex=rhs.toTex(options);if(parens[1]){rhsTex='\\left('+rhsTex+'\\right)';}
var lhsIdentifier;if(parenthesis==='keep'){lhsIdentifier=lhs.getIdentifier();}
else{lhsIdentifier=lhs.getContent().getIdentifier();}
switch(this.getIdentifier()){case'OperatorNode:divide':return op+'{'+lhsTex+'}'+'{'+rhsTex+'}';case'OperatorNode:pow':lhsTex='{'+lhsTex+'}';rhsTex='{'+rhsTex+'}';switch(lhsIdentifier){case'ConditionalNode':case'OperatorNode:divide':lhsTex='\\left('+lhsTex+'\\right)';}
case'OperatorNode:multiply':if(this.implicit&&(implicit==='hide')){return lhsTex+'~'+rhsTex;}}
return lhsTex+op+rhsTex;}else if((args.length>2)&&((this.getIdentifier()==='OperatorNode:add')||(this.getIdentifier()==='OperatorNode:multiply'))){var texifiedArgs=args.map(function(arg,index){arg=arg.toTex(options);if(parens[index]){arg='\\left('+arg+'\\right)';}
return arg;});if((this.getIdentifier()==='OperatorNode:multiply')&&this.implicit){return texifiedArgs.join('~');}
return texifiedArgs.join(op)}else{return'\\mathrm{'+this.fn+'}\\left('
+args.map(function(arg){return arg.toTex(options);}).join(',')+'\\right)';}};OperatorNode.prototype.getIdentifier=function(){return this.type+':'+this.fn;};return OperatorNode;}
exports.name='OperatorNode';exports.path='expression.node';exports.math=true;exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var Node=load(__webpack_require__(15));function ParenthesisNode(content){if(!(this instanceof ParenthesisNode)){throw new SyntaxError('Constructor must be called with the new operator');}
if(!(content&&content.isNode)){throw new TypeError('Node expected for parameter "content"');}
this.content=content;}
ParenthesisNode.prototype=new Node();ParenthesisNode.prototype.type='ParenthesisNode';ParenthesisNode.prototype.isParenthesisNode=true;ParenthesisNode.prototype._compile=function(defs,args){return this.content._compile(defs,args);};ParenthesisNode.prototype.getContent=function(){return this.content.getContent();};ParenthesisNode.prototype.forEach=function(callback){callback(this.content,'content',this);};ParenthesisNode.prototype.map=function(callback){var content=callback(this.content,'content',this);return new ParenthesisNode(content);};ParenthesisNode.prototype.clone=function(){return new ParenthesisNode(this.content);};ParenthesisNode.prototype._toString=function(options){if((!options)||(options&&!options.parenthesis)||(options&&options.parenthesis==='keep')){return'('+this.content.toString(options)+')';}
return this.content.toString(options);};ParenthesisNode.prototype._toTex=function(options){if((!options)||(options&&!options.parenthesis)||(options&&options.parenthesis==='keep')){return'\\left('+this.content.toTex(options)+'\\right)';}
return this.content.toTex(options);};return ParenthesisNode;}
exports.name='ParenthesisNode';exports.path='expression.node';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var sqrt=typed('sqrt',{'number':_sqrtNumber,'Complex':function(x){return x.sqrt();},'BigNumber':function(x){if(!x.isNegative()||config.predictable){return x.sqrt();}
else{return _sqrtNumber(x.toNumber());}},'Array | Matrix':function(x){return deepMap(x,sqrt,true);},'Unit':function(x){return x.pow(0.5);}});function _sqrtNumber(x){if(x>=0||config.predictable){return Math.sqrt(x);}
else{return new type.Complex(x,0).sqrt();}}
sqrt.toTex={1:'\\sqrt{${args[0]}}'};return sqrt;}
exports.name='sqrt';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var clone=__webpack_require__(5).clone;var validateIndex=__webpack_require__(7).validateIndex;var DimensionError=__webpack_require__(11);function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var subset=typed('subset',{'Array, Index':function(value,index){var m=matrix(value);var subset=m.subset(index);return subset&&subset.valueOf();},'Matrix, Index':function(value,index){return value.subset(index);},'Object, Index':_getObjectProperty,'string, Index':_getSubstring,'Array, Index, any':function(value,index,replacement){return matrix(clone(value)).subset(index,replacement,undefined).valueOf();},'Array, Index, any, any':function(value,index,replacement,defaultValue){return matrix(clone(value)).subset(index,replacement,defaultValue).valueOf();},'Matrix, Index, any':function(value,index,replacement){return value.clone().subset(index,replacement);},'Matrix, Index, any, any':function(value,index,replacement,defaultValue){return value.clone().subset(index,replacement,defaultValue);},'string, Index, string':_setSubstring,'string, Index, string, string':_setSubstring,'Object, Index, any':_setObjectProperty});subset.toTex=undefined;return subset;function _getSubstring(str,index){if(!index||index.isIndex!==true){throw new TypeError('Index expected');}
if(index.size().length!=1){throw new DimensionError(index.size().length,1);}
var strLen=str.length;validateIndex(index.min()[0],strLen);validateIndex(index.max()[0],strLen);var range=index.dimension(0);var substr='';range.forEach(function(v){substr+=str.charAt(v);});return substr;}
function _setSubstring(str,index,replacement,defaultValue){if(!index||index.isIndex!==true){throw new TypeError('Index expected');}
if(index.size().length!=1){throw new DimensionError(index.size().length,1);}
if(defaultValue!==undefined){if(typeof defaultValue!=='string'||defaultValue.length!==1){throw new TypeError('Single character expected as defaultValue');}}
else{defaultValue=' ';}
var range=index.dimension(0);var len=range.size()[0];if(len!=replacement.length){throw new DimensionError(range.size()[0],replacement.length);}
var strLen=str.length;validateIndex(index.min()[0]);validateIndex(index.max()[0]);var chars=[];for(var i=0;i<strLen;i++){chars[i]=str.charAt(i);}
range.forEach(function(v,i){chars[v]=replacement.charAt(i[0]);});if(chars.length>strLen){for(i=strLen-1,len=chars.length;i<len;i++){if(!chars[i]){chars[i]=defaultValue;}}}
return chars.join('');}}
function _getObjectProperty(object,index){if(index.size().length!==1){throw new DimensionError(index.size(),1);}
var key=index.dimension(0);if(typeof key!=='string'){throw new TypeError('String expected as index to retrieve an object property');}
return object[key];}
function _setObjectProperty(object,index,replacement){if(index.size().length!==1){throw new DimensionError(index.size(),1);}
var key=index.dimension(0);if(typeof key!=='string'){throw new TypeError('String expected as index to retrieve an object property');}
var updated=clone(object);updated[key]=replacement;return updated;}
exports.name='subset';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var clone=__webpack_require__(5).clone;var format=__webpack_require__(25).format;function factory(type,config,load,typed){var latex=__webpack_require__(3);var matrix=load(__webpack_require__(0));var DenseMatrix=type.DenseMatrix,SparseMatrix=type.SparseMatrix;var transpose=typed('transpose',{'Array':function(x){return transpose(matrix(x)).valueOf();},'Matrix':function(x){var size=x.size();var c;switch(size.length){case 1:c=x.clone();break;case 2:var rows=size[0];var columns=size[1];if(columns===0){throw new RangeError('Cannot transpose a 2D matrix with no columns (size: '+format(size)+')');}
switch(x.storage()){case'dense':c=_denseTranspose(x,rows,columns);break;case'sparse':c=_sparseTranspose(x,rows,columns);break;}
break;default:throw new RangeError('Matrix must be a vector or two dimensional (size: '+format(this._size)+')');}
return c;},'any':function(x){return clone(x);}});var _denseTranspose=function(m,rows,columns){var data=m._data;var transposed=[];var transposedRow;for(var j=0;j<columns;j++){transposedRow=transposed[j]=[];for(var i=0;i<rows;i++){transposedRow[i]=clone(data[i][j]);}}
return new DenseMatrix({data:transposed,size:[columns,rows],datatype:m._datatype});};var _sparseTranspose=function(m,rows,columns){var values=m._values;var index=m._index;var ptr=m._ptr;var cvalues=values?[]:undefined;var cindex=[];var cptr=[];var w=[];for(var x=0;x<rows;x++)
w[x]=0;var p,l,j;for(p=0,l=index.length;p<l;p++){w[index[p]]++;}
var sum=0;for(var i=0;i<rows;i++){cptr.push(sum);sum+=w[i];w[i]=cptr[i];}
cptr.push(sum);for(j=0;j<columns;j++){for(var k0=ptr[j],k1=ptr[j+1],k=k0;k<k1;k++){var q=w[index[k]]++;cindex[q]=j;if(values)
cvalues[q]=clone(values[k]);}}
return new SparseMatrix({values:cvalues,index:cindex,ptr:cptr,size:[columns,rows],datatype:m._datatype});};transpose.toTex={1:'\\left(${args[0]}\\right)'+latex.operators['transpose']};return transpose;}
exports.name='transpose';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var isInteger=__webpack_require__(2).isInteger;function factory(type,config,load,typed){var combinations=typed('combinations',{'number, number':function(n,k){var max,result,i;if(!isInteger(n)||n<0){throw new TypeError('Positive integer value expected in function combinations');}
if(!isInteger(k)||k<0){throw new TypeError('Positive integer value expected in function combinations');}
if(k>n){throw new TypeError('k must be less than or equal to n');}
max=Math.max(k,n-k);result=1;for(i=1;i<=n-max;i++){result=result*(max+i)/ i;}
return result;},'BigNumber, BigNumber':function(n,k){var max,result,i,ii;var one=new type.BigNumber(1);if(!isPositiveInteger(n)||!isPositiveInteger(k)){throw new TypeError('Positive integer value expected in function combinations');}
if(k.gt(n)){throw new TypeError('k must be less than n in function combinations');}
max=n.minus(k);if(k.lt(max))max=k;result=one;for(i=one,ii=n.minus(max);i.lte(ii);i=i.plus(1)){result=result.times(max.plus(i)).dividedBy(i);}
return result;}});combinations.toTex={2:'\\binom{${args[0]}}{${args[1]}}'};return combinations;}
function isPositiveInteger(n){return n.isInteger()&&n.gte(0);}
exports.name='combinations';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var gamma=load(__webpack_require__(157));var latex=__webpack_require__(3);var factorial=typed('factorial',{'number':function(n){if(n<0){throw new Error('Value must be non-negative');}
return gamma(n+1);},'BigNumber':function(n){if(n.isNegative()){throw new Error('Value must be non-negative');}
return gamma(n.plus(1));},'Array | Matrix':function(n){return deepMap(n,factorial);}});factorial.toTex={1:'\\left(${args[0]}\\right)'+latex.operators['factorial']};return factorial;}
exports.name='factorial';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);var number=__webpack_require__(2);function factory(type,config,load,typed){var isPositive=typed('isPositive',{'number':function(x){return x>0;},'BigNumber':function(x){return!x.isNeg()&&!x.isZero()&&!x.isNaN();},'Fraction':function(x){return x.s>0&&x.n>0;},'Unit':function(x){return isPositive(x.value);},'Array | Matrix':function(x){return deepMap(x,isPositive);}});return isPositive;}
exports.name='isPositive';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var DimensionError=__webpack_require__(11);function factory(type,config,load,typed){var equalScalar=load(__webpack_require__(12));var SparseMatrix=type.SparseMatrix;var algorithm05=function(a,b,callback){var avalues=a._values;var aindex=a._index;var aptr=a._ptr;var asize=a._size;var adt=a._datatype;var bvalues=b._values;var bindex=b._index;var bptr=b._ptr;var bsize=b._size;var bdt=b._datatype;if(asize.length!==bsize.length)
throw new DimensionError(asize.length,bsize.length);if(asize[0]!==bsize[0]||asize[1]!==bsize[1])
throw new RangeError('Dimension mismatch. Matrix A ('+asize+') must match Matrix B ('+bsize+')');var rows=asize[0];var columns=asize[1];var dt;var eq=equalScalar;var zero=0;var cf=callback;if(typeof adt==='string'&&adt===bdt){dt=adt;eq=typed.find(equalScalar,[dt,dt]);zero=typed.convert(0,dt);cf=typed.find(callback,[dt,dt]);}
var cvalues=avalues&&bvalues?[]:undefined;var cindex=[];var cptr=[];var c=new SparseMatrix({values:cvalues,index:cindex,ptr:cptr,size:[rows,columns],datatype:dt});var xa=cvalues?[]:undefined;var xb=cvalues?[]:undefined;var wa=[];var wb=[];var i,j,k,k1;for(j=0;j<columns;j++){cptr[j]=cindex.length;var mark=j+1;for(k=aptr[j],k1=aptr[j+1];k<k1;k++){i=aindex[k];cindex.push(i);wa[i]=mark;if(xa)
xa[i]=avalues[k];}
for(k=bptr[j],k1=bptr[j+1];k<k1;k++){i=bindex[k];if(wa[i]!==mark){cindex.push(i);}
wb[i]=mark;if(xb)
xb[i]=bvalues[k];}
if(cvalues){k=cptr[j];while(k<cindex.length){i=cindex[k];var wai=wa[i];var wbi=wb[i];if(wai===mark||wbi===mark){var va=wai===mark?xa[i]:zero;var vb=wbi===mark?xb[i]:zero;var vc=cf(va,vb);if(!eq(vc,zero)){cvalues.push(vc);k++;}
else{cindex.splice(k,1);}}}}}
cptr[columns]=cindex.length;return c;};return algorithm05;}
exports.name='algorithm05';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var scatter=__webpack_require__(613);var DimensionError=__webpack_require__(11);function factory(type,config,load,typed){var equalScalar=load(__webpack_require__(12));var SparseMatrix=type.SparseMatrix;var algorithm06=function(a,b,callback){var avalues=a._values;var asize=a._size;var adt=a._datatype;var bvalues=b._values;var bsize=b._size;var bdt=b._datatype;if(asize.length!==bsize.length)
throw new DimensionError(asize.length,bsize.length);if(asize[0]!==bsize[0]||asize[1]!==bsize[1])
throw new RangeError('Dimension mismatch. Matrix A ('+asize+') must match Matrix B ('+bsize+')');var rows=asize[0];var columns=asize[1];var dt;var eq=equalScalar;var zero=0;var cf=callback;if(typeof adt==='string'&&adt===bdt){dt=adt;eq=typed.find(equalScalar,[dt,dt]);zero=typed.convert(0,dt);cf=typed.find(callback,[dt,dt]);}
var cvalues=avalues&&bvalues?[]:undefined;var cindex=[];var cptr=[];var c=new SparseMatrix({values:cvalues,index:cindex,ptr:cptr,size:[rows,columns],datatype:dt});var x=cvalues?[]:undefined;var w=[];var u=[];for(var j=0;j<columns;j++){cptr[j]=cindex.length;var mark=j+1;scatter(a,j,w,x,u,mark,c,cf);scatter(b,j,w,x,u,mark,c,cf);if(x){var k=cptr[j];while(k<cindex.length){var i=cindex[k];if(u[i]===mark){var v=x[i];if(!eq(v,zero)){cvalues.push(v);k++;}
else{cindex.splice(k,1);}}
else{cindex.splice(k,1);}}}
else{var p=cptr[j];while(p<cindex.length){var r=cindex[p];if(u[r]!==mark){cindex.splice(p,1);}
else{p++;}}}}
cptr[columns]=cindex.length;return c;};return algorithm06;}
exports.name='algorithm06';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var isCollection=__webpack_require__(49);module.exports=function containsCollections(array){for(var i=0;i<array.length;i++){if(isCollection(array[i])){return true;}}
return false;};}),(function(module,exports,__webpack_require__){"use strict";var arraySize=__webpack_require__(7).size;var IndexError=__webpack_require__(54);module.exports=function(mat,dim,callback){var size=Array.isArray(mat)?arraySize(mat):mat.size();if(dim<0||(dim>=size.length)){throw new IndexError(dim,size.length);}
if(mat&&mat.isMatrix===true){return mat.create(_reduce(mat.valueOf(),dim,callback));}else{return _reduce(mat,dim,callback);}};function _reduce(mat,dim,callback){var i,ret,val,tran;if(dim<=0){if(!Array.isArray(mat[0])){val=mat[0];for(i=1;i<mat.length;i++){val=callback(val,mat[i]);}
return val;}else{tran=_switch(mat);ret=[];for(i=0;i<tran.length;i++){ret[i]=_reduce(tran[i],dim-1,callback);}
return ret;}}else{ret=[];for(i=0;i<mat.length;i++){ret[i]=_reduce(mat[i],dim-1,callback);}
return ret;}}
function _switch(mat){var I=mat.length;var J=mat[0].length;var i,j;var ret=[];for(j=0;j<J;j++){var tmp=[];for(i=0;i<I;i++){tmp.push(mat[i][j]);}
ret.push(tmp);}
return ret;}}),(function(module,exports,__webpack_require__){"use strict";exports.type=function(x){var type=typeof x;if(type==='object'){if(x===null)return'null';if(x instanceof Boolean)return'boolean';if(x instanceof Number)return'number';if(x instanceof String)return'string';if(Array.isArray(x))return'Array';if(x instanceof Date)return'Date';if(x instanceof RegExp)return'RegExp';return'Object';}
if(type==='function')return'Function';return type;};exports.isScalar=function(x){return!((x&&x.isMatrix)||Array.isArray(x));};}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.default=function(graphicsData,webGLData){if(graphicsData.nativeLines){buildNativeLine(graphicsData,webGLData);}else{buildLine(graphicsData,webGLData);}};var _math=__webpack_require__(14);var _utils=__webpack_require__(10);function buildLine(graphicsData,webGLData){var points=graphicsData.points;if(points.length===0){return;}
var firstPoint=new _math.Point(points[0],points[1]);var lastPoint=new _math.Point(points[points.length-2],points[points.length-1]);if(firstPoint.x===lastPoint.x&&firstPoint.y===lastPoint.y){points=points.slice();points.pop();points.pop();lastPoint=new _math.Point(points[points.length-2],points[points.length-1]);var midPointX=lastPoint.x+(firstPoint.x-lastPoint.x)*0.5;var midPointY=lastPoint.y+(firstPoint.y-lastPoint.y)*0.5;points.unshift(midPointX,midPointY);points.push(midPointX,midPointY);}
var verts=webGLData.points;var indices=webGLData.indices;var length=points.length / 2;var indexCount=points.length;var indexStart=verts.length / 6;var width=graphicsData.lineWidth / 2;var color=(0,_utils.hex2rgb)(graphicsData.lineColor);var alpha=graphicsData.lineAlpha;var r=color[0]*alpha;var g=color[1]*alpha;var b=color[2]*alpha;var p1x=points[0];var p1y=points[1];var p2x=points[2];var p2y=points[3];var p3x=0;var p3y=0;var perpx=-(p1y-p2y);var perpy=p1x-p2x;var perp2x=0;var perp2y=0;var perp3x=0;var perp3y=0;var dist=Math.sqrt(perpx*perpx+perpy*perpy);perpx /=dist;perpy /=dist;perpx*=width;perpy*=width;verts.push(p1x-perpx,p1y-perpy,r,g,b,alpha);verts.push(p1x+perpx,p1y+perpy,r,g,b,alpha);for(var i=1;i<length-1;++i){p1x=points[(i-1)*2];p1y=points[(i-1)*2+1];p2x=points[i*2];p2y=points[i*2+1];p3x=points[(i+1)*2];p3y=points[(i+1)*2+1];perpx=-(p1y-p2y);perpy=p1x-p2x;dist=Math.sqrt(perpx*perpx+perpy*perpy);perpx /=dist;perpy /=dist;perpx*=width;perpy*=width;perp2x=-(p2y-p3y);perp2y=p2x-p3x;dist=Math.sqrt(perp2x*perp2x+perp2y*perp2y);perp2x /=dist;perp2y /=dist;perp2x*=width;perp2y*=width;var a1=-perpy+p1y-(-perpy+p2y);var b1=-perpx+p2x-(-perpx+p1x);var c1=(-perpx+p1x)*(-perpy+p2y)-(-perpx+p2x)*(-perpy+p1y);var a2=-perp2y+p3y-(-perp2y+p2y);var b2=-perp2x+p2x-(-perp2x+p3x);var c2=(-perp2x+p3x)*(-perp2y+p2y)-(-perp2x+p2x)*(-perp2y+p3y);var denom=a1*b2-a2*b1;if(Math.abs(denom)<0.1){denom+=10.1;verts.push(p2x-perpx,p2y-perpy,r,g,b,alpha);verts.push(p2x+perpx,p2y+perpy,r,g,b,alpha);continue;}
var px=(b1*c2-b2*c1)/ denom;var py=(a2*c1-a1*c2)/ denom;var pdist=(px-p2x)*(px-p2x)+(py-p2y)*(py-p2y);if(pdist>196*width*width){perp3x=perpx-perp2x;perp3y=perpy-perp2y;dist=Math.sqrt(perp3x*perp3x+perp3y*perp3y);perp3x /=dist;perp3y /=dist;perp3x*=width;perp3y*=width;verts.push(p2x-perp3x,p2y-perp3y);verts.push(r,g,b,alpha);verts.push(p2x+perp3x,p2y+perp3y);verts.push(r,g,b,alpha);verts.push(p2x-perp3x,p2y-perp3y);verts.push(r,g,b,alpha);indexCount++;}else{verts.push(px,py);verts.push(r,g,b,alpha);verts.push(p2x-(px-p2x),p2y-(py-p2y));verts.push(r,g,b,alpha);}}
p1x=points[(length-2)*2];p1y=points[(length-2)*2+1];p2x=points[(length-1)*2];p2y=points[(length-1)*2+1];perpx=-(p1y-p2y);perpy=p1x-p2x;dist=Math.sqrt(perpx*perpx+perpy*perpy);perpx /=dist;perpy /=dist;perpx*=width;perpy*=width;verts.push(p2x-perpx,p2y-perpy);verts.push(r,g,b,alpha);verts.push(p2x+perpx,p2y+perpy);verts.push(r,g,b,alpha);indices.push(indexStart);for(var _i=0;_i<indexCount;++_i){indices.push(indexStart++);}
indices.push(indexStart-1);}
function buildNativeLine(graphicsData,webGLData){var i=0;var points=graphicsData.points;if(points.length===0)return;var verts=webGLData.points;var length=points.length / 2;var color=(0,_utils.hex2rgb)(graphicsData.lineColor);var alpha=graphicsData.lineAlpha;var r=color[0]*alpha;var g=color[1]*alpha;var b=color[2]*alpha;for(i=1;i<length;i++){var p1x=points[(i-1)*2];var p1y=points[(i-1)*2+1];var p2x=points[i*2];var p2y=points[i*2+1];verts.push(p1x,p1y);verts.push(r,g,b,alpha);verts.push(p2x,p2y);verts.push(r,g,b,alpha);}}}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _SystemRenderer2=__webpack_require__(197);var _SystemRenderer3=_interopRequireDefault(_SystemRenderer2);var _MaskManager=__webpack_require__(647);var _MaskManager2=_interopRequireDefault(_MaskManager);var _StencilManager=__webpack_require__(648);var _StencilManager2=_interopRequireDefault(_StencilManager);var _FilterManager=__webpack_require__(646);var _FilterManager2=_interopRequireDefault(_FilterManager);var _RenderTarget=__webpack_require__(86);var _RenderTarget2=_interopRequireDefault(_RenderTarget);var _ObjectRenderer=__webpack_require__(85);var _ObjectRenderer2=_interopRequireDefault(_ObjectRenderer);var _TextureManager=__webpack_require__(642);var _TextureManager2=_interopRequireDefault(_TextureManager);var _BaseTexture=__webpack_require__(64);var _BaseTexture2=_interopRequireDefault(_BaseTexture);var _TextureGarbageCollector=__webpack_require__(641);var _TextureGarbageCollector2=_interopRequireDefault(_TextureGarbageCollector);var _WebGLState=__webpack_require__(643);var _WebGLState2=_interopRequireDefault(_WebGLState);var _mapWebGLDrawModesToPixi=__webpack_require__(651);var _mapWebGLDrawModesToPixi2=_interopRequireDefault(_mapWebGLDrawModesToPixi);var _validateContext=__webpack_require__(652);var _validateContext2=_interopRequireDefault(_validateContext);var _utils=__webpack_require__(10);var _pixiGlCore=__webpack_require__(26);var _pixiGlCore2=_interopRequireDefault(_pixiGlCore);var _const=__webpack_require__(8);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var CONTEXT_UID=0;var WebGLRenderer=function(_SystemRenderer){_inherits(WebGLRenderer,_SystemRenderer);function WebGLRenderer(screenWidth,screenHeight){var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};_classCallCheck(this,WebGLRenderer);var _this=_possibleConstructorReturn(this,_SystemRenderer.call(this,'WebGL',screenWidth,screenHeight,options));_this.legacy=!!options.legacy;if(_this.legacy){_pixiGlCore2.default.VertexArrayObject.FORCE_NATIVE=true;}
_this.type=_const.RENDERER_TYPE.WEBGL;_this.handleContextLost=_this.handleContextLost.bind(_this);_this.handleContextRestored=_this.handleContextRestored.bind(_this);_this.view.addEventListener('webglcontextlost',_this.handleContextLost,false);_this.view.addEventListener('webglcontextrestored',_this.handleContextRestored,false);_this._contextOptions={alpha:_this.transparent,antialias:options.antialias,premultipliedAlpha:_this.transparent&&_this.transparent!=='notMultiplied',stencil:true,preserveDrawingBuffer:options.preserveDrawingBuffer};_this._backgroundColorRgba[3]=_this.transparent?0:1;_this.maskManager=new _MaskManager2.default(_this);_this.stencilManager=new _StencilManager2.default(_this);_this.emptyRenderer=new _ObjectRenderer2.default(_this);_this.currentRenderer=_this.emptyRenderer;_this.initPlugins();if(options.context){(0,_validateContext2.default)(options.context);}
_this.gl=options.context||_pixiGlCore2.default.createContext(_this.view,_this._contextOptions);_this.CONTEXT_UID=CONTEXT_UID++;_this.state=new _WebGLState2.default(_this.gl);_this.renderingToScreen=true;_this.boundTextures=null;_this._activeShader=null;_this._activeVao=null;_this._activeRenderTarget=null;_this._initContext();_this.filterManager=new _FilterManager2.default(_this);_this.drawModes=(0,_mapWebGLDrawModesToPixi2.default)(_this.gl);_this._nextTextureLocation=0;_this.setBlendMode(0);return _this;}
WebGLRenderer.prototype._initContext=function _initContext(){var gl=this.gl;if(gl.isContextLost()&&gl.getExtension('WEBGL_lose_context')){gl.getExtension('WEBGL_lose_context').restoreContext();}
var maxTextures=gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures=new Array(maxTextures);this.emptyTextures=new Array(maxTextures);this.textureManager=new _TextureManager2.default(this);this.textureGC=new _TextureGarbageCollector2.default(this);this.state.resetToDefault();this.rootRenderTarget=new _RenderTarget2.default(gl,this.width,this.height,null,this.resolution,true);this.rootRenderTarget.clearColor=this._backgroundColorRgba;this.bindRenderTarget(this.rootRenderTarget);var emptyGLTexture=new _pixiGlCore2.default.GLTexture.fromData(gl,null,1,1);var tempObj={_glTextures:{}};tempObj._glTextures[this.CONTEXT_UID]={};for(var i=0;i<maxTextures;i++){var empty=new _BaseTexture2.default();empty._glTextures[this.CONTEXT_UID]=emptyGLTexture;this.boundTextures[i]=tempObj;this.emptyTextures[i]=empty;this.bindTexture(null,i);}
this.emit('context',gl);this.resize(this.screen.width,this.screen.height);};WebGLRenderer.prototype.render=function render(displayObject,renderTexture,clear,transform,skipUpdateTransform){this.renderingToScreen=!renderTexture;this.emit('prerender');if(!this.gl||this.gl.isContextLost()){return;}
this._nextTextureLocation=0;if(!renderTexture){this._lastObjectRendered=displayObject;}
if(!skipUpdateTransform){var cacheParent=displayObject.parent;displayObject.parent=this._tempDisplayObjectParent;displayObject.updateTransform();displayObject.parent=cacheParent;}
this.bindRenderTexture(renderTexture,transform);this.currentRenderer.start();if(clear!==undefined?clear:this.clearBeforeRender){this._activeRenderTarget.clear();}
displayObject.renderWebGL(this);this.currentRenderer.flush();this.textureGC.update();this.emit('postrender');};WebGLRenderer.prototype.setObjectRenderer=function setObjectRenderer(objectRenderer){if(this.currentRenderer===objectRenderer){return;}
this.currentRenderer.stop();this.currentRenderer=objectRenderer;this.currentRenderer.start();};WebGLRenderer.prototype.flush=function flush(){this.setObjectRenderer(this.emptyRenderer);};WebGLRenderer.prototype.resize=function resize(screenWidth,screenHeight){_SystemRenderer3.default.prototype.resize.call(this,screenWidth,screenHeight);this.rootRenderTarget.resize(screenWidth,screenHeight);if(this._activeRenderTarget===this.rootRenderTarget){this.rootRenderTarget.activate();if(this._activeShader){this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(true);}}};WebGLRenderer.prototype.setBlendMode=function setBlendMode(blendMode){this.state.setBlendMode(blendMode);};WebGLRenderer.prototype.clear=function clear(clearColor){this._activeRenderTarget.clear(clearColor);};WebGLRenderer.prototype.setTransform=function setTransform(matrix){this._activeRenderTarget.transform=matrix;};WebGLRenderer.prototype.clearRenderTexture=function clearRenderTexture(renderTexture,clearColor){var baseTexture=renderTexture.baseTexture;var renderTarget=baseTexture._glRenderTargets[this.CONTEXT_UID];if(renderTarget){renderTarget.clear(clearColor);}
return this;};WebGLRenderer.prototype.bindRenderTexture=function bindRenderTexture(renderTexture,transform){var renderTarget=void 0;if(renderTexture){var baseTexture=renderTexture.baseTexture;if(!baseTexture._glRenderTargets[this.CONTEXT_UID]){this.textureManager.updateTexture(baseTexture,0);}
this.unbindTexture(baseTexture);renderTarget=baseTexture._glRenderTargets[this.CONTEXT_UID];renderTarget.setFrame(renderTexture.frame);}else{renderTarget=this.rootRenderTarget;}
renderTarget.transform=transform;this.bindRenderTarget(renderTarget);return this;};WebGLRenderer.prototype.bindRenderTarget=function bindRenderTarget(renderTarget){if(renderTarget!==this._activeRenderTarget){this._activeRenderTarget=renderTarget;renderTarget.activate();if(this._activeShader){this._activeShader.uniforms.projectionMatrix=renderTarget.projectionMatrix.toArray(true);}
this.stencilManager.setMaskStack(renderTarget.stencilMaskStack);}
return this;};WebGLRenderer.prototype.bindShader=function bindShader(shader,autoProject){if(this._activeShader!==shader){this._activeShader=shader;shader.bind();if(autoProject!==false){shader.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(true);}}
return this;};WebGLRenderer.prototype.bindTexture=function bindTexture(texture,location,forceLocation){texture=texture||this.emptyTextures[location];texture=texture.baseTexture||texture;texture.touched=this.textureGC.count;if(!forceLocation){for(var i=0;i<this.boundTextures.length;i++){if(this.boundTextures[i]===texture){return i;}}
if(location===undefined){this._nextTextureLocation++;this._nextTextureLocation%=this.boundTextures.length;location=this.boundTextures.length-this._nextTextureLocation-1;}}else{location=location||0;}
var gl=this.gl;var glTexture=texture._glTextures[this.CONTEXT_UID];if(!glTexture){this.textureManager.updateTexture(texture,location);}else{this.boundTextures[location]=texture;gl.activeTexture(gl.TEXTURE0+location);gl.bindTexture(gl.TEXTURE_2D,glTexture.texture);}
return location;};WebGLRenderer.prototype.unbindTexture=function unbindTexture(texture){var gl=this.gl;texture=texture.baseTexture||texture;for(var i=0;i<this.boundTextures.length;i++){if(this.boundTextures[i]===texture){this.boundTextures[i]=this.emptyTextures[i];gl.activeTexture(gl.TEXTURE0+i);gl.bindTexture(gl.TEXTURE_2D,this.emptyTextures[i]._glTextures[this.CONTEXT_UID].texture);}}
return this;};WebGLRenderer.prototype.createVao=function createVao(){return new _pixiGlCore2.default.VertexArrayObject(this.gl,this.state.attribState);};WebGLRenderer.prototype.bindVao=function bindVao(vao){if(this._activeVao===vao){return this;}
if(vao){vao.bind();}else if(this._activeVao){this._activeVao.unbind();}
this._activeVao=vao;return this;};WebGLRenderer.prototype.reset=function reset(){this.setObjectRenderer(this.emptyRenderer);this._activeShader=null;this._activeRenderTarget=this.rootRenderTarget;this.rootRenderTarget.activate();this.state.resetToDefault();return this;};WebGLRenderer.prototype.handleContextLost=function handleContextLost(event){event.preventDefault();};WebGLRenderer.prototype.handleContextRestored=function handleContextRestored(){this._initContext();this.textureManager.removeAll();};WebGLRenderer.prototype.destroy=function destroy(removeView){this.destroyPlugins();this.view.removeEventListener('webglcontextlost',this.handleContextLost);this.view.removeEventListener('webglcontextrestored',this.handleContextRestored);this.textureManager.destroy();_SystemRenderer.prototype.destroy.call(this,removeView);this.uid=0;this.maskManager.destroy();this.stencilManager.destroy();this.filterManager.destroy();this.maskManager=null;this.filterManager=null;this.textureManager=null;this.currentRenderer=null;this.handleContextLost=null;this.handleContextRestored=null;this._contextOptions=null;this.gl.useProgram(null);if(this.gl.getExtension('WEBGL_lose_context')){this.gl.getExtension('WEBGL_lose_context').loseContext();}
this.gl=null;};return WebGLRenderer;}(_SystemRenderer3.default);exports.default=WebGLRenderer;_utils.pluginTarget.mixin(WebGLRenderer);}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _WebGLManager2=__webpack_require__(63);var _WebGLManager3=_interopRequireDefault(_WebGLManager2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var ObjectRenderer=function(_WebGLManager){_inherits(ObjectRenderer,_WebGLManager);function ObjectRenderer(){_classCallCheck(this,ObjectRenderer);return _possibleConstructorReturn(this,_WebGLManager.apply(this,arguments));}
ObjectRenderer.prototype.start=function start(){};ObjectRenderer.prototype.stop=function stop(){this.flush();};ObjectRenderer.prototype.flush=function flush(){};ObjectRenderer.prototype.render=function render(object)
{};return ObjectRenderer;}(_WebGLManager3.default);exports.default=ObjectRenderer;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _math=__webpack_require__(14);var _const=__webpack_require__(8);var _settings=__webpack_require__(19);var _settings2=_interopRequireDefault(_settings);var _pixiGlCore=__webpack_require__(26);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var RenderTarget=function(){function RenderTarget(gl,width,height,scaleMode,resolution,root){_classCallCheck(this,RenderTarget);this.gl=gl;this.frameBuffer=null;this.texture=null;this.clearColor=[0,0,0,0];this.size=new _math.Rectangle(0,0,1,1);this.resolution=resolution||_settings2.default.RESOLUTION;this.projectionMatrix=new _math.Matrix();this.transform=null;this.frame=null;this.defaultFrame=new _math.Rectangle();this.destinationFrame=null;this.sourceFrame=null;this.stencilBuffer=null;this.stencilMaskStack=[];this.filterData=null;this.scaleMode=scaleMode!==undefined?scaleMode:_settings2.default.SCALE_MODE;this.root=root;if(!this.root){this.frameBuffer=_pixiGlCore.GLFramebuffer.createRGBA(gl,100,100);if(this.scaleMode===_const.SCALE_MODES.NEAREST){this.frameBuffer.texture.enableNearestScaling();}else{this.frameBuffer.texture.enableLinearScaling();}
this.texture=this.frameBuffer.texture;}else{this.frameBuffer=new _pixiGlCore.GLFramebuffer(gl,100,100);this.frameBuffer.framebuffer=null;}
this.setFrame();this.resize(width,height);}
RenderTarget.prototype.clear=function clear(clearColor){var cc=clearColor||this.clearColor;this.frameBuffer.clear(cc[0],cc[1],cc[2],cc[3]);};RenderTarget.prototype.attachStencilBuffer=function attachStencilBuffer(){if(!this.root){this.frameBuffer.enableStencil();}};RenderTarget.prototype.setFrame=function setFrame(destinationFrame,sourceFrame){this.destinationFrame=destinationFrame||this.destinationFrame||this.defaultFrame;this.sourceFrame=sourceFrame||this.sourceFrame||destinationFrame;};RenderTarget.prototype.activate=function activate(){var gl=this.gl;this.frameBuffer.bind();this.calculateProjection(this.destinationFrame,this.sourceFrame);if(this.transform){this.projectionMatrix.append(this.transform);}
if(this.destinationFrame!==this.sourceFrame){gl.enable(gl.SCISSOR_TEST);gl.scissor(this.destinationFrame.x|0,this.destinationFrame.y|0,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0);}else{gl.disable(gl.SCISSOR_TEST);}
gl.viewport(this.destinationFrame.x|0,this.destinationFrame.y|0,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0);};RenderTarget.prototype.calculateProjection=function calculateProjection(destinationFrame,sourceFrame){var pm=this.projectionMatrix;sourceFrame=sourceFrame||destinationFrame;pm.identity();if(!this.root){pm.a=1 / destinationFrame.width*2;pm.d=1 / destinationFrame.height*2;pm.tx=-1-sourceFrame.x*pm.a;pm.ty=-1-sourceFrame.y*pm.d;}else{pm.a=1 / destinationFrame.width*2;pm.d=-1 / destinationFrame.height*2;pm.tx=-1-sourceFrame.x*pm.a;pm.ty=1-sourceFrame.y*pm.d;}};RenderTarget.prototype.resize=function resize(width,height){width=width|0;height=height|0;if(this.size.width===width&&this.size.height===height){return;}
this.size.width=width;this.size.height=height;this.defaultFrame.width=width;this.defaultFrame.height=height;this.frameBuffer.resize(width*this.resolution,height*this.resolution);var projectionFrame=this.frame||this.size;this.calculateProjection(projectionFrame);};RenderTarget.prototype.destroy=function destroy(){this.frameBuffer.destroy();this.frameBuffer=null;this.texture=null;};return RenderTarget;}();exports.default=RenderTarget;}),(function(module,exports,__webpack_require__){"use strict";"use restrict";var INT_BITS=32;exports.INT_BITS=INT_BITS;exports.INT_MAX=0x7fffffff;exports.INT_MIN=-1<<(INT_BITS-1);exports.sign=function(v){return(v>0)-(v<0);}
exports.abs=function(v){var mask=v>>(INT_BITS-1);return(v^mask)-mask;}
exports.min=function(x,y){return y^((x^y)&-(x<y));}
exports.max=function(x,y){return x^((x^y)&-(x<y));}
exports.isPow2=function(v){return!(v&(v-1))&&(!!v);}
exports.log2=function(v){var r,shift;r=(v>0xFFFF)<<4;v>>>=r;shift=(v>0xFF)<<3;v>>>=shift;r|=shift;shift=(v>0xF)<<2;v>>>=shift;r|=shift;shift=(v>0x3)<<1;v>>>=shift;r|=shift;return r|(v>>1);}
exports.log10=function(v){return(v>=1000000000)?9:(v>=100000000)?8:(v>=10000000)?7:(v>=1000000)?6:(v>=100000)?5:(v>=10000)?4:(v>=1000)?3:(v>=100)?2:(v>=10)?1:0;}
exports.popCount=function(v){v=v-((v>>>1)&0x55555555);v=(v&0x33333333)+((v>>>2)&0x33333333);return((v+(v>>>4)&0xF0F0F0F)*0x1010101)>>>24;}
function countTrailingZeros(v){var c=32;v&=-v;if(v)c--;if(v&0x0000FFFF)c-=16;if(v&0x00FF00FF)c-=8;if(v&0x0F0F0F0F)c-=4;if(v&0x33333333)c-=2;if(v&0x55555555)c-=1;return c;}
exports.countTrailingZeros=countTrailingZeros;exports.nextPow2=function(v){v+=v===0;--v;v|=v>>>1;v|=v>>>2;v|=v>>>4;v|=v>>>8;v|=v>>>16;return v+1;}
exports.prevPow2=function(v){v|=v>>>1;v|=v>>>2;v|=v>>>4;v|=v>>>8;v|=v>>>16;return v-(v>>>1);}
exports.parity=function(v){v^=v>>>16;v^=v>>>8;v^=v>>>4;v&=0xf;return(0x6996>>>v)&1;}
var REVERSE_TABLE=new Array(256);(function(tab){for(var i=0;i<256;++i){var v=i,r=i,s=7;for(v>>>=1;v;v>>>=1){r<<=1;r|=v&1;--s;}
tab[i]=(r<<s)&0xff;}})(REVERSE_TABLE);exports.reverse=function(v){return(REVERSE_TABLE[v&0xff]<<24)|(REVERSE_TABLE[(v>>>8)&0xff]<<16)|(REVERSE_TABLE[(v>>>16)&0xff]<<8)|REVERSE_TABLE[(v>>>24)&0xff];}
exports.interleave2=function(x,y){x&=0xFFFF;x=(x|(x<<8))&0x00FF00FF;x=(x|(x<<4))&0x0F0F0F0F;x=(x|(x<<2))&0x33333333;x=(x|(x<<1))&0x55555555;y&=0xFFFF;y=(y|(y<<8))&0x00FF00FF;y=(y|(y<<4))&0x0F0F0F0F;y=(y|(y<<2))&0x33333333;y=(y|(y<<1))&0x55555555;return x|(y<<1);}
exports.deinterleave2=function(v,n){v=(v>>>n)&0x55555555;v=(v|(v>>>1))&0x33333333;v=(v|(v>>>2))&0x0F0F0F0F;v=(v|(v>>>4))&0x00FF00FF;v=(v|(v>>>16))&0x000FFFF;return(v<<16)>>16;}
exports.interleave3=function(x,y,z){x&=0x3FF;x=(x|(x<<16))&4278190335;x=(x|(x<<8))&251719695;x=(x|(x<<4))&3272356035;x=(x|(x<<2))&1227133513;y&=0x3FF;y=(y|(y<<16))&4278190335;y=(y|(y<<8))&251719695;y=(y|(y<<4))&3272356035;y=(y|(y<<2))&1227133513;x|=(y<<1);z&=0x3FF;z=(z|(z<<16))&4278190335;z=(z|(z<<8))&251719695;z=(z|(z<<4))&3272356035;z=(z|(z<<2))&1227133513;return x|(z<<2);}
exports.deinterleave3=function(v,n){v=(v>>>n)&1227133513;v=(v|(v>>>2))&3272356035;v=(v|(v>>>4))&251719695;v=(v|(v>>>8))&4278190335;v=(v|(v>>>16))&0x3FF;return(v<<22)>>22;}
exports.nextCombination=function(v){var t=v|(v-1);return(t+1)|(((~t&-~t)-1)>>>(countTrailingZeros(v)+1));}}),(function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(global){var apple_phone=/iPhone/i,apple_ipod=/iPod/i,apple_tablet=/iPad/i,android_phone=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,android_tablet=/Android/i,amazon_phone=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,amazon_tablet=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,windows_phone=/IEMobile/i,windows_tablet=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,other_blackberry=/BlackBerry/i,other_blackberry_10=/BB10/i,other_opera=/Opera Mini/i,other_chrome=/(CriOS|Chrome)(?=.*\bMobile\b)/i,other_firefox=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,seven_inch=new RegExp('(?:'+'Nexus 7'+'|'+'BNTV250'+'|'+'Kindle Fire'+'|'+'Silk'+'|'+'GT-P1000'+')','i');var match=function(regex,userAgent){return regex.test(userAgent);};var IsMobileClass=function(userAgent){var ua=userAgent||navigator.userAgent;var tmp=ua.split('[FBAN');if(typeof tmp[1]!=='undefined'){ua=tmp[0];}
tmp=ua.split('Twitter');if(typeof tmp[1]!=='undefined'){ua=tmp[0];}
this.apple={phone:match(apple_phone,ua),ipod:match(apple_ipod,ua),tablet:!match(apple_phone,ua)&&match(apple_tablet,ua),device:match(apple_phone,ua)||match(apple_ipod,ua)||match(apple_tablet,ua)};this.amazon={phone:match(amazon_phone,ua),tablet:!match(amazon_phone,ua)&&match(amazon_tablet,ua),device:match(amazon_phone,ua)||match(amazon_tablet,ua)};this.android={phone:match(amazon_phone,ua)||match(android_phone,ua),tablet:!match(amazon_phone,ua)&&!match(android_phone,ua)&&(match(amazon_tablet,ua)||match(android_tablet,ua)),device:match(amazon_phone,ua)||match(amazon_tablet,ua)||match(android_phone,ua)||match(android_tablet,ua)};this.windows={phone:match(windows_phone,ua),tablet:match(windows_tablet,ua),device:match(windows_phone,ua)||match(windows_tablet,ua)};this.other={blackberry:match(other_blackberry,ua),blackberry10:match(other_blackberry_10,ua),opera:match(other_opera,ua),firefox:match(other_firefox,ua),chrome:match(other_chrome,ua),device:match(other_blackberry,ua)||match(other_blackberry_10,ua)||match(other_opera,ua)||match(other_firefox,ua)||match(other_chrome,ua)};this.seven_inch=match(seven_inch,ua);this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch;this.phone=this.apple.phone||this.android.phone||this.windows.phone;this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet;if(typeof window==='undefined'){return this;}};var instantiate=function(){var IM=new IsMobileClass();IM.Class=IsMobileClass;return IM;};if(typeof module!=='undefined'&&module.exports&&typeof window==='undefined'){module.exports=IsMobileClass;}else if(typeof module!=='undefined'&&module.exports&&typeof window!=='undefined'){module.exports=instantiate();}else if(true){!(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_FACTORY__=(global.isMobile=instantiate()),__WEBPACK_AMD_DEFINE_RESULT__=(typeof __WEBPACK_AMD_DEFINE_FACTORY__==='function'?(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__)):__WEBPACK_AMD_DEFINE_FACTORY__),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));}else{global.isMobile=instantiate();}})(this);}),(function(module,exports,__webpack_require__){"use strict";module.exports={end:true};}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var Node=load(__webpack_require__(15));function ArrayNode(items){if(!(this instanceof ArrayNode)){throw new SyntaxError('Constructor must be called with the new operator');}
this.items=items||[];if(!Array.isArray(this.items)||!this.items.every(function(item){return item&&item.isNode;})){throw new TypeError('Array containing Nodes expected');}
var deprecated=function(){throw new Error('Property `ArrayNode.nodes` is deprecated, use `ArrayNode.items` instead');};Object.defineProperty(this,'nodes',{get:deprecated,set:deprecated});}
ArrayNode.prototype=new Node();ArrayNode.prototype.type='ArrayNode';ArrayNode.prototype.isArrayNode=true;ArrayNode.prototype._compile=function(defs,args){var asMatrix=(defs.math.config().matrix!=='Array');var items=this.items.map(function(node){return node._compile(defs,args);});return(asMatrix?'math.matrix([':'[')+
items.join(',')+
(asMatrix?'])':']');};ArrayNode.prototype.forEach=function(callback){for(var i=0;i<this.items.length;i++){var node=this.items[i];callback(node,'items['+i+']',this);}};ArrayNode.prototype.map=function(callback){var items=[];for(var i=0;i<this.items.length;i++){items[i]=this._ifNode(callback(this.items[i],'items['+i+']',this));}
return new ArrayNode(items);};ArrayNode.prototype.clone=function(){return new ArrayNode(this.items.slice(0));};ArrayNode.prototype._toString=function(options){var items=this.items.map(function(node){return node.toString(options);});return'['+items.join(', ')+']';};ArrayNode.prototype._toTex=function(options){var s='\\begin{bmatrix}';this.items.forEach(function(node){if(node.items){s+=node.items.map(function(childNode){return childNode.toTex(options);}).join('&');}
else{s+=node.toTex(options);}
s+='\\\\';});s+='\\end{bmatrix}';return s;};return ArrayNode;}
exports.name='ArrayNode';exports.path='expression.node';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var operators=__webpack_require__(57);function factory(type,config,load,typed){var Node=load(__webpack_require__(15));function RangeNode(start,end,step){if(!(this instanceof RangeNode)){throw new SyntaxError('Constructor must be called with the new operator');}
if(!(start&&start.isNode))throw new TypeError('Node expected');if(!(end&&end.isNode))throw new TypeError('Node expected');if(step&&!(step&&step.isNode))throw new TypeError('Node expected');if(arguments.length>3)throw new Error('Too many arguments');this.start=start;this.end=end;this.step=step||null;}
RangeNode.prototype=new Node();RangeNode.prototype.type='RangeNode';RangeNode.prototype.isRangeNode=true;RangeNode.prototype.needsEnd=function(){var endSymbols=this.filter(function(node){return(node&&node.isSymbolNode)&&(node.name=='end');});return endSymbols.length>0;};RangeNode.prototype._compile=function(defs,args){return'math.range('+
this.start._compile(defs,args)+', '+
this.end._compile(defs,args)+
(this.step?(', '+this.step._compile(defs,args)):'')+')';};RangeNode.prototype.forEach=function(callback){callback(this.start,'start',this);callback(this.end,'end',this);if(this.step){callback(this.step,'step',this);}};RangeNode.prototype.map=function(callback){return new RangeNode(this._ifNode(callback(this.start,'start',this)),this._ifNode(callback(this.end,'end',this)),this.step&&this._ifNode(callback(this.step,'step',this)));};RangeNode.prototype.clone=function(){return new RangeNode(this.start,this.end,this.step&&this.step);};function calculateNecessaryParentheses(node,parenthesis){var precedence=operators.getPrecedence(node,parenthesis);var parens={};var startPrecedence=operators.getPrecedence(node.start,parenthesis);parens.start=((startPrecedence!==null)&&(startPrecedence<=precedence))||(parenthesis==='all');if(node.step){var stepPrecedence=operators.getPrecedence(node.step,parenthesis);parens.step=((stepPrecedence!==null)&&(stepPrecedence<=precedence))||(parenthesis==='all');}
var endPrecedence=operators.getPrecedence(node.end,parenthesis);parens.end=((endPrecedence!==null)&&(endPrecedence<=precedence))||(parenthesis==='all');return parens;}
RangeNode.prototype._toString=function(options){var parenthesis=(options&&options.parenthesis)?options.parenthesis:'keep';var parens=calculateNecessaryParentheses(this,parenthesis);var str;var start=this.start.toString(options);if(parens.start){start='('+start+')';}
str=start;if(this.step){var step=this.step.toString(options);if(parens.step){step='('+step+')';}
str+=':'+step;}
var end=this.end.toString(options);if(parens.end){end='('+end+')';}
str+=':'+end;return str;};RangeNode.prototype._toTex=function(options){var parenthesis=(options&&options.parenthesis)?options.parenthesis:'keep';var parens=calculateNecessaryParentheses(this,parenthesis);var str=this.start.toTex(options);if(parens.start){str='\\left('+str+'\\right)';}
if(this.step){var step=this.step.toTex(options);if(parens.step){step='\\left('+step+'\\right)';}
str+=':'+step;}
var end=this.end.toTex(options);if(parens.end){end='\\left('+end+'\\right)';}
str+=':'+end;return str;};return RangeNode;}
exports.name='RangeNode';exports.path='expression.node';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var util=__webpack_require__(31);var string=util.string;var array=util.array;var isArray=Array.isArray;function factory(type){var DenseMatrix=type.DenseMatrix;var solveValidation=function(m,b,copy){var size=m.size();if(size.length!==2)
throw new RangeError('Matrix must be two dimensional (size: '+string.format(size)+')');var rows=size[0];var columns=size[1];if(rows!==columns)
throw new RangeError('Matrix must be square (size: '+string.format(size)+')');var data,i,bdata;if(b&&b.isMatrix===true){var msize=b.size();if(msize.length===1){if(msize[0]!==rows)
throw new RangeError('Dimension mismatch. Matrix columns must match vector length.');data=[];bdata=b._data;for(i=0;i<rows;i++){data[i]=[bdata[i]];}
return new DenseMatrix({data:data,size:[rows,1],datatype:b._datatype});}
if(msize.length===2){if(msize[0]!==rows||msize[1]!==1)
throw new RangeError('Dimension mismatch. Matrix columns must match vector length.');if(b.isDenseMatrix===true){if(copy){data=[];bdata=b._data;for(i=0;i<rows;i++){data[i]=[bdata[i][0]];}
return new DenseMatrix({data:data,size:[rows,1],datatype:b._datatype});}
return b;}
data=[];for(i=0;i<rows;i++)
data[i]=[0];var values=b._values;var index=b._index;var ptr=b._ptr;for(var k1=ptr[1],k=ptr[0];k<k1;k++){i=index[k];data[i][0]=values[k];}
return new DenseMatrix({data:data,size:[rows,1],datatype:b._datatype});}
throw new RangeError('Dimension mismatch. Matrix columns must match vector length.');}
if(isArray(b)){var asize=array.size(b);if(asize.length===1){if(asize[0]!==rows)
throw new RangeError('Dimension mismatch. Matrix columns must match vector length.');data=[];for(i=0;i<rows;i++){data[i]=[b[i]];}
return new DenseMatrix({data:data,size:[rows,1]});}
if(asize.length===2){if(asize[0]!==rows||asize[1]!==1)
throw new RangeError('Dimension mismatch. Matrix columns must match vector length.');data=[];for(i=0;i<rows;i++){data[i]=[b[i][0]];}
return new DenseMatrix({data:data,size:[rows,1]});}
throw new RangeError('Dimension mismatch. Matrix columns must match vector length.');}};return solveValidation;}
exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(){var cs_flip=function(i){return-i-2;};return cs_flip;}
exports.name='cs_flip';exports.path='sparse';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var array=__webpack_require__(7);var isInteger=__webpack_require__(2).isInteger;function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var eye=typed('eye',{'':function(){return(config.matrix==='Matrix')?matrix([]):[];},'string':function(format){return matrix(format);},'number | BigNumber':function(rows){return _eye(rows,rows,config.matrix==='Matrix'?'default':undefined);},'number | BigNumber, string':function(rows,format){return _eye(rows,rows,format);},'number | BigNumber, number | BigNumber':function(rows,cols){return _eye(rows,cols,config.matrix==='Matrix'?'default':undefined);},'number | BigNumber, number | BigNumber, string':function(rows,cols,format){return _eye(rows,cols,format);},'Array':function(size){return _eyeVector(size);},'Array, string':function(size,format){return _eyeVector(size,format);},'Matrix':function(size){return _eyeVector(size.valueOf(),size.storage());},'Matrix, string':function(size,format){return _eyeVector(size.valueOf(),format);}});eye.toTex=undefined;return eye;function _eyeVector(size,format){switch(size.length){case 0:return format?matrix(format):[];case 1:return _eye(size[0],size[0],format);case 2:return _eye(size[0],size[1],format);default:throw new Error('Vector containing two values expected');}}
function _eye(rows,cols,format){var Big=(rows&&rows.isBigNumber===true)?type.BigNumber:(cols&&cols.isBigNumber===true)?type.BigNumber:null;if(rows&&rows.isBigNumber===true)rows=rows.toNumber();if(cols&&cols.isBigNumber===true)cols=cols.toNumber();if(!isInteger(rows)||rows<1){throw new Error('Parameters in function eye must be positive integers');}
if(!isInteger(cols)||cols<1){throw new Error('Parameters in function eye must be positive integers');}
var one=Big?new type.BigNumber(1):1;var defaultValue=Big?new Big(0):0;var size=[rows,cols];if(format){var F=type.Matrix.storage(format);return F.diagonal(size,one,0,defaultValue);}
var res=array.resize([],size,defaultValue);var minimum=rows<cols?rows:cols;for(var d=0;d<minimum;d++){res[d][d]=one;}
return res;}}
exports.name='eye';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var maxArgumentCount=__webpack_require__(42).maxArgumentCount;function factory(type,config,load,typed){var map=typed('map',{'Array, function':_map,'Matrix, function':function(x,callback){return x.map(callback);}});map.toTex=undefined;return map;}
function _map(array,callback){var args=maxArgumentCount(callback);var recurse=function(value,index){if(Array.isArray(value)){return value.map(function(child,i){return recurse(child,index.concat(i));});}
else{if(args===1){return callback(value);}
else if(args===2){return callback(value,index);}
else{return callback(value,index,array);}}};return recurse(array,[]);}
exports.name='map';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var isInteger=__webpack_require__(2).isInteger;function factory(type,config,load,typed){var asc=load(__webpack_require__(58));function desc(a,b){return-asc(a,b);}
return typed('partitionSelect',{'Array | Matrix, number':function(x,k){return _partitionSelect(x,k,asc);},'Array | Matrix, number, string':function(x,k,compare){if(compare==='asc'){return _partitionSelect(x,k,asc);}
else if(compare==='desc'){return _partitionSelect(x,k,desc);}
else{throw new Error('Compare string must be "asc" or "desc"');}},'Array | Matrix, number, function':_partitionSelect});function _partitionSelect(x,k,compare){if(!isInteger(k)||k<0){throw new Error('k must be a non-negative integer');}
if(x&&x.isMatrix){var size=x.size();if(size.length>1){throw new Error('Only one dimensional matrices supported');}
return quickSelect(x.valueOf(),k,compare);}
if(Array.isArray(x)){return quickSelect(x,k,compare);}}
function quickSelect(arr,k,compare){if(k>=arr.length){throw new Error('k out of bounds');}
var from=0;var to=arr.length-1;while(from<to){var r=from;var w=to;var pivot=arr[Math.floor(Math.random()*(to-from+1))+from];while(r<w){if(compare(arr[r],pivot)>=0){var tmp=arr[w];arr[w]=arr[r];arr[r]=tmp;--w;}else{++r;}}
if(compare(arr[r],pivot)>0){--r;}
if(k<=r){to=r;}else{from=r+1;}}
return arr[k];}}
exports.name='partitionSelect';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var ArgumentsError=__webpack_require__(53);var isCollection=__webpack_require__(49);var isNumber=__webpack_require__(2).isNumber;function factory(type,config,load,typed,math){var matrix=load(__webpack_require__(0));var array=__webpack_require__(7);var rng=load(__webpack_require__(530));function distribution(name){if(!distributions.hasOwnProperty(name))
throw new Error('Unknown distribution '+name);var args=Array.prototype.slice.call(arguments,1),distribution=distributions[name].apply(this,args);return(function(distribution){var randFunctions={random:function(arg1,arg2,arg3){var size,min,max;if(arguments.length>3){throw new ArgumentsError('random',arguments.length,0,3);}else if(arguments.length===1){if(isCollection(arg1)){size=arg1;}else{max=arg1;}}else if(arguments.length===2){if(isCollection(arg1)){size=arg1;max=arg2;}else{min=arg1;max=arg2;}}else{size=arg1;min=arg2;max=arg3;}
if((min!==undefined&&!isNumber(min))||(max!==undefined&&!isNumber(max))){throw new TypeError('Invalid argument in function random');}
if(max===undefined)max=1;if(min===undefined)min=0;if(size!==undefined){var res=_randomDataForMatrix(size.valueOf(),min,max,_random);return(size&&size.isMatrix===true)?matrix(res):res;}
return _random(min,max);},randomInt:typed({'number | Array':function(arg){var min=0;if(isCollection(arg)){var size=arg;var max=1;var res=_randomDataForMatrix(size.valueOf(),min,max,_randomInt);return(size&&size.isMatrix===true)?matrix(res):res;}else{var max=arg;return _randomInt(min,max);}},'number | Array, number':function(arg1,arg2){if(isCollection(arg1)){var size=arg1;var max=arg2;var min=0;var res=_randomDataForMatrix(size.valueOf(),min,max,_randomInt);return(size&&size.isMatrix===true)?matrix(res):res;}
else{var min=arg1;var max=arg2;return _randomInt(min,max);}},'Array, number, number':function(size,min,max){var res=_randomDataForMatrix(size.valueOf(),min,max,_randomInt);return(size&&size.isMatrix===true)?matrix(res):res;}}),pickRandom:typed({'Array':function(possibles){return _pickRandom(possibles);},'Array, number | Array':function(possibles,arg2){var number,weights;if(Array.isArray(arg2)){weights=arg2;}else if(isNumber(arg2)){number=arg2;}else{throw new TypeError('Invalid argument in function pickRandom')}
return _pickRandom(possibles,number,weights);},'Array, number | Array, Array | number':function(possibles,arg2,arg3){var number,weights;if(Array.isArray(arg2)){weights=arg2;number=arg3;}else{weights=arg3;number=arg2;}
if(!Array.isArray(weights)||!isNumber(number)){throw new TypeError('Invalid argument in function pickRandom');}
return _pickRandom(possibles,number,weights);}})}
var _pickRandom=function(possibles,number,weights){var single=(typeof number==='undefined');if(single){number=1;}
if(possibles&&possibles.isMatrix===true){possibles=possibles.valueOf();}else if(!Array.isArray(possibles)){throw new TypeError('Unsupported type of value in function pickRandom');}
if(array.size(possibles).length>1){throw new Error('Only one dimensional vectors supported');}
if(typeof weights!=='undefined'){if(weights.length!=possibles.length){throw new Error('Weights must have the same length as possibles');}
var totalWeights=0;for(var i=0,len=weights.length;i<len;i++){if(!isNumber(weights[i])||weights[i]<0){throw new Error('Weights must be an array of positive numbers');}
totalWeights+=weights[i];}}
var length=possibles.length;if(length==0){return[];}else if(number>=length){return possibles;}
var result=[];var pick;while(result.length<number){if(typeof weights==='undefined'){pick=possibles[Math.floor(rng()*length)];}else{var randKey=rng()*totalWeights;for(var i=0,len=possibles.length;i<len;i++){randKey-=weights[i];if(randKey<0){pick=possibles[i];break;}}}
if(result.indexOf(pick)==-1){result.push(pick);}}
return single?result[0]:result;}
var _random=function(min,max){return min+distribution()*(max-min);};var _randomInt=function(min,max){return Math.floor(min+distribution()*(max-min));};var _randomDataForMatrix=function(size,min,max,randFunc){var data=[],length,i;size=size.slice(0);if(size.length>1){for(var i=0,length=size.shift();i<length;i++){data.push(_randomDataForMatrix(size,min,max,randFunc));}}else{for(var i=0,length=size.shift();i<length;i++){data.push(randFunc(min,max));}}
return data;};return randFunctions;})(distribution);}
var distributions={uniform:function(){return rng;},normal:function(){return function(){var u1,u2,picked=-1;while(picked<0||picked>1){u1=rng();u2=rng();picked=1/6*Math.pow(-2*Math.log(u1),0.5)*Math.cos(2*Math.PI*u2)+0.5;}
return picked;}}};distribution.toTex=undefined;return distribution;}
exports.name='distribution';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var equalScalar=load(__webpack_require__(12));var algorithm03=load(__webpack_require__(16));var algorithm07=load(__webpack_require__(30));var algorithm12=load(__webpack_require__(18));var algorithm13=load(__webpack_require__(9));var algorithm14=load(__webpack_require__(6));var latex=__webpack_require__(3);var equal=typed('equal',{'any, any':function(x,y){if(x===null){return y===null;}
if(y===null){return x===null;}
if(x===undefined){return y===undefined;}
if(y===undefined){return x===undefined;}
return equalScalar(x,y);},'Matrix, Matrix':function(x,y){var c;switch(x.storage()){case'sparse':switch(y.storage()){case'sparse':c=algorithm07(x,y,equalScalar);break;default:c=algorithm03(y,x,equalScalar,true);break;}
break;default:switch(y.storage()){case'sparse':c=algorithm03(x,y,equalScalar,false);break;default:c=algorithm13(x,y,equalScalar);break;}
break;}
return c;},'Array, Array':function(x,y){return equal(matrix(x),matrix(y)).valueOf();},'Array, Matrix':function(x,y){return equal(matrix(x),y);},'Matrix, Array':function(x,y){return equal(x,matrix(y));},'Matrix, any':function(x,y){var c;switch(x.storage()){case'sparse':c=algorithm12(x,y,equalScalar,false);break;default:c=algorithm14(x,y,equalScalar,false);break;}
return c;},'any, Matrix':function(x,y){var c;switch(y.storage()){case'sparse':c=algorithm12(y,x,equalScalar,true);break;default:c=algorithm14(y,x,equalScalar,true);break;}
return c;},'Array, any':function(x,y){return algorithm14(matrix(x),y,equalScalar,false).valueOf();},'any, Array':function(x,y){return algorithm14(matrix(y),x,equalScalar,true).valueOf();}});equal.toTex={2:'\\left(${args[0]}'+latex.operators['equal']+'${args[1]}\\right)'};return equal;}
exports.name='equal';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);var number=__webpack_require__(2);function factory(type,config,load,typed){var isNumeric=typed('isNumeric',{'number | BigNumber | Fraction | boolean':function(){return true;},'Complex | Unit | string':function(){return false;},'Array | Matrix':function(x){return deepMap(x,isNumeric);}});return isNumeric;}
exports.name='isNumeric';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var util=__webpack_require__(31);var string=util.string;var isString=string.isString;function factory(type,config,load,typed){function Matrix(){if(!(this instanceof Matrix)){throw new SyntaxError('Constructor must be called with the new operator');}}
Matrix.prototype.type='Matrix';Matrix.prototype.isMatrix=true;Matrix.storage=function(format){if(!isString(format)){throw new TypeError('format must be a string value');}
var constructor=Matrix._storage[format];if(!constructor){throw new SyntaxError('Unsupported matrix storage format: '+format);}
return constructor;};Matrix._storage={};Matrix.prototype.storage=function(){throw new Error('Cannot invoke storage on a Matrix interface');};Matrix.prototype.datatype=function(){throw new Error('Cannot invoke datatype on a Matrix interface');};Matrix.prototype.create=function(data,datatype){throw new Error('Cannot invoke create on a Matrix interface');};Matrix.prototype.subset=function(index,replacement,defaultValue){throw new Error('Cannot invoke subset on a Matrix interface');};Matrix.prototype.get=function(index){throw new Error('Cannot invoke get on a Matrix interface');};Matrix.prototype.set=function(index,value,defaultValue){throw new Error('Cannot invoke set on a Matrix interface');};Matrix.prototype.resize=function(size,defaultValue){throw new Error('Cannot invoke resize on a Matrix interface');};Matrix.prototype.reshape=function(size,defaultValue){throw new Error('Cannot invoke reshape on a Matrix interface');};Matrix.prototype.clone=function(){throw new Error('Cannot invoke clone on a Matrix interface');};Matrix.prototype.size=function(){throw new Error('Cannot invoke size on a Matrix interface');};Matrix.prototype.map=function(callback,skipZeros){throw new Error('Cannot invoke map on a Matrix interface');};Matrix.prototype.forEach=function(callback){throw new Error('Cannot invoke forEach on a Matrix interface');};Matrix.prototype.toArray=function(){throw new Error('Cannot invoke toArray on a Matrix interface');};Matrix.prototype.valueOf=function(){throw new Error('Cannot invoke valueOf on a Matrix interface');};Matrix.prototype.format=function(options){throw new Error('Cannot invoke format on a Matrix interface');};Matrix.prototype.toString=function(){throw new Error('Cannot invoke toString on a Matrix interface');};return Matrix;}
exports.name='Matrix';exports.path='type';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var DimensionError=__webpack_require__(11);function factory(type,config,load,typed){var equalScalar=load(__webpack_require__(12));var SparseMatrix=type.SparseMatrix;var algorithm04=function(a,b,callback){var avalues=a._values;var aindex=a._index;var aptr=a._ptr;var asize=a._size;var adt=a._datatype;var bvalues=b._values;var bindex=b._index;var bptr=b._ptr;var bsize=b._size;var bdt=b._datatype;if(asize.length!==bsize.length)
throw new DimensionError(asize.length,bsize.length);if(asize[0]!==bsize[0]||asize[1]!==bsize[1])
throw new RangeError('Dimension mismatch. Matrix A ('+asize+') must match Matrix B ('+bsize+')');var rows=asize[0];var columns=asize[1];var dt;var eq=equalScalar;var zero=0;var cf=callback;if(typeof adt==='string'&&adt===bdt){dt=adt;eq=typed.find(equalScalar,[dt,dt]);zero=typed.convert(0,dt);cf=typed.find(callback,[dt,dt]);}
var cvalues=avalues&&bvalues?[]:undefined;var cindex=[];var cptr=[];var c=new SparseMatrix({values:cvalues,index:cindex,ptr:cptr,size:[rows,columns],datatype:dt});var xa=avalues&&bvalues?[]:undefined;var xb=avalues&&bvalues?[]:undefined;var wa=[];var wb=[];var i,j,k,k0,k1;for(j=0;j<columns;j++){cptr[j]=cindex.length;var mark=j+1;for(k0=aptr[j],k1=aptr[j+1],k=k0;k<k1;k++){i=aindex[k];cindex.push(i);wa[i]=mark;if(xa)
xa[i]=avalues[k];}
for(k0=bptr[j],k1=bptr[j+1],k=k0;k<k1;k++){i=bindex[k];if(wa[i]===mark){if(xa){var v=cf(xa[i],bvalues[k]);if(!eq(v,zero)){xa[i]=v;}
else{wa[i]=null;}}}
else{cindex.push(i);wb[i]=mark;if(xb)
xb[i]=bvalues[k];}}
if(xa&&xb){k=cptr[j];while(k<cindex.length){i=cindex[k];if(wa[i]===mark){cvalues[k]=xa[i];k++;}
else if(wb[i]===mark){cvalues[k]=xb[i];k++;}
else{cindex.splice(k,1);}}}}
cptr[columns]=cindex.length;return c;};return algorithm04;}
exports.name='algorithm04';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var DimensionError=__webpack_require__(11);function factory(type,config,load,typed){var equalScalar=load(__webpack_require__(12));var SparseMatrix=type.SparseMatrix;var algorithm08=function(a,b,callback){var avalues=a._values;var aindex=a._index;var aptr=a._ptr;var asize=a._size;var adt=a._datatype;var bvalues=b._values;var bindex=b._index;var bptr=b._ptr;var bsize=b._size;var bdt=b._datatype;if(asize.length!==bsize.length)
throw new DimensionError(asize.length,bsize.length);if(asize[0]!==bsize[0]||asize[1]!==bsize[1])
throw new RangeError('Dimension mismatch. Matrix A ('+asize+') must match Matrix B ('+bsize+')');if(!avalues||!bvalues)
throw new Error('Cannot perform operation on Pattern Sparse Matrices');var rows=asize[0];var columns=asize[1];var dt;var eq=equalScalar;var zero=0;var cf=callback;if(typeof adt==='string'&&adt===bdt){dt=adt;eq=typed.find(equalScalar,[dt,dt]);zero=typed.convert(0,dt);cf=typed.find(callback,[dt,dt]);}
var cvalues=[];var cindex=[];var cptr=[];var c=new SparseMatrix({values:cvalues,index:cindex,ptr:cptr,size:[rows,columns],datatype:dt});var x=[];var w=[];var k,k0,k1,i;for(var j=0;j<columns;j++){cptr[j]=cindex.length;var mark=j+1;for(k0=aptr[j],k1=aptr[j+1],k=k0;k<k1;k++){i=aindex[k];w[i]=mark;x[i]=avalues[k];cindex.push(i);}
for(k0=bptr[j],k1=bptr[j+1],k=k0;k<k1;k++){i=bindex[k];if(w[i]===mark){x[i]=cf(x[i],bvalues[k]);}}
k=cptr[j];while(k<cindex.length){i=cindex[k];var v=x[i];if(!eq(v,zero)){cvalues.push(v);k++;}
else{cindex.splice(k,1);}}}
cptr[columns]=cindex.length;return c;};return algorithm08;}
exports.name='algorithm08';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var number=typed('number',{'':function(){return 0;},'number':function(x){return x;},'string':function(x){var num=Number(x);if(isNaN(num)){throw new SyntaxError('String "'+x+'" is no valid number');}
return num;},'BigNumber':function(x){return x.toNumber();},'Fraction':function(x){return x.valueOf();},'Unit':function(x){throw new Error('Second argument with valueless unit expected');},'Unit, string | Unit':function(unit,valuelessUnit){return unit.toNumber(valuelessUnit);},'Array | Matrix':function(x){return deepMap(x,number);}});number.toTex={0:'0',1:'\\left(${args[0]}\\right)',2:'\\left(\\left(${args[0]}\\right)${args[1]}\\right)'};return number;}
exports.name='number';exports.factory=factory;}),(function(module,exports){module.exports=function bitNot(x){if(x.isFinite()&&!x.isInteger()){throw new Error('Integer expected in function bitNot');}
var BigNumber=x.constructor;var prevPrec=BigNumber.precision;BigNumber.config({precision:1E9});var x=x.plus(new BigNumber(1));x.s=-x.s||null;BigNumber.config({precision:prevPrec});return x;};}),(function(module,exports,__webpack_require__){var bitNot=__webpack_require__(104);module.exports=function bitwise(x,y,func){var BigNumber=x.constructor;var xBits,yBits;var xSign=+(x.s<0);var ySign=+(y.s<0);if(xSign){xBits=decCoefficientToBinaryString(bitNot(x));for(var i=0;i<xBits.length;++i){xBits[i]^=1;}}else{xBits=decCoefficientToBinaryString(x);}
if(ySign){yBits=decCoefficientToBinaryString(bitNot(y));for(var i=0;i<yBits.length;++i){yBits[i]^=1;}}else{yBits=decCoefficientToBinaryString(y);}
var minBits,maxBits,minSign;if(xBits.length<=yBits.length){minBits=xBits;maxBits=yBits;minSign=xSign;}else{minBits=yBits;maxBits=xBits;minSign=ySign;}
var shortLen=minBits.length;var longLen=maxBits.length;var expFuncVal=func(xSign,ySign)^1;var outVal=new BigNumber(expFuncVal^1);var twoPower=new BigNumber(1);var two=new BigNumber(2);var prevPrec=BigNumber.precision;BigNumber.config({precision:1E9});while(shortLen>0){if(func(minBits[--shortLen],maxBits[--longLen])==expFuncVal){outVal=outVal.plus(twoPower);}
twoPower=twoPower.times(two);}
while(longLen>0){if(func(minSign,maxBits[--longLen])==expFuncVal){outVal=outVal.plus(twoPower);}
twoPower=twoPower.times(two);}
BigNumber.config({precision:prevPrec});if(expFuncVal==0){outVal.s=-outVal.s;}
return outVal;};function decCoefficientToBinaryString(x){var a=x.d;var r=a[0]+'';for(var i=1;i<a.length;++i){var s=a[i]+'';for(var z=7-s.length;z--;){s='0'+s;}
r+=s;}
var j;for(j=r.length-1;r.charAt(j)=='0';--j);var xe=x.e;var str=r.slice(0,j+1||1);var strL=str.length;if(xe>0){if(++xe>strL){for(xe-=strL;xe--;str+='0');}else if(xe<strL){str=str.slice(0,xe)+'.'+str.slice(xe);}}
var arr=[0];for(var i=0;i<str.length;){for(var arrL=arr.length;arrL--;arr[arrL]*=10);arr[0]+=str.charAt(i++)<<0;for(var j=0;j<arr.length;++j){if(arr[j]>1){if(arr[j+1]==null){arr[j+1]=0;}
arr[j+1]+=arr[j]>>1;arr[j]&=1;}}}
return arr.reverse();}}),(function(module,exports){var mapSize=function(gl,type)
{if(!GL_TABLE)
{var typeNames=Object.keys(GL_TO_GLSL_TYPES);GL_TABLE={};for(var i=0;i<typeNames.length;++i)
{var tn=typeNames[i];GL_TABLE[gl[tn]]=GL_TO_GLSL_TYPES[tn];}}
return GL_TABLE[type];};var GL_TABLE=null;var GL_TO_GLSL_TYPES={'FLOAT':'float','FLOAT_VEC2':'vec2','FLOAT_VEC3':'vec3','FLOAT_VEC4':'vec4','INT':'int','INT_VEC2':'ivec2','INT_VEC3':'ivec3','INT_VEC4':'ivec4','BOOL':'bool','BOOL_VEC2':'bvec2','BOOL_VEC3':'bvec3','BOOL_VEC4':'bvec4','FLOAT_MAT2':'mat2','FLOAT_MAT3':'mat3','FLOAT_MAT4':'mat4','SAMPLER_2D':'sampler2D'};module.exports=mapSize;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _math=__webpack_require__(14);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var Bounds=function(){function Bounds(){_classCallCheck(this,Bounds);this.minX=Infinity;this.minY=Infinity;this.maxX=-Infinity;this.maxY=-Infinity;this.rect=null;}
Bounds.prototype.isEmpty=function isEmpty(){return this.minX>this.maxX||this.minY>this.maxY;};Bounds.prototype.clear=function clear(){this.updateID++;this.minX=Infinity;this.minY=Infinity;this.maxX=-Infinity;this.maxY=-Infinity;};Bounds.prototype.getRectangle=function getRectangle(rect){if(this.minX>this.maxX||this.minY>this.maxY){return _math.Rectangle.EMPTY;}
rect=rect||new _math.Rectangle(0,0,1,1);rect.x=this.minX;rect.y=this.minY;rect.width=this.maxX-this.minX;rect.height=this.maxY-this.minY;return rect;};Bounds.prototype.addPoint=function addPoint(point){this.minX=Math.min(this.minX,point.x);this.maxX=Math.max(this.maxX,point.x);this.minY=Math.min(this.minY,point.y);this.maxY=Math.max(this.maxY,point.y);};Bounds.prototype.addQuad=function addQuad(vertices){var minX=this.minX;var minY=this.minY;var maxX=this.maxX;var maxY=this.maxY;var x=vertices[0];var y=vertices[1];minX=x<minX?x:minX;minY=y<minY?y:minY;maxX=x>maxX?x:maxX;maxY=y>maxY?y:maxY;x=vertices[2];y=vertices[3];minX=x<minX?x:minX;minY=y<minY?y:minY;maxX=x>maxX?x:maxX;maxY=y>maxY?y:maxY;x=vertices[4];y=vertices[5];minX=x<minX?x:minX;minY=y<minY?y:minY;maxX=x>maxX?x:maxX;maxY=y>maxY?y:maxY;x=vertices[6];y=vertices[7];minX=x<minX?x:minX;minY=y<minY?y:minY;maxX=x>maxX?x:maxX;maxY=y>maxY?y:maxY;this.minX=minX;this.minY=minY;this.maxX=maxX;this.maxY=maxY;};Bounds.prototype.addFrame=function addFrame(transform,x0,y0,x1,y1){var matrix=transform.worldTransform;var a=matrix.a;var b=matrix.b;var c=matrix.c;var d=matrix.d;var tx=matrix.tx;var ty=matrix.ty;var minX=this.minX;var minY=this.minY;var maxX=this.maxX;var maxY=this.maxY;var x=a*x0+c*y0+tx;var y=b*x0+d*y0+ty;minX=x<minX?x:minX;minY=y<minY?y:minY;maxX=x>maxX?x:maxX;maxY=y>maxY?y:maxY;x=a*x1+c*y0+tx;y=b*x1+d*y0+ty;minX=x<minX?x:minX;minY=y<minY?y:minY;maxX=x>maxX?x:maxX;maxY=y>maxY?y:maxY;x=a*x0+c*y1+tx;y=b*x0+d*y1+ty;minX=x<minX?x:minX;minY=y<minY?y:minY;maxX=x>maxX?x:maxX;maxY=y>maxY?y:maxY;x=a*x1+c*y1+tx;y=b*x1+d*y1+ty;minX=x<minX?x:minX;minY=y<minY?y:minY;maxX=x>maxX?x:maxX;maxY=y>maxY?y:maxY;this.minX=minX;this.minY=minY;this.maxX=maxX;this.maxY=maxY;};Bounds.prototype.addVertices=function addVertices(transform,vertices,beginOffset,endOffset){var matrix=transform.worldTransform;var a=matrix.a;var b=matrix.b;var c=matrix.c;var d=matrix.d;var tx=matrix.tx;var ty=matrix.ty;var minX=this.minX;var minY=this.minY;var maxX=this.maxX;var maxY=this.maxY;for(var i=beginOffset;i<endOffset;i+=2){var rawX=vertices[i];var rawY=vertices[i+1];var x=a*rawX+c*rawY+tx;var y=d*rawY+b*rawX+ty;minX=x<minX?x:minX;minY=y<minY?y:minY;maxX=x>maxX?x:maxX;maxY=y>maxY?y:maxY;}
this.minX=minX;this.minY=minY;this.maxX=maxX;this.maxY=maxY;};Bounds.prototype.addBounds=function addBounds(bounds){var minX=this.minX;var minY=this.minY;var maxX=this.maxX;var maxY=this.maxY;this.minX=bounds.minX<minX?bounds.minX:minX;this.minY=bounds.minY<minY?bounds.minY:minY;this.maxX=bounds.maxX>maxX?bounds.maxX:maxX;this.maxY=bounds.maxY>maxY?bounds.maxY:maxY;};Bounds.prototype.addBoundsMask=function addBoundsMask(bounds,mask){var _minX=bounds.minX>mask.minX?bounds.minX:mask.minX;var _minY=bounds.minY>mask.minY?bounds.minY:mask.minY;var _maxX=bounds.maxX<mask.maxX?bounds.maxX:mask.maxX;var _maxY=bounds.maxY<mask.maxY?bounds.maxY:mask.maxY;if(_minX<=_maxX&&_minY<=_maxY){var minX=this.minX;var minY=this.minY;var maxX=this.maxX;var maxY=this.maxY;this.minX=_minX<minX?_minX:minX;this.minY=_minY<minY?_minY:minY;this.maxX=_maxX>maxX?_maxX:maxX;this.maxY=_maxY>maxY?_maxY:maxY;}};Bounds.prototype.addBoundsArea=function addBoundsArea(bounds,area){var _minX=bounds.minX>area.x?bounds.minX:area.x;var _minY=bounds.minY>area.y?bounds.minY:area.y;var _maxX=bounds.maxX<area.x+area.width?bounds.maxX:area.x+area.width;var _maxY=bounds.maxY<area.y+area.height?bounds.maxY:area.y+area.height;if(_minX<=_maxX&&_minY<=_maxY){var minX=this.minX;var minY=this.minY;var maxX=this.maxX;var maxY=this.maxY;this.minX=_minX<minX?_minX:minX;this.minY=_minY<minY?_minY:minY;this.maxX=_maxX>maxX?_maxX:maxX;this.maxY=_maxY>maxY?_maxY:maxY;}};return Bounds;}();exports.default=Bounds;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _math=__webpack_require__(14);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var TransformBase=function(){function TransformBase(){_classCallCheck(this,TransformBase);this.worldTransform=new _math.Matrix();this.localTransform=new _math.Matrix();this._worldID=0;this._parentID=0;}
TransformBase.prototype.updateLocalTransform=function updateLocalTransform(){};TransformBase.prototype.updateTransform=function updateTransform(parentTransform){var pt=parentTransform.worldTransform;var wt=this.worldTransform;var lt=this.localTransform;wt.a=lt.a*pt.a+lt.b*pt.c;wt.b=lt.a*pt.b+lt.b*pt.d;wt.c=lt.c*pt.a+lt.d*pt.c;wt.d=lt.c*pt.b+lt.d*pt.d;wt.tx=lt.tx*pt.a+lt.ty*pt.c+pt.tx;wt.ty=lt.tx*pt.b+lt.ty*pt.d+pt.ty;this._worldID++;};return TransformBase;}();exports.default=TransformBase;TransformBase.prototype.updateWorldTransform=TransformBase.prototype.updateTransform;TransformBase.IDENTITY=new TransformBase();}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _Point=__webpack_require__(110);var _Point2=_interopRequireDefault(_Point);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var Matrix=function(){function Matrix(){var a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var b=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var c=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var d=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;var tx=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;var ty=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;_classCallCheck(this,Matrix);this.a=a;this.b=b;this.c=c;this.d=d;this.tx=tx;this.ty=ty;this.array=null;}
Matrix.prototype.fromArray=function fromArray(array){this.a=array[0];this.b=array[1];this.c=array[3];this.d=array[4];this.tx=array[2];this.ty=array[5];};Matrix.prototype.set=function set(a,b,c,d,tx,ty){this.a=a;this.b=b;this.c=c;this.d=d;this.tx=tx;this.ty=ty;return this;};Matrix.prototype.toArray=function toArray(transpose,out){if(!this.array){this.array=new Float32Array(9);}
var array=out||this.array;if(transpose){array[0]=this.a;array[1]=this.b;array[2]=0;array[3]=this.c;array[4]=this.d;array[5]=0;array[6]=this.tx;array[7]=this.ty;array[8]=1;}else{array[0]=this.a;array[1]=this.c;array[2]=this.tx;array[3]=this.b;array[4]=this.d;array[5]=this.ty;array[6]=0;array[7]=0;array[8]=1;}
return array;};Matrix.prototype.apply=function apply(pos,newPos){newPos=newPos||new _Point2.default();var x=pos.x;var y=pos.y;newPos.x=this.a*x+this.c*y+this.tx;newPos.y=this.b*x+this.d*y+this.ty;return newPos;};Matrix.prototype.applyInverse=function applyInverse(pos,newPos){newPos=newPos||new _Point2.default();var id=1 /(this.a*this.d+this.c*-this.b);var x=pos.x;var y=pos.y;newPos.x=this.d*id*x+ -this.c*id*y+(this.ty*this.c-this.tx*this.d)*id;newPos.y=this.a*id*y+ -this.b*id*x+(-this.ty*this.a+this.tx*this.b)*id;return newPos;};Matrix.prototype.translate=function translate(x,y){this.tx+=x;this.ty+=y;return this;};Matrix.prototype.scale=function scale(x,y){this.a*=x;this.d*=y;this.c*=x;this.b*=y;this.tx*=x;this.ty*=y;return this;};Matrix.prototype.rotate=function rotate(angle){var cos=Math.cos(angle);var sin=Math.sin(angle);var a1=this.a;var c1=this.c;var tx1=this.tx;this.a=a1*cos-this.b*sin;this.b=a1*sin+this.b*cos;this.c=c1*cos-this.d*sin;this.d=c1*sin+this.d*cos;this.tx=tx1*cos-this.ty*sin;this.ty=tx1*sin+this.ty*cos;return this;};Matrix.prototype.append=function append(matrix){var a1=this.a;var b1=this.b;var c1=this.c;var d1=this.d;this.a=matrix.a*a1+matrix.b*c1;this.b=matrix.a*b1+matrix.b*d1;this.c=matrix.c*a1+matrix.d*c1;this.d=matrix.c*b1+matrix.d*d1;this.tx=matrix.tx*a1+matrix.ty*c1+this.tx;this.ty=matrix.tx*b1+matrix.ty*d1+this.ty;return this;};Matrix.prototype.setTransform=function setTransform(x,y,pivotX,pivotY,scaleX,scaleY,rotation,skewX,skewY){var sr=Math.sin(rotation);var cr=Math.cos(rotation);var cy=Math.cos(skewY);var sy=Math.sin(skewY);var nsx=-Math.sin(skewX);var cx=Math.cos(skewX);var a=cr*scaleX;var b=sr*scaleX;var c=-sr*scaleY;var d=cr*scaleY;this.a=cy*a+sy*c;this.b=cy*b+sy*d;this.c=nsx*a+cx*c;this.d=nsx*b+cx*d;this.tx=x+(pivotX*a+pivotY*c);this.ty=y+(pivotX*b+pivotY*d);return this;};Matrix.prototype.prepend=function prepend(matrix){var tx1=this.tx;if(matrix.a!==1||matrix.b!==0||matrix.c!==0||matrix.d!==1){var a1=this.a;var c1=this.c;this.a=a1*matrix.a+this.b*matrix.c;this.b=a1*matrix.b+this.b*matrix.d;this.c=c1*matrix.a+this.d*matrix.c;this.d=c1*matrix.b+this.d*matrix.d;}
this.tx=tx1*matrix.a+this.ty*matrix.c+matrix.tx;this.ty=tx1*matrix.b+this.ty*matrix.d+matrix.ty;return this;};Matrix.prototype.decompose=function decompose(transform){var a=this.a;var b=this.b;var c=this.c;var d=this.d;var skewX=-Math.atan2(-c,d);var skewY=Math.atan2(b,a);var delta=Math.abs(skewX+skewY);if(delta<0.00001){transform.rotation=skewY;if(a<0&&d>=0){transform.rotation+=transform.rotation<=0?Math.PI:-Math.PI;}
transform.skew.x=transform.skew.y=0;}else{transform.skew.x=skewX;transform.skew.y=skewY;}
transform.scale.x=Math.sqrt(a*a+b*b);transform.scale.y=Math.sqrt(c*c+d*d);transform.position.x=this.tx;transform.position.y=this.ty;return transform;};Matrix.prototype.invert=function invert(){var a1=this.a;var b1=this.b;var c1=this.c;var d1=this.d;var tx1=this.tx;var n=a1*d1-b1*c1;this.a=d1 / n;this.b=-b1 / n;this.c=-c1 / n;this.d=a1 / n;this.tx=(c1*this.ty-d1*tx1)/ n;this.ty=-(a1*this.ty-b1*tx1)/ n;return this;};Matrix.prototype.identity=function identity(){this.a=1;this.b=0;this.c=0;this.d=1;this.tx=0;this.ty=0;return this;};Matrix.prototype.clone=function clone(){var matrix=new Matrix();matrix.a=this.a;matrix.b=this.b;matrix.c=this.c;matrix.d=this.d;matrix.tx=this.tx;matrix.ty=this.ty;return matrix;};Matrix.prototype.copy=function copy(matrix){matrix.a=this.a;matrix.b=this.b;matrix.c=this.c;matrix.d=this.d;matrix.tx=this.tx;matrix.ty=this.ty;return matrix;};_createClass(Matrix,null,[{key:'IDENTITY',get:function get(){return new Matrix();}},{key:'TEMP_MATRIX',get:function get(){return new Matrix();}}]);return Matrix;}();exports.default=Matrix;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var Point=function(){function Point(){var x=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var y=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;_classCallCheck(this,Point);this.x=x;this.y=y;}
Point.prototype.clone=function clone(){return new Point(this.x,this.y);};Point.prototype.copy=function copy(p){this.set(p.x,p.y);};Point.prototype.equals=function equals(p){return p.x===this.x&&p.y===this.y;};Point.prototype.set=function set(x,y){this.x=x||0;this.y=y||(y!==0?this.x:0);};return Point;}();exports.default=Point;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _const=__webpack_require__(8);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var Rectangle=function(){function Rectangle(){var x=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var y=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var width=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var height=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;_classCallCheck(this,Rectangle);this.x=x;this.y=y;this.width=width;this.height=height;this.type=_const.SHAPES.RECT;}
Rectangle.prototype.clone=function clone(){return new Rectangle(this.x,this.y,this.width,this.height);};Rectangle.prototype.copy=function copy(rectangle){this.x=rectangle.x;this.y=rectangle.y;this.width=rectangle.width;this.height=rectangle.height;return this;};Rectangle.prototype.contains=function contains(x,y){if(this.width<=0||this.height<=0){return false;}
if(x>=this.x&&x<this.x+this.width){if(y>=this.y&&y<this.y+this.height){return true;}}
return false;};Rectangle.prototype.pad=function pad(paddingX,paddingY){paddingX=paddingX||0;paddingY=paddingY||(paddingY!==0?paddingX:0);this.x-=paddingX;this.y-=paddingY;this.width+=paddingX*2;this.height+=paddingY*2;};Rectangle.prototype.fit=function fit(rectangle){if(this.x<rectangle.x){this.width+=this.x;if(this.width<0){this.width=0;}
this.x=rectangle.x;}
if(this.y<rectangle.y){this.height+=this.y;if(this.height<0){this.height=0;}
this.y=rectangle.y;}
if(this.x+this.width>rectangle.x+rectangle.width){this.width=rectangle.width-this.x;if(this.width<0){this.width=0;}}
if(this.y+this.height>rectangle.y+rectangle.height){this.height=rectangle.height-this.y;if(this.height<0){this.height=0;}}};Rectangle.prototype.enlarge=function enlarge(rectangle){var x1=Math.min(this.x,rectangle.x);var x2=Math.max(this.x+this.width,rectangle.x+rectangle.width);var y1=Math.min(this.y,rectangle.y);var y2=Math.max(this.y+this.height,rectangle.y+rectangle.height);this.x=x1;this.width=x2-x1;this.y=y1;this.height=y2-y1;};_createClass(Rectangle,[{key:'left',get:function get(){return this.x;}},{key:'right',get:function get(){return this.x+this.width;}},{key:'top',get:function get(){return this.y;}},{key:'bottom',get:function get(){return this.y+this.height;}}],[{key:'EMPTY',get:function get(){return new Rectangle(0,0,0,0);}}]);return Rectangle;}();exports.default=Rectangle;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _math=__webpack_require__(14);var _utils=__webpack_require__(10);var _const=__webpack_require__(8);var _Texture=__webpack_require__(50);var _Texture2=_interopRequireDefault(_Texture);var _Container2=__webpack_require__(61);var _Container3=_interopRequireDefault(_Container2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var tempPoint=new _math.Point();var Sprite=function(_Container){_inherits(Sprite,_Container);function Sprite(texture){_classCallCheck(this,Sprite);var _this=_possibleConstructorReturn(this,_Container.call(this));_this._anchor=new _math.ObservablePoint(_this._onAnchorUpdate,_this);_this._texture=null;_this._width=0;_this._height=0;_this._tint=null;_this._tintRGB=null;_this.tint=0xFFFFFF;_this.blendMode=_const.BLEND_MODES.NORMAL;_this.shader=null;_this.cachedTint=0xFFFFFF;_this.texture=texture||_Texture2.default.EMPTY;_this.vertexData=new Float32Array(8);_this.vertexTrimmedData=null;_this._transformID=-1;_this._textureID=-1;_this._transformTrimmedID=-1;_this._textureTrimmedID=-1;_this.pluginName='sprite';return _this;}
Sprite.prototype._onTextureUpdate=function _onTextureUpdate(){this._textureID=-1;this._textureTrimmedID=-1;if(this._width){this.scale.x=(0,_utils.sign)(this.scale.x)*this._width / this.texture.orig.width;}
if(this._height){this.scale.y=(0,_utils.sign)(this.scale.y)*this._height / this.texture.orig.height;}};Sprite.prototype._onAnchorUpdate=function _onAnchorUpdate(){this._transformID=-1;this._transformTrimmedID=-1;};Sprite.prototype.calculateVertices=function calculateVertices(){if(this._transformID===this.transform._worldID&&this._textureID===this._texture._updateID){return;}
this._transformID=this.transform._worldID;this._textureID=this._texture._updateID;var texture=this._texture;var wt=this.transform.worldTransform;var a=wt.a;var b=wt.b;var c=wt.c;var d=wt.d;var tx=wt.tx;var ty=wt.ty;var vertexData=this.vertexData;var trim=texture.trim;var orig=texture.orig;var anchor=this._anchor;var w0=0;var w1=0;var h0=0;var h1=0;if(trim){w1=trim.x-anchor._x*orig.width;w0=w1+trim.width;h1=trim.y-anchor._y*orig.height;h0=h1+trim.height;}else{w1=-anchor._x*orig.width;w0=w1+orig.width;h1=-anchor._y*orig.height;h0=h1+orig.height;}
vertexData[0]=a*w1+c*h1+tx;vertexData[1]=d*h1+b*w1+ty;vertexData[2]=a*w0+c*h1+tx;vertexData[3]=d*h1+b*w0+ty;vertexData[4]=a*w0+c*h0+tx;vertexData[5]=d*h0+b*w0+ty;vertexData[6]=a*w1+c*h0+tx;vertexData[7]=d*h0+b*w1+ty;};Sprite.prototype.calculateTrimmedVertices=function calculateTrimmedVertices(){if(!this.vertexTrimmedData){this.vertexTrimmedData=new Float32Array(8);}else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID){return;}
this._transformTrimmedID=this.transform._worldID;this._textureTrimmedID=this._texture._updateID;var texture=this._texture;var vertexData=this.vertexTrimmedData;var orig=texture.orig;var anchor=this._anchor;var wt=this.transform.worldTransform;var a=wt.a;var b=wt.b;var c=wt.c;var d=wt.d;var tx=wt.tx;var ty=wt.ty;var w1=-anchor._x*orig.width;var w0=w1+orig.width;var h1=-anchor._y*orig.height;var h0=h1+orig.height;vertexData[0]=a*w1+c*h1+tx;vertexData[1]=d*h1+b*w1+ty;vertexData[2]=a*w0+c*h1+tx;vertexData[3]=d*h1+b*w0+ty;vertexData[4]=a*w0+c*h0+tx;vertexData[5]=d*h0+b*w0+ty;vertexData[6]=a*w1+c*h0+tx;vertexData[7]=d*h0+b*w1+ty;};Sprite.prototype._renderWebGL=function _renderWebGL(renderer){this.calculateVertices();renderer.setObjectRenderer(renderer.plugins[this.pluginName]);renderer.plugins[this.pluginName].render(this);};Sprite.prototype._renderCanvas=function _renderCanvas(renderer){renderer.plugins[this.pluginName].render(this);};Sprite.prototype._calculateBounds=function _calculateBounds(){var trim=this._texture.trim;var orig=this._texture.orig;if(!trim||trim.width===orig.width&&trim.height===orig.height){this.calculateVertices();this._bounds.addQuad(this.vertexData);}else{this.calculateTrimmedVertices();this._bounds.addQuad(this.vertexTrimmedData);}};Sprite.prototype.getLocalBounds=function getLocalBounds(rect){if(this.children.length===0){this._bounds.minX=this._texture.orig.width*-this._anchor._x;this._bounds.minY=this._texture.orig.height*-this._anchor._y;this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x);this._bounds.maxY=this._texture.orig.height*(1-this._anchor._x);if(!rect){if(!this._localBoundsRect){this._localBoundsRect=new _math.Rectangle();}
rect=this._localBoundsRect;}
return this._bounds.getRectangle(rect);}
return _Container.prototype.getLocalBounds.call(this,rect);};Sprite.prototype.containsPoint=function containsPoint(point){this.worldTransform.applyInverse(point,tempPoint);var width=this._texture.orig.width;var height=this._texture.orig.height;var x1=-width*this.anchor.x;var y1=0;if(tempPoint.x>x1&&tempPoint.x<x1+width){y1=-height*this.anchor.y;if(tempPoint.y>y1&&tempPoint.y<y1+height){return true;}}
return false;};Sprite.prototype.destroy=function destroy(options){_Container.prototype.destroy.call(this,options);this._anchor=null;var destroyTexture=typeof options==='boolean'?options:options&&options.texture;if(destroyTexture){var destroyBaseTexture=typeof options==='boolean'?options:options&&options.baseTexture;this._texture.destroy(!!destroyBaseTexture);}
this._texture=null;this.shader=null;};Sprite.from=function from(source){return new Sprite(_Texture2.default.from(source));};Sprite.fromFrame=function fromFrame(frameId){var texture=_utils.TextureCache[frameId];if(!texture){throw new Error('The frameId "'+frameId+'" does not exist in the texture cache');}
return new Sprite(texture);};Sprite.fromImage=function fromImage(imageId,crossorigin,scaleMode){return new Sprite(_Texture2.default.fromImage(imageId,crossorigin,scaleMode));};_createClass(Sprite,[{key:'width',get:function get(){return Math.abs(this.scale.x)*this._texture.orig.width;},set:function set(value)
{var s=(0,_utils.sign)(this.scale.x)||1;this.scale.x=s*value / this._texture.orig.width;this._width=value;}},{key:'height',get:function get(){return Math.abs(this.scale.y)*this._texture.orig.height;},set:function set(value)
{var s=(0,_utils.sign)(this.scale.y)||1;this.scale.y=s*value / this._texture.orig.height;this._height=value;}},{key:'anchor',get:function get(){return this._anchor;},set:function set(value)
{this._anchor.copy(value);}},{key:'tint',get:function get(){return this._tint;},set:function set(value)
{this._tint=value;this._tintRGB=(value>>16)+(value&0xff00)+((value&0xff)<<16);}},{key:'texture',get:function get(){return this._texture;},set:function set(value)
{if(this._texture===value){return;}
this._texture=value;this.cachedTint=0xFFFFFF;this._textureID=-1;this._textureTrimmedID=-1;if(value){if(value.baseTexture.hasLoaded){this._onTextureUpdate();}else{value.once('update',this._onTextureUpdate,this);}}}}]);return Sprite;}(_Container3.default);exports.default=Sprite;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _utils=__webpack_require__(10);var _canUseNewCanvasBlendModes=__webpack_require__(199);var _canUseNewCanvasBlendModes2=_interopRequireDefault(_canUseNewCanvasBlendModes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var CanvasTinter={getTintedTexture:function getTintedTexture(sprite,color){var texture=sprite.texture;color=CanvasTinter.roundColor(color);var stringColor='#'+('00000'+(color|0).toString(16)).substr(-6);texture.tintCache=texture.tintCache||{};if(texture.tintCache[stringColor]){return texture.tintCache[stringColor];}
var canvas=CanvasTinter.canvas||document.createElement('canvas');CanvasTinter.tintMethod(texture,color,canvas);if(CanvasTinter.convertTintToImage){var tintImage=new Image();tintImage.src=canvas.toDataURL();texture.tintCache[stringColor]=tintImage;}else{texture.tintCache[stringColor]=canvas;CanvasTinter.canvas=null;}
return canvas;},tintWithMultiply:function tintWithMultiply(texture,color,canvas){var context=canvas.getContext('2d');var crop=texture._frame.clone();var resolution=texture.baseTexture.resolution;crop.x*=resolution;crop.y*=resolution;crop.width*=resolution;crop.height*=resolution;canvas.width=Math.ceil(crop.width);canvas.height=Math.ceil(crop.height);context.fillStyle='#'+('00000'+(color|0).toString(16)).substr(-6);context.fillRect(0,0,crop.width,crop.height);context.globalCompositeOperation='multiply';context.drawImage(texture.baseTexture.source,crop.x,crop.y,crop.width,crop.height,0,0,crop.width,crop.height);context.globalCompositeOperation='destination-atop';context.drawImage(texture.baseTexture.source,crop.x,crop.y,crop.width,crop.height,0,0,crop.width,crop.height);},tintWithOverlay:function tintWithOverlay(texture,color,canvas){var context=canvas.getContext('2d');var crop=texture._frame.clone();var resolution=texture.baseTexture.resolution;crop.x*=resolution;crop.y*=resolution;crop.width*=resolution;crop.height*=resolution;canvas.width=Math.ceil(crop.width);canvas.height=Math.ceil(crop.height);context.globalCompositeOperation='copy';context.fillStyle='#'+('00000'+(color|0).toString(16)).substr(-6);context.fillRect(0,0,crop.width,crop.height);context.globalCompositeOperation='destination-atop';context.drawImage(texture.baseTexture.source,crop.x,crop.y,crop.width,crop.height,0,0,crop.width,crop.height);},tintWithPerPixel:function tintWithPerPixel(texture,color,canvas){var context=canvas.getContext('2d');var crop=texture._frame.clone();var resolution=texture.baseTexture.resolution;crop.x*=resolution;crop.y*=resolution;crop.width*=resolution;crop.height*=resolution;canvas.width=Math.ceil(crop.width);canvas.height=Math.ceil(crop.height);context.globalCompositeOperation='copy';context.drawImage(texture.baseTexture.source,crop.x,crop.y,crop.width,crop.height,0,0,crop.width,crop.height);var rgbValues=(0,_utils.hex2rgb)(color);var r=rgbValues[0];var g=rgbValues[1];var b=rgbValues[2];var pixelData=context.getImageData(0,0,crop.width,crop.height);var pixels=pixelData.data;for(var i=0;i<pixels.length;i+=4){pixels[i+0]*=r;pixels[i+1]*=g;pixels[i+2]*=b;}
context.putImageData(pixelData,0,0);},roundColor:function roundColor(color){var step=CanvasTinter.cacheStepsPerColorChannel;var rgbValues=(0,_utils.hex2rgb)(color);rgbValues[0]=Math.min(255,rgbValues[0]/ step*step);rgbValues[1]=Math.min(255,rgbValues[1]/ step*step);rgbValues[2]=Math.min(255,rgbValues[2]/ step*step);return(0,_utils.rgb2hex)(rgbValues);},cacheStepsPerColorChannel:8,convertTintToImage:false,canUseMultiply:(0,_canUseNewCanvasBlendModes2.default)(),tintMethod:0};CanvasTinter.tintMethod=CanvasTinter.canUseMultiply?CanvasTinter.tintWithMultiply:CanvasTinter.tintWithPerPixel;exports.default=CanvasTinter;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _BaseRenderTexture=__webpack_require__(204);var _BaseRenderTexture2=_interopRequireDefault(_BaseRenderTexture);var _Texture2=__webpack_require__(50);var _Texture3=_interopRequireDefault(_Texture2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var RenderTexture=function(_Texture){_inherits(RenderTexture,_Texture);function RenderTexture(baseRenderTexture,frame){_classCallCheck(this,RenderTexture);var _legacyRenderer=null;if(!(baseRenderTexture instanceof _BaseRenderTexture2.default)){var width=arguments[1];var height=arguments[2];var scaleMode=arguments[3];var resolution=arguments[4];console.warn('Please use RenderTexture.create('+width+', '+height+') instead of the ctor directly.');_legacyRenderer=arguments[0];frame=null;baseRenderTexture=new _BaseRenderTexture2.default(width,height,scaleMode,resolution);}
var _this=_possibleConstructorReturn(this,_Texture.call(this,baseRenderTexture,frame));_this.legacyRenderer=_legacyRenderer;_this.valid=true;_this._updateUvs();return _this;}
RenderTexture.prototype.resize=function resize(width,height,doNotResizeBaseTexture){this.valid=width>0&&height>0;this._frame.width=this.orig.width=width;this._frame.height=this.orig.height=height;if(!doNotResizeBaseTexture){this.baseTexture.resize(width,height);}
this._updateUvs();};RenderTexture.create=function create(width,height,scaleMode,resolution){return new RenderTexture(new _BaseRenderTexture2.default(width,height,scaleMode,resolution));};return RenderTexture;}(_Texture3.default);exports.default=RenderTexture;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.Ticker=exports.shared=undefined;var _Ticker=__webpack_require__(659);var _Ticker2=_interopRequireDefault(_Ticker);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var shared=new _Ticker2.default();shared.autoStart=true;exports.shared=shared;exports.Ticker=_Ticker2.default;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.default=createIndicesForQuads;function createIndicesForQuads(size){var totalIndices=size*6;var indices=new Uint16Array(totalIndices);for(var i=0,j=0;i<totalIndices;i+=6,j+=4){indices[i+0]=j+0;indices[i+1]=j+1;indices[i+2]=j+2;indices[i+3]=j+0;indices[i+4]=j+2;indices[i+5]=j+3;}
return indices;}}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.BitmapText=exports.TilingSpriteRenderer=exports.TilingSprite=exports.AnimatedSprite=exports.TextureTransform=undefined;var _TextureTransform=__webpack_require__(207);Object.defineProperty(exports,'TextureTransform',{enumerable:true,get:function get(){return _interopRequireDefault(_TextureTransform).default;}});var _AnimatedSprite=__webpack_require__(670);Object.defineProperty(exports,'AnimatedSprite',{enumerable:true,get:function get(){return _interopRequireDefault(_AnimatedSprite).default;}});var _TilingSprite=__webpack_require__(672);Object.defineProperty(exports,'TilingSprite',{enumerable:true,get:function get(){return _interopRequireDefault(_TilingSprite).default;}});var _TilingSpriteRenderer=__webpack_require__(676);Object.defineProperty(exports,'TilingSpriteRenderer',{enumerable:true,get:function get(){return _interopRequireDefault(_TilingSpriteRenderer).default;}});var _BitmapText=__webpack_require__(671);Object.defineProperty(exports,'BitmapText',{enumerable:true,get:function get(){return _interopRequireDefault(_BitmapText).default;}});__webpack_require__(673);__webpack_require__(674);__webpack_require__(675);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _core=__webpack_require__(4);var core=_interopRequireWildcard(_core);var _CountLimiter=__webpack_require__(225);var _CountLimiter2=_interopRequireDefault(_CountLimiter);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var SharedTicker=core.ticker.shared;core.settings.UPLOADS_PER_FRAME=4;var BasePrepare=function(){function BasePrepare(renderer){var _this=this;_classCallCheck(this,BasePrepare);this.limiter=new _CountLimiter2.default(core.settings.UPLOADS_PER_FRAME);this.renderer=renderer;this.uploadHookHelper=null;this.queue=[];this.addHooks=[];this.uploadHooks=[];this.completes=[];this.ticking=false;this.delayedTick=function(){if(!_this.queue){return;}
_this.prepareItems();};this.register(findText,drawText);this.register(findTextStyle,calculateTextStyle);}
BasePrepare.prototype.upload=function upload(item,done){if(typeof item==='function'){done=item;item=null;}
if(item){this.add(item);}
if(this.queue.length){if(done){this.completes.push(done);}
if(!this.ticking){this.ticking=true;SharedTicker.addOnce(this.tick,this);}}else if(done){done();}};BasePrepare.prototype.tick=function tick(){setTimeout(this.delayedTick,0);};BasePrepare.prototype.prepareItems=function prepareItems(){this.limiter.beginFrame();while(this.queue.length&&this.limiter.allowedToUpload()){var item=this.queue[0];var uploaded=false;for(var i=0,len=this.uploadHooks.length;i<len;i++){if(this.uploadHooks[i](this.uploadHookHelper,item)){this.queue.shift();uploaded=true;break;}}
if(!uploaded){this.queue.shift();}}
if(!this.queue.length){this.ticking=false;var completes=this.completes.slice(0);this.completes.length=0;for(var _i=0,_len=completes.length;_i<_len;_i++){completes[_i]();}}else{SharedTicker.addOnce(this.tick,this);}};BasePrepare.prototype.register=function register(addHook,uploadHook){if(addHook){this.addHooks.push(addHook);}
if(uploadHook){this.uploadHooks.push(uploadHook);}
return this;};BasePrepare.prototype.add=function add(item){for(var i=0,len=this.addHooks.length;i<len;i++){if(this.addHooks[i](item,this.queue)){break;}}
if(item instanceof core.Container){for(var _i2=item.children.length-1;_i2>=0;_i2--){this.add(item.children[_i2]);}}
return this;};BasePrepare.prototype.destroy=function destroy(){if(this.ticking){SharedTicker.remove(this.tick,this);}
this.ticking=false;this.addHooks=null;this.uploadHooks=null;this.renderer=null;this.completes=null;this.queue=null;this.limiter=null;this.uploadHookHelper=null;};return BasePrepare;}();exports.default=BasePrepare;function drawText(helper,item){if(item instanceof core.Text){item.updateText(true);return true;}
return false;}
function calculateTextStyle(helper,item){if(item instanceof core.TextStyle){var font=core.Text.getFontStyle(item);if(!core.Text.fontPropertiesCache[font]){core.Text.calculateFontProperties(font);}
return true;}
return false;}
function findText(item,queue){if(item instanceof core.Text){if(queue.indexOf(item.style)===-1){queue.push(item.style);}
if(queue.indexOf(item)===-1){queue.push(item);}
var texture=item._texture.baseTexture;if(queue.indexOf(texture)===-1){queue.push(texture);}
return true;}
return false;}
function findTextStyle(item,queue){if(item instanceof core.TextStyle){if(queue.indexOf(item)===-1){queue.push(item);}
return true;}
return false;}}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _parseUri=__webpack_require__(179);var _parseUri2=_interopRequireDefault(_parseUri);var _miniSignals=__webpack_require__(178);var _miniSignals2=_interopRequireDefault(_miniSignals);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var useXdr=!!(window.XDomainRequest&&!('withCredentials'in new XMLHttpRequest()));var tempAnchor=null;var STATUS_NONE=0;var STATUS_OK=200;var STATUS_EMPTY=204;function _noop(){}
var Resource=function(){Resource.setExtensionLoadType=function setExtensionLoadType(extname,loadType){setExtMap(Resource._loadTypeMap,extname,loadType);};Resource.setExtensionXhrType=function setExtensionXhrType(extname,xhrType){setExtMap(Resource._xhrTypeMap,extname,xhrType);};function Resource(name,url,options){_classCallCheck(this,Resource);if(typeof name!=='string'||typeof url!=='string'){throw new Error('Both name and url are required for constructing a resource.');}
options=options||{};this._flags=0;this._setFlag(Resource.STATUS_FLAGS.DATA_URL,url.indexOf('data:')===0);this.name=name;this.url=url;this.extension=this._getExtension();this.data=null;this.crossOrigin=options.crossOrigin===true?'anonymous':options.crossOrigin;this.loadType=options.loadType||this._determineLoadType();this.xhrType=options.xhrType;this.metadata=options.metadata||{};this.error=null;this.xhr=null;this.children=[];this.type=Resource.TYPE.UNKNOWN;this.progressChunk=0;this._dequeue=_noop;this._onLoadBinding=null;this._boundComplete=this.complete.bind(this);this._boundOnError=this._onError.bind(this);this._boundOnProgress=this._onProgress.bind(this);this._boundXhrOnError=this._xhrOnError.bind(this);this._boundXhrOnAbort=this._xhrOnAbort.bind(this);this._boundXhrOnLoad=this._xhrOnLoad.bind(this);this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this);this.onStart=new _miniSignals2.default();this.onProgress=new _miniSignals2.default();this.onComplete=new _miniSignals2.default();this.onAfterMiddleware=new _miniSignals2.default();}
Resource.prototype.complete=function complete(){if(this.data&&this.data.removeEventListener){this.data.removeEventListener('error',this._boundOnError,false);this.data.removeEventListener('load',this._boundComplete,false);this.data.removeEventListener('progress',this._boundOnProgress,false);this.data.removeEventListener('canplaythrough',this._boundComplete,false);}
if(this.xhr){if(this.xhr.removeEventListener){this.xhr.removeEventListener('error',this._boundXhrOnError,false);this.xhr.removeEventListener('abort',this._boundXhrOnAbort,false);this.xhr.removeEventListener('progress',this._boundOnProgress,false);this.xhr.removeEventListener('load',this._boundXhrOnLoad,false);}else{this.xhr.onerror=null;this.xhr.ontimeout=null;this.xhr.onprogress=null;this.xhr.onload=null;}}
if(this.isComplete){throw new Error('Complete called again for an already completed resource.');}
this._setFlag(Resource.STATUS_FLAGS.COMPLETE,true);this._setFlag(Resource.STATUS_FLAGS.LOADING,false);this.onComplete.dispatch(this);};Resource.prototype.abort=function abort(message){if(this.error){return;}
this.error=new Error(message);if(this.xhr){this.xhr.abort();}else if(this.xdr){this.xdr.abort();}else if(this.data){if(this.data.src){this.data.src=Resource.EMPTY_GIF;}
else{while(this.data.firstChild){this.data.removeChild(this.data.firstChild);}}}
this.complete();};Resource.prototype.load=function load(cb){var _this=this;if(this.isLoading){return;}
if(this.isComplete){if(cb){setTimeout(function(){return cb(_this);},1);}
return;}else if(cb){this.onComplete.once(cb);}
this._setFlag(Resource.STATUS_FLAGS.LOADING,true);this.onStart.dispatch(this);if(this.crossOrigin===false||typeof this.crossOrigin!=='string'){this.crossOrigin=this._determineCrossOrigin(this.url);}
switch(this.loadType){case Resource.LOAD_TYPE.IMAGE:this.type=Resource.TYPE.IMAGE;this._loadElement('image');break;case Resource.LOAD_TYPE.AUDIO:this.type=Resource.TYPE.AUDIO;this._loadSourceElement('audio');break;case Resource.LOAD_TYPE.VIDEO:this.type=Resource.TYPE.VIDEO;this._loadSourceElement('video');break;case Resource.LOAD_TYPE.XHR:default:if(useXdr&&this.crossOrigin){this._loadXdr();}else{this._loadXhr();}
break;}};Resource.prototype._hasFlag=function _hasFlag(flag){return!!(this._flags&flag);};Resource.prototype._setFlag=function _setFlag(flag,value){this._flags=value?this._flags|flag:this._flags&~flag;};Resource.prototype._loadElement=function _loadElement(type){if(this.metadata.loadElement){this.data=this.metadata.loadElement;}else if(type==='image'&&typeof window.Image!=='undefined'){this.data=new Image();}else{this.data=document.createElement(type);}
if(this.crossOrigin){this.data.crossOrigin=this.crossOrigin;}
if(!this.metadata.skipSource){this.data.src=this.url;}
this.data.addEventListener('error',this._boundOnError,false);this.data.addEventListener('load',this._boundComplete,false);this.data.addEventListener('progress',this._boundOnProgress,false);};Resource.prototype._loadSourceElement=function _loadSourceElement(type){if(this.metadata.loadElement){this.data=this.metadata.loadElement;}else if(type==='audio'&&typeof window.Audio!=='undefined'){this.data=new Audio();}else{this.data=document.createElement(type);}
if(this.data===null){this.abort('Unsupported element: '+type);return;}
if(!this.metadata.skipSource){if(navigator.isCocoonJS){this.data.src=Array.isArray(this.url)?this.url[0]:this.url;}else if(Array.isArray(this.url)){for(var i=0;i<this.url.length;++i){this.data.appendChild(this._createSource(type,this.url[i]));}}else{this.data.appendChild(this._createSource(type,this.url));}}
this.data.addEventListener('error',this._boundOnError,false);this.data.addEventListener('load',this._boundComplete,false);this.data.addEventListener('progress',this._boundOnProgress,false);this.data.addEventListener('canplaythrough',this._boundComplete,false);this.data.load();};Resource.prototype._loadXhr=function _loadXhr(){if(typeof this.xhrType!=='string'){this.xhrType=this._determineXhrType();}
var xhr=this.xhr=new XMLHttpRequest();xhr.open('GET',this.url,true);if(this.xhrType===Resource.XHR_RESPONSE_TYPE.JSON||this.xhrType===Resource.XHR_RESPONSE_TYPE.DOCUMENT){xhr.responseType=Resource.XHR_RESPONSE_TYPE.TEXT;}else{xhr.responseType=this.xhrType;}
xhr.addEventListener('error',this._boundXhrOnError,false);xhr.addEventListener('abort',this._boundXhrOnAbort,false);xhr.addEventListener('progress',this._boundOnProgress,false);xhr.addEventListener('load',this._boundXhrOnLoad,false);xhr.send();};Resource.prototype._loadXdr=function _loadXdr(){if(typeof this.xhrType!=='string'){this.xhrType=this._determineXhrType();}
var xdr=this.xhr=new XDomainRequest();xdr.timeout=5000;xdr.onerror=this._boundXhrOnError;xdr.ontimeout=this._boundXdrOnTimeout;xdr.onprogress=this._boundOnProgress;xdr.onload=this._boundXhrOnLoad;xdr.open('GET',this.url,true);setTimeout(function(){return xdr.send();},1);};Resource.prototype._createSource=function _createSource(type,url,mime){if(!mime){mime=type+'/'+url.substr(url.lastIndexOf('.')+1);}
var source=document.createElement('source');source.src=url;source.type=mime;return source;};Resource.prototype._onError=function _onError(event){this.abort('Failed to load element using: '+event.target.nodeName);};Resource.prototype._onProgress=function _onProgress(event){if(event&&event.lengthComputable){this.onProgress.dispatch(this,event.loaded / event.total);}};Resource.prototype._xhrOnError=function _xhrOnError(){var xhr=this.xhr;this.abort(reqType(xhr)+' Request failed. Status: '+xhr.status+', text: "'+xhr.statusText+'"');};Resource.prototype._xhrOnAbort=function _xhrOnAbort(){this.abort(reqType(this.xhr)+' Request was aborted by the user.');};Resource.prototype._xdrOnTimeout=function _xdrOnTimeout(){this.abort(reqType(this.xhr)+' Request timed out.');};Resource.prototype._xhrOnLoad=function _xhrOnLoad(){var xhr=this.xhr;var status=typeof xhr.status==='undefined'?xhr.status:STATUS_OK;if(status===STATUS_OK||status===STATUS_EMPTY||status===STATUS_NONE&&xhr.responseText.length>0){if(this.xhrType===Resource.XHR_RESPONSE_TYPE.TEXT){this.data=xhr.responseText;this.type=Resource.TYPE.TEXT;}
else if(this.xhrType===Resource.XHR_RESPONSE_TYPE.JSON){try{this.data=JSON.parse(xhr.responseText);this.type=Resource.TYPE.JSON;}catch(e){this.abort('Error trying to parse loaded json: '+e);return;}}
else if(this.xhrType===Resource.XHR_RESPONSE_TYPE.DOCUMENT){try{if(window.DOMParser){var domparser=new DOMParser();this.data=domparser.parseFromString(xhr.responseText,'text/xml');}else{var div=document.createElement('div');div.innerHTML=xhr.responseText;this.data=div;}
this.type=Resource.TYPE.XML;}catch(e){this.abort('Error trying to parse loaded xml: '+e);return;}}
else{this.data=xhr.response||xhr.responseText;}}else{this.abort('['+xhr.status+'] '+xhr.statusText+': '+xhr.responseURL);return;}
this.complete();};Resource.prototype._determineCrossOrigin=function _determineCrossOrigin(url,loc){if(url.indexOf('data:')===0){return'';}
loc=loc||window.location;if(!tempAnchor){tempAnchor=document.createElement('a');}
tempAnchor.href=url;url=(0,_parseUri2.default)(tempAnchor.href,{strictMode:true});var samePort=!url.port&&loc.port===''||url.port===loc.port;var protocol=url.protocol?url.protocol+':':'';if(url.host!==loc.hostname||!samePort||protocol!==loc.protocol){return'anonymous';}
return'';};Resource.prototype._determineXhrType=function _determineXhrType(){return Resource._xhrTypeMap[this.extension]||Resource.XHR_RESPONSE_TYPE.TEXT;};Resource.prototype._determineLoadType=function _determineLoadType(){return Resource._loadTypeMap[this.extension]||Resource.LOAD_TYPE.XHR;};Resource.prototype._getExtension=function _getExtension(){var url=this.url;var ext='';if(this.isDataUrl){var slashIndex=url.indexOf('/');ext=url.substring(slashIndex+1,url.indexOf(';',slashIndex));}else{var queryStart=url.indexOf('?');if(queryStart!==-1){url=url.substring(0,queryStart);}
ext=url.substring(url.lastIndexOf('.')+1);}
return ext.toLowerCase();};Resource.prototype._getMimeFromXhrType=function _getMimeFromXhrType(type){switch(type){case Resource.XHR_RESPONSE_TYPE.BUFFER:return'application/octet-binary';case Resource.XHR_RESPONSE_TYPE.BLOB:return'application/blob';case Resource.XHR_RESPONSE_TYPE.DOCUMENT:return'application/xml';case Resource.XHR_RESPONSE_TYPE.JSON:return'application/json';case Resource.XHR_RESPONSE_TYPE.DEFAULT:case Resource.XHR_RESPONSE_TYPE.TEXT:default:return'text/plain';}};_createClass(Resource,[{key:'isDataUrl',get:function get(){return this._hasFlag(Resource.STATUS_FLAGS.DATA_URL);}},{key:'isComplete',get:function get(){return this._hasFlag(Resource.STATUS_FLAGS.COMPLETE);}},{key:'isLoading',get:function get(){return this._hasFlag(Resource.STATUS_FLAGS.LOADING);}}]);return Resource;}();exports.default=Resource;Resource.STATUS_FLAGS={NONE:0,DATA_URL:1<<0,COMPLETE:1<<1,LOADING:1<<2};Resource.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6};Resource.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4};Resource.XHR_RESPONSE_TYPE={DEFAULT:'text',BUFFER:'arraybuffer',BLOB:'blob',DOCUMENT:'document',JSON:'json',TEXT:'text'};Resource._loadTypeMap={gif:Resource.LOAD_TYPE.IMAGE,png:Resource.LOAD_TYPE.IMAGE,bmp:Resource.LOAD_TYPE.IMAGE,jpg:Resource.LOAD_TYPE.IMAGE,jpeg:Resource.LOAD_TYPE.IMAGE,tif:Resource.LOAD_TYPE.IMAGE,tiff:Resource.LOAD_TYPE.IMAGE,webp:Resource.LOAD_TYPE.IMAGE,tga:Resource.LOAD_TYPE.IMAGE,svg:Resource.LOAD_TYPE.IMAGE,'svg+xml':Resource.LOAD_TYPE.IMAGE,mp3:Resource.LOAD_TYPE.AUDIO,ogg:Resource.LOAD_TYPE.AUDIO,wav:Resource.LOAD_TYPE.AUDIO,mp4:Resource.LOAD_TYPE.VIDEO,webm:Resource.LOAD_TYPE.VIDEO};Resource._xhrTypeMap={xhtml:Resource.XHR_RESPONSE_TYPE.DOCUMENT,html:Resource.XHR_RESPONSE_TYPE.DOCUMENT,htm:Resource.XHR_RESPONSE_TYPE.DOCUMENT,xml:Resource.XHR_RESPONSE_TYPE.DOCUMENT,tmx:Resource.XHR_RESPONSE_TYPE.DOCUMENT,svg:Resource.XHR_RESPONSE_TYPE.DOCUMENT,tsx:Resource.XHR_RESPONSE_TYPE.DOCUMENT,gif:Resource.XHR_RESPONSE_TYPE.BLOB,png:Resource.XHR_RESPONSE_TYPE.BLOB,bmp:Resource.XHR_RESPONSE_TYPE.BLOB,jpg:Resource.XHR_RESPONSE_TYPE.BLOB,jpeg:Resource.XHR_RESPONSE_TYPE.BLOB,tif:Resource.XHR_RESPONSE_TYPE.BLOB,tiff:Resource.XHR_RESPONSE_TYPE.BLOB,webp:Resource.XHR_RESPONSE_TYPE.BLOB,tga:Resource.XHR_RESPONSE_TYPE.BLOB,json:Resource.XHR_RESPONSE_TYPE.JSON,text:Resource.XHR_RESPONSE_TYPE.TEXT,txt:Resource.XHR_RESPONSE_TYPE.TEXT,ttf:Resource.XHR_RESPONSE_TYPE.BUFFER,otf:Resource.XHR_RESPONSE_TYPE.BUFFER};Resource.EMPTY_GIF='data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==';function setExtMap(map,extname,val){if(extname&&extname.indexOf('.')===0){extname=extname.substring(1);}
if(!extname){return;}
map[extname]=val;}
function reqType(xhr){return xhr.toString().replace('object ','');}}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});__webpack_require__(22);const weapon_1=__webpack_require__(68);const area_1=__webpack_require__(67);const gameObject_1=__webpack_require__(51);class Bullet extends gameObject_1.GameObject{constructor(game,shotter,x,y,angle,speed,gravity){super(game);this.shape={kind:"Circle",x:0,y:0,r:0,angle:0};this.collisionList=[];this.x=0;this.y=0;this.prevVector={"x":0,"y":0};this.angle=0;this.speed=0;this.gravity=0;this.color=0xff00ff;this.shotter=shotter;this.shape.x=x;this.shape.y=y;this.angle=angle;this.speed=speed;this.gravity=gravity;this.color=0xff00ff;this.prevVector.x=Math.cos(this.angle)*this.speed;this.prevVector.y=-1*Math.sin(this.angle)*this.speed;this.game.level.collision.add(this,this.shape,this.collisionList);}
update(){super.update();if(this.shape.x<-300||this.shape.x>1300||this.shape.y<-300||this.shape.y>1000){this.remove();}
this.prevVector.y+=this.gravity;this.move.x=this.prevVector.x;this.move.y=this.prevVector.y;for(let hitObject of this.collisionList){if(hitObject instanceof area_1.Area){this.remove();}
if(hitObject instanceof weapon_1.Weapon&&hitObject.organization!=this.shotter.organization){this.remove();hitObject.hp--;}}}
draw(renderer){renderer.beginFill(this.color);renderer.drawPolygon([new PIXI.Point(this.shape.x+2,this.shape.y-1),new PIXI.Point(this.shape.x-2,this.shape.y-1),new PIXI.Point(this.shape.x-5,this.shape.y+1),new PIXI.Point(this.shape.x-2,this.shape.y+1),new PIXI.Point(this.shape.x+2,this.shape.y+1),]);}}
exports.Bullet=Bullet;}),(function(module,exports){module.exports=function(module){if(!module.webpackPolyfill){module.deprecate=function(){};module.paths=[];if(!module.children)module.children=[];Object.defineProperty(module,"loaded",{enumerable:true,get:function(){return module.l;}});Object.defineProperty(module,"id",{enumerable:true,get:function(){return module.i;}});module.webpackPolyfill=1;}
return module;};}),(function(module,exports,__webpack_require__){"use strict";module.exports=earcut;function earcut(data,holeIndices,dim){dim=dim||2;var hasHoles=holeIndices&&holeIndices.length,outerLen=hasHoles?holeIndices[0]*dim:data.length,outerNode=linkedList(data,0,outerLen,dim,true),triangles=[];if(!outerNode)return triangles;var minX,minY,maxX,maxY,x,y,size;if(hasHoles)outerNode=eliminateHoles(data,holeIndices,outerNode,dim);if(data.length>80*dim){minX=maxX=data[0];minY=maxY=data[1];for(var i=dim;i<outerLen;i+=dim){x=data[i];y=data[i+1];if(x<minX)minX=x;if(y<minY)minY=y;if(x>maxX)maxX=x;if(y>maxY)maxY=y;}
size=Math.max(maxX-minX,maxY-minY);}
earcutLinked(outerNode,triangles,dim,minX,minY,size);return triangles;}
function linkedList(data,start,end,dim,clockwise){var i,last;if(clockwise===(signedArea(data,start,end,dim)>0)){for(i=start;i<end;i+=dim)last=insertNode(i,data[i],data[i+1],last);}else{for(i=end-dim;i>=start;i-=dim)last=insertNode(i,data[i],data[i+1],last);}
if(last&&equals(last,last.next)){removeNode(last);last=last.next;}
return last;}
function filterPoints(start,end){if(!start)return start;if(!end)end=start;var p=start,again;do{again=false;if(!p.steiner&&(equals(p,p.next)||area(p.prev,p,p.next)===0)){removeNode(p);p=end=p.prev;if(p===p.next)return null;again=true;}else{p=p.next;}}while(again||p!==end);return end;}
function earcutLinked(ear,triangles,dim,minX,minY,size,pass){if(!ear)return;if(!pass&&size)indexCurve(ear,minX,minY,size);var stop=ear,prev,next;while(ear.prev!==ear.next){prev=ear.prev;next=ear.next;if(size?isEarHashed(ear,minX,minY,size):isEar(ear)){triangles.push(prev.i / dim);triangles.push(ear.i / dim);triangles.push(next.i / dim);removeNode(ear);ear=next.next;stop=next.next;continue;}
ear=next;if(ear===stop){if(!pass){earcutLinked(filterPoints(ear),triangles,dim,minX,minY,size,1);}else if(pass===1){ear=cureLocalIntersections(ear,triangles,dim);earcutLinked(ear,triangles,dim,minX,minY,size,2);}else if(pass===2){splitEarcut(ear,triangles,dim,minX,minY,size);}
break;}}}
function isEar(ear){var a=ear.prev,b=ear,c=ear.next;if(area(a,b,c)>=0)return false;var p=ear.next.next;while(p!==ear.prev){if(pointInTriangle(a.x,a.y,b.x,b.y,c.x,c.y,p.x,p.y)&&area(p.prev,p,p.next)>=0)return false;p=p.next;}
return true;}
function isEarHashed(ear,minX,minY,size){var a=ear.prev,b=ear,c=ear.next;if(area(a,b,c)>=0)return false;var minTX=a.x<b.x?(a.x<c.x?a.x:c.x):(b.x<c.x?b.x:c.x),minTY=a.y<b.y?(a.y<c.y?a.y:c.y):(b.y<c.y?b.y:c.y),maxTX=a.x>b.x?(a.x>c.x?a.x:c.x):(b.x>c.x?b.x:c.x),maxTY=a.y>b.y?(a.y>c.y?a.y:c.y):(b.y>c.y?b.y:c.y);var minZ=zOrder(minTX,minTY,minX,minY,size),maxZ=zOrder(maxTX,maxTY,minX,minY,size);var p=ear.nextZ;while(p&&p.z<=maxZ){if(p!==ear.prev&&p!==ear.next&&pointInTriangle(a.x,a.y,b.x,b.y,c.x,c.y,p.x,p.y)&&area(p.prev,p,p.next)>=0)return false;p=p.nextZ;}
p=ear.prevZ;while(p&&p.z>=minZ){if(p!==ear.prev&&p!==ear.next&&pointInTriangle(a.x,a.y,b.x,b.y,c.x,c.y,p.x,p.y)&&area(p.prev,p,p.next)>=0)return false;p=p.prevZ;}
return true;}
function cureLocalIntersections(start,triangles,dim){var p=start;do{var a=p.prev,b=p.next.next;if(!equals(a,b)&&intersects(a,p,p.next,b)&&locallyInside(a,b)&&locallyInside(b,a)){triangles.push(a.i / dim);triangles.push(p.i / dim);triangles.push(b.i / dim);removeNode(p);removeNode(p.next);p=start=b;}
p=p.next;}while(p!==start);return p;}
function splitEarcut(start,triangles,dim,minX,minY,size){var a=start;do{var b=a.next.next;while(b!==a.prev){if(a.i!==b.i&&isValidDiagonal(a,b)){var c=splitPolygon(a,b);a=filterPoints(a,a.next);c=filterPoints(c,c.next);earcutLinked(a,triangles,dim,minX,minY,size);earcutLinked(c,triangles,dim,minX,minY,size);return;}
b=b.next;}
a=a.next;}while(a!==start);}
function eliminateHoles(data,holeIndices,outerNode,dim){var queue=[],i,len,start,end,list;for(i=0,len=holeIndices.length;i<len;i++){start=holeIndices[i]*dim;end=i<len-1?holeIndices[i+1]*dim:data.length;list=linkedList(data,start,end,dim,false);if(list===list.next)list.steiner=true;queue.push(getLeftmost(list));}
queue.sort(compareX);for(i=0;i<queue.length;i++){eliminateHole(queue[i],outerNode);outerNode=filterPoints(outerNode,outerNode.next);}
return outerNode;}
function compareX(a,b){return a.x-b.x;}
function eliminateHole(hole,outerNode){outerNode=findHoleBridge(hole,outerNode);if(outerNode){var b=splitPolygon(outerNode,hole);filterPoints(b,b.next);}}
function findHoleBridge(hole,outerNode){var p=outerNode,hx=hole.x,hy=hole.y,qx=-Infinity,m;do{if(hy<=p.y&&hy>=p.next.y){var x=p.x+(hy-p.y)*(p.next.x-p.x)/(p.next.y-p.y);if(x<=hx&&x>qx){qx=x;if(x===hx){if(hy===p.y)return p;if(hy===p.next.y)return p.next;}
m=p.x<p.next.x?p:p.next;}}
p=p.next;}while(p!==outerNode);if(!m)return null;if(hx===qx)return m.prev;var stop=m,mx=m.x,my=m.y,tanMin=Infinity,tan;p=m.next;while(p!==stop){if(hx>=p.x&&p.x>=mx&&pointInTriangle(hy<my?hx:qx,hy,mx,my,hy<my?qx:hx,hy,p.x,p.y)){tan=Math.abs(hy-p.y)/(hx-p.x);if((tan<tanMin||(tan===tanMin&&p.x>m.x))&&locallyInside(p,hole)){m=p;tanMin=tan;}}
p=p.next;}
return m;}
function indexCurve(start,minX,minY,size){var p=start;do{if(p.z===null)p.z=zOrder(p.x,p.y,minX,minY,size);p.prevZ=p.prev;p.nextZ=p.next;p=p.next;}while(p!==start);p.prevZ.nextZ=null;p.prevZ=null;sortLinked(p);}
function sortLinked(list){var i,p,q,e,tail,numMerges,pSize,qSize,inSize=1;do{p=list;list=null;tail=null;numMerges=0;while(p){numMerges++;q=p;pSize=0;for(i=0;i<inSize;i++){pSize++;q=q.nextZ;if(!q)break;}
qSize=inSize;while(pSize>0||(qSize>0&&q)){if(pSize===0){e=q;q=q.nextZ;qSize--;}else if(qSize===0||!q){e=p;p=p.nextZ;pSize--;}else if(p.z<=q.z){e=p;p=p.nextZ;pSize--;}else{e=q;q=q.nextZ;qSize--;}
if(tail)tail.nextZ=e;else list=e;e.prevZ=tail;tail=e;}
p=q;}
tail.nextZ=null;inSize*=2;}while(numMerges>1);return list;}
function zOrder(x,y,minX,minY,size){x=32767*(x-minX)/ size;y=32767*(y-minY)/ size;x=(x|(x<<8))&0x00FF00FF;x=(x|(x<<4))&0x0F0F0F0F;x=(x|(x<<2))&0x33333333;x=(x|(x<<1))&0x55555555;y=(y|(y<<8))&0x00FF00FF;y=(y|(y<<4))&0x0F0F0F0F;y=(y|(y<<2))&0x33333333;y=(y|(y<<1))&0x55555555;return x|(y<<1);}
function getLeftmost(start){var p=start,leftmost=start;do{if(p.x<leftmost.x)leftmost=p;p=p.next;}while(p!==start);return leftmost;}
function pointInTriangle(ax,ay,bx,by,cx,cy,px,py){return(cx-px)*(ay-py)-(ax-px)*(cy-py)>=0&&(ax-px)*(by-py)-(bx-px)*(ay-py)>=0&&(bx-px)*(cy-py)-(cx-px)*(by-py)>=0;}
function isValidDiagonal(a,b){return a.next.i!==b.i&&a.prev.i!==b.i&&!intersectsPolygon(a,b)&&locallyInside(a,b)&&locallyInside(b,a)&&middleInside(a,b);}
function area(p,q,r){return(q.y-p.y)*(r.x-q.x)-(q.x-p.x)*(r.y-q.y);}
function equals(p1,p2){return p1.x===p2.x&&p1.y===p2.y;}
function intersects(p1,q1,p2,q2){if((equals(p1,q1)&&equals(p2,q2))||(equals(p1,q2)&&equals(p2,q1)))return true;return area(p1,q1,p2)>0!==area(p1,q1,q2)>0&&area(p2,q2,p1)>0!==area(p2,q2,q1)>0;}
function intersectsPolygon(a,b){var p=a;do{if(p.i!==a.i&&p.next.i!==a.i&&p.i!==b.i&&p.next.i!==b.i&&intersects(p,p.next,a,b))return true;p=p.next;}while(p!==a);return false;}
function locallyInside(a,b){return area(a.prev,a,a.next)<0?area(a,b,a.next)>=0&&area(a,a.prev,b)>=0:area(a,b,a.prev)<0||area(a,a.next,b)<0;}
function middleInside(a,b){var p=a,inside=false,px=(a.x+b.x)/ 2,py=(a.y+b.y)/ 2;do{if(((p.y>py)!==(p.next.y>py))&&(px<(p.next.x-p.x)*(py-p.y)/(p.next.y-p.y)+p.x))
inside=!inside;p=p.next;}while(p!==a);return inside;}
function splitPolygon(a,b){var a2=new Node(a.i,a.x,a.y),b2=new Node(b.i,b.x,b.y),an=a.next,bp=b.prev;a.next=b;b.prev=a;a2.next=an;an.prev=a2;b2.next=a2;a2.prev=b2;bp.next=b2;b2.prev=bp;return b2;}
function insertNode(i,x,y,last){var p=new Node(i,x,y);if(!last){p.prev=p;p.next=p;}else{p.next=last.next;p.prev=last;last.next.prev=p;last.next=p;}
return p;}
function removeNode(p){p.next.prev=p.prev;p.prev.next=p.next;if(p.prevZ)p.prevZ.nextZ=p.nextZ;if(p.nextZ)p.nextZ.prevZ=p.prevZ;}
function Node(i,x,y){this.i=i;this.x=x;this.y=y;this.prev=null;this.next=null;this.z=null;this.prevZ=null;this.nextZ=null;this.steiner=false;}
earcut.deviation=function(data,holeIndices,dim,triangles){var hasHoles=holeIndices&&holeIndices.length;var outerLen=hasHoles?holeIndices[0]*dim:data.length;var polygonArea=Math.abs(signedArea(data,0,outerLen,dim));if(hasHoles){for(var i=0,len=holeIndices.length;i<len;i++){var start=holeIndices[i]*dim;var end=i<len-1?holeIndices[i+1]*dim:data.length;polygonArea-=Math.abs(signedArea(data,start,end,dim));}}
var trianglesArea=0;for(i=0;i<triangles.length;i+=3){var a=triangles[i]*dim;var b=triangles[i+1]*dim;var c=triangles[i+2]*dim;trianglesArea+=Math.abs((data[a]-data[c])*(data[b+1]-data[a+1])-
(data[a]-data[b])*(data[c+1]-data[a+1]));}
return polygonArea===0&&trianglesArea===0?0:Math.abs((trianglesArea-polygonArea)/ polygonArea);};function signedArea(data,start,end,dim){var sum=0;for(var i=start,j=end-dim;i<end;i+=dim){sum+=(data[j]-data[i])*(data[i+1]+data[j+1]);j=i;}
return sum;}
earcut.flatten=function(data){var dim=data[0][0].length,result={vertices:[],holes:[],dimensions:dim},holeIndex=0;for(var i=0;i<data.length;i++){for(var j=0;j<data[i].length;j++){for(var d=0;d<dim;d++)result.vertices.push(data[i][j][d]);}
if(i>0){holeIndex+=data[i-1].length;result.holes.push(holeIndex);}}
return result;};}),(function(module,exports,__webpack_require__){"use strict";var extend=__webpack_require__(5).extend;function factory(type,config,load,typed,math){var _parse=load(__webpack_require__(37));function Parser(){if(!(this instanceof Parser)){throw new SyntaxError('Constructor must be called with the new operator');}
this.scope={};}
Parser.prototype.type='Parser';Parser.prototype.isParser=true;Parser.prototype.parse=function(expr){throw new Error('Parser.parse is deprecated. Use math.parse instead.');};Parser.prototype.compile=function(expr){throw new Error('Parser.compile is deprecated. Use math.compile instead.');};Parser.prototype.eval=function(expr){return _parse(expr).compile().eval(this.scope);};Parser.prototype.get=function(name){return this.scope[name];};Parser.prototype.getAll=function(){return extend({},this.scope);};Parser.prototype.set=function(name,value){return this.scope[name]=value;};Parser.prototype.remove=function(name){delete this.scope[name];};Parser.prototype.clear=function(){for(var name in this.scope){if(this.scope.hasOwnProperty(name)){delete this.scope[name];}}};return Parser;}
exports.name='Parser';exports.path='expression';exports.factory=factory;exports.math=true;}),(function(module,exports){module.exports={'name':'e','category':'Constants','syntax':['e'],'description':'Euler\'s number, the base of the natural logarithm. Approximately equal to 2.71828','examples':['e','e ^ 2','exp(2)','log(e)'],'seealso':['exp']};}),(function(module,exports){module.exports={'name':'pi','category':'Constants','syntax':['pi'],'description':'The number pi is a mathematical constant that is the ratio of a circle\'s circumference to its diameter, and is approximately equal to 3.14159','examples':['pi','sin(pi/2)'],'seealso':['tau']};}),(function(module,exports,__webpack_require__){function factory(construction,config,load,typed){var docs={};docs.bignumber=__webpack_require__(265);docs['boolean']=__webpack_require__(266);docs.complex=__webpack_require__(267);docs.createUnit=__webpack_require__(268);docs.fraction=__webpack_require__(269);docs.index=__webpack_require__(270);docs.matrix=__webpack_require__(271);docs.number=__webpack_require__(272);docs.sparse=__webpack_require__(273);docs.splitUnit=__webpack_require__(274);docs.string=__webpack_require__(275);docs.unit=__webpack_require__(276);docs.e=__webpack_require__(124);docs.E=__webpack_require__(124);docs['false']=__webpack_require__(258);docs.i=__webpack_require__(259);docs['Infinity']=__webpack_require__(250);docs.LN2=__webpack_require__(252);docs.LN10=__webpack_require__(251);docs.LOG2E=__webpack_require__(254);docs.LOG10E=__webpack_require__(253);docs.NaN=__webpack_require__(255);docs['null']=__webpack_require__(260);docs.pi=__webpack_require__(125);docs.PI=__webpack_require__(125);docs.phi=__webpack_require__(261);docs.SQRT1_2=__webpack_require__(256);docs.SQRT2=__webpack_require__(257);docs.tau=__webpack_require__(262);docs['true']=__webpack_require__(263);docs.version=__webpack_require__(264);docs.speedOfLight={description:'Speed of light in vacuum',examples:['speedOfLight']};docs.gravitationConstant={description:'Newtonian constant of gravitation',examples:['gravitationConstant']};docs.planckConstant={description:'Planck constant',examples:['planckConstant']};docs.reducedPlanckConstant={description:'Reduced Planck constant',examples:['reducedPlanckConstant']};docs.magneticConstant={description:'Magnetic constant (vacuum permeability)',examples:['magneticConstant']};docs.electricConstant={description:'Electric constant (vacuum permeability)',examples:['electricConstant']};docs.vacuumImpedance={description:'Characteristic impedance of vacuum',examples:['vacuumImpedance']};docs.coulomb={description:'Coulomb\'s constant',examples:['coulomb']};docs.elementaryCharge={description:'Elementary charge',examples:['elementaryCharge']};docs.bohrMagneton={description:'Borh magneton',examples:['bohrMagneton']};docs.conductanceQuantum={description:'Conductance quantum',examples:['conductanceQuantum']};docs.inverseConductanceQuantum={description:'Inverse conductance quantum',examples:['inverseConductanceQuantum']};docs.magneticFluxQuantum={description:'Magnetic flux quantum',examples:['magneticFluxQuantum']};docs.nuclearMagneton={description:'Nuclear magneton',examples:['nuclearMagneton']};docs.klitzing={description:'Von Klitzing constant',examples:['klitzing']};docs.bohrRadius={description:'Borh radius',examples:['bohrRadius']};docs.classicalElectronRadius={description:'Classical electron radius',examples:['classicalElectronRadius']};docs.electronMass={description:'Electron mass',examples:['electronMass']};docs.fermiCoupling={description:'Fermi coupling constant',examples:['fermiCoupling']};docs.fineStructure={description:'Fine-structure constant',examples:['fineStructure']};docs.hartreeEnergy={description:'Hartree energy',examples:['hartreeEnergy']};docs.protonMass={description:'Proton mass',examples:['protonMass']};docs.deuteronMass={description:'Deuteron Mass',examples:['deuteronMass']};docs.neutronMass={description:'Neutron mass',examples:['neutronMass']};docs.quantumOfCirculation={description:'Quantum of circulation',examples:['quantumOfCirculation']};docs.rydberg={description:'Rydberg constant',examples:['rydberg']};docs.thomsonCrossSection={description:'Thomson cross section',examples:['thomsonCrossSection']};docs.weakMixingAngle={description:'Weak mixing angle',examples:['weakMixingAngle']};docs.efimovFactor={description:'Efimov factor',examples:['efimovFactor']};docs.atomicMass={description:'Atomic mass constant',examples:['atomicMass']};docs.avogadro={description:'Avogadro\'s number',examples:['avogadro']};docs.boltzmann={description:'Boltzmann constant',examples:['boltzmann']};docs.faraday={description:'Faraday constant',examples:['faraday']};docs.firstRadiation={description:'First radiation constant',examples:['firstRadiation']};docs.loschmidt={description:'Loschmidt constant at T=273.15 K and p=101.325 kPa',examples:['loschmidt']};docs.gasConstant={description:'Gas constant',examples:['gasConstant']};docs.molarPlanckConstant={description:'Molar Planck constant',examples:['molarPlanckConstant']};docs.molarVolume={description:'Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa',examples:['molarVolume']};docs.sackurTetrode={description:'Sackur-Tetrode constant at T=1 K and p=101.325 kPa',examples:['sackurTetrode']};docs.secondRadiation={description:'Second radiation constant',examples:['secondRadiation']};docs.stefanBoltzmann={description:'Stefan-Boltzmann constant',examples:['stefanBoltzmann']};docs.wienDisplacement={description:'Wien displacement law constant',examples:['wienDisplacement']};docs.molarMass={description:'Molar mass constant',examples:['molarMass']};docs.molarMassC12={description:'Molar mass constant of carbon-12',examples:['molarMassC12']};docs.gravity={description:'Standard acceleration of gravity (standard acceleration of free-fall on Earth)',examples:['gravity']};docs.planckLength={description:'Planck length',examples:['planckLength']};docs.planckMass={description:'Planck mass',examples:['planckMass']};docs.planckTime={description:'Planck time',examples:['planckTime']};docs.planckCharge={description:'Planck charge',examples:['planckCharge']};docs.planckTemperature={description:'Planck temperature',examples:['planckTemperature']};docs.derivative=__webpack_require__(280);docs.lsolve=__webpack_require__(281);docs.lup=__webpack_require__(282);docs.lusolve=__webpack_require__(283);docs.simplify=__webpack_require__(284);docs.slu=__webpack_require__(285);docs.usolve=__webpack_require__(286);docs.abs=__webpack_require__(287);docs.add=__webpack_require__(288);docs.cbrt=__webpack_require__(289);docs.ceil=__webpack_require__(290);docs.cube=__webpack_require__(291);docs.divide=__webpack_require__(292);docs.dotDivide=__webpack_require__(293);docs.dotMultiply=__webpack_require__(294);docs.dotPow=__webpack_require__(295);docs.exp=__webpack_require__(296);docs.fix=__webpack_require__(297);docs.floor=__webpack_require__(298);docs.gcd=__webpack_require__(299);docs.hypot=__webpack_require__(300);docs.lcm=__webpack_require__(301);docs.log=__webpack_require__(302);docs.log10=__webpack_require__(303);docs.mod=__webpack_require__(304);docs.multiply=__webpack_require__(305);docs.norm=__webpack_require__(306);docs.nthRoot=__webpack_require__(307);docs.pow=__webpack_require__(308);docs.round=__webpack_require__(309);docs.sign=__webpack_require__(310);docs.sqrt=__webpack_require__(311);docs.square=__webpack_require__(312);docs.subtract=__webpack_require__(313);docs.unaryMinus=__webpack_require__(314);docs.unaryPlus=__webpack_require__(315);docs.xgcd=__webpack_require__(316);docs.bitAnd=__webpack_require__(317);docs.bitNot=__webpack_require__(318);docs.bitOr=__webpack_require__(319);docs.bitXor=__webpack_require__(320);docs.leftShift=__webpack_require__(321);docs.rightArithShift=__webpack_require__(322);docs.rightLogShift=__webpack_require__(323);docs.bellNumbers=__webpack_require__(324);docs.catalan=__webpack_require__(325);docs.composition=__webpack_require__(326);docs.stirlingS2=__webpack_require__(327);docs['config']=__webpack_require__(277);docs['import']=__webpack_require__(278);docs['typed']=__webpack_require__(279);docs.arg=__webpack_require__(328);docs.conj=__webpack_require__(329);docs.re=__webpack_require__(331);docs.im=__webpack_require__(330);docs['eval']=__webpack_require__(332);docs.help=__webpack_require__(333);docs.distance=__webpack_require__(334);docs.intersect=__webpack_require__(335);docs['and']=__webpack_require__(336);docs['not']=__webpack_require__(337);docs['or']=__webpack_require__(338);docs['xor']=__webpack_require__(339);docs['concat']=__webpack_require__(340);docs.cross=__webpack_require__(341);docs.det=__webpack_require__(342);docs.diag=__webpack_require__(343);docs.dot=__webpack_require__(344);docs.eye=__webpack_require__(345);docs.filter=__webpack_require__(346);docs.flatten=__webpack_require__(347);docs.forEach=__webpack_require__(348);docs.inv=__webpack_require__(349);docs.kron=__webpack_require__(350);docs.map=__webpack_require__(351);docs.ones=__webpack_require__(352);docs.partitionSelect=__webpack_require__(353);docs.range=__webpack_require__(354);docs.resize=__webpack_require__(355);docs.size=__webpack_require__(356);docs.sort=__webpack_require__(357);docs.squeeze=__webpack_require__(358);docs.subset=__webpack_require__(359);docs.trace=__webpack_require__(360);docs.transpose=__webpack_require__(361);docs.zeros=__webpack_require__(362);docs.combinations=__webpack_require__(363);docs.factorial=__webpack_require__(364);docs.gamma=__webpack_require__(365);docs.kldivergence=__webpack_require__(366);docs.multinomial=__webpack_require__(367);docs.permutations=__webpack_require__(368);docs.pickRandom=__webpack_require__(369);docs.random=__webpack_require__(370);docs.randomInt=__webpack_require__(371);docs.compare=__webpack_require__(372);docs.deepEqual=__webpack_require__(373);docs['equal']=__webpack_require__(374);docs.larger=__webpack_require__(375);docs.largerEq=__webpack_require__(376);docs.smaller=__webpack_require__(377);docs.smallerEq=__webpack_require__(378);docs.unequal=__webpack_require__(379);docs.erf=__webpack_require__(380);docs.mad=__webpack_require__(381);docs.max=__webpack_require__(382);docs.mean=__webpack_require__(383);docs.median=__webpack_require__(384);docs.min=__webpack_require__(385);docs.mode=__webpack_require__(386);docs.prod=__webpack_require__(387);docs.quantileSeq=__webpack_require__(388);docs.std=__webpack_require__(389);docs.sum=__webpack_require__(390);docs['var']=__webpack_require__(391);docs.acos=__webpack_require__(392);docs.acosh=__webpack_require__(393);docs.acot=__webpack_require__(394);docs.acoth=__webpack_require__(395);docs.acsc=__webpack_require__(396);docs.acsch=__webpack_require__(397);docs.asec=__webpack_require__(398);docs.asech=__webpack_require__(399);docs.asin=__webpack_require__(400);docs.asinh=__webpack_require__(401);docs.atan=__webpack_require__(402);docs.atanh=__webpack_require__(404);docs.atan2=__webpack_require__(403);docs.cos=__webpack_require__(405);docs.cosh=__webpack_require__(406);docs.cot=__webpack_require__(407);docs.coth=__webpack_require__(408);docs.csc=__webpack_require__(409);docs.csch=__webpack_require__(410);docs.sec=__webpack_require__(411);docs.sech=__webpack_require__(412);docs.sin=__webpack_require__(413);docs.sinh=__webpack_require__(414);docs.tan=__webpack_require__(415);docs.tanh=__webpack_require__(416);docs.to=__webpack_require__(417);docs.clone=__webpack_require__(418);docs.format=__webpack_require__(419);docs.isNaN=__webpack_require__(421);docs.isInteger=__webpack_require__(420);docs.isNegative=__webpack_require__(422);docs.isNumeric=__webpack_require__(423);docs.isPositive=__webpack_require__(424);docs.isPrime=__webpack_require__(425);docs.isZero=__webpack_require__(426);docs['typeof']=__webpack_require__(427);return docs;}
exports.name='docs';exports.path='expression';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed,math){var Parser=load(__webpack_require__(123));return typed('parser',{'':function(){return new Parser(math);}});}
exports.name='parser';exports.factory=factory;exports.math=true;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var Node=load(__webpack_require__(15));var access=load(__webpack_require__(135));function AccessorNode(object,index){if(!(this instanceof AccessorNode)){throw new SyntaxError('Constructor must be called with the new operator');}
if(!(object&&object.isNode)){throw new TypeError('Node expected for parameter "object"');}
if(!(index&&index.isIndexNode)){throw new TypeError('IndexNode expected for parameter "index"');}
this.object=object||null;this.index=index;Object.defineProperty(this,'name',{get:function(){if(this.index){return(this.index.isObjectProperty())?this.index.getObjectProperty():'';}
else{return this.object.name||'';}}.bind(this),set:function(){throw new Error('Cannot assign a new name, name is read-only');}});}
AccessorNode.prototype=new Node();AccessorNode.prototype.type='AccessorNode';AccessorNode.prototype.isAccessorNode=true;AccessorNode.prototype._compile=function(defs,args){defs.access=access;var object=this.object._compile(defs,args);var index=this.index._compile(defs,args);if(this.index.isObjectProperty()){return object+'["'+this.index.getObjectProperty()+'"]';}
else if(this.index.needsSize()){return'(function () {'+'  var object = '+object+';'+'  var size = math.size(object).valueOf();'+'  return access(object, '+index+');'+'})()';}
else{return'access('+object+', '+index+')';}};AccessorNode.prototype.forEach=function(callback){callback(this.object,'object',this);callback(this.index,'index',this);};AccessorNode.prototype.map=function(callback){return new AccessorNode(this._ifNode(callback(this.object,'object',this)),this._ifNode(callback(this.index,'index',this)));};AccessorNode.prototype.clone=function(){return new AccessorNode(this.object,this.index);};AccessorNode.prototype._toString=function(options){var object=this.object.toString(options);if(needParenthesis(this.object)){object='('+object+')';}
return object+this.index.toString(options);};AccessorNode.prototype._toTex=function(options){var object=this.object.toTex(options);if(needParenthesis(this.object)){object='\\left('+object+'\\right)';}
return object+this.index.toTex(options);};function needParenthesis(node){return!(node.isAccessorNode||node.isArrayNode||node.isConstantNode||node.isFunctionNode||node.isObjectNode||node.isParenthesisNode||node.isSymbolNode);}
return AccessorNode;}
exports.name='AccessorNode';exports.path='expression.node';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var latex=__webpack_require__(3);function factory(type,config,load,typed){var Node=load(__webpack_require__(15));var ArrayNode=load(__webpack_require__(90));var matrix=load(__webpack_require__(0));var assign=load(__webpack_require__(436));var access=load(__webpack_require__(135));var keywords=__webpack_require__(89);var operators=__webpack_require__(57);function AssignmentNode(object,index,value){if(!(this instanceof AssignmentNode)){throw new SyntaxError('Constructor must be called with the new operator');}
this.object=object;this.index=value?index:null;this.value=value?value:index;if(!object||!(object.isSymbolNode||object.isAccessorNode)){throw new TypeError('SymbolNode or AccessorNode expected as "object"');}
if(object&&object.isSymbolNode&&object.name==='end'){throw new Error('Cannot assign to symbol "end"');}
if(this.index&&!this.index.isIndexNode){throw new TypeError('IndexNode expected as "index"');}
if(!this.value||!this.value.isNode){throw new TypeError('Node expected as "value"');}
Object.defineProperty(this,'name',{get:function(){if(this.index){return(this.index.isObjectProperty())?this.index.getObjectProperty():'';}
else{return this.object.name||'';}}.bind(this),set:function(){throw new Error('Cannot assign a new name, name is read-only');}});}
AssignmentNode.prototype=new Node();AssignmentNode.prototype.type='AssignmentNode';AssignmentNode.prototype.isAssignmentNode=true;AssignmentNode.prototype._compile=function(defs,args){defs.assign=assign;defs.access=access;var size;var object=this.object._compile(defs,args);var index=this.index?this.index._compile(defs,args):null;var value=this.value._compile(defs,args);if(!this.index){if(!this.object.isSymbolNode){throw new TypeError('SymbolNode expected as object');}
return'scope["'+this.object.name+'"] = '+value;}
else if(this.index.isObjectProperty()){return object+'["'+this.index.getObjectProperty()+'"] = '+value;}
else if(this.object.isSymbolNode){size=this.index.needsSize()?'var size = math.size(object).valueOf();':'';return'(function () {'+'  var object = '+object+';'+'  var value = '+value+';'+'  '+size+'  scope["'+this.object.name+'"] = assign(object, '+index+', value);'+'  return value;'+'})()';}
else{size=this.index.needsSize()?'var size = math.size(object).valueOf();':'';var parentObject=this.object.object._compile(defs,args);if(this.object.index.isObjectProperty()){var parentProperty='["'+this.object.index.getObjectProperty()+'"]';return'(function () {'+'  var parent = '+parentObject+';'+'  var object = parent'+parentProperty+';'+'  var value = '+value+';'+
size+'  parent'+parentProperty+' = assign(object, '+index+', value);'+'  return value;'+'})()';}
else{var parentSize=this.object.index.needsSize()?'var size = math.size(parent).valueOf();':'';var parentIndex=this.object.index._compile(defs,args);return'(function () {'+'  var parent = '+parentObject+';'+'  '+parentSize+'  var parentIndex = '+parentIndex+';'+'  var object = access(parent, parentIndex);'+'  var value = '+value+';'+'  '+size+'  assign(parent, parentIndex, assign(object, '+index+', value));'+'  return value;'+'})()';}}};AssignmentNode.prototype.forEach=function(callback){callback(this.object,'object',this);if(this.index){callback(this.index,'index',this);}
callback(this.value,'value',this);};AssignmentNode.prototype.map=function(callback){var object=this._ifNode(callback(this.object,'object',this));var index=this.index?this._ifNode(callback(this.index,'index',this)):null;var value=this._ifNode(callback(this.value,'value',this));return new AssignmentNode(object,index,value);};AssignmentNode.prototype.clone=function(){return new AssignmentNode(this.object,this.index,this.value);};function needParenthesis(node,parenthesis){if(!parenthesis){parenthesis='keep';}
var precedence=operators.getPrecedence(node,parenthesis);var exprPrecedence=operators.getPrecedence(node.value,parenthesis);return(parenthesis==='all')||((exprPrecedence!==null)&&(exprPrecedence<=precedence));}
AssignmentNode.prototype._toString=function(options){var object=this.object.toString(options);var index=this.index?this.index.toString(options):'';var value=this.value.toString(options);if(needParenthesis(this,options&&options.parenthesis)){value='('+value+')';}
return object+index+' = '+value;};AssignmentNode.prototype._toTex=function(options){var object=this.object.toTex(options);var index=this.index?this.index.toTex(options):'';var value=this.value.toTex(options);if(needParenthesis(this,options&&options.parenthesis)){value='\\left('+value+'\\right)';}
return object+index+':='+value;};return AssignmentNode;}
exports.name='AssignmentNode';exports.path='expression.node';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var Node=load(__webpack_require__(15));var ResultSet=load(__webpack_require__(174));function BlockNode(blocks){if(!(this instanceof BlockNode)){throw new SyntaxError('Constructor must be called with the new operator');}
if(!Array.isArray(blocks))throw new Error('Array expected');this.blocks=blocks.map(function(block){var node=block&&block.node;var visible=block&&block.visible!==undefined?block.visible:true;if(!(node&&node.isNode))throw new TypeError('Property "node" must be a Node');if(typeof visible!=='boolean')throw new TypeError('Property "visible" must be a boolean');return{node:node,visible:visible}});}
BlockNode.prototype=new Node();BlockNode.prototype.type='BlockNode';BlockNode.prototype.isBlockNode=true;BlockNode.prototype._compile=function(defs,args){defs.ResultSet=ResultSet;var blocks=this.blocks.map(function(param){var js=param.node._compile(defs,args);if(param.visible){return'results.push('+js+');';}
else{return js+';';}});return'(function () {'+'var results = [];'+
blocks.join('')+'return new ResultSet(results);'+'})()';};BlockNode.prototype.forEach=function(callback){for(var i=0;i<this.blocks.length;i++){callback(this.blocks[i].node,'blocks['+i+'].node',this);}};BlockNode.prototype.map=function(callback){var blocks=[];for(var i=0;i<this.blocks.length;i++){var block=this.blocks[i];var node=this._ifNode(callback(block.node,'blocks['+i+'].node',this));blocks[i]={node:node,visible:block.visible};}
return new BlockNode(blocks);};BlockNode.prototype.clone=function(){var blocks=this.blocks.map(function(block){return{node:block.node,visible:block.visible};});return new BlockNode(blocks);};BlockNode.prototype._toString=function(options){return this.blocks.map(function(param){return param.node.toString(options)+(param.visible?'':';');}).join('\n');};BlockNode.prototype._toTex=function(options){return this.blocks.map(function(param){return param.node.toTex(options)+(param.visible?'':';');}).join('\\;\\;\n');};return BlockNode;}
exports.name='BlockNode';exports.path='expression.node';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var latex=__webpack_require__(3);var operators=__webpack_require__(57);function factory(type,config,load,typed){var Node=load(__webpack_require__(15));function ConditionalNode(condition,trueExpr,falseExpr){if(!(this instanceof ConditionalNode)){throw new SyntaxError('Constructor must be called with the new operator');}
if(!(condition&&condition.isNode))throw new TypeError('Parameter condition must be a Node');if(!(trueExpr&&trueExpr.isNode))throw new TypeError('Parameter trueExpr must be a Node');if(!(falseExpr&&falseExpr.isNode))throw new TypeError('Parameter falseExpr must be a Node');this.condition=condition;this.trueExpr=trueExpr;this.falseExpr=falseExpr;}
ConditionalNode.prototype=new Node();ConditionalNode.prototype.type='ConditionalNode';ConditionalNode.prototype.isConditionalNode=true;ConditionalNode.prototype._compile=function(defs,args){defs.testCondition=function(condition){if(typeof condition==='number'||typeof condition==='boolean'||typeof condition==='string'){return condition?true:false;}
if(condition){if(condition.isBigNumber===true){return condition.isZero()?false:true;}
if(condition.isComplex===true){return(condition.re||condition.im)?true:false;}
if(condition.isUnit===true){return condition.value?true:false;}}
if(condition===null||condition===undefined){return false;}
throw new TypeError('Unsupported type of condition "'+defs.math['typeof'](condition)+'"');};return('testCondition('+this.condition._compile(defs,args)+') ? '+'( '+this.trueExpr._compile(defs,args)+') : '+'( '+this.falseExpr._compile(defs,args)+')');};ConditionalNode.prototype.forEach=function(callback){callback(this.condition,'condition',this);callback(this.trueExpr,'trueExpr',this);callback(this.falseExpr,'falseExpr',this);};ConditionalNode.prototype.map=function(callback){return new ConditionalNode(this._ifNode(callback(this.condition,'condition',this)),this._ifNode(callback(this.trueExpr,'trueExpr',this)),this._ifNode(callback(this.falseExpr,'falseExpr',this)));};ConditionalNode.prototype.clone=function(){return new ConditionalNode(this.condition,this.trueExpr,this.falseExpr);};ConditionalNode.prototype._toString=function(options){var parenthesis=(options&&options.parenthesis)?options.parenthesis:'keep';var precedence=operators.getPrecedence(this,parenthesis);var condition=this.condition.toString(options);var conditionPrecedence=operators.getPrecedence(this.condition,parenthesis);if((parenthesis==='all')||(this.condition.type==='OperatorNode')||((conditionPrecedence!==null)&&(conditionPrecedence<=precedence))){condition='('+condition+')';}
var trueExpr=this.trueExpr.toString(options);var truePrecedence=operators.getPrecedence(this.trueExpr,parenthesis);if((parenthesis==='all')||(this.trueExpr.type==='OperatorNode')||((truePrecedence!==null)&&(truePrecedence<=precedence))){trueExpr='('+trueExpr+')';}
var falseExpr=this.falseExpr.toString(options);var falsePrecedence=operators.getPrecedence(this.falseExpr,parenthesis);if((parenthesis==='all')||(this.falseExpr.type==='OperatorNode')||((falsePrecedence!==null)&&(falsePrecedence<=precedence))){falseExpr='('+falseExpr+')';}
return condition+' ? '+trueExpr+' : '+falseExpr;};ConditionalNode.prototype._toTex=function(options){return'\\begin{cases} {'
+this.trueExpr.toTex(options)+'}, &\\quad{\\text{if }\\;'
+this.condition.toTex(options)
+'}\\\\{'+this.falseExpr.toTex(options)
+'}, &\\quad{\\text{otherwise}}\\end{cases}';};return ConditionalNode;}
exports.name='ConditionalNode';exports.path='expression.node';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var keywords=__webpack_require__(89);var latex=__webpack_require__(3);var operators=__webpack_require__(57);function isString(x){return typeof x==='string';}
function factory(type,config,load,typed){var Node=load(__webpack_require__(15));function FunctionAssignmentNode(name,params,expr){if(!(this instanceof FunctionAssignmentNode)){throw new SyntaxError('Constructor must be called with the new operator');}
if(typeof name!=='string')throw new TypeError('String expected for parameter "name"');if(!Array.isArray(params))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!(expr&&expr.isNode))throw new TypeError('Node expected for parameter "expr"');if(name in keywords)throw new Error('Illegal function name, "'+name+'" is a reserved keyword');this.name=name;this.params=params.map(function(param){return param&&param.name||param;});this.types=params.map(function(param){return param&&param.type||'any'});this.expr=expr;}
FunctionAssignmentNode.prototype=new Node();FunctionAssignmentNode.prototype.type='FunctionAssignmentNode';FunctionAssignmentNode.prototype.isFunctionAssignmentNode=true;FunctionAssignmentNode.prototype._compile=function(defs,args){defs.typed=typed;var childArgs=Object.create(args);this.params.forEach(function(variable){childArgs[variable]=true;});var jsExpr=this.expr._compile(defs,childArgs);return'scope["'+this.name+'"] = '+'  (function () {'+'    var fn = typed("'+this.name+'", {'+'      "'+this.types.join(',')+'": function ('+this.params.join(',')+') {'+'        return '+jsExpr+''+'      }'+'    });'+'    fn.syntax = "'+this.name+'('+this.params.join(', ')+')";'+'    return fn;'+'  })()';};FunctionAssignmentNode.prototype.forEach=function(callback){callback(this.expr,'expr',this);};FunctionAssignmentNode.prototype.map=function(callback){var expr=this._ifNode(callback(this.expr,'expr',this));return new FunctionAssignmentNode(this.name,this.params.slice(0),expr);};FunctionAssignmentNode.prototype.clone=function(){return new FunctionAssignmentNode(this.name,this.params.slice(0),this.expr);};function needParenthesis(node,parenthesis){var precedence=operators.getPrecedence(node,parenthesis);var exprPrecedence=operators.getPrecedence(node.expr,parenthesis);return(parenthesis==='all')||((exprPrecedence!==null)&&(exprPrecedence<=precedence));}
FunctionAssignmentNode.prototype._toString=function(options){var parenthesis=(options&&options.parenthesis)?options.parenthesis:'keep';var expr=this.expr.toString(options);if(needParenthesis(this,parenthesis)){expr='('+expr+')';}
return this.name+'('+this.params.join(', ')+') = '+expr;};FunctionAssignmentNode.prototype._toTex=function(options){var parenthesis=(options&&options.parenthesis)?options.parenthesis:'keep';var expr=this.expr.toTex(options);if(needParenthesis(this,parenthesis)){expr='\\left('+expr+'\\right)';}
return'\\mathrm{'+this.name
+'}\\left('+this.params.map(latex.toSymbol).join(',')+'\\right):='+expr;};return FunctionAssignmentNode;}
exports.name='FunctionAssignmentNode';exports.path='expression.node';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var Node=load(__webpack_require__(15));var RangeNode=load(__webpack_require__(91));var SymbolNode=load(__webpack_require__(33));var Range=load(__webpack_require__(172));var isArray=Array.isArray;function IndexNode(dimensions,dotNotation){if(!(this instanceof IndexNode)){throw new SyntaxError('Constructor must be called with the new operator');}
this.dimensions=dimensions;this.dotNotation=dotNotation||false;if(!isArray(dimensions)||!dimensions.every(function(range){return range&&range.isNode;})){throw new TypeError('Array containing Nodes expected for parameter "dimensions"');}
if(this.dotNotation&&!this.isObjectProperty()){throw new Error('dotNotation only applicable for object properties');}
var deprecated=function(){throw new Error('Property `IndexNode.object` is deprecated, use `IndexNode.fn` instead');};Object.defineProperty(this,'object',{get:deprecated,set:deprecated});}
IndexNode.prototype=new Node();IndexNode.prototype.type='IndexNode';IndexNode.prototype.isIndexNode=true;IndexNode.prototype._compile=function(defs,args){var childArgs=Object.create(args);defs.range=function(start,end,step){return new Range((start&&start.isBigNumber===true)?start.toNumber():start,(end&&end.isBigNumber===true)?end.toNumber():end,(step&&step.isBigNumber===true)?step.toNumber():step);};var dimensions=this.dimensions.map(function(range,i){if(range&&range.isRangeNode){if(range.needsEnd()){childArgs.end=true;return'(function () {'+'var end = size['+i+']; '+'return range('+
range.start._compile(defs,childArgs)+', '+
range.end._compile(defs,childArgs)+', '+
(range.step?range.step._compile(defs,childArgs):'1')+'); '+'})()';}
else{return'range('+
range.start._compile(defs,childArgs)+', '+
range.end._compile(defs,childArgs)+', '+
(range.step?range.step._compile(defs,childArgs):'1')+')';}}
if(range.isSymbolNode&&range.name==='end'){childArgs.end=true;return'(function () {'+'var end = size['+i+']; '+'return '+range._compile(defs,childArgs)+'; '+'})()'}
else{return range._compile(defs,childArgs);}});return'math.index('+dimensions.join(', ')+')';};IndexNode.prototype.forEach=function(callback){for(var i=0;i<this.dimensions.length;i++){callback(this.dimensions[i],'dimensions['+i+']',this);}};IndexNode.prototype.map=function(callback){var dimensions=[];for(var i=0;i<this.dimensions.length;i++){dimensions[i]=this._ifNode(callback(this.dimensions[i],'dimensions['+i+']',this));}
return new IndexNode(dimensions);};IndexNode.prototype.clone=function(){return new IndexNode(this.dimensions.slice(0));};IndexNode.prototype.isObjectProperty=function(){return this.dimensions.length===1&&this.dimensions[0].isConstantNode&&this.dimensions[0].valueType==='string';};IndexNode.prototype.getObjectProperty=function(){return this.isObjectProperty()?this.dimensions[0].value:null;};IndexNode.prototype._toString=function(options){return this.dotNotation?('.'+this.getObjectProperty()):('['+this.dimensions.join(', ')+']');};IndexNode.prototype._toTex=function(options){var dimensions=this.dimensions.map(function(range){return range.toTex(options);});return this.dotNotation?('.'+this.getObjectProperty()+''):('_{'+dimensions.join(',')+'}');};IndexNode.prototype.needsSize=function(){return this.dimensions.some(function(range){return(range.isRangeNode&&range.needsEnd())||(range.isSymbolNode&&range.name==='end');});};return IndexNode;}
exports.name='IndexNode';exports.path='expression.node';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var string=__webpack_require__(25);function factory(type,config,load,typed){var Node=load(__webpack_require__(15));function ObjectNode(properties){if(!(this instanceof ObjectNode)){throw new SyntaxError('Constructor must be called with the new operator');}
this.properties=properties||{};if(properties){if(!(typeof properties==='object')||Object.keys(properties).some(function(key){return!properties[key]||!properties[key].isNode;})){throw new TypeError('Object containing Nodes expected');}}}
ObjectNode.prototype=new Node();ObjectNode.prototype.type='ObjectNode';ObjectNode.prototype.isObjectNode=true;ObjectNode.prototype._compile=function(defs,args){var entries=[];for(var key in this.properties){if(this.properties.hasOwnProperty(key)){entries.push('"'+key+'": '+this.properties[key]._compile(defs,args));}}
return'{'+entries.join(', ')+'}';};ObjectNode.prototype.forEach=function(callback){for(var key in this.properties){if(this.properties.hasOwnProperty(key)){callback(this.properties[key],'properties["'+key+'"]',this);}}};ObjectNode.prototype.map=function(callback){var properties={};for(var key in this.properties){if(this.properties.hasOwnProperty(key)){properties[key]=this._ifNode(callback(this.properties[key],'properties["'+key+'"]',this));}}
return new ObjectNode(properties);};ObjectNode.prototype.clone=function(){var properties={};for(var key in this.properties){if(this.properties.hasOwnProperty(key)){properties[key]=this.properties[key];}}
return new ObjectNode(properties);};ObjectNode.prototype._toString=function(options){var entries=[];for(var key in this.properties){if(this.properties.hasOwnProperty(key)){entries.push('"'+key+'": '+this.properties[key].toString(options));}}
return'{'+entries.join(', ')+'}';};ObjectNode.prototype._toTex=function(options){var entries=[];for(var key in this.properties){if(this.properties.hasOwnProperty(key)){entries.push("\\mathbf{"+key+':} & '+this.properties[key].toTex(options)+"\\\\");}}
return'\\left\\{\\begin{array}{ll}'+entries.join('\n')+'\\end{array}\\right\\}';};return ObjectNode;}
exports.name='ObjectNode';exports.path='expression.node';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var errorTransform=__webpack_require__(38).transform;function factory(type,config,load,typed){var subset=load(__webpack_require__(73));var matrix=load(__webpack_require__(0));return function access(object,index){try{if(Array.isArray(object)){return matrix(object).subset(index).valueOf();}
else if(object&&typeof object.subset==='function'){return object.subset(index);}
else if(typeof object==='string'){return subset(object,index);}
else if(typeof object==='object'){if(!index.isObjectProperty()){throw TypeError('Cannot apply a numeric index as object property');}
return object[index.getObjectProperty()];}
else{throw new TypeError('Cannot apply index: unsupported type of object');}}
catch(err){throw errorTransform(err);}}}
exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var util=__webpack_require__(31);var object=util.object;function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var abs=load(__webpack_require__(34));var addScalar=load(__webpack_require__(23));var divideScalar=load(__webpack_require__(21));var multiplyScalar=load(__webpack_require__(27));var subtract=load(__webpack_require__(24));var larger=load(__webpack_require__(35));var equalScalar=load(__webpack_require__(12));var unaryMinus=load(__webpack_require__(45));var SparseMatrix=type.SparseMatrix;var DenseMatrix=type.DenseMatrix;var Spa=type.Spa;var lup=typed('lup',{'DenseMatrix':function(m){return _denseLUP(m);},'SparseMatrix':function(m){return _sparseLUP(m);},'Array':function(a){var m=matrix(a);var r=_denseLUP(m);return{L:r.L.valueOf(),U:r.U.valueOf(),p:r.p};}});var _denseLUP=function(m){var rows=m._size[0];var columns=m._size[1];var n=Math.min(rows,columns);var data=object.clone(m._data);var ldata=[];var lsize=[rows,n];var udata=[];var usize=[n,columns];var i,j,k;var p=[];for(i=0;i<rows;i++)
p[i]=i;for(j=0;j<columns;j++){if(j>0){for(i=0;i<rows;i++){var min=Math.min(i,j);var s=0;for(k=0;k<min;k++){s=addScalar(s,multiplyScalar(data[i][k],data[k][j]));}
data[i][j]=subtract(data[i][j],s);}}
var pi=j;var pabsv=0;var vjj=0;for(i=j;i<rows;i++){var v=data[i][j];var absv=abs(v);if(larger(absv,pabsv)){pi=i;pabsv=absv;vjj=v;}}
if(j!==pi){p[j]=[p[pi],p[pi]=p[j]][0];DenseMatrix._swapRows(j,pi,data);}
if(j<rows){for(i=j+1;i<rows;i++){var vij=data[i][j];if(!equalScalar(vij,0)){data[i][j]=divideScalar(data[i][j],vjj);}}}}
for(j=0;j<columns;j++){for(i=0;i<rows;i++){if(j===0){if(i<columns){udata[i]=[];}
ldata[i]=[];}
if(i<j){if(i<columns){udata[i][j]=data[i][j];}
if(j<rows){ldata[i][j]=0;}
continue;}
if(i===j){if(i<columns){udata[i][j]=data[i][j];}
if(j<rows){ldata[i][j]=1;}
continue;}
if(i<columns){udata[i][j]=0;}
if(j<rows){ldata[i][j]=data[i][j];}}}
var l=new DenseMatrix({data:ldata,size:lsize});var u=new DenseMatrix({data:udata,size:usize});var pv=[];for(i=0,n=p.length;i<n;i++)
pv[p[i]]=i;return{L:l,U:u,p:pv,toString:function(){return'L: '+this.L.toString()+'\nU: '+this.U.toString()+'\nP: '+this.p;}};};var _sparseLUP=function(m){var rows=m._size[0];var columns=m._size[1];var n=Math.min(rows,columns);var values=m._values;var index=m._index;var ptr=m._ptr;var lvalues=[];var lindex=[];var lptr=[];var lsize=[rows,n];var uvalues=[];var uindex=[];var uptr=[];var usize=[n,columns];var i,j,k;var pv_co=[];var pv_oc=[];for(i=0;i<rows;i++){pv_co[i]=i;pv_oc[i]=i;}
var swapIndeces=function(x,y){var kx=pv_oc[x];var ky=pv_oc[y];pv_co[kx]=y;pv_co[ky]=x;pv_oc[x]=ky;pv_oc[y]=kx;};for(j=0;j<columns;j++){var spa=new Spa();if(j<rows){lptr.push(lvalues.length);lvalues.push(1);lindex.push(j);}
uptr.push(uvalues.length);var k0=ptr[j];var k1=ptr[j+1];for(k=k0;k<k1;k++){i=index[k];spa.set(pv_co[i],values[k]);}
if(j>0){spa.forEach(0,j-1,function(k,vkj){SparseMatrix._forEachRow(k,lvalues,lindex,lptr,function(i,vik){if(i>k){spa.accumulate(i,unaryMinus(multiplyScalar(vik,vkj)));}});});}
var pi=j;var vjj=spa.get(j);var pabsv=abs(vjj);spa.forEach(j+1,rows-1,function(x,v){var absv=abs(v);if(larger(absv,pabsv)){pi=x;pabsv=absv;vjj=v;}});if(j!==pi){SparseMatrix._swapRows(j,pi,lsize[1],lvalues,lindex,lptr);SparseMatrix._swapRows(j,pi,usize[1],uvalues,uindex,uptr);spa.swap(j,pi);swapIndeces(j,pi);}
spa.forEach(0,rows-1,function(x,v){if(x<=j){uvalues.push(v);uindex.push(x);}
else{v=divideScalar(v,vjj);if(!equalScalar(v,0)){lvalues.push(v);lindex.push(x);}}});}
uptr.push(uvalues.length);lptr.push(lvalues.length);return{L:new SparseMatrix({values:lvalues,index:lindex,ptr:lptr,size:lsize}),U:new SparseMatrix({values:uvalues,index:uindex,ptr:uptr,size:usize}),p:pv_co,toString:function(){return'L: '+this.L.toString()+'\nU: '+this.U.toString()+'\nP: '+this.p;}};};return lup;}
exports.name='lup';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var util=__webpack_require__(31);var number=util.number,isInteger=number.isInteger;function factory(type,config,load,typed){var cs_sqr=load(__webpack_require__(464));var cs_lu=load(__webpack_require__(459));var slu=typed('slu',{'SparseMatrix, number, number':function(a,order,threshold){if(!isInteger(order)||order<0||order>3)
throw new Error('Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]');if(threshold<0||threshold>1)
throw new Error('Partial pivoting threshold must be a number from 0 to 1');var s=cs_sqr(order,a,false);var f=cs_lu(a,s,threshold);return{L:f.L,U:f.U,p:f.pinv,q:s.q,toString:function(){return'L: '+this.L.toString()+'\nU: '+this.U.toString()+'\np: '+this.p.toString()+(this.q?'\nq: '+this.q.toString():'')+'\n';}};}});return slu;}
exports.name='slu';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var parse=load(__webpack_require__(37));var ConstantNode=load(__webpack_require__(55));var FunctionNode=load(__webpack_require__(56));var OperatorNode=load(__webpack_require__(70));var ParenthesisNode=load(__webpack_require__(71));var SymbolNode=load(__webpack_require__(33));var Node=load(__webpack_require__(15));var simplifyConstant=load(__webpack_require__(450));var util=load(__webpack_require__(139));var isCommutative=util.isCommutative;var isAssociative=util.isAssociative;var flatten=util.flatten;var unflattenr=util.unflattenr;var unflattenl=util.unflattenl;var createMakeNodeFunction=util.createMakeNodeFunction;var simplify=typed('simplify',{'string':function(expr){return simplify(parse(expr),simplify.rules);},'string, Array':function(expr,rules){return simplify(parse(expr),rules);},'Node':function(expr){return simplify(expr,simplify.rules);},'Node, Array':function(expr,rules){rules=_buildRules(rules);var res=removeParens(expr);var after=res.toString({parenthesis:'all'});var before=null;while(before!=after){lastsym=0;before=after;for(var i=0;i<rules.length;i++){if(typeof rules[i]==='function'){res=rules[i](res);}
else{flatten(res);res=applyRule(res,rules[i]);}
unflattenl(res);}
after=res.toString({parenthesis:'all'});}
return res;}});function removeParens(node){return node.transform(function(node,path,parent){if(node.isParenthesisNode){return node.content;}
else{return node;}});}
simplify.rules=[{l:'n^0',r:'1'},{l:'0*n',r:'0'},{l:'n/n',r:'1'},{l:'n^1',r:'n'},{l:'+n1',r:'n1'},{l:'n--n1',r:'n+n1'},{l:'log(e)',r:'1'},{l:'n-n1',r:'n+-n1'},{l:'-(c*C)',r:'(-c) * C'},{l:'-C',r:'(-1) * C'},{l:'n/n1^n2',r:'n*n1^-n2'},{l:'n/n1',r:'n*n1^-1'},{l:'n*n',r:'n^2'},{l:'n * n^n1',r:'n^(n1+1)'},{l:'n^n1 * n^n2',r:'n^(n1+n2)'},{l:'n+n',r:'2*n'},{l:'n+-n',r:'0'},{l:'n1*n2 + n2',r:'(n1+1)*n2'},{l:'n1*n3 + n2*n3',r:'(n1+n2)*n3'},simplifyConstant,{l:'(-n)*n1',r:'-(n*n1)'},{l:'c+C',r:'C+c',context:{'add':{commutative:false}}},{l:'C*c',r:'c*C',context:{'multiply':{commutative:false}}},{l:'(-1) * n',r:'-n'},{l:'n+-n1',r:'n-n1'},{l:'n*(n1^-1)',r:'n/n1'},{l:'n*n1^-n2',r:'n/n1^n2'},{l:'n1^-1',r:'1/n1'},{l:'n*(n1/n2)',r:'(n*n1)/n2'},{l:'n-(n1+n2)',r:'n-n1-n2'},{l:'1*n',r:'n'}];function _buildRules(rules){var ruleSet=[];for(var i=0;i<rules.length;i++){var rule=rules[i];var newRule;var ruleType=typeof rule;switch(ruleType){case'string':var lr=rule.split('->');if(lr.length!==2){throw SyntaxError('Could not parse rule: '+rule);}
rule={l:lr[0],r:lr[1]};case'object':newRule={l:removeParens(parse(rule.l)),r:removeParens(parse(rule.r)),}
if(rule.context){newRule.evaluate=rule.context;}
if(rule.evaluate){newRule.evaluate=parse(rule.evaluate);}
if(newRule.l.isOperatorNode&&isAssociative(newRule.l)){var makeNode=createMakeNodeFunction(newRule.l);var expandsym=_getExpandPlaceholderSymbol();newRule.expanded={};newRule.expanded.l=makeNode([newRule.l.clone(),expandsym]);flatten(newRule.expanded.l);unflattenr(newRule.expanded.l);newRule.expanded.r=makeNode([newRule.r,expandsym]);}
break;case'function':newRule=rule;break;default:throw TypeError('Unsupported type of rule: '+ruleType);}
ruleSet.push(newRule);}
return ruleSet;}
var lastsym=0;function _getExpandPlaceholderSymbol(){return new SymbolNode('_p'+lastsym++);}
var applyRule=typed('applyRule',{'Node, Object':function(node,rule){var res=node;if(res instanceof OperatorNode||res instanceof FunctionNode){if(res.args){for(var i=0;i<res.args.length;i++){res.args[i]=applyRule(res.args[i],rule);}}}
else if(res instanceof ParenthesisNode){if(res.content){res.content=applyRule(res.content,rule);}}
var repl=rule.r;var matches=_ruleMatch(rule.l,res)[0];if(!matches&&rule.expanded){repl=rule.expanded.r;matches=_ruleMatch(rule.expanded.l,res)[0];}
if(matches){res=repl.clone();res=res.transform(function(n,path,parent){if(n.isSymbolNode){if(matches.placeholders.hasOwnProperty(n.name)){var replace=matches.placeholders[n.name].clone();return replace;}}
return n;});}
return res;}});function getSplits(node,context){var res=[];var right,rightArgs;var makeNode=createMakeNodeFunction(node);if(isCommutative(node,context)){for(var i=0;i<node.args.length;i++){rightArgs=node.args.slice(0);rightArgs.splice(i,1);right=(rightArgs.length===1)?rightArgs[0]:makeNode(rightArgs);res.push(makeNode([node.args[i],right]));}}
else{rightArgs=node.args.slice(1);right=(rightArgs.length===1)?rightArgs[0]:makeNode(rightArgs);res.push(makeNode([node.args[0],right]));}
return res;}
function mergeMatch(match1,match2){var res={placeholders:{}};if(!match1.placeholders&&!match2.placeholders){return res;}
else if(!match1.placeholders){return match2;}
else if(!match2.placeholders){return match1;}
for(var key in match1.placeholders){res.placeholders[key]=match1.placeholders[key];if(match2.placeholders.hasOwnProperty(key)){if(!_exactMatch(match1.placeholders[key],match2.placeholders[key])){return null;}}}
for(var key in match2.placeholders){res.placeholders[key]=match2.placeholders[key];}
return res;}
function combineChildMatches(list1,list2){var res=[];if(list1.length===0||list2.length===0){return res;}
var merged;for(var i1=0;i1<list1.length;i1++){for(var i2=0;i2<list2.length;i2++){merged=mergeMatch(list1[i1],list2[i2]);if(merged){res.push(merged);}}}
return res;}
function mergeChildMatches(childMatches){if(childMatches.length===0){return childMatches;}
var sets=childMatches.reduce(combineChildMatches);var uniqueSets=[];var unique={};for(var i=0;i<sets.length;i++){var s=JSON.stringify(sets[i]);if(!unique[s]){unique[s]=true;uniqueSets.push(sets[i]);}}
return uniqueSets;}
function _ruleMatch(rule,node,isSplit){var res=[{placeholders:{}}];if(rule instanceof OperatorNode&&node instanceof OperatorNode||rule instanceof FunctionNode&&node instanceof FunctionNode){if(rule instanceof OperatorNode){if(rule.op!==node.op||rule.fn!==node.fn){return[];}}
else if(rule instanceof FunctionNode){if(rule.name!==node.name){return[];}}
if(node.args.length===1&&rule.args.length===1||!isAssociative(node)||isSplit){var childMatches=[];for(var i=0;i<rule.args.length;i++){var childMatch=_ruleMatch(rule.args[i],node.args[i]);if(childMatch.length===0){return[];}
childMatches.push(childMatch);}
res=mergeChildMatches(childMatches);}
else if(node.args.length>=2&&rule.args.length===2){var splits=getSplits(node,rule.context);var splitMatches=[];for(var i=0;i<splits.length;i++){var matchSet=_ruleMatch(rule,splits[i],true);splitMatches=splitMatches.concat(matchSet);}
return splitMatches;}
else if(rule.args.length>2){throw Error('Unexpected non-binary associative function: '+rule.toString());}
else{return[];}}
else if(rule instanceof SymbolNode){if(rule.name.length===0){throw new Error('Symbol in rule has 0 length...!?');}
if(rule.name[0]=='n'||rule.name.substring(0,2)=='_p'){res[0].placeholders[rule.name]=node;}
else if(rule.name[0]=='v'){if(!node.isConstantNode){res[0].placeholders[rule.name]=node;}
else{return[];}}
else if(rule.name[0]=='C'){if(node instanceof ConstantNode){return[];}
else{res[0].placeholders[rule.name]=node;}}
else if(rule.name[0]=='c'){if(node instanceof ConstantNode){res[0].placeholders[rule.name]=node;}
else{return[];}}
else{throw new Error('Invalid symbol in rule: '+rule.name);}}
else if(rule instanceof ConstantNode){if(rule.value===node.value){}
else{return[];}}
else{return[];}
return res;}
function _exactMatch(p,q){if(p instanceof ConstantNode&&q instanceof ConstantNode){if(p.value!==q.value){return false;}}
else if(p instanceof SymbolNode&&q instanceof SymbolNode){if(p.name!==q.name){return false;}}
else if(p instanceof OperatorNode&&q instanceof OperatorNode||p instanceof FunctionNode&&q instanceof FunctionNode){if(p instanceof OperatorNode){if(p.op!==q.op||p.fn!==q.fn){return false;}}
else if(p instanceof FunctionNode){if(p.name!==q.name){return false;}}
if(p.args.length!==q.args.length){return false;}
for(var i=0;i<p.args.length;i++){if(!_exactMatch(p.args[i],q.args[i])){return false;}}}
else{return false;}
return true;}
return simplify;}
exports.name='simplify';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed,math){var FunctionNode=math.expression.node.FunctionNode;var OperatorNode=math.expression.node.OperatorNode;var SymbolNode=math.expression.node.SymbolNode;var commutative={'add':true,'multiply':true}
var associative={'add':true,'multiply':true}
function isCommutative(node,context){if(!node.args||node.args.length<=1){return true;}
var name=node.fn.toString();if(context&&context.hasOwnProperty(name)&&context[name].hasOwnProperty('commutative')){return context[name].commutative;}
return commutative[name]||false;}
function isAssociative(node,context){if(!node.args||node.args.length<=1){return true;}
var name=node.fn.toString();if(context&&context.hasOwnProperty(name)&&context[name].hasOwnProperty('associative')){return context[name].associative;}
return associative[name]||false;}
function flatten(node){if(!node.args||node.args.length===0){return node;}
node.args=allChildren(node);for(var i=0;i<node.args.length;i++){flatten(node.args[i]);}}
function allChildren(node){var op;var children=[];var findChildren=function(node){for(var i=0;i<node.args.length;i++){var child=node.args[i];if(child.isOperatorNode&&op===child.op){findChildren(child);}
else{children.push(child);}}};if(node.isOperatorNode&&isAssociative(node)){op=node.op;findChildren(node);return children;}
else{return node.args;}}
function unflattenr(node){if(!node.args||node.args.length===0){return;}
var makeNode=createMakeNodeFunction(node);var l=node.args.length;for(var i=0;i<l;i++){unflattenr(node.args[i])}
if(l>2&&isAssociative(node)){var curnode=node.args.pop();while(node.args.length>0){curnode=makeNode([node.args.pop(),curnode]);}
node.args=curnode.args;}}
function unflattenl(node){if(!node.args||node.args.length===0){return;}
var makeNode=createMakeNodeFunction(node);var l=node.args.length;for(var i=0;i<l;i++){unflattenl(node.args[i])}
if(l>2&&isAssociative(node)){var curnode=node.args.shift();while(node.args.length>0){curnode=makeNode([curnode,node.args.shift()]);}
node.args=curnode.args;}}
function createMakeNodeFunction(node){if(node.isOperatorNode){return function(args){try{return new OperatorNode(node.op,node.fn,args);}catch(err){console.error(err);return[];}};}
else{return function(args){return new FunctionNode(new SymbolNode(node.name),args);};}}
return{createMakeNodeFunction:createMakeNodeFunction,isCommutative:isCommutative,isAssociative:isAssociative,flatten:flatten,allChildren:allChildren,unflattenr:unflattenr,unflattenl:unflattenl};}
exports.factory=factory;exports.math=true;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var divideScalar=load(__webpack_require__(21));var multiplyScalar=load(__webpack_require__(27));var subtract=load(__webpack_require__(24));var equalScalar=load(__webpack_require__(12));var solveValidation=load(__webpack_require__(92));var DenseMatrix=type.DenseMatrix;var lsolve=typed('lsolve',{'SparseMatrix, Array | Matrix':function(m,b){return _sparseForwardSubstitution(m,b);},'DenseMatrix, Array | Matrix':function(m,b){return _denseForwardSubstitution(m,b);},'Array, Array | Matrix':function(a,b){var m=matrix(a);var r=_denseForwardSubstitution(m,b);return r.valueOf();}});var _denseForwardSubstitution=function(m,b){b=solveValidation(m,b,true);var bdata=b._data;var rows=m._size[0];var columns=m._size[1];var x=[];var data=m._data;for(var j=0;j<columns;j++){var bj=bdata[j][0]||0;var xj;if(!equalScalar(bj,0)){var vjj=data[j][j];if(equalScalar(vjj,0)){throw new Error('Linear system cannot be solved since matrix is singular');}
xj=divideScalar(bj,vjj);for(var i=j+1;i<rows;i++){bdata[i]=[subtract(bdata[i][0]||0,multiplyScalar(xj,data[i][j]))];}}
else{xj=0;}
x[j]=[xj];}
return new DenseMatrix({data:x,size:[rows,1]});};var _sparseForwardSubstitution=function(m,b){b=solveValidation(m,b,true);var bdata=b._data;var rows=m._size[0];var columns=m._size[1];var values=m._values;var index=m._index;var ptr=m._ptr;var i,k;var x=[];for(var j=0;j<columns;j++){var bj=bdata[j][0]||0;if(!equalScalar(bj,0)){var vjj=0;var jvalues=[];var jindex=[];var l=ptr[j+1];for(k=ptr[j];k<l;k++){i=index[k];if(i===j){vjj=values[k];}
else if(i>j){jvalues.push(values[k]);jindex.push(i);}}
if(equalScalar(vjj,0)){throw new Error('Linear system cannot be solved since matrix is singular');}
var xj=divideScalar(bj,vjj);for(k=0,l=jindex.length;k<l;k++){i=jindex[k];bdata[i]=[subtract(bdata[i][0]||0,multiplyScalar(xj,jvalues[k]))];}
x[j]=[xj];}
else{x[j]=[0];}}
return new DenseMatrix({data:x,size:[rows,1]});};return lsolve;}
exports.name='lsolve';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var divideScalar=load(__webpack_require__(21));var multiplyScalar=load(__webpack_require__(27));var subtract=load(__webpack_require__(24));var equalScalar=load(__webpack_require__(12));var solveValidation=load(__webpack_require__(92));var DenseMatrix=type.DenseMatrix;var usolve=typed('usolve',{'SparseMatrix, Array | Matrix':function(m,b){return _sparseBackwardSubstitution(m,b);},'DenseMatrix, Array | Matrix':function(m,b){return _denseBackwardSubstitution(m,b);},'Array, Array | Matrix':function(a,b){var m=matrix(a);var r=_denseBackwardSubstitution(m,b);return r.valueOf();}});var _denseBackwardSubstitution=function(m,b){b=solveValidation(m,b,true);var bdata=b._data;var rows=m._size[0];var columns=m._size[1];var x=[];var data=m._data;for(var j=columns-1;j>=0;j--){var bj=bdata[j][0]||0;var xj;if(!equalScalar(bj,0)){var vjj=data[j][j];if(equalScalar(vjj,0)){throw new Error('Linear system cannot be solved since matrix is singular');}
xj=divideScalar(bj,vjj);for(var i=j-1;i>=0;i--){bdata[i]=[subtract(bdata[i][0]||0,multiplyScalar(xj,data[i][j]))];}}
else{xj=0;}
x[j]=[xj];}
return new DenseMatrix({data:x,size:[rows,1]});};var _sparseBackwardSubstitution=function(m,b){b=solveValidation(m,b,true);var bdata=b._data;var rows=m._size[0];var columns=m._size[1];var values=m._values;var index=m._index;var ptr=m._ptr;var i,k;var x=[];for(var j=columns-1;j>=0;j--){var bj=bdata[j][0]||0;if(!equalScalar(bj,0)){var vjj=0;var jvalues=[];var jindex=[];var f=ptr[j];var l=ptr[j+1];for(k=l-1;k>=f;k--){i=index[k];if(i===j){vjj=values[k];}
else if(i<j){jvalues.push(values[k]);jindex.push(i);}}
if(equalScalar(vjj,0)){throw new Error('Linear system cannot be solved since matrix is singular');}
var xj=divideScalar(bj,vjj);for(k=0,l=jindex.length;k<l;k++){i=jindex[k];bdata[i]=[subtract(bdata[i][0],multiplyScalar(xj,jvalues[k]))];}
x[j]=[xj];}
else{x[j]=[0];}}
return new DenseMatrix({data:x,size:[rows,1]});};return usolve;}
exports.name='usolve';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load){var cs_flip=load(__webpack_require__(93));var cs_mark=function(w,j){w[j]=cs_flip(w[j]);};return cs_mark;}
exports.name='cs_mark';exports.path='sparse';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(){var cs_marked=function(w,j){return w[j]<0;};return cs_marked;}
exports.name='cs_marked';exports.path='sparse';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(){var cs_tdfs=function(j,k,w,head,next,post,stack){var top=0;w[stack]=j;while(top>=0){var p=w[stack+top];var i=w[head+p];if(i==-1){top--;post[k++]=p;}
else{w[head+p]=w[next+i];++top;w[stack+top]=i;}}
return k;};return cs_tdfs;}
exports.name='cs_tdfs';exports.path='sparse';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var divideScalar=load(__webpack_require__(21));var latex=__webpack_require__(3);var algorithm02=load(__webpack_require__(28));var algorithm03=load(__webpack_require__(16));var algorithm07=load(__webpack_require__(30));var algorithm11=load(__webpack_require__(17));var algorithm12=load(__webpack_require__(18));var algorithm13=load(__webpack_require__(9));var algorithm14=load(__webpack_require__(6));var dotDivide=typed('dotDivide',{'any, any':divideScalar,'Matrix, Matrix':function(x,y){var c;switch(x.storage()){case'sparse':switch(y.storage()){case'sparse':c=algorithm07(x,y,divideScalar,false);break;default:c=algorithm02(y,x,divideScalar,true);break;}
break;default:switch(y.storage()){case'sparse':c=algorithm03(x,y,divideScalar,false);break;default:c=algorithm13(x,y,divideScalar);break;}
break;}
return c;},'Array, Array':function(x,y){return dotDivide(matrix(x),matrix(y)).valueOf();},'Array, Matrix':function(x,y){return dotDivide(matrix(x),y);},'Matrix, Array':function(x,y){return dotDivide(x,matrix(y));},'Matrix, any':function(x,y){var c;switch(x.storage()){case'sparse':c=algorithm11(x,y,divideScalar,false);break;default:c=algorithm14(x,y,divideScalar,false);break;}
return c;},'any, Matrix':function(x,y){var c;switch(y.storage()){case'sparse':c=algorithm12(y,x,divideScalar,true);break;default:c=algorithm14(y,x,divideScalar,true);break;}
return c;},'Array, any':function(x,y){return algorithm14(matrix(x),y,divideScalar,false).valueOf();},'any, Array':function(x,y){return algorithm14(matrix(y),x,divideScalar,true).valueOf();}});dotDivide.toTex={2:'\\left(${args[0]}'+latex.operators['dotDivide']+'${args[1]}\\right)'};return dotDivide;}
exports.name='dotDivide';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var fix=typed('fix',{'number':function(x){return(x>0)?Math.floor(x):Math.ceil(x);},'Complex':function(x){return new type.Complex((x.re>0)?Math.floor(x.re):Math.ceil(x.re),(x.im>0)?Math.floor(x.im):Math.ceil(x.im));},'BigNumber':function(x){return x.isNegative()?x.ceil():x.floor();},'Fraction':function(x){return x.s<0?x.ceil():x.floor();},'Array | Matrix':function(x){return deepMap(x,fix,true);}});fix.toTex={1:'\\mathrm{${name}}\\left(${args[0]}\\right)'};return fix;}
exports.name='fix';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var divideScalar=load(__webpack_require__(21));var log=typed('log',{'number':function(x){if(x>=0||config.predictable){return Math.log(x);}
else{return new type.Complex(x,0).log();}},'Complex':function(x){return x.log();},'BigNumber':function(x){if(!x.isNegative()||config.predictable){return x.ln();}
else{return new type.Complex(x.toNumber(),0).log();}},'Array | Matrix':function(x){return deepMap(x,log);},'any, any':function(x,base){return divideScalar(log(x),log(base));}});log.toTex={1:'\\ln\\left(${args[0]}\\right)',2:'\\log_{${args[1]}}\\left(${args[0]}\\right)'};return log;}
exports.name='log';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var add=load(__webpack_require__(20));var subtract=load(__webpack_require__(24));var multiply=load(__webpack_require__(13));var divide=load(__webpack_require__(43));var pow=load(__webpack_require__(44));var factorial=load(__webpack_require__(76));var combinations=load(__webpack_require__(75));var isNegative=load(__webpack_require__(59));var isInteger=load(__webpack_require__(48));var larger=load(__webpack_require__(35));var stirlingS2=typed('stirlingS2',{'number | BigNumber, number | BigNumber':function(n,k){if(!isInteger(n)||isNegative(n)||!isInteger(k)||isNegative(k)){throw new TypeError('Non-negative integer value expected in function stirlingS2');}
else if(larger(k,n)){throw new TypeError('k must be less than or equal to n in function stirlingS2');}
var kFactorial=factorial(k);var result=0;for(var i=0;i<=k;i++){var negativeOne=pow(-1,subtract(k,i));var kChooseI=combinations(k,i);var iPower=pow(i,n);result=add(result,multiply(multiply(kChooseI,iPower),negativeOne));}
return divide(result,kFactorial);}});stirlingS2.toTex={2:'\\mathrm{S}\\left(${args}\\right)'};return stirlingS2;}
exports.name='stirlingS2';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var latex=__webpack_require__(3);var not=typed('not',{'number':function(x){return!x;},'Complex':function(x){return x.re===0&&x.im===0;},'BigNumber':function(x){return x.isZero()||x.isNaN();},'Unit':function(x){return not(x.value);},'Array | Matrix':function(x){return deepMap(x,not);}});not.toTex={1:latex.operators['not']+'\\left(${args[0]}\\right)'};return not;}
exports.name='not';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var clone=__webpack_require__(5).clone;var isInteger=__webpack_require__(2).isInteger;var array=__webpack_require__(7);var IndexError=__webpack_require__(54);var DimensionError=__webpack_require__(11);function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var concat=typed('concat',{'...Array | Matrix | number | BigNumber':function(args){var i;var len=args.length;var dim=-1;var prevDim;var asMatrix=false;var matrices=[];for(i=0;i<len;i++){var arg=args[i];if(arg&&arg.isMatrix===true){asMatrix=true;}
if(typeof arg==='number'||(arg&&arg.isBigNumber===true)){if(i!==len-1){throw new Error('Dimension must be specified as last argument');}
prevDim=dim;dim=arg.valueOf();if(!isInteger(dim)){throw new TypeError('Integer number expected for dimension');}
if(dim<0||(i>0&&dim>prevDim)){throw new IndexError(dim,prevDim+1);}}
else{var m=clone(arg).valueOf();var size=array.size(m);matrices[i]=m;prevDim=dim;dim=size.length-1;if(i>0&&dim!=prevDim){throw new DimensionError(prevDim+1,dim+1);}}}
if(matrices.length==0){throw new SyntaxError('At least one matrix expected');}
var res=matrices.shift();while(matrices.length){res=_concat(res,matrices.shift(),dim,0);}
return asMatrix?matrix(res):res;},'...string':function(args){return args.join('');}});concat.toTex=undefined;return concat;}
function _concat(a,b,concatDim,dim){if(dim<concatDim){if(a.length!=b.length){throw new DimensionError(a.length,b.length);}
var c=[];for(var i=0;i<a.length;i++){c[i]=_concat(a[i],b[i],concatDim,dim+1);}
return c;}
else{return a.concat(b);}}
exports.name='concat';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var util=__webpack_require__(31);var object=util.object;var string=util.string;function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var add=load(__webpack_require__(20));var subtract=load(__webpack_require__(24));var multiply=load(__webpack_require__(13));var unaryMinus=load(__webpack_require__(45));var det=typed('det',{'any':function(x){return object.clone(x);},'Array | Matrix':function det(x){var size;if(x&&x.isMatrix===true){size=x.size();}
else if(Array.isArray(x)){x=matrix(x);size=x.size();}
else{size=[];}
switch(size.length){case 0:return object.clone(x);case 1:if(size[0]==1){return object.clone(x.valueOf()[0]);}
else{throw new RangeError('Matrix must be square '+'(size: '+string.format(size)+')');}
case 2:var rows=size[0];var cols=size[1];if(rows==cols){return _det(x.clone().valueOf(),rows,cols);}
else{throw new RangeError('Matrix must be square '+'(size: '+string.format(size)+')');}
default:throw new RangeError('Matrix must be two dimensional '+'(size: '+string.format(size)+')');}}});det.toTex={1:'\\det\\left(${args[0]}\\right)'};return det;function _det(matrix,rows,cols){if(rows==1){return object.clone(matrix[0][0]);}
else if(rows==2){return subtract(multiply(matrix[0][0],matrix[1][1]),multiply(matrix[1][0],matrix[0][1]));}
else{var compute_mu=function(matrix){var i,j;var mu=new Array(matrix.length);var sum=0;for(i=1;i<matrix.length;i++){sum=add(sum,matrix[i][i]);}
for(i=0;i<matrix.length;i++){mu[i]=new Array(matrix.length);mu[i][i]=unaryMinus(sum);for(j=0;j<i;j++){mu[i][j]=0;}
for(j=i+1;j<matrix.length;j++){mu[i][j]=matrix[i][j];}
if(i+1<matrix.length){sum=subtract(sum,matrix[i+1][i+1]);}}
return mu;};var fa=matrix;for(var i=0;i<rows-1;i++){fa=multiply(compute_mu(fa),matrix);}
if(rows%2==0){return unaryMinus(fa[0][0]);}else{return fa[0][0];}}}}
exports.name='det';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var size=__webpack_require__(7).size;var maxArgumentCount=__webpack_require__(42).maxArgumentCount;function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var filter=typed('filter',{'Array, function':_filterCallback,'Array, RegExp':_filterRegExp,'Matrix, function':function(x,test){return matrix(_filterCallback(x.toArray(),test));},'Matrix, RegExp':function(x,test){return matrix(_filterRegExp(x.toArray(),test));}});filter.toTex=undefined;return filter;}
function _filterCallback(x,callback){if(size(x).length!==1){throw new Error('Only one dimensional matrices supported');}
var args=maxArgumentCount(callback);return x.filter(function(value,index,array){if(args===1){return callback(value);}
else if(args===2){return callback(value,[index]);}
else{return callback(value,[index],array);}});}
function _filterRegExp(x,regexp){if(size(x).length!==1){throw new Error('Only one dimensional matrices supported');}
return x.filter(function(entry){return regexp.test(entry);});}
exports.name='filter';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var maxArgumentCount=__webpack_require__(42).maxArgumentCount;function factory(type,config,load,typed){var forEach=typed('forEach',{'Array, function':_forEach,'Matrix, function':function(x,callback){return x.forEach(callback);}});forEach.toTex=undefined;return forEach;}
function _forEach(array,callback){var args=maxArgumentCount(callback);var recurse=function(value,index){if(Array.isArray(value)){value.forEach(function(child,i){recurse(child,index.concat(i));});}
else{if(args===1){callback(value);}
else if(args===2){callback(value,index);}
else{callback(value,index,array);}}};recurse(array,[]);}
exports.name='forEach';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var util=__webpack_require__(31);function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var divideScalar=load(__webpack_require__(21));var addScalar=load(__webpack_require__(23));var multiply=load(__webpack_require__(13));var unaryMinus=load(__webpack_require__(45));var det=load(__webpack_require__(151));var eye=load(__webpack_require__(94));var inv=typed('inv',{'Array | Matrix':function(x){var size=(x.isMatrix===true)?x.size():util.array.size(x);switch(size.length){case 1:if(size[0]==1){if(x.isMatrix===true){return matrix([divideScalar(1,x.valueOf()[0])]);}
else{return[divideScalar(1,x[0])];}}
else{throw new RangeError('Matrix must be square '+'(size: '+util.string.format(size)+')');}
case 2:var rows=size[0];var cols=size[1];if(rows==cols){if(x.isMatrix===true){return matrix(_inv(x.valueOf(),rows,cols),x.storage());}
else{return _inv(x,rows,cols);}}
else{throw new RangeError('Matrix must be square '+'(size: '+util.string.format(size)+')');}
default:throw new RangeError('Matrix must be two dimensional '+'(size: '+util.string.format(size)+')');}},'any':function(x){return divideScalar(1,x);}});function _inv(mat,rows,cols){var r,s,f,value,temp;if(rows==1){value=mat[0][0];if(value==0){throw Error('Cannot calculate inverse, determinant is zero');}
return[[divideScalar(1,value)]];}
else if(rows==2){var d=det(mat);if(d==0){throw Error('Cannot calculate inverse, determinant is zero');}
return[[divideScalar(mat[1][1],d),divideScalar(unaryMinus(mat[0][1]),d)],[divideScalar(unaryMinus(mat[1][0]),d),divideScalar(mat[0][0],d)]];}
else{var A=mat.concat();for(r=0;r<rows;r++){A[r]=A[r].concat();}
var B=eye(rows).valueOf();for(var c=0;c<cols;c++){r=c;while(r<rows&&A[r][c]==0){r++;}
if(r==rows||A[r][c]==0){throw Error('Cannot calculate inverse, determinant is zero');}
if(r!=c){temp=A[c];A[c]=A[r];A[r]=temp;temp=B[c];B[c]=B[r];B[r]=temp;}
var Ac=A[c],Bc=B[c];for(r=0;r<rows;r++){var Ar=A[r],Br=B[r];if(r!=c){if(Ar[c]!=0){f=divideScalar(unaryMinus(Ar[c]),Ac[c]);for(s=c;s<cols;s++){Ar[s]=addScalar(Ar[s],multiply(f,Ac[s]));}
for(s=0;s<cols;s++){Br[s]=addScalar(Br[s],multiply(f,Bc[s]));}}}
else{f=Ac[c];for(s=c;s<cols;s++){Ar[s]=divideScalar(Ar[s],f);}
for(s=0;s<cols;s++){Br[s]=divideScalar(Br[s],f);}}}}
return B;}}
inv.toTex={1:'\\left(${args[0]}\\right)^{-1}'};return inv;}
exports.name='inv';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var ZERO=new type.BigNumber(0);var ONE=new type.BigNumber(1);var range=typed('range',{'string':_strRange,'string, boolean':_strRange,'number, number':function(start,end){return _out(_rangeEx(start,end,1));},'number, number, number':function(start,end,step){return _out(_rangeEx(start,end,step));},'number, number, boolean':function(start,end,includeEnd){return includeEnd?_out(_rangeInc(start,end,1)):_out(_rangeEx(start,end,1));},'number, number, number, boolean':function(start,end,step,includeEnd){return includeEnd?_out(_rangeInc(start,end,step)):_out(_rangeEx(start,end,step));},'BigNumber, BigNumber':function(start,end){return _out(_bigRangeEx(start,end,ONE));},'BigNumber, BigNumber, BigNumber':function(start,end,step){return _out(_bigRangeEx(start,end,step));},'BigNumber, BigNumber, boolean':function(start,end,includeEnd){return includeEnd?_out(_bigRangeInc(start,end,ONE)):_out(_bigRangeEx(start,end,ONE));},'BigNumber, BigNumber, BigNumber, boolean':function(start,end,step,includeEnd){return includeEnd?_out(_bigRangeInc(start,end,step)):_out(_bigRangeEx(start,end,step));}});range.toTex=undefined;return range;function _out(arr){return config.matrix==='Array'?arr:matrix(arr);}
function _strRange(str,includeEnd){var r=_parse(str);if(!r){throw new SyntaxError('String "'+str+'" is no valid range');}
var fn;if(config.number==='BigNumber'){fn=includeEnd?_bigRangeInc:_bigRangeEx;return _out(fn(new type.BigNumber(r.start),new type.BigNumber(r.end),new type.BigNumber(r.step)));}
else{fn=includeEnd?_rangeInc:_rangeEx;return _out(fn(r.start,r.end,r.step));}}
function _rangeEx(start,end,step){var array=[],x=start;if(step>0){while(x<end){array.push(x);x+=step;}}
else if(step<0){while(x>end){array.push(x);x+=step;}}
return array;}
function _rangeInc(start,end,step){var array=[],x=start;if(step>0){while(x<=end){array.push(x);x+=step;}}
else if(step<0){while(x>=end){array.push(x);x+=step;}}
return array;}
function _bigRangeEx(start,end,step){var array=[],x=start;if(step.gt(ZERO)){while(x.lt(end)){array.push(x);x=x.plus(step);}}
else if(step.lt(ZERO)){while(x.gt(end)){array.push(x);x=x.plus(step);}}
return array;}
function _bigRangeInc(start,end,step){var array=[],x=start;if(step.gt(ZERO)){while(x.lte(end)){array.push(x);x=x.plus(step);}}
else if(step.lt(ZERO)){while(x.gte(end)){array.push(x);x=x.plus(step);}}
return array;}
function _parse(str){var args=str.split(':');var nums=args.map(function(arg){return Number(arg);});var invalid=nums.some(function(num){return isNaN(num);});if(invalid){return null;}
switch(nums.length){case 2:return{start:nums[0],end:nums[1],step:1};case 3:return{start:nums[0],end:nums[2],step:nums[1]};default:return null;}}}
exports.name='range';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var clone=__webpack_require__(5).clone;var format=__webpack_require__(25).format;function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var add=load(__webpack_require__(20));var trace=typed('trace',{'Array':function(x){return trace(matrix(x));},'Matrix':function(x){var c;switch(x.storage()){case'dense':c=_denseTrace(x);break;case'sparse':c=_sparseTrace(x);break;}
return c;},'any':clone});var _denseTrace=function(m){var size=m._size;var data=m._data;switch(size.length){case 1:if(size[0]==1){return clone(data[0]);}
throw new RangeError('Matrix must be square (size: '+format(size)+')');case 2:var rows=size[0];var cols=size[1];if(rows===cols){var sum=0;for(var i=0;i<rows;i++)
sum=add(sum,data[i][i]);return sum;}
throw new RangeError('Matrix must be square (size: '+format(size)+')');default:throw new RangeError('Matrix must be two dimensional (size: '+format(size)+')');}};var _sparseTrace=function(m){var values=m._values;var index=m._index;var ptr=m._ptr;var size=m._size;var rows=size[0];var columns=size[1];if(rows===columns){var sum=0;if(values.length>0){for(var j=0;j<columns;j++){var k0=ptr[j];var k1=ptr[j+1];for(var k=k0;k<k1;k++){var i=index[k];if(i===j){sum=add(sum,values[k]);break;}
if(i>j){break;}}}}
return sum;}
throw new RangeError('Matrix must be square (size: '+format(size)+')');};trace.toTex={1:'\\mathrm{tr}\\left(${args[0]}\\right)'};return trace;}
exports.name='trace';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);var isInteger=__webpack_require__(2).isInteger;function factory(type,config,load,typed){var multiply=load(__webpack_require__(13));var pow=load(__webpack_require__(44));var gamma=typed('gamma',{'number':function(n){var t,x;if(isInteger(n)){if(n<=0){return isFinite(n)?Infinity:NaN;}
if(n>171){return Infinity;}
var value=n-2;var res=n-1;while(value>1){res*=value;value--;}
if(res==0){res=1;}
return res;}
if(n<0.5){return Math.PI /(Math.sin(Math.PI*n)*gamma(1-n));}
if(n>=171.35){return Infinity;}
if(n>85.0){var twoN=n*n;var threeN=twoN*n;var fourN=threeN*n;var fiveN=fourN*n;return Math.sqrt(2*Math.PI/n)*Math.pow((n/Math.E),n)*(1+1/(12*n)+1/(288*twoN)-139/(51840*threeN)-
571/(2488320*fourN)+163879/(209018880*fiveN)+
5246819/(75246796800*fiveN*n));}
--n;x=p[0];for(var i=1;i<p.length;++i){x+=p[i]/(n+i);}
t=n+g+0.5;return Math.sqrt(2*Math.PI)*Math.pow(t,n+0.5)*Math.exp(-t)*x;},'Complex':function(n){var t,x;if(n.im==0){return gamma(n.re);}
n=new type.Complex(n.re-1,n.im);x=new type.Complex(p[0],0);for(var i=1;i<p.length;++i){var real=n.re+i;var den=real*real+n.im*n.im;if(den!=0){x.re+=p[i]*real / den;x.im+=-(p[i]*n.im)/ den;}else{x.re=p[i]<0?-Infinity:Infinity;}}
t=new type.Complex(n.re+g+0.5,n.im);var twoPiSqrt=Math.sqrt(2*Math.PI);n.re+=0.5;var result=pow(t,n);if(result.im==0){result.re*=twoPiSqrt;}else if(result.re==0){result.im*=twoPiSqrt;}else{result.re*=twoPiSqrt;result.im*=twoPiSqrt;}
var r=Math.exp(-t.re);t.re=r*Math.cos(-t.im);t.im=r*Math.sin(-t.im);return multiply(multiply(result,t),x);},'BigNumber':function(n){if(n.isInteger()){return(n.isNegative()||n.isZero())?new type.BigNumber(Infinity):bigFactorial(n.minus(1));}
if(!n.isFinite()){return new type.BigNumber(n.isNegative()?NaN:Infinity);}
throw new Error('Integer BigNumber expected');},'Array | Matrix':function(n){return deepMap(n,gamma);}});function bigFactorial(n){if(n.isZero()){return new type.BigNumber(1);}
var precision=config.precision+(Math.log(n.toNumber())|0);var Big=type.BigNumber.clone({precision:precision});var res=new Big(n);var value=n.toNumber()-1;while(value>1){res=res.times(value);value--;}
return new type.BigNumber(res.toPrecision(type.BigNumber.precision));}
gamma.toTex={1:'\\Gamma\\left(${args[0]}\\right)'};return gamma;}
var g=4.7421875;var p=[0.99999999999999709182,57.156235665862923517,-59.597960355475491248,14.136097974741747174,-0.49191381609762019978,0.33994649984811888699e-4,0.46523628927048575665e-4,-0.98374475304879564677e-4,0.15808870322491248884e-3,-0.21026444172410488319e-3,0.21743961811521264320e-3,-0.16431810653676389022e-3,0.84418223983852743293e-4,-0.26190838401581408670e-4,0.36899182659531622704e-5];exports.name='gamma';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var nearlyEqual=__webpack_require__(2).nearlyEqual;var bigNearlyEqual=__webpack_require__(40);function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var algorithm03=load(__webpack_require__(16));var algorithm07=load(__webpack_require__(30));var algorithm12=load(__webpack_require__(18));var algorithm13=load(__webpack_require__(9));var algorithm14=load(__webpack_require__(6));var latex=__webpack_require__(3);var largerEq=typed('largerEq',{'boolean, boolean':function(x,y){return x>=y;},'number, number':function(x,y){return x>=y||nearlyEqual(x,y,config.epsilon);},'BigNumber, BigNumber':function(x,y){return x.gte(y)||bigNearlyEqual(x,y,config.epsilon);},'Fraction, Fraction':function(x,y){return x.compare(y)!==-1;},'Complex, Complex':function(){throw new TypeError('No ordering relation is defined for complex numbers');},'Unit, Unit':function(x,y){if(!x.equalBase(y)){throw new Error('Cannot compare units with different base');}
return largerEq(x.value,y.value);},'string, string':function(x,y){return x>=y;},'Matrix, Matrix':function(x,y){var c;switch(x.storage()){case'sparse':switch(y.storage()){case'sparse':c=algorithm07(x,y,largerEq);break;default:c=algorithm03(y,x,largerEq,true);break;}
break;default:switch(y.storage()){case'sparse':c=algorithm03(x,y,largerEq,false);break;default:c=algorithm13(x,y,largerEq);break;}
break;}
return c;},'Array, Array':function(x,y){return largerEq(matrix(x),matrix(y)).valueOf();},'Array, Matrix':function(x,y){return largerEq(matrix(x),y);},'Matrix, Array':function(x,y){return largerEq(x,matrix(y));},'Matrix, any':function(x,y){var c;switch(x.storage()){case'sparse':c=algorithm12(x,y,largerEq,false);break;default:c=algorithm14(x,y,largerEq,false);break;}
return c;},'any, Matrix':function(x,y){var c;switch(y.storage()){case'sparse':c=algorithm12(y,x,largerEq,true);break;default:c=algorithm14(y,x,largerEq,true);break;}
return c;},'Array, any':function(x,y){return algorithm14(matrix(x),y,largerEq,false).valueOf();},'any, Array':function(x,y){return algorithm14(matrix(y),x,largerEq,true).valueOf();}});largerEq.toTex={2:'\\left(${args[0]}'+latex.operators['largerEq']+'${args[1]}\\right)'};return largerEq;}
exports.name='largerEq';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepForEach=__webpack_require__(41);var reduce=__webpack_require__(81);var containsCollections=__webpack_require__(80);function factory(type,config,load,typed){var larger=load(__webpack_require__(35));var max=typed('max',{'Array | Matrix':_max,'Array | Matrix, number | BigNumber':function(array,dim){return reduce(array,dim.valueOf(),_largest);},'...':function(args){if(containsCollections(args)){throw new TypeError('Scalar values expected in function max');}
return _max(args);}});max.toTex='\\max\\left(${args}\\right)';return max;function _largest(x,y){return larger(x,y)?x:y;}
function _max(array){var max=undefined;deepForEach(array,function(value){if(max===undefined||larger(value,max)){max=value;}});if(max===undefined){throw new Error('Cannot calculate max of an empty array');}
return max;}}
exports.name='max';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var size=__webpack_require__(7).size;var deepForEach=__webpack_require__(41);var reduce=__webpack_require__(81);var containsCollections=__webpack_require__(80);function factory(type,config,load,typed){var add=load(__webpack_require__(20));var divide=load(__webpack_require__(43));var mean=typed('mean',{'Array | Matrix':_mean,'Array | Matrix, number | BigNumber':_nmean,'...':function(args){if(containsCollections(args)){throw new TypeError('Scalar values expected in function mean');}
return _mean(args);}});mean.toTex=undefined;return mean;function _nmean(array,dim){var sum=reduce(array,dim,add);var s=Array.isArray(array)?size(array):array.size();return divide(sum,s[dim]);}
function _mean(array){var sum=0;var num=0;deepForEach(array,function(value){sum=add(sum,value);num++;});if(num===0){throw new Error('Cannot calculate mean of an empty array');}
return divide(sum,num);}}
exports.name='mean';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var flatten=__webpack_require__(7).flatten;var reduce=__webpack_require__(81);var containsCollections=__webpack_require__(80);function factory(type,config,load,typed){var add=load(__webpack_require__(23));var divide=load(__webpack_require__(21));var compare=load(__webpack_require__(58));var partitionSelect=load(__webpack_require__(96));var median=typed('median',{'Array | Matrix':_median,'Array | Matrix, number | BigNumber':function(array,dim){throw new Error('median(A, dim) is not yet supported');},'...':function(args){if(containsCollections(args)){throw new TypeError('Scalar values expected in function median');}
return _median(args);}});function _median(array){array=flatten(array.valueOf());var num=array.length;if(num==0){throw new Error('Cannot calculate median of an empty array');}
if(num%2==0){var mid=num / 2-1;var right=partitionSelect(array,mid+1);var left=array[mid];for(var i=0;i<mid;++i){if(compare(array[i],left)>0){left=array[i];}}
return middle2(left,right);}
else{var m=partitionSelect(array,(num-1)/ 2);return middle(m);}}
var middle=typed({'number | BigNumber | Unit':function(value){return value;}});var middle2=typed({'number | BigNumber | Unit, number | BigNumber | Unit':function(left,right){return divide(add(left,right),2);}});median.toTex=undefined;return median;}
exports.name='median';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepForEach=__webpack_require__(41);var reduce=__webpack_require__(81);var containsCollections=__webpack_require__(80);function factory(type,config,load,typed){var smaller=load(__webpack_require__(47));var min=typed('min',{'Array | Matrix':_min,'Array | Matrix, number | BigNumber':function(array,dim){return reduce(array,dim.valueOf(),_smallest);},'...':function(args){if(containsCollections(args)){throw new TypeError('Scalar values expected in function min');}
return _min(args);}});min.toTex='\\min\\left(${args}\\right)';return min;function _smallest(x,y){return smaller(x,y)?x:y;}
function _min(array){var min=undefined;deepForEach(array,function(value){if(min===undefined||smaller(value,min)){min=value;}});if(min===undefined){throw new Error('Cannot calculate min of an empty array');}
return min;}}
exports.name='min';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepForEach=__webpack_require__(41);function factory(type,config,load,typed){var add=load(__webpack_require__(23));var sum=typed('sum',{'Array | Matrix':function(args){return _sum(args);},'Array | Matrix, number | BigNumber':function(){throw new Error('sum(A, dim) is not yet supported');},'...':function(args){return _sum(args);}});sum.toTex=undefined;return sum;function _sum(array){var sum=undefined;deepForEach(array,function(value){sum=(sum===undefined)?value:add(sum,value);});if(sum===undefined){switch(config.number){case'number':return 0;case'BigNumber':return new type.BigNumber(0);case'Fraction':return new type.Fraction(0);default:return 0;}}
return sum;}}
exports.name='sum';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var DEFAULT_NORMALIZATION='unbiased';var deepForEach=__webpack_require__(41);function factory(type,config,load,typed){var add=load(__webpack_require__(23));var subtract=load(__webpack_require__(24));var multiply=load(__webpack_require__(27));var divide=load(__webpack_require__(21));var variance=typed('variance',{'Array | Matrix':function(array){return _var(array,DEFAULT_NORMALIZATION);},'Array | Matrix, string':_var,'...':function(args){return _var(args,DEFAULT_NORMALIZATION);}});variance.toTex='\\mathrm{Var}\\left(${args}\\right)';return variance;function _var(array,normalization){var sum=0;var num=0;if(array.length==0){throw new SyntaxError('Function var requires one or more parameters (0 provided)');}
deepForEach(array,function(value){sum=add(sum,value);num++;});if(num===0)throw new Error('Cannot calculate var of an empty array');var mean=divide(sum,num);sum=0;deepForEach(array,function(value){var diff=subtract(value,mean);sum=add(sum,multiply(diff,diff));});switch(normalization){case'uncorrected':return divide(sum,num);case'biased':return divide(sum,num+1);case'unbiased':var zero=(sum&&sum.isBigNumber===true)?new type.BigNumber(0):0;return(num==1)?zero:divide(sum,num-1);default:throw new Error('Unknown normalization "'+normalization+'". '+'Choose "unbiased" (default), "uncorrected", or "biased".');}}}
exports.name='var';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var string=__webpack_require__(25);function factory(type,config,load,typed){var format=typed('format',{'any':string.format,'any, Object | function | number':string.format});format.toTex=undefined;return format;}
exports.name='format';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var acosh=typed('acosh',{'number':function(x){if(x>=1||config.predictable){return _acosh(x);}
if(x<=-1){return new type.Complex(Math.log(Math.sqrt(x*x-1)-x),Math.PI);}
return new type.Complex(x,0).acosh();},'Complex':function(x){return x.acosh();},'BigNumber':function(x){return x.acosh();},'Array | Matrix':function(x){return deepMap(x,acosh);}});acosh.toTex={1:'\\cosh^{-1}\\left(${args[0]}\\right)'};return acosh;}
var _acosh=Math.acosh||function(x){return Math.log(Math.sqrt(x*x-1)+x)};exports.name='acosh';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);var number=__webpack_require__(2);function factory(type,config,load,typed){var isZero=typed('isZero',{'number':function(x){return x===0;},'BigNumber':function(x){return x.isZero();},'Complex':function(x){return x.re===0&&x.im===0;},'Fraction':function(x){return x.d===1&&x.n===0;},'Unit':function(x){return isZero(x.value);},'Array | Matrix':function(x){return deepMap(x,isZero);}});return isZero;}
exports.name='isZero';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var types=__webpack_require__(82);function factory(type,config,load,typed){var _typeof=typed('_typeof',{'any':function(x){var t=types.type(x);if(t==='Object'){if(x.isBigNumber===true)return'BigNumber';if(x.isComplex===true)return'Complex';if(x.isFraction===true)return'Fraction';if(x.isMatrix===true)return'Matrix';if(x.isUnit===true)return'Unit';if(x.isIndex===true)return'Index';if(x.isRange===true)return'Range';if(x.isChain===true)return'Chain';if(x.isHelp===true)return'Help';}
return t;}});_typeof.toTex=undefined;return _typeof;}
exports.name='typeof';exports.factory=factory;}),(function(module,exports,__webpack_require__){var Complex=__webpack_require__(238);var format=__webpack_require__(2).format;var isNumber=__webpack_require__(2).isNumber;function factory(type,config,load,typed,math){Complex.prototype.type='Complex';Complex.prototype.isComplex=true;Complex.prototype.toJSON=function(){return{mathjs:'Complex',re:this.re,im:this.im};};Complex.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()};};Complex.prototype.format=function(options){var str='';var im=this.im;var re=this.re;var strRe=format(this.re,options);var strIm=format(this.im,options);var precision=isNumber(options)?options:options?options.precision:null;if(precision!==null){var epsilon=Math.pow(10,-precision);if(Math.abs(re / im)<epsilon){re=0;}
if(Math.abs(im / re)<epsilon){im=0;}}
if(im==0){str=strRe;}else if(re==0){if(im==1){str='i';}else if(im==-1){str='-i';}else{str=strIm+'i';}}else{if(im>0){if(im==1){str=strRe+' + i';}else{str=strRe+' + '+strIm+'i';}}else{if(im==-1){str=strRe+' - i';}else{str=strRe+' - '+strIm.substring(1)+'i';}}}
return str;};Complex.fromPolar=function(args){switch(arguments.length){case 1:var arg=arguments[0];if(typeof arg==='object'){return Complex(arg);}
throw new TypeError('Input has to be an object with r and phi keys.');case 2:var r=arguments[0],phi=arguments[1];if(isNumber(r)){if(phi&&phi.isUnit&&phi.hasBase('ANGLE')){phi=phi.toNumber('rad');}
if(isNumber(phi)){return new Complex({r:r,phi:phi});}
throw new TypeError('Phi is not a number nor an angle unit.');}else{throw new TypeError('Radius r is not a number.');}
default:throw new SyntaxError('Wrong number of arguments in function fromPolar');}};Complex.prototype.valueOf=Complex.prototype.toString;Complex.fromJSON=function(json){return new Complex(json);};Complex.EPSILON=config.epsilon;math.on('config',function(curr,prev){if(curr.epsilon!==prev.epsilon){Complex.EPSILON=curr.epsilon;}});return Complex;}
exports.name='Complex';exports.path='type';exports.factory=factory;exports.math=true;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var fraction=typed('fraction',{'number':function(x){if(!isFinite(x)||isNaN(x)){throw new Error(x+' cannot be represented as a fraction');}
return new type.Fraction(x);},'string':function(x){return new type.Fraction(x);},'number, number':function(numerator,denominator){return new type.Fraction(numerator,denominator);},'BigNumber':function(x){return new type.Fraction(x.toString());},'Fraction':function(x){return x;},'Object':function(x){return new type.Fraction(x);},'Array | Matrix':function(x){return deepMap(x,fraction);}});return fraction;}
exports.name='fraction';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var util=__webpack_require__(31);var DimensionError=__webpack_require__(11);var string=util.string;var array=util.array;var object=util.object;var number=util.number;var isArray=Array.isArray;var isNumber=number.isNumber;var isInteger=number.isInteger;var isString=string.isString;var validateIndex=array.validateIndex;function factory(type,config,load,typed){var Matrix=load(__webpack_require__(100));function DenseMatrix(data,datatype){if(!(this instanceof DenseMatrix))
throw new SyntaxError('Constructor must be called with the new operator');if(datatype&&!isString(datatype))
throw new Error('Invalid datatype: '+datatype);if(data&&data.isMatrix===true){if(data.type==='DenseMatrix'){this._data=object.clone(data._data);this._size=object.clone(data._size);this._datatype=datatype||data._datatype;}
else{this._data=data.toArray();this._size=data.size();this._datatype=datatype||data._datatype;}}
else if(data&&isArray(data.data)&&isArray(data.size)){this._data=data.data;this._size=data.size;this._datatype=datatype||data.datatype;}
else if(isArray(data)){this._data=preprocess(data);this._size=array.size(this._data);array.validate(this._data,this._size);this._datatype=datatype;}
else if(data){throw new TypeError('Unsupported type of data ('+util.types.type(data)+')');}
else{this._data=[];this._size=[0];this._datatype=datatype;}}
DenseMatrix.prototype=new Matrix();DenseMatrix.prototype.type='DenseMatrix';DenseMatrix.prototype.isDenseMatrix=true;DenseMatrix.prototype.storage=function(){return'dense';};DenseMatrix.prototype.datatype=function(){return this._datatype;};DenseMatrix.prototype.create=function(data,datatype){return new DenseMatrix(data,datatype);};DenseMatrix.prototype.subset=function(index,replacement,defaultValue){switch(arguments.length){case 1:return _get(this,index);case 2:case 3:return _set(this,index,replacement,defaultValue);default:throw new SyntaxError('Wrong number of arguments');}};DenseMatrix.prototype.get=function(index){if(!isArray(index))
throw new TypeError('Array expected');if(index.length!=this._size.length)
throw new DimensionError(index.length,this._size.length);for(var x=0;x<index.length;x++)
validateIndex(index[x],this._size[x]);var data=this._data;for(var i=0,ii=index.length;i<ii;i++){var index_i=index[i];validateIndex(index_i,data.length);data=data[index_i];}
return data;};DenseMatrix.prototype.set=function(index,value,defaultValue){if(!isArray(index))
throw new TypeError('Array expected');if(index.length<this._size.length)
throw new DimensionError(index.length,this._size.length,'<');var i,ii,index_i;var size=index.map(function(i){return i+1;});_fit(this,size,defaultValue);var data=this._data;for(i=0,ii=index.length-1;i<ii;i++){index_i=index[i];validateIndex(index_i,data.length);data=data[index_i];}
index_i=index[index.length-1];validateIndex(index_i,data.length);data[index_i]=value;return this;};function _get(matrix,index){if(!index||index.isIndex!==true){throw new TypeError('Invalid index');}
var isScalar=index.isScalar();if(isScalar){return matrix.get(index.min());}
else{var size=index.size();if(size.length!=matrix._size.length){throw new DimensionError(size.length,matrix._size.length);}
var min=index.min();var max=index.max();for(var i=0,ii=matrix._size.length;i<ii;i++){validateIndex(min[i],matrix._size[i]);validateIndex(max[i],matrix._size[i]);}
return new DenseMatrix(_getSubmatrix(matrix._data,index,size.length,0),matrix._datatype);}}
function _getSubmatrix(data,index,dims,dim){var last=(dim==dims-1);var range=index.dimension(dim);if(last){return range.map(function(i){return data[i];}).valueOf();}
else{return range.map(function(i){var child=data[i];return _getSubmatrix(child,index,dims,dim+1);}).valueOf();}}
function _set(matrix,index,submatrix,defaultValue){if(!index||index.isIndex!==true){throw new TypeError('Invalid index');}
var iSize=index.size(),isScalar=index.isScalar();var sSize;if(submatrix&&submatrix.isMatrix===true){sSize=submatrix.size();submatrix=submatrix.valueOf();}
else{sSize=array.size(submatrix);}
if(isScalar){if(sSize.length!==0){throw new TypeError('Scalar expected');}
matrix.set(index.min(),submatrix,defaultValue);}
else{if(iSize.length<matrix._size.length){throw new DimensionError(iSize.length,matrix._size.length,'<');}
if(sSize.length<iSize.length){var i=0;var outer=0;while(iSize[i]===1&&sSize[i]===1){i++;}
while(iSize[i]===1){outer++;i++;}
submatrix=array.unsqueeze(submatrix,iSize.length,outer,sSize);}
if(!object.deepEqual(iSize,sSize)){throw new DimensionError(iSize,sSize,'>');}
var size=index.max().map(function(i){return i+1;});_fit(matrix,size,defaultValue);var dims=iSize.length,dim=0;_setSubmatrix(matrix._data,index,submatrix,dims,dim);}
return matrix;}
function _setSubmatrix(data,index,submatrix,dims,dim){var last=(dim==dims-1),range=index.dimension(dim);if(last){range.forEach(function(dataIndex,subIndex){validateIndex(dataIndex);data[dataIndex]=submatrix[subIndex[0]];});}
else{range.forEach(function(dataIndex,subIndex){validateIndex(dataIndex);_setSubmatrix(data[dataIndex],index,submatrix[subIndex[0]],dims,dim+1);});}}
DenseMatrix.prototype.resize=function(size,defaultValue,copy){if(!isArray(size))
throw new TypeError('Array expected');var m=copy?this.clone():this;return _resize(m,size,defaultValue);};var _resize=function(matrix,size,defaultValue){if(size.length===0){var v=matrix._data;while(isArray(v)){v=v[0];}
return v;}
matrix._size=size.slice(0);matrix._data=array.resize(matrix._data,matrix._size,defaultValue);return matrix;};DenseMatrix.prototype.reshape=function(size,copy){var m=copy?this.clone():this;m._data=array.reshape(m._data,size);m._size=size.slice(0);return m;};function _fit(matrix,size,defaultValue){var newSize=matrix._size.slice(0),changed=false;while(newSize.length<size.length){newSize.push(0);changed=true;}
for(var i=0,ii=size.length;i<ii;i++){if(size[i]>newSize[i]){newSize[i]=size[i];changed=true;}}
if(changed){_resize(matrix,newSize,defaultValue);}}
DenseMatrix.prototype.clone=function(){var m=new DenseMatrix({data:object.clone(this._data),size:object.clone(this._size),datatype:this._datatype});return m;};DenseMatrix.prototype.size=function(){return this._size.slice(0);};DenseMatrix.prototype.map=function(callback){var me=this;var recurse=function(value,index){if(isArray(value)){return value.map(function(child,i){return recurse(child,index.concat(i));});}
else{return callback(value,index,me);}};return new DenseMatrix({data:recurse(this._data,[]),size:object.clone(this._size),datatype:this._datatype});};DenseMatrix.prototype.forEach=function(callback){var me=this;var recurse=function(value,index){if(isArray(value)){value.forEach(function(child,i){recurse(child,index.concat(i));});}
else{callback(value,index,me);}};recurse(this._data,[]);};DenseMatrix.prototype.toArray=function(){return object.clone(this._data);};DenseMatrix.prototype.valueOf=function(){return this._data;};DenseMatrix.prototype.format=function(options){return string.format(this._data,options);};DenseMatrix.prototype.toString=function(){return string.format(this._data);};DenseMatrix.prototype.toJSON=function(){return{mathjs:'DenseMatrix',data:this._data,size:this._size,datatype:this._datatype};};DenseMatrix.prototype.diagonal=function(k){if(k){if(k.isBigNumber===true)
k=k.toNumber();if(!isNumber(k)||!isInteger(k)){throw new TypeError('The parameter k must be an integer number');}}
else{k=0;}
var kSuper=k>0?k:0;var kSub=k<0?-k:0;var rows=this._size[0];var columns=this._size[1];var n=Math.min(rows-kSub,columns-kSuper);var data=[];for(var i=0;i<n;i++){data[i]=this._data[i+kSub][i+kSuper];}
return new DenseMatrix({data:data,size:[n],datatype:this._datatype});};DenseMatrix.diagonal=function(size,value,k,defaultValue,datatype){if(!isArray(size))
throw new TypeError('Array expected, size parameter');if(size.length!==2)
throw new Error('Only two dimensions matrix are supported');size=size.map(function(s){if(s&&s.isBigNumber===true){s=s.toNumber();}
if(!isNumber(s)||!isInteger(s)||s<1){throw new Error('Size values must be positive integers');}
return s;});if(k){if(k&&k.isBigNumber===true)
k=k.toNumber();if(!isNumber(k)||!isInteger(k)){throw new TypeError('The parameter k must be an integer number');}}
else{k=0;}
if(defaultValue&&isString(datatype)){defaultValue=typed.convert(defaultValue,datatype);}
var kSuper=k>0?k:0;var kSub=k<0?-k:0;var rows=size[0];var columns=size[1];var n=Math.min(rows-kSub,columns-kSuper);var _value;if(isArray(value)){if(value.length!==n){throw new Error('Invalid value array length');}
_value=function(i){return value[i];};}
else if(value&&value.isMatrix===true){var ms=value.size();if(ms.length!==1||ms[0]!==n){throw new Error('Invalid matrix length');}
_value=function(i){return value.get([i]);};}
else{_value=function(){return value;};}
if(!defaultValue){defaultValue=(_value(0)&&_value(0).isBigNumber===true)?new type.BigNumber(0):0;}
var data=[];if(size.length>0){data=array.resize(data,size,defaultValue);for(var d=0;d<n;d++){data[d+kSub][d+kSuper]=_value(d);}}
return new DenseMatrix({data:data,size:[rows,columns]});};DenseMatrix.fromJSON=function(json){return new DenseMatrix(json);};DenseMatrix.prototype.swapRows=function(i,j){if(!isNumber(i)||!isInteger(i)||!isNumber(j)||!isInteger(j)){throw new Error('Row index must be positive integers');}
if(this._size.length!==2){throw new Error('Only two dimensional matrix is supported');}
validateIndex(i,this._size[0]);validateIndex(j,this._size[0]);DenseMatrix._swapRows(i,j,this._data);return this;};DenseMatrix._swapRows=function(i,j,data){var vi=data[i];data[i]=data[j];data[j]=vi;};function preprocess(data){for(var i=0,ii=data.length;i<ii;i++){var elem=data[i];if(isArray(elem)){data[i]=preprocess(elem);}
else if(elem&&elem.isMatrix===true){data[i]=preprocess(elem.valueOf());}}
return data;}
type.Matrix._storage.dense=DenseMatrix;type.Matrix._storage['default']=DenseMatrix;return DenseMatrix;}
exports.name='DenseMatrix';exports.path='type';exports.factory=factory;exports.lazy=false;}),(function(module,exports,__webpack_require__){"use strict";var number=__webpack_require__(2);function factory(type,config,load,typed){function Range(start,end,step){if(!(this instanceof Range)){throw new SyntaxError('Constructor must be called with the new operator');}
if(start!=null){if(start.isBigNumber===true)
start=start.toNumber();else if(typeof start!=='number')
throw new TypeError('Parameter start must be a number');}
if(end!=null){if(end.isBigNumber===true)
end=end.toNumber();else if(typeof end!=='number')
throw new TypeError('Parameter end must be a number');}
if(step!=null){if(step.isBigNumber===true)
step=step.toNumber();else if(typeof step!=='number')
throw new TypeError('Parameter step must be a number');}
this.start=(start!=null)?parseFloat(start):0;this.end=(end!=null)?parseFloat(end):0;this.step=(step!=null)?parseFloat(step):1;}
Range.prototype.type='Range';Range.prototype.isRange=true;Range.parse=function(str){if(typeof str!=='string'){return null;}
var args=str.split(':');var nums=args.map(function(arg){return parseFloat(arg);});var invalid=nums.some(function(num){return isNaN(num);});if(invalid){return null;}
switch(nums.length){case 2:return new Range(nums[0],nums[1]);case 3:return new Range(nums[0],nums[2],nums[1]);default:return null;}};Range.prototype.clone=function(){return new Range(this.start,this.end,this.step);};Range.prototype.size=function(){var len=0,start=this.start,step=this.step,end=this.end,diff=end-start;if(number.sign(step)==number.sign(diff)){len=Math.ceil((diff)/ step);}
else if(diff==0){len=0;}
if(isNaN(len)){len=0;}
return[len];};Range.prototype.min=function(){var size=this.size()[0];if(size>0){if(this.step>0){return this.start;}
else{return this.start+(size-1)*this.step;}}
else{return undefined;}};Range.prototype.max=function(){var size=this.size()[0];if(size>0){if(this.step>0){return this.start+(size-1)*this.step;}
else{return this.start;}}
else{return undefined;}};Range.prototype.forEach=function(callback){var x=this.start;var step=this.step;var end=this.end;var i=0;if(step>0){while(x<end){callback(x,[i],this);x+=step;i++;}}
else if(step<0){while(x>end){callback(x,[i],this);x+=step;i++;}}};Range.prototype.map=function(callback){var array=[];this.forEach(function(value,index,obj){array[index[0]]=callback(value,index,obj);});return array;};Range.prototype.toArray=function(){var array=[];this.forEach(function(value,index){array[index[0]]=value;});return array;};Range.prototype.valueOf=function(){return this.toArray();};Range.prototype.format=function(options){var str=number.format(this.start,options);if(this.step!=1){str+=':'+number.format(this.step,options);}
str+=':'+number.format(this.end,options);return str;};Range.prototype.toString=function(){return this.format();};Range.prototype.toJSON=function(){return{mathjs:'Range',start:this.start,end:this.end,step:this.step};};Range.fromJSON=function(json){return new Range(json.start,json.end,json.step);};return Range;}
exports.name='Range';exports.path='type';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var DimensionError=__webpack_require__(11);function factory(type,config,load,typed){var equalScalar=load(__webpack_require__(12));var SparseMatrix=type.SparseMatrix;var algorithm09=function(a,b,callback){var avalues=a._values;var aindex=a._index;var aptr=a._ptr;var asize=a._size;var adt=a._datatype;var bvalues=b._values;var bindex=b._index;var bptr=b._ptr;var bsize=b._size;var bdt=b._datatype;if(asize.length!==bsize.length)
throw new DimensionError(asize.length,bsize.length);if(asize[0]!==bsize[0]||asize[1]!==bsize[1])
throw new RangeError('Dimension mismatch. Matrix A ('+asize+') must match Matrix B ('+bsize+')');var rows=asize[0];var columns=asize[1];var dt;var eq=equalScalar;var zero=0;var cf=callback;if(typeof adt==='string'&&adt===bdt){dt=adt;eq=typed.find(equalScalar,[dt,dt]);zero=typed.convert(0,dt);cf=typed.find(callback,[dt,dt]);}
var cvalues=avalues&&bvalues?[]:undefined;var cindex=[];var cptr=[];var c=new SparseMatrix({values:cvalues,index:cindex,ptr:cptr,size:[rows,columns],datatype:dt});var x=cvalues?[]:undefined;var w=[];var i,j,k,k0,k1;for(j=0;j<columns;j++){cptr[j]=cindex.length;var mark=j+1;if(x){for(k0=bptr[j],k1=bptr[j+1],k=k0;k<k1;k++){i=bindex[k];w[i]=mark;x[i]=bvalues[k];}}
for(k0=aptr[j],k1=aptr[j+1],k=k0;k<k1;k++){i=aindex[k];if(x){var vb=w[i]===mark?x[i]:zero;var vc=cf(avalues[k],vb);if(!eq(vc,zero)){cindex.push(i);cvalues.push(vc);}}
else{cindex.push(i);}}}
cptr[columns]=cindex.length;return c;};return algorithm09;}
exports.name='algorithm09';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){function ResultSet(entries){if(!(this instanceof ResultSet)){throw new SyntaxError('Constructor must be called with the new operator');}
this.entries=entries||[];}
ResultSet.prototype.type='ResultSet';ResultSet.prototype.isResultSet=true;ResultSet.prototype.valueOf=function(){return this.entries;};ResultSet.prototype.toString=function(){return'['+this.entries.join(', ')+']';};ResultSet.prototype.toJSON=function(){return{mathjs:'ResultSet',entries:this.entries};};ResultSet.fromJSON=function(json){return new ResultSet(json.entries);};return ResultSet;}
exports.name='ResultSet';exports.path='type';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var endsWith=__webpack_require__(25).endsWith;var clone=__webpack_require__(5).clone;var constants=__webpack_require__(176);function factory(type,config,load,typed,math){var add=load(__webpack_require__(23));var subtract=load(__webpack_require__(24));var multiply=load(__webpack_require__(27));var divide=load(__webpack_require__(21));var pow=load(__webpack_require__(44));var abs=load(__webpack_require__(34));var fix=load(__webpack_require__(146));var equal=load(__webpack_require__(98));var isNumeric=load(__webpack_require__(99));var format=load(__webpack_require__(165));var getTypeOf=load(__webpack_require__(168));var toNumber=load(__webpack_require__(103));var Complex=load(__webpack_require__(169));function Unit(value,name){if(!(this instanceof Unit)){throw new Error('Constructor must be called with the new operator');}
if(!(value===undefined||isNumeric(value)||value.isComplex)){throw new TypeError('First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined');}
if(name!=undefined&&(typeof name!=='string'||name=='')){throw new TypeError('Second parameter in Unit constructor must be a string');}
if(name!=undefined){var u=Unit.parse(name);this.units=u.units;this.dimensions=u.dimensions;}
else{this.units=[{unit:UNIT_NONE,prefix:PREFIXES.NONE,power:0}];this.dimensions=[];for(var i=0;i<BASE_DIMENSIONS.length;i++){this.dimensions[i]=0;}}
this.value=(value!=undefined)?this._normalize(value):null;this.fixPrefix=false;this.isUnitListSimplified=true;}
Unit.prototype.type='Unit';Unit.prototype.isUnit=true;var text,index,c;function skipWhitespace(){while(c==' '||c=='\t'){next();}}
function isDigitDot(c){return((c>='0'&&c<='9')||c=='.');}
function isDigit(c){return((c>='0'&&c<='9'));}
function next(){index++;c=text.charAt(index);}
function revert(oldIndex){index=oldIndex;c=text.charAt(index);}
function parseNumber(){var number='';var oldIndex;oldIndex=index;if(c=='+'){next();}
else if(c=='-'){number+=c;next();}
if(!isDigitDot(c)){revert(oldIndex);return null;}
if(c=='.'){number+=c;next();if(!isDigit(c)){revert(oldIndex);return null;}}
else{while(isDigit(c)){number+=c;next();}
if(c=='.'){number+=c;next();}}
while(isDigit(c)){number+=c;next();}
if(c=='E'||c=='e'){var tentativeNumber='';var tentativeIndex=index;tentativeNumber+=c;next();if(c=='+'||c=='-'){tentativeNumber+=c;next();}
if(!isDigit(c)){revert(tentativeIndex);return number;}
number=number+tentativeNumber;while(isDigit(c)){number+=c;next();}}
return number;}
function parseUnit(){var unitName='';var code=text.charCodeAt(index);while((code>=48&&code<=57)||(code>=65&&code<=90)||(code>=97&&code<=122)){unitName+=c;next();code=text.charCodeAt(index);}
code=unitName.charCodeAt(0);if((code>=65&&code<=90)||(code>=97&&code<=122)){return unitName||null;}
else{return null;}}
function parseCharacter(toFind){if(c===toFind){next();return toFind;}
else{return null;}}
Unit.parse=function(str,options){options=options||{};text=str;index=-1;c='';if(typeof text!=='string'){throw new TypeError('Invalid argument in Unit.parse, string expected');}
var unit=new Unit();unit.units=[];next();skipWhitespace();var valueStr=parseNumber();var value=null;if(valueStr){if(config.number==='BigNumber'){value=new type.BigNumber(valueStr);}
else if(config.number==='Fraction'){value=new type.Fraction(valueStr);}
else{value=parseFloat(valueStr);}}
skipWhitespace();var powerMultiplierCurrent=1;var expectingUnit=false;var powerMultiplierStack=[];var powerMultiplierStackProduct=1;while(true){skipWhitespace();while(c==='('){powerMultiplierStack.push(powerMultiplierCurrent);powerMultiplierStackProduct*=powerMultiplierCurrent;powerMultiplierCurrent=1;next();skipWhitespace();}
if(c){var oldC=c;var uStr=parseUnit();if(uStr==null){throw new SyntaxError('Unexpected "'+oldC+'" in "'+text+'" at index '+index.toString());}}
else{break;}
var res=_findUnit(uStr);if(res==null){throw new SyntaxError('Unit "'+uStr+'" not found.');}
var power=powerMultiplierCurrent*powerMultiplierStackProduct;skipWhitespace();if(parseCharacter('^')){skipWhitespace();var p=parseNumber();if(p==null){throw new SyntaxError('In "'+str+'", "^" must be followed by a floating-point number');}
power*=p;}
unit.units.push({unit:res.unit,prefix:res.prefix,power:power});for(var i=0;i<BASE_DIMENSIONS.length;i++){unit.dimensions[i]+=(res.unit.dimensions[i]||0)*power;}
skipWhitespace();while(c===')'){if(powerMultiplierStack.length===0){throw new SyntaxError('Unmatched ")" in "'+text+'" at index '+index.toString());}
powerMultiplierStackProduct /=powerMultiplierStack.pop();next();skipWhitespace();}
expectingUnit=false;if(parseCharacter('*')){powerMultiplierCurrent=1;expectingUnit=true;}
else if(parseCharacter('/')){powerMultiplierCurrent=-1;expectingUnit=true;}
else{powerMultiplierCurrent=1;}
if(res.unit.base){var baseDim=res.unit.base.key;UNIT_SYSTEMS.auto[baseDim]={unit:res.unit,prefix:res.prefix};}}
skipWhitespace();if(c){throw new SyntaxError('Could not parse: "'+str+'"');}
if(expectingUnit){throw new SyntaxError('Trailing characters: "'+str+'"');}
if(powerMultiplierStack.length!==0){throw new SyntaxError('Unmatched "(" in "'+text+'"');}
if(unit.units.length==0&&!options.allowNoUnits){throw new SyntaxError('"'+str+'" contains no units');}
unit.value=(value!=undefined)?unit._normalize(value):null;return unit;};Unit.prototype.clone=function(){var unit=new Unit();unit.fixPrefix=this.fixPrefix;unit.isUnitListSimplified=this.isUnitListSimplified;unit.value=clone(this.value);unit.dimensions=this.dimensions.slice(0);unit.units=[];for(var i=0;i<this.units.length;i++){unit.units[i]={};for(var p in this.units[i]){if(this.units[i].hasOwnProperty(p)){unit.units[i][p]=this.units[i][p];}}}
return unit;};Unit.prototype._isDerived=function(){if(this.units.length===0){return false;}
return this.units.length>1||Math.abs(this.units[0].power-1.0)>1e-15;};Unit.prototype._normalize=function(value){var unitValue,unitOffset,unitPower,unitPrefixValue;var convert;if(value==null||this.units.length===0){return value;}
else if(this._isDerived()){var res=value;convert=Unit._getNumberConverter(getTypeOf(value));for(var i=0;i<this.units.length;i++){unitValue=convert(this.units[i].unit.value);unitPrefixValue=convert(this.units[i].prefix.value);unitPower=convert(this.units[i].power);res=multiply(res,pow(multiply(unitValue,unitPrefixValue),unitPower));}
return res;}
else{convert=Unit._getNumberConverter(getTypeOf(value));unitValue=convert(this.units[0].unit.value);unitOffset=convert(this.units[0].unit.offset);unitPrefixValue=convert(this.units[0].prefix.value);return multiply(add(value,unitOffset),multiply(unitValue,unitPrefixValue));}};Unit.prototype._denormalize=function(value,prefixValue){var unitValue,unitOffset,unitPower,unitPrefixValue;var convert;if(value==null||this.units.length===0){return value;}
else if(this._isDerived()){var res=value;convert=Unit._getNumberConverter(getTypeOf(value));for(var i=0;i<this.units.length;i++){unitValue=convert(this.units[i].unit.value);unitPrefixValue=convert(this.units[i].prefix.value);unitPower=convert(this.units[i].power);res=divide(res,pow(multiply(unitValue,unitPrefixValue),unitPower));}
return res;}
else{convert=Unit._getNumberConverter(getTypeOf(value));unitValue=convert(this.units[0].unit.value);unitPrefixValue=convert(this.units[0].prefix.value);unitOffset=convert(this.units[0].unit.offset);if(prefixValue==undefined){return subtract(divide(divide(value,unitValue),unitPrefixValue),unitOffset);}
else{return subtract(divide(divide(value,unitValue),prefixValue),unitOffset);}}};function _findUnit(str){if(UNITS.hasOwnProperty(str)){var unit=UNITS[str];var prefix=unit.prefixes[''];return{unit:unit,prefix:prefix}}
for(var name in UNITS){if(UNITS.hasOwnProperty(name)){if(endsWith(str,name)){var unit=UNITS[name];var prefixLen=(str.length-name.length);var prefixName=str.substring(0,prefixLen);var prefix=unit.prefixes[prefixName];if(prefix!==undefined){return{unit:unit,prefix:prefix};}}}}
return null;}
Unit.isValuelessUnit=function(name){return(_findUnit(name)!=null);};Unit.prototype.hasBase=function(base){if(typeof(base)==="string"){base=BASE_UNITS[base];}
if(!base)
return false;for(var i=0;i<BASE_DIMENSIONS.length;i++){if(Math.abs((this.dimensions[i]||0)-(base.dimensions[i]||0))>1e-12){return false;}}
return true;};Unit.prototype.equalBase=function(other){for(var i=0;i<BASE_DIMENSIONS.length;i++){if(Math.abs((this.dimensions[i]||0)-(other.dimensions[i]||0))>1e-12){return false;}}
return true;};Unit.prototype.equals=function(other){return(this.equalBase(other)&&equal(this.value,other.value));};Unit.prototype.multiply=function(other){var res=this.clone();for(var i=0;i<BASE_DIMENSIONS.length;i++){res.dimensions[i]=(this.dimensions[i]||0)+(other.dimensions[i]||0);}
for(var i=0;i<other.units.length;i++){var inverted={};for(var key in other.units[i]){inverted[key]=other.units[i][key];}
res.units.push(inverted);}
if(this.value!=null||other.value!=null){var valThis=this.value==null?this._normalize(1):this.value;var valOther=other.value==null?other._normalize(1):other.value;res.value=multiply(valThis,valOther);}
else{res.value=null;}
res.isUnitListSimplified=false;return getNumericIfUnitless(res);};Unit.prototype.divide=function(other){var res=this.clone();for(var i=0;i<BASE_DIMENSIONS.length;i++){res.dimensions[i]=(this.dimensions[i]||0)-(other.dimensions[i]||0);}
for(var i=0;i<other.units.length;i++){var inverted={};for(var key in other.units[i]){inverted[key]=other.units[i][key];}
inverted.power=-inverted.power;res.units.push(inverted);}
if(this.value!=null||other.value!=null){var valThis=this.value==null?this._normalize(1):this.value;var valOther=other.value==null?other._normalize(1):other.value;res.value=divide(valThis,valOther);}
else{res.value=null;}
res.isUnitListSimplified=false;return getNumericIfUnitless(res);};Unit.prototype.pow=function(p){var res=this.clone();for(var i=0;i<BASE_DIMENSIONS.length;i++){res.dimensions[i]=(this.dimensions[i]||0)*p;}
for(var i=0;i<res.units.length;i++){res.units[i].power*=p;}
if(res.value!=null){res.value=pow(res.value,p);}
else{res.value=null;}
res.isUnitListSimplified=false;return getNumericIfUnitless(res);};var getNumericIfUnitless=function(unit){if(unit.equalBase(BASE_UNITS.NONE)&&unit.value!==null&&!config.predictable){return unit.value;}
else{return unit;}}
Unit.prototype.abs=function(){var ret=this.clone();ret.value=abs(ret.value);for(var i in ret.units){if(ret.units[i].unit.name==='VA'||ret.units[i].unit.name==='VAR'){ret.units[i].unit=UNITS["W"];}}
return ret;};Unit.prototype.to=function(valuelessUnit){var other;var value=this.value==null?this._normalize(1):this.value;if(typeof valuelessUnit==='string'){other=Unit.parse(valuelessUnit);if(!this.equalBase(other)){throw new Error('Units do not match');}
if(other.value!==null){throw new Error('Cannot convert to a unit with a value');}
other.value=clone(value);other.fixPrefix=true;other.isUnitListSimplified=true;return other;}
else if(valuelessUnit&&valuelessUnit.isUnit){if(!this.equalBase(valuelessUnit)){throw new Error('Units do not match');}
if(valuelessUnit.value!==null){throw new Error('Cannot convert to a unit with a value');}
other=valuelessUnit.clone();other.value=clone(value);other.fixPrefix=true;other.isUnitListSimplified=true;return other;}
else{throw new Error('String or Unit expected as parameter');}};Unit.prototype.toNumber=function(valuelessUnit){return toNumber(this.toNumeric(valuelessUnit));};Unit.prototype.toNumeric=function(valuelessUnit){var other=this;if(valuelessUnit){other=this.to(valuelessUnit);}
if(other._isDerived()){return other._denormalize(other.value);}
else{return other._denormalize(other.value,other.units[0].prefix.value);}};Unit.prototype.toString=function(){return this.format();};Unit.prototype.toJSON=function(){return{mathjs:'Unit',value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix};};Unit.fromJSON=function(json){var unit=new Unit(json.value,json.unit);unit.fixPrefix=json.fixPrefix||false;return unit;};Unit.prototype.valueOf=Unit.prototype.toString;Unit.prototype.simplifyUnitListLazy=function(){if(this.isUnitListSimplified||this.value==null){return;}
var proposedUnitList=[];var matchingBase;for(var key in currentUnitSystem){if(this.hasBase(BASE_UNITS[key])){matchingBase=key;break;}}
if(matchingBase==='NONE')
{this.units=[];}
else{var matchingUnit;if(matchingBase){if(currentUnitSystem.hasOwnProperty(matchingBase)){matchingUnit=currentUnitSystem[matchingBase];}}
var value;var str;if(matchingUnit){this.units=[{unit:matchingUnit.unit,prefix:matchingUnit.prefix,power:1.0}];}
else{var missingBaseDim=false;for(var i=0;i<BASE_DIMENSIONS.length;i++){var baseDim=BASE_DIMENSIONS[i];if(Math.abs(this.dimensions[i]||0)>1e-12){if(currentUnitSystem.hasOwnProperty(baseDim)){proposedUnitList.push({unit:currentUnitSystem[baseDim].unit,prefix:currentUnitSystem[baseDim].prefix,power:this.dimensions[i]||0});}
else{missingBaseDim=true;}}}
if(proposedUnitList.length<this.units.length&&!missingBaseDim){this.units=proposedUnitList;}}}
this.isUnitListSimplified=true;};Unit.prototype.formatUnits=function(){this.simplifyUnitListLazy();var strNum="";var strDen="";var nNum=0;var nDen=0;for(var i=0;i<this.units.length;i++){if(this.units[i].power>0){nNum++;strNum+=" "+this.units[i].prefix.name+this.units[i].unit.name;if(Math.abs(this.units[i].power-1.0)>1e-15){strNum+="^"+this.units[i].power;}}
else if(this.units[i].power<0){nDen++;}}
if(nDen>0){for(var i=0;i<this.units.length;i++){if(this.units[i].power<0){if(nNum>0){strDen+=" "+this.units[i].prefix.name+this.units[i].unit.name;if(Math.abs(this.units[i].power+1.0)>1e-15){strDen+="^"+(-this.units[i].power);}}
else{strDen+=" "+this.units[i].prefix.name+this.units[i].unit.name;strDen+="^"+(this.units[i].power);}}}}
strNum=strNum.substr(1);strDen=strDen.substr(1);if(nNum>1&&nDen>0){strNum="("+strNum+")";}
if(nDen>1&&nNum>0){strDen="("+strDen+")";}
var str=strNum;if(nNum>0&&nDen>0){str+=" / ";}
str+=strDen;return str;};Unit.prototype.format=function(options){this.simplifyUnitListLazy();var isImaginary=false;var isReal=true;if(typeof(this.value)!=='undefined'&&this.value!==null&&this.value.isComplex){isImaginary=Math.abs(this.value.re)<1e-14;isReal=Math.abs(this.value.im)<1e-14;}
for(var i in this.units){if(this.units[i].unit){if(this.units[i].unit.name==='VA'&&isImaginary){this.units[i].unit=UNITS["VAR"];}
else if(this.units[i].unit.name==='VAR'&&!isImaginary){this.units[i].unit=UNITS["VA"];}}}
if(this.units.length===1&&!this.fixPrefix){if(Math.abs(this.units[0].power-Math.round(this.units[0].power))<1e-14){this.units[0].prefix=this._bestPrefix();}}
var value=this._denormalize(this.value);var str=(this.value!==null)?format(value,options||{}):'';var unitStr=this.formatUnits();if(this.value&&this.value.isComplex){str="("+str+")";}
if(unitStr.length>0&&str.length>0){str+=" ";}
str+=unitStr;return str;};Unit.prototype._bestPrefix=function(){if(this.units.length!==1){throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");}
if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14){throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");}
var absValue=abs(this.value);var absUnitValue=abs(this.units[0].unit.value);var bestPrefix=this.units[0].prefix;if(absValue===0){return bestPrefix;}
var power=this.units[0].power;var bestDiff=Math.log(absValue / Math.pow(bestPrefix.value*absUnitValue,power))/ Math.LN10-1.2;if(bestDiff>-2.200001&&bestDiff<1.800001)return bestPrefix;bestDiff=Math.abs(bestDiff);var prefixes=this.units[0].unit.prefixes;for(var p in prefixes){if(prefixes.hasOwnProperty(p)){var prefix=prefixes[p];if(prefix.scientific){var diff=Math.abs(Math.log(absValue / Math.pow(prefix.value*absUnitValue,power))/ Math.LN10-1.2);if(diff<bestDiff||(diff===bestDiff&&prefix.name.length<bestPrefix.name.length)){bestPrefix=prefix;bestDiff=diff;}}}}
return bestPrefix;};Unit.prototype.splitUnit=function(parts){var x=this.clone();var ret=[];for(var i=0;i<parts.length;i++){x=x.to(parts[i]);if(i==parts.length-1)break;var fixedVal=fix(x.toNumeric());var y=new Unit(fixedVal,parts[i].toString());ret.push(y);x=subtract(x,y);}
ret.push(x);return ret;};var PREFIXES={NONE:{'':{name:'',value:1,scientific:true}},SHORT:{'':{name:'',value:1,scientific:true},'da':{name:'da',value:1e1,scientific:false},'h':{name:'h',value:1e2,scientific:false},'k':{name:'k',value:1e3,scientific:true},'M':{name:'M',value:1e6,scientific:true},'G':{name:'G',value:1e9,scientific:true},'T':{name:'T',value:1e12,scientific:true},'P':{name:'P',value:1e15,scientific:true},'E':{name:'E',value:1e18,scientific:true},'Z':{name:'Z',value:1e21,scientific:true},'Y':{name:'Y',value:1e24,scientific:true},'d':{name:'d',value:1e-1,scientific:false},'c':{name:'c',value:1e-2,scientific:false},'m':{name:'m',value:1e-3,scientific:true},'u':{name:'u',value:1e-6,scientific:true},'n':{name:'n',value:1e-9,scientific:true},'p':{name:'p',value:1e-12,scientific:true},'f':{name:'f',value:1e-15,scientific:true},'a':{name:'a',value:1e-18,scientific:true},'z':{name:'z',value:1e-21,scientific:true},'y':{name:'y',value:1e-24,scientific:true}},LONG:{'':{name:'',value:1,scientific:true},'deca':{name:'deca',value:1e1,scientific:false},'hecto':{name:'hecto',value:1e2,scientific:false},'kilo':{name:'kilo',value:1e3,scientific:true},'mega':{name:'mega',value:1e6,scientific:true},'giga':{name:'giga',value:1e9,scientific:true},'tera':{name:'tera',value:1e12,scientific:true},'peta':{name:'peta',value:1e15,scientific:true},'exa':{name:'exa',value:1e18,scientific:true},'zetta':{name:'zetta',value:1e21,scientific:true},'yotta':{name:'yotta',value:1e24,scientific:true},'deci':{name:'deci',value:1e-1,scientific:false},'centi':{name:'centi',value:1e-2,scientific:false},'milli':{name:'milli',value:1e-3,scientific:true},'micro':{name:'micro',value:1e-6,scientific:true},'nano':{name:'nano',value:1e-9,scientific:true},'pico':{name:'pico',value:1e-12,scientific:true},'femto':{name:'femto',value:1e-15,scientific:true},'atto':{name:'atto',value:1e-18,scientific:true},'zepto':{name:'zepto',value:1e-21,scientific:true},'yocto':{name:'yocto',value:1e-24,scientific:true}},SQUARED:{'':{name:'',value:1,scientific:true},'da':{name:'da',value:1e2,scientific:false},'h':{name:'h',value:1e4,scientific:false},'k':{name:'k',value:1e6,scientific:true},'M':{name:'M',value:1e12,scientific:true},'G':{name:'G',value:1e18,scientific:true},'T':{name:'T',value:1e24,scientific:true},'P':{name:'P',value:1e30,scientific:true},'E':{name:'E',value:1e36,scientific:true},'Z':{name:'Z',value:1e42,scientific:true},'Y':{name:'Y',value:1e48,scientific:true},'d':{name:'d',value:1e-2,scientific:false},'c':{name:'c',value:1e-4,scientific:false},'m':{name:'m',value:1e-6,scientific:true},'u':{name:'u',value:1e-12,scientific:true},'n':{name:'n',value:1e-18,scientific:true},'p':{name:'p',value:1e-24,scientific:true},'f':{name:'f',value:1e-30,scientific:true},'a':{name:'a',value:1e-36,scientific:true},'z':{name:'z',value:1e-42,scientific:true},'y':{name:'y',value:1e-48,scientific:true}},CUBIC:{'':{name:'',value:1,scientific:true},'da':{name:'da',value:1e3,scientific:false},'h':{name:'h',value:1e6,scientific:false},'k':{name:'k',value:1e9,scientific:true},'M':{name:'M',value:1e18,scientific:true},'G':{name:'G',value:1e27,scientific:true},'T':{name:'T',value:1e36,scientific:true},'P':{name:'P',value:1e45,scientific:true},'E':{name:'E',value:1e54,scientific:true},'Z':{name:'Z',value:1e63,scientific:true},'Y':{name:'Y',value:1e72,scientific:true},'d':{name:'d',value:1e-3,scientific:false},'c':{name:'c',value:1e-6,scientific:false},'m':{name:'m',value:1e-9,scientific:true},'u':{name:'u',value:1e-18,scientific:true},'n':{name:'n',value:1e-27,scientific:true},'p':{name:'p',value:1e-36,scientific:true},'f':{name:'f',value:1e-45,scientific:true},'a':{name:'a',value:1e-54,scientific:true},'z':{name:'z',value:1e-63,scientific:true},'y':{name:'y',value:1e-72,scientific:true}},BINARY_SHORT:{'':{name:'',value:1,scientific:true},'k':{name:'k',value:1e3,scientific:true},'M':{name:'M',value:1e6,scientific:true},'G':{name:'G',value:1e9,scientific:true},'T':{name:'T',value:1e12,scientific:true},'P':{name:'P',value:1e15,scientific:true},'E':{name:'E',value:1e18,scientific:true},'Z':{name:'Z',value:1e21,scientific:true},'Y':{name:'Y',value:1e24,scientific:true},'Ki':{name:'Ki',value:1024,scientific:true},'Mi':{name:'Mi',value:Math.pow(1024,2),scientific:true},'Gi':{name:'Gi',value:Math.pow(1024,3),scientific:true},'Ti':{name:'Ti',value:Math.pow(1024,4),scientific:true},'Pi':{name:'Pi',value:Math.pow(1024,5),scientific:true},'Ei':{name:'Ei',value:Math.pow(1024,6),scientific:true},'Zi':{name:'Zi',value:Math.pow(1024,7),scientific:true},'Yi':{name:'Yi',value:Math.pow(1024,8),scientific:true}},BINARY_LONG:{'':{name:'',value:1,scientific:true},'kilo':{name:'kilo',value:1e3,scientific:true},'mega':{name:'mega',value:1e6,scientific:true},'giga':{name:'giga',value:1e9,scientific:true},'tera':{name:'tera',value:1e12,scientific:true},'peta':{name:'peta',value:1e15,scientific:true},'exa':{name:'exa',value:1e18,scientific:true},'zetta':{name:'zetta',value:1e21,scientific:true},'yotta':{name:'yotta',value:1e24,scientific:true},'kibi':{name:'kibi',value:1024,scientific:true},'mebi':{name:'mebi',value:Math.pow(1024,2),scientific:true},'gibi':{name:'gibi',value:Math.pow(1024,3),scientific:true},'tebi':{name:'tebi',value:Math.pow(1024,4),scientific:true},'pebi':{name:'pebi',value:Math.pow(1024,5),scientific:true},'exi':{name:'exi',value:Math.pow(1024,6),scientific:true},'zebi':{name:'zebi',value:Math.pow(1024,7),scientific:true},'yobi':{name:'yobi',value:Math.pow(1024,8),scientific:true}},BTU:{'':{name:'',value:1,scientific:true},'MM':{name:'MM',value:1e6,scientific:true}}};PREFIXES.SHORTLONG={};for(var key in PREFIXES.SHORT){if(PREFIXES.SHORT.hasOwnProperty(key)){PREFIXES.SHORTLONG[key]=PREFIXES.SHORT[key];}}
for(var key in PREFIXES.LONG){if(PREFIXES.LONG.hasOwnProperty(key)){PREFIXES.SHORTLONG[key]=PREFIXES.LONG[key];}}
var BASE_DIMENSIONS=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"];var BASE_UNITS={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var key in BASE_UNITS){BASE_UNITS[key].key=key;}
var BASE_UNIT_NONE={};var UNIT_NONE={name:'',base:BASE_UNIT_NONE,value:1,offset:0,dimensions:[0,0,0,0,0,0,0,0,0]};var UNITS={meter:{name:'meter',base:BASE_UNITS.LENGTH,prefixes:PREFIXES.LONG,value:1,offset:0},inch:{name:'inch',base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:0.0254,offset:0},foot:{name:'foot',base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:0.3048,offset:0},yard:{name:'yard',base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:0.9144,offset:0},mile:{name:'mile',base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:1609.344,offset:0},link:{name:'link',base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:0.201168,offset:0},rod:{name:'rod',base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:5.029210,offset:0},chain:{name:'chain',base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:20.1168,offset:0},angstrom:{name:'angstrom',base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:1e-10,offset:0},m:{name:'m',base:BASE_UNITS.LENGTH,prefixes:PREFIXES.SHORT,value:1,offset:0},'in':{name:'in',base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:0.0254,offset:0},ft:{name:'ft',base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:0.3048,offset:0},yd:{name:'yd',base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:0.9144,offset:0},mi:{name:'mi',base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:1609.344,offset:0},li:{name:'li',base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:0.201168,offset:0},rd:{name:'rd',base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:5.029210,offset:0},ch:{name:'ch',base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:20.1168,offset:0},mil:{name:'mil',base:BASE_UNITS.LENGTH,prefixes:PREFIXES.NONE,value:0.0000254,offset:0},m2:{name:'m2',base:BASE_UNITS.SURFACE,prefixes:PREFIXES.SQUARED,value:1,offset:0},sqin:{name:'sqin',base:BASE_UNITS.SURFACE,prefixes:PREFIXES.NONE,value:0.00064516,offset:0},sqft:{name:'sqft',base:BASE_UNITS.SURFACE,prefixes:PREFIXES.NONE,value:0.09290304,offset:0},sqyd:{name:'sqyd',base:BASE_UNITS.SURFACE,prefixes:PREFIXES.NONE,value:0.83612736,offset:0},sqmi:{name:'sqmi',base:BASE_UNITS.SURFACE,prefixes:PREFIXES.NONE,value:2589988.110336,offset:0},sqrd:{name:'sqrd',base:BASE_UNITS.SURFACE,prefixes:PREFIXES.NONE,value:25.29295,offset:0},sqch:{name:'sqch',base:BASE_UNITS.SURFACE,prefixes:PREFIXES.NONE,value:404.6873,offset:0},sqmil:{name:'sqmil',base:BASE_UNITS.SURFACE,prefixes:PREFIXES.NONE,value:6.4516e-10,offset:0},acre:{name:'acre',base:BASE_UNITS.SURFACE,prefixes:PREFIXES.NONE,value:4046.86,offset:0},hectare:{name:'hectare',base:BASE_UNITS.SURFACE,prefixes:PREFIXES.NONE,value:10000,offset:0},m3:{name:'m3',base:BASE_UNITS.VOLUME,prefixes:PREFIXES.CUBIC,value:1,offset:0},L:{name:'L',base:BASE_UNITS.VOLUME,prefixes:PREFIXES.SHORT,value:0.001,offset:0},l:{name:'l',base:BASE_UNITS.VOLUME,prefixes:PREFIXES.SHORT,value:0.001,offset:0},litre:{name:'litre',base:BASE_UNITS.VOLUME,prefixes:PREFIXES.LONG,value:0.001,offset:0},cuin:{name:'cuin',base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:1.6387064e-5,offset:0},cuft:{name:'cuft',base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:0.028316846592,offset:0},cuyd:{name:'cuyd',base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:0.764554857984,offset:0},teaspoon:{name:'teaspoon',base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:0.000005,offset:0},tablespoon:{name:'tablespoon',base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:0.000015,offset:0},drop:{name:'drop',base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:5e-8,offset:0},gtt:{name:'gtt',base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:5e-8,offset:0},minim:{name:'minim',base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:0.00000006161152,offset:0},fluiddram:{name:'fluiddram',base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:0.0000036966911,offset:0},fluidounce:{name:'fluidounce',base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:0.00002957353,offset:0},gill:{name:'gill',base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:0.0001182941,offset:0},cc:{name:'cc',base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:1e-6,offset:0},cup:{name:'cup',base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:0.0002365882,offset:0},pint:{name:'pint',base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:0.0004731765,offset:0},quart:{name:'quart',base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:0.0009463529,offset:0},gallon:{name:'gallon',base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:0.003785412,offset:0},beerbarrel:{name:'beerbarrel',base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:0.1173478,offset:0},oilbarrel:{name:'oilbarrel',base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:0.1589873,offset:0},hogshead:{name:'hogshead',base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:0.2384810,offset:0},fldr:{name:'fldr',base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:0.0000036966911,offset:0},floz:{name:'floz',base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:0.00002957353,offset:0},gi:{name:'gi',base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:0.0001182941,offset:0},cp:{name:'cp',base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:0.0002365882,offset:0},pt:{name:'pt',base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:0.0004731765,offset:0},qt:{name:'qt',base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:0.0009463529,offset:0},gal:{name:'gal',base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:0.003785412,offset:0},bbl:{name:'bbl',base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:0.1173478,offset:0},obl:{name:'obl',base:BASE_UNITS.VOLUME,prefixes:PREFIXES.NONE,value:0.1589873,offset:0},g:{name:'g',base:BASE_UNITS.MASS,prefixes:PREFIXES.SHORT,value:0.001,offset:0},gram:{name:'gram',base:BASE_UNITS.MASS,prefixes:PREFIXES.LONG,value:0.001,offset:0},ton:{name:'ton',base:BASE_UNITS.MASS,prefixes:PREFIXES.SHORT,value:907.18474,offset:0},tonne:{name:'tonne',base:BASE_UNITS.MASS,prefixes:PREFIXES.SHORT,value:1000,offset:0},grain:{name:'grain',base:BASE_UNITS.MASS,prefixes:PREFIXES.NONE,value:64.79891e-6,offset:0},dram:{name:'dram',base:BASE_UNITS.MASS,prefixes:PREFIXES.NONE,value:1.7718451953125e-3,offset:0},ounce:{name:'ounce',base:BASE_UNITS.MASS,prefixes:PREFIXES.NONE,value:28.349523125e-3,offset:0},poundmass:{name:'poundmass',base:BASE_UNITS.MASS,prefixes:PREFIXES.NONE,value:453.59237e-3,offset:0},hundredweight:{name:'hundredweight',base:BASE_UNITS.MASS,prefixes:PREFIXES.NONE,value:45.359237,offset:0},stick:{name:'stick',base:BASE_UNITS.MASS,prefixes:PREFIXES.NONE,value:115e-3,offset:0},stone:{name:'stone',base:BASE_UNITS.MASS,prefixes:PREFIXES.NONE,value:6.35029318,offset:0},gr:{name:'gr',base:BASE_UNITS.MASS,prefixes:PREFIXES.NONE,value:64.79891e-6,offset:0},dr:{name:'dr',base:BASE_UNITS.MASS,prefixes:PREFIXES.NONE,value:1.7718451953125e-3,offset:0},oz:{name:'oz',base:BASE_UNITS.MASS,prefixes:PREFIXES.NONE,value:28.349523125e-3,offset:0},lbm:{name:'lbm',base:BASE_UNITS.MASS,prefixes:PREFIXES.NONE,value:453.59237e-3,offset:0},cwt:{name:'cwt',base:BASE_UNITS.MASS,prefixes:PREFIXES.NONE,value:45.359237,offset:0},s:{name:'s',base:BASE_UNITS.TIME,prefixes:PREFIXES.SHORT,value:1,offset:0},min:{name:'min',base:BASE_UNITS.TIME,prefixes:PREFIXES.NONE,value:60,offset:0},h:{name:'h',base:BASE_UNITS.TIME,prefixes:PREFIXES.NONE,value:3600,offset:0},second:{name:'second',base:BASE_UNITS.TIME,prefixes:PREFIXES.LONG,value:1,offset:0},sec:{name:'sec',base:BASE_UNITS.TIME,prefixes:PREFIXES.LONG,value:1,offset:0},minute:{name:'minute',base:BASE_UNITS.TIME,prefixes:PREFIXES.NONE,value:60,offset:0},hour:{name:'hour',base:BASE_UNITS.TIME,prefixes:PREFIXES.NONE,value:3600,offset:0},day:{name:'day',base:BASE_UNITS.TIME,prefixes:PREFIXES.NONE,value:86400,offset:0},week:{name:'week',base:BASE_UNITS.TIME,prefixes:PREFIXES.NONE,value:7*86400,offset:0},month:{name:'month',base:BASE_UNITS.TIME,prefixes:PREFIXES.NONE,value:2629800,offset:0},year:{name:'year',base:BASE_UNITS.TIME,prefixes:PREFIXES.NONE,value:31557600,offset:0},decade:{name:'year',base:BASE_UNITS.TIME,prefixes:PREFIXES.NONE,value:315576000,offset:0},century:{name:'century',base:BASE_UNITS.TIME,prefixes:PREFIXES.NONE,value:3155760000,offset:0},millennium:{name:'millennium',base:BASE_UNITS.TIME,prefixes:PREFIXES.NONE,value:31557600000,offset:0},hertz:{name:'Hertz',base:BASE_UNITS.FREQUENCY,prefixes:PREFIXES.LONG,value:1,offset:0,reciprocal:true},Hz:{name:'Hz',base:BASE_UNITS.FREQUENCY,prefixes:PREFIXES.SHORT,value:1,offset:0,reciprocal:true},rad:{name:'rad',base:BASE_UNITS.ANGLE,prefixes:PREFIXES.LONG,value:1,offset:0},deg:{name:'deg',base:BASE_UNITS.ANGLE,prefixes:PREFIXES.LONG,value:null,offset:0},grad:{name:'grad',base:BASE_UNITS.ANGLE,prefixes:PREFIXES.LONG,value:null,offset:0},cycle:{name:'cycle',base:BASE_UNITS.ANGLE,prefixes:PREFIXES.NONE,value:null,offset:0},arcsec:{name:'arcsec',base:BASE_UNITS.ANGLE,prefixes:PREFIXES.NONE,value:null,offset:0},arcmin:{name:'arcmin',base:BASE_UNITS.ANGLE,prefixes:PREFIXES.NONE,value:null,offset:0},A:{name:'A',base:BASE_UNITS.CURRENT,prefixes:PREFIXES.SHORT,value:1,offset:0},ampere:{name:'ampere',base:BASE_UNITS.CURRENT,prefixes:PREFIXES.LONG,value:1,offset:0},K:{name:'K',base:BASE_UNITS.TEMPERATURE,prefixes:PREFIXES.NONE,value:1,offset:0},degC:{name:'degC',base:BASE_UNITS.TEMPERATURE,prefixes:PREFIXES.NONE,value:1,offset:273.15},degF:{name:'degF',base:BASE_UNITS.TEMPERATURE,prefixes:PREFIXES.NONE,value:1 / 1.8,offset:459.67},degR:{name:'degR',base:BASE_UNITS.TEMPERATURE,prefixes:PREFIXES.NONE,value:1 / 1.8,offset:0},kelvin:{name:'kelvin',base:BASE_UNITS.TEMPERATURE,prefixes:PREFIXES.NONE,value:1,offset:0},celsius:{name:'celsius',base:BASE_UNITS.TEMPERATURE,prefixes:PREFIXES.NONE,value:1,offset:273.15},fahrenheit:{name:'fahrenheit',base:BASE_UNITS.TEMPERATURE,prefixes:PREFIXES.NONE,value:1 / 1.8,offset:459.67},rankine:{name:'rankine',base:BASE_UNITS.TEMPERATURE,prefixes:PREFIXES.NONE,value:1 / 1.8,offset:0},mol:{name:'mol',base:BASE_UNITS.AMOUNT_OF_SUBSTANCE,prefixes:PREFIXES.SHORT,value:1,offset:0},mole:{name:'mole',base:BASE_UNITS.AMOUNT_OF_SUBSTANCE,prefixes:PREFIXES.LONG,value:1,offset:0},cd:{name:'cd',base:BASE_UNITS.LUMINOUS_INTENSITY,prefixes:PREFIXES.NONE,value:1,offset:0},candela:{name:'candela',base:BASE_UNITS.LUMINOUS_INTENSITY,prefixes:PREFIXES.NONE,value:1,offset:0},N:{name:'N',base:BASE_UNITS.FORCE,prefixes:PREFIXES.SHORT,value:1,offset:0},newton:{name:'newton',base:BASE_UNITS.FORCE,prefixes:PREFIXES.LONG,value:1,offset:0},dyn:{name:'dyn',base:BASE_UNITS.FORCE,prefixes:PREFIXES.SHORT,value:0.00001,offset:0},dyne:{name:'dyne',base:BASE_UNITS.FORCE,prefixes:PREFIXES.LONG,value:0.00001,offset:0},lbf:{name:'lbf',base:BASE_UNITS.FORCE,prefixes:PREFIXES.NONE,value:4.4482216152605,offset:0},poundforce:{name:'poundforce',base:BASE_UNITS.FORCE,prefixes:PREFIXES.NONE,value:4.4482216152605,offset:0},kip:{name:'kip',base:BASE_UNITS.FORCE,prefixes:PREFIXES.LONG,value:4448.2216,offset:0},J:{name:'J',base:BASE_UNITS.ENERGY,prefixes:PREFIXES.SHORT,value:1,offset:0},joule:{name:'joule',base:BASE_UNITS.ENERGY,prefixes:PREFIXES.SHORT,value:1,offset:0},erg:{name:'erg',base:BASE_UNITS.ENERGY,prefixes:PREFIXES.NONE,value:1e-5,offset:0},Wh:{name:'Wh',base:BASE_UNITS.ENERGY,prefixes:PREFIXES.SHORT,value:3600,offset:0},BTU:{name:'BTU',base:BASE_UNITS.ENERGY,prefixes:PREFIXES.BTU,value:1055.05585262,offset:0},eV:{name:'eV',base:BASE_UNITS.ENERGY,prefixes:PREFIXES.SHORT,value:1.602176565e-19,offset:0},electronvolt:{name:'electronvolt',base:BASE_UNITS.ENERGY,prefixes:PREFIXES.LONG,value:1.602176565e-19,offset:0},W:{name:'W',base:BASE_UNITS.POWER,prefixes:PREFIXES.SHORT,value:1,offset:0},watt:{name:'W',base:BASE_UNITS.POWER,prefixes:PREFIXES.LONG,value:1,offset:0},hp:{name:'hp',base:BASE_UNITS.POWER,prefixes:PREFIXES.NONE,value:745.6998715386,offset:0},VAR:{name:'VAR',base:BASE_UNITS.POWER,prefixes:PREFIXES.SHORT,value:Complex.I,offset:0},VA:{name:'VA',base:BASE_UNITS.POWER,prefixes:PREFIXES.SHORT,value:1,offset:0},Pa:{name:'Pa',base:BASE_UNITS.PRESSURE,prefixes:PREFIXES.SHORT,value:1,offset:0},psi:{name:'psi',base:BASE_UNITS.PRESSURE,prefixes:PREFIXES.NONE,value:6894.75729276459,offset:0},atm:{name:'atm',base:BASE_UNITS.PRESSURE,prefixes:PREFIXES.NONE,value:101325,offset:0},bar:{name:'bar',base:BASE_UNITS.PRESSURE,prefixes:PREFIXES.NONE,value:100000,offset:0},torr:{name:'torr',base:BASE_UNITS.PRESSURE,prefixes:PREFIXES.NONE,value:133.322,offset:0},mmHg:{name:'mmHg',base:BASE_UNITS.PRESSURE,prefixes:PREFIXES.NONE,value:133.322,offset:0},mmH2O:{name:'mmH2O',base:BASE_UNITS.PRESSURE,prefixes:PREFIXES.NONE,value:9.80665,offset:0},cmH2O:{name:'cmH2O',base:BASE_UNITS.PRESSURE,prefixes:PREFIXES.NONE,value:98.0665,offset:0},coulomb:{name:'coulomb',base:BASE_UNITS.ELECTRIC_CHARGE,prefixes:PREFIXES.LONG,value:1,offset:0},C:{name:'C',base:BASE_UNITS.ELECTRIC_CHARGE,prefixes:PREFIXES.SHORT,value:1,offset:0},farad:{name:'farad',base:BASE_UNITS.ELECTRIC_CAPACITANCE,prefixes:PREFIXES.LONG,value:1,offset:0},F:{name:'F',base:BASE_UNITS.ELECTRIC_CAPACITANCE,prefixes:PREFIXES.SHORT,value:1,offset:0},volt:{name:'volt',base:BASE_UNITS.ELECTRIC_POTENTIAL,prefixes:PREFIXES.LONG,value:1,offset:0},V:{name:'V',base:BASE_UNITS.ELECTRIC_POTENTIAL,prefixes:PREFIXES.SHORT,value:1,offset:0},ohm:{name:'ohm',base:BASE_UNITS.ELECTRIC_RESISTANCE,prefixes:PREFIXES.SHORTLONG,value:1,offset:0},henry:{name:'henry',base:BASE_UNITS.ELECTRIC_INDUCTANCE,prefixes:PREFIXES.LONG,value:1,offset:0},H:{name:'H',base:BASE_UNITS.ELECTRIC_INDUCTANCE,prefixes:PREFIXES.SHORT,value:1,offset:0},siemens:{name:'siemens',base:BASE_UNITS.ELECTRIC_CONDUCTANCE,prefixes:PREFIXES.LONG,value:1,offset:0},S:{name:'S',base:BASE_UNITS.ELECTRIC_CONDUCTANCE,prefixes:PREFIXES.SHORT,value:1,offset:0},weber:{name:'weber',base:BASE_UNITS.MAGNETIC_FLUX,prefixes:PREFIXES.LONG,value:1,offset:0},Wb:{name:'Wb',base:BASE_UNITS.MAGNETIC_FLUX,prefixes:PREFIXES.SHORT,value:1,offset:0},tesla:{name:'tesla',base:BASE_UNITS.MAGNETIC_FLUX_DENSITY,prefixes:PREFIXES.LONG,value:1,offset:0},T:{name:'T',base:BASE_UNITS.MAGNETIC_FLUX_DENSITY,prefixes:PREFIXES.SHORT,value:1,offset:0},b:{name:'b',base:BASE_UNITS.BIT,prefixes:PREFIXES.BINARY_SHORT,value:1,offset:0},bits:{name:'bits',base:BASE_UNITS.BIT,prefixes:PREFIXES.BINARY_LONG,value:1,offset:0},B:{name:'B',base:BASE_UNITS.BIT,prefixes:PREFIXES.BINARY_SHORT,value:8,offset:0},bytes:{name:'bytes',base:BASE_UNITS.BIT,prefixes:PREFIXES.BINARY_LONG,value:8,offset:0}};var ALIASES={meters:'meter',inches:'inch',feet:'foot',yards:'yard',miles:'mile',links:'link',rods:'rod',chains:'chain',angstroms:'angstrom',lt:'l',litres:'litre',liter:'litre',liters:'litre',teaspoons:'teaspoon',tablespoons:'tablespoon',minims:'minim',fluiddrams:'fluiddram',fluidounces:'fluidounce',gills:'gill',cups:'cup',pints:'pint',quarts:'quart',gallons:'gallon',beerbarrels:'beerbarrel',oilbarrels:'oilbarrel',hogsheads:'hogshead',gtts:'gtt',grams:'gram',tons:'ton',tonnes:'tonne',grains:'grain',drams:'dram',ounces:'ounce',poundmasses:'poundmass',hundredweights:'hundredweight',sticks:'stick',lb:'lbm',lbs:'lbm',kips:'kip',acres:'acre',hectares:'hectare',sqfeet:'sqft',sqyard:'sqyd',sqmile:'sqmi',sqmiles:'sqmi',mmhg:'mmHg',mmh2o:'mmH2O',cmh2o:'cmH2O',seconds:'second',secs:'second',minutes:'minute',mins:'minute',hours:'hour',hr:'hour',hrs:'hour',days:'day',weeks:'week',months:'month',years:'year',hertz:'hertz',radians:'rad',degree:'deg',degrees:'deg',gradian:'grad',gradians:'grad',cycles:'cycle',arcsecond:'arcsec',arcseconds:'arcsec',arcminute:'arcmin',arcminutes:'arcmin',BTUs:'BTU',watts:'watt',joules:'joule',amperes:'ampere',coulombs:'coulomb',volts:'volt',ohms:'ohm',farads:'farad',webers:'weber',teslas:'tesla',electronvolts:'electronvolt',moles:'mole'};function calculateAngleValues(config){if(config.number==='BigNumber'){var pi=constants.pi(type.BigNumber);UNITS.rad.value=new type.BigNumber(1);UNITS.deg.value=pi.div(180);UNITS.grad.value=pi.div(200);UNITS.cycle.value=pi.times(2);UNITS.arcsec.value=pi.div(648000);UNITS.arcmin.value=pi.div(10800);}
else{UNITS.rad.value=1;UNITS.deg.value=Math.PI / 180;UNITS.grad.value=Math.PI / 200;UNITS.cycle.value=Math.PI*2;UNITS.arcsec.value=Math.PI / 648000;UNITS.arcmin.value=Math.PI / 10800;}}
calculateAngleValues(config);math.on('config',function(curr,prev){if(curr.number!==prev.number){calculateAngleValues(curr);}});var UNIT_SYSTEMS={si:{NONE:{unit:UNIT_NONE,prefix:PREFIXES.NONE['']},LENGTH:{unit:UNITS.m,prefix:PREFIXES.SHORT['']},MASS:{unit:UNITS.g,prefix:PREFIXES.SHORT['k']},TIME:{unit:UNITS.s,prefix:PREFIXES.SHORT['']},CURRENT:{unit:UNITS.A,prefix:PREFIXES.SHORT['']},TEMPERATURE:{unit:UNITS.K,prefix:PREFIXES.SHORT['']},LUMINOUS_INTENSITY:{unit:UNITS.cd,prefix:PREFIXES.SHORT['']},AMOUNT_OF_SUBSTANCE:{unit:UNITS.mol,prefix:PREFIXES.SHORT['']},ANGLE:{unit:UNITS.rad,prefix:PREFIXES.SHORT['']},BIT:{unit:UNITS.bit,prefix:PREFIXES.SHORT['']},FORCE:{unit:UNITS.N,prefix:PREFIXES.SHORT['']},ENERGY:{unit:UNITS.J,prefix:PREFIXES.SHORT['']},POWER:{unit:UNITS.W,prefix:PREFIXES.SHORT['']},PRESSURE:{unit:UNITS.Pa,prefix:PREFIXES.SHORT['']},ELECTRIC_CHARGE:{unit:UNITS.C,prefix:PREFIXES.SHORT['']},ELECTRIC_CAPACITANCE:{unit:UNITS.F,prefix:PREFIXES.SHORT['']},ELECTRIC_POTENTIAL:{unit:UNITS.V,prefix:PREFIXES.SHORT['']},ELECTRIC_RESISTANCE:{unit:UNITS.ohm,prefix:PREFIXES.SHORT['']},ELECTRIC_INDUCTANCE:{unit:UNITS.H,prefix:PREFIXES.SHORT['']},ELECTRIC_CONDUCTANCE:{unit:UNITS.S,prefix:PREFIXES.SHORT['']},MAGNETIC_FLUX:{unit:UNITS.Wb,prefix:PREFIXES.SHORT['']},MAGNETIC_FLUX_DENSITY:{unit:UNITS.T,prefix:PREFIXES.SHORT['']},FREQUENCY:{unit:UNITS.Hz,prefix:PREFIXES.SHORT['']}}};UNIT_SYSTEMS.cgs=JSON.parse(JSON.stringify(UNIT_SYSTEMS.si));UNIT_SYSTEMS.cgs.LENGTH={unit:UNITS.m,prefix:PREFIXES.SHORT['c']};UNIT_SYSTEMS.cgs.MASS={unit:UNITS.g,prefix:PREFIXES.SHORT['']};UNIT_SYSTEMS.cgs.FORCE={unit:UNITS.dyn,prefix:PREFIXES.SHORT['']};UNIT_SYSTEMS.cgs.ENERGY={unit:UNITS.erg,prefix:PREFIXES.NONE['']};UNIT_SYSTEMS.us=JSON.parse(JSON.stringify(UNIT_SYSTEMS.si));UNIT_SYSTEMS.us.LENGTH={unit:UNITS.ft,prefix:PREFIXES.NONE['']};UNIT_SYSTEMS.us.MASS={unit:UNITS.lbm,prefix:PREFIXES.NONE['']};UNIT_SYSTEMS.us.TEMPERATURE={unit:UNITS.degF,prefix:PREFIXES.NONE['']};UNIT_SYSTEMS.us.FORCE={unit:UNITS.lbf,prefix:PREFIXES.NONE['']};UNIT_SYSTEMS.us.ENERGY={unit:UNITS.BTU,prefix:PREFIXES.BTU['']};UNIT_SYSTEMS.us.POWER={unit:UNITS.hp,prefix:PREFIXES.NONE['']};UNIT_SYSTEMS.us.PRESSURE={unit:UNITS.psi,prefix:PREFIXES.NONE['']};UNIT_SYSTEMS.auto=JSON.parse(JSON.stringify(UNIT_SYSTEMS.si));var currentUnitSystem=UNIT_SYSTEMS.auto;Unit.setUnitSystem=function(name){if(UNIT_SYSTEMS.hasOwnProperty(name)){currentUnitSystem=UNIT_SYSTEMS[name];}
else{throw new Error('Unit system '+name+' does not exist. Choices are: '+Object.keys(UNIT_SYSTEMS).join(', '));}};Unit.getUnitSystem=function(){for(var key in UNIT_SYSTEMS){if(UNIT_SYSTEMS[key]===currentUnitSystem){return key;}}};Unit.typeConverters={BigNumber:function(x){return new type.BigNumber(x+'');},Fraction:function(x){return new type.Fraction(x);},Complex:function(x){return x;},number:function(x){return x;}};Unit._getNumberConverter=function(type){if(!Unit.typeConverters[type]){throw new TypeError('Unsupported type "'+type+'"');}
return Unit.typeConverters[type];};for(var key in UNITS){var unit=UNITS[key];unit.dimensions=unit.base.dimensions;}
for(var name in ALIASES){if(ALIASES.hasOwnProperty(name)){var unit=UNITS[ALIASES[name]];var alias={};for(var key in unit){if(unit.hasOwnProperty(key)){alias[key]=unit[key];}}
alias.name=name;UNITS[name]=alias;}}
function assertUnitNameIsValid(name){for(var i=0;i<name.length;i++){var c=name.charAt(i);var isValidAlpha=function(p){return /^[a-zA-Z]$/.test(p);};var isDigit=function(c){return(c>='0'&&c<='9');}
if(i===0&&!isValidAlpha(c))
throw new Error('Invalid unit name (must begin with alpha character): "'+name+'"');if(i>0&&!(isValidAlpha(c)||isDigit(c)))
throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+name+'"');}}
Unit.createUnit=function(obj,options){if(typeof(obj)!=='object'){throw new TypeError("createUnit expects first parameter to be of type 'Object'");}
if(options&&options.override){for(var key in obj){if(obj.hasOwnProperty(key)){Unit.deleteUnit(key);}
if(obj[key].aliases){for(var i=0;i<obj[key].aliases.length;i++){Unit.deleteUnit(obj[key].aliases[i]);}}}}
var lastUnit;for(var key in obj){if(obj.hasOwnProperty(key)){lastUnit=Unit.createUnitSingle(key,obj[key]);}}
return lastUnit;};Unit.createUnitSingle=function(name,obj,options){if(typeof(obj)==='undefined'||obj===null){obj={};}
if(typeof(name)!=='string'){throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");}
if(UNITS.hasOwnProperty(name)){throw new Error('Cannot create unit "'+name+'": a unit with that name already exists');}
assertUnitNameIsValid(name);var defUnit=null;var aliases=[];var offset=0;var definition;var prefixes;if(obj&&obj.type==='Unit'){defUnit=obj.clone();}
else if(typeof(obj)==='string'){if(obj!==''){definition=obj;}}
else if(typeof(obj)==='object'){definition=obj.definition;prefixes=obj.prefixes;offset=obj.offset;aliases=obj.aliases;}
else{throw new TypeError('Cannot create unit "'+name+'" from "'+obj.toString()+'": expecting "string" or "Unit" or "Object"');}
if(aliases){for(var i=0;i<aliases.length;i++){if(UNITS.hasOwnProperty(aliases[i])){throw new Error('Cannot create alias "'+aliases[i]+'": a unit with that name already exists');}}}
if(definition&&typeof(definition)==='string'&&!defUnit){try{defUnit=Unit.parse(definition,{allowNoUnits:true});}
catch(ex){ex.message='Could not create unit "'+name+'" from "'+definition+'": '+ex.message;throw(ex);}}
else if(definition&&definition.type==='Unit'){defUnit=definition.clone();}
aliases=aliases||[];offset=offset||0;if(prefixes&&prefixes.toUpperCase)
prefixes=PREFIXES[prefixes.toUpperCase()]||PREFIXES.NONE;else
prefixes=PREFIXES.NONE;var newUnit={};if(!defUnit){var baseName=name+"_STUFF";if(BASE_DIMENSIONS.indexOf(baseName)>=0){throw new Error('Cannot create new base unit "'+name+'": a base unit with that name already exists (and cannot be overridden)');}
BASE_DIMENSIONS.push(baseName);for(var b in BASE_UNITS){if(BASE_UNITS.hasOwnProperty(b)){BASE_UNITS[b].dimensions[BASE_DIMENSIONS.length-1]=0;}}
var newBaseUnit={dimensions:[]};for(var i=0;i<BASE_DIMENSIONS.length;i++){newBaseUnit.dimensions[i]=0;}
newBaseUnit.dimensions[BASE_DIMENSIONS.length-1]=1;newBaseUnit.key=baseName;BASE_UNITS[baseName]=newBaseUnit;newUnit={name:name,value:1,dimensions:BASE_UNITS[baseName].dimensions.slice(0),prefixes:prefixes,offset:offset,base:baseName};currentUnitSystem[baseName]={unit:newUnit,prefix:PREFIXES.NONE['']};}
else{newUnit={name:name,value:defUnit.value,dimensions:defUnit.dimensions.slice(0),prefixes:prefixes,offset:offset,};var anyMatch=false;for(var i in BASE_UNITS){if(BASE_UNITS.hasOwnProperty(i)){var match=true;for(var j=0;j<BASE_DIMENSIONS.length;j++){if(Math.abs((newUnit.dimensions[j]||0)-(BASE_UNITS[i].dimensions[j]||0))>1e-12){match=false;break;}}
if(match){anyMatch=true;break;}}}
if(!anyMatch){var baseName=name+"_STUFF";var newBaseUnit={dimensions:defUnit.dimensions.slice(0)};newBaseUnit.key=baseName;BASE_UNITS[baseName]=newBaseUnit;currentUnitSystem[baseName]={unit:newUnit,prefix:PREFIXES.NONE['']};newUnit.base=baseName;}}
Unit.UNITS[name]=newUnit;for(var i=0;i<aliases.length;i++){var aliasName=aliases[i];var alias={};for(var key in newUnit){if(newUnit.hasOwnProperty(key)){alias[key]=newUnit[key];}}
alias.name=aliasName;Unit.UNITS[aliasName]=alias;}
return new Unit(null,name);};Unit.deleteUnit=function(name){delete Unit.UNITS[name];};Unit.PREFIXES=PREFIXES;Unit.BASE_UNITS=BASE_UNITS;Unit.UNITS=UNITS;Unit.UNIT_SYSTEMS=UNIT_SYSTEMS;return Unit;}
exports.name='Unit';exports.path='type';exports.factory=factory;exports.math=true;}),(function(module,exports,__webpack_require__){var memoize=__webpack_require__(42).memoize;exports.e=memoize(function(BigNumber){return new BigNumber(1).exp();},hasher);exports.phi=memoize(function(BigNumber){return new BigNumber(1).plus(new BigNumber(5).sqrt()).div(2);},hasher);exports.pi=memoize(function(BigNumber){return pi=BigNumber.acos(-1);},hasher);exports.tau=memoize(function(BigNumber){return exports.pi(BigNumber).times(2);},hasher);function hasher(args){return args[0].precision;}}),(function(module,exports,__webpack_require__){var Emitter=__webpack_require__(710);exports.mixin=function(obj){var emitter=new Emitter();obj.on=emitter.on.bind(emitter);obj.off=emitter.off.bind(emitter);obj.once=emitter.once.bind(emitter);obj.emit=emitter.emit.bind(emitter);return obj;};}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,'__esModule',{value:true});var _createClass=(function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if('value'in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};})();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function');}}
var MiniSignalBinding=(function(){function MiniSignalBinding(fn,once,thisArg){if(once===undefined)once=false;_classCallCheck(this,MiniSignalBinding);this._fn=fn;this._once=once;this._thisArg=thisArg;this._next=this._prev=this._owner=null;}
_createClass(MiniSignalBinding,[{key:'detach',value:function detach(){if(this._owner===null)return false;this._owner.detach(this);return true;}}]);return MiniSignalBinding;})();function _addMiniSignalBinding(self,node){if(!self._head){self._head=node;self._tail=node;}else{self._tail._next=node;node._prev=self._tail;self._tail=node;}
node._owner=self;return node;}
var MiniSignal=(function(){function MiniSignal(){_classCallCheck(this,MiniSignal);this._head=this._tail=undefined;}
_createClass(MiniSignal,[{key:'handlers',value:function handlers(){var exists=arguments.length<=0||arguments[0]===undefined?false:arguments[0];var node=this._head;if(exists)return!!node;var ee=[];while(node){ee.push(node);node=node._next;}
return ee;}},{key:'has',value:function has(node){if(!(node instanceof MiniSignalBinding)){throw new Error('MiniSignal#has(): First arg must be a MiniSignalBinding object.');}
return node._owner===this;}},{key:'dispatch',value:function dispatch(){var node=this._head;if(!node)return false;while(node){if(node._once)this.detach(node);node._fn.apply(node._thisArg,arguments);node=node._next;}
return true;}},{key:'add',value:function add(fn){var thisArg=arguments.length<=1||arguments[1]===undefined?null:arguments[1];if(typeof fn!=='function'){throw new Error('MiniSignal#add(): First arg must be a Function.');}
return _addMiniSignalBinding(this,new MiniSignalBinding(fn,false,thisArg));}},{key:'once',value:function once(fn){var thisArg=arguments.length<=1||arguments[1]===undefined?null:arguments[1];if(typeof fn!=='function'){throw new Error('MiniSignal#once(): First arg must be a Function.');}
return _addMiniSignalBinding(this,new MiniSignalBinding(fn,true,thisArg));}},{key:'detach',value:function detach(node){if(!(node instanceof MiniSignalBinding)){throw new Error('MiniSignal#detach(): First arg must be a MiniSignalBinding object.');}
if(node._owner!==this)return this;if(node._prev)node._prev._next=node._next;if(node._next)node._next._prev=node._prev;if(node===this._head){this._head=node._next;if(node._next===null){this._tail=null;}}else if(node===this._tail){this._tail=node._prev;this._tail._next=null;}
node._owner=null;return this;}},{key:'detachAll',value:function detachAll(){var node=this._head;if(!node)return this;this._head=this._tail=null;while(node){node._owner=null;node=node._next;}
return this;}}]);return MiniSignal;})();MiniSignal.MiniSignalBinding=MiniSignalBinding;exports['default']=MiniSignal;module.exports=exports['default'];}),(function(module,exports,__webpack_require__){"use strict";module.exports=function parseURI(str,opts){opts=opts||{}
var o={key:['source','protocol','authority','userInfo','user','password','host','port','relative','path','directory','file','query','anchor'],q:{name:'queryKey',parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}}
var m=o.parser[opts.strictMode?'strict':'loose'].exec(str)
var uri={}
var i=14
while(i--)uri[o.key[i]]=m[i]||''
uri[o.q.name]={}
uri[o.key[12]].replace(o.q.parser,function($0,$1,$2){if($1)uri[o.q.name][$1]=$2})
return uri}}),(function(module,exports){var Texture=function(gl,width,height,format,type)
{this.gl=gl;this.texture=gl.createTexture();this.mipmap=false;this.premultiplyAlpha=false;this.width=width||-1;this.height=height||-1;this.format=format||gl.RGBA;this.type=type||gl.UNSIGNED_BYTE;};Texture.prototype.upload=function(source)
{this.bind();var gl=this.gl;gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var newWidth=source.videoWidth||source.width;var newHeight=source.videoHeight||source.height;if(newHeight!==this.height||newWidth!==this.width)
{gl.texImage2D(gl.TEXTURE_2D,0,this.format,this.format,this.type,source);}
else
{gl.texSubImage2D(gl.TEXTURE_2D,0,0,0,this.format,this.type,source);}
this.width=newWidth;this.height=newHeight;};var FLOATING_POINT_AVAILABLE=false;Texture.prototype.uploadData=function(data,width,height)
{this.bind();var gl=this.gl;if(data instanceof Float32Array)
{if(!FLOATING_POINT_AVAILABLE)
{var ext=gl.getExtension("OES_texture_float");if(ext)
{FLOATING_POINT_AVAILABLE=true;}
else
{throw new Error('floating point textures not available');}}
this.type=gl.FLOAT;}
else
{this.type=this.type||gl.UNSIGNED_BYTE;}
gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);if(width!==this.width||height!==this.height)
{gl.texImage2D(gl.TEXTURE_2D,0,this.format,width,height,0,this.format,this.type,data||null);}
else
{gl.texSubImage2D(gl.TEXTURE_2D,0,0,0,width,height,this.format,this.type,data||null);}
this.width=width;this.height=height;};Texture.prototype.bind=function(location)
{var gl=this.gl;if(location!==undefined)
{gl.activeTexture(gl.TEXTURE0+location);}
gl.bindTexture(gl.TEXTURE_2D,this.texture);};Texture.prototype.unbind=function()
{var gl=this.gl;gl.bindTexture(gl.TEXTURE_2D,null);};Texture.prototype.minFilter=function(linear)
{var gl=this.gl;this.bind();if(this.mipmap)
{gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,linear?gl.LINEAR_MIPMAP_LINEAR:gl.NEAREST_MIPMAP_NEAREST);}
else
{gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,linear?gl.LINEAR:gl.NEAREST);}};Texture.prototype.magFilter=function(linear)
{var gl=this.gl;this.bind();gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,linear?gl.LINEAR:gl.NEAREST);};Texture.prototype.enableMipmap=function()
{var gl=this.gl;this.bind();this.mipmap=true;gl.generateMipmap(gl.TEXTURE_2D);};Texture.prototype.enableLinearScaling=function()
{this.minFilter(true);this.magFilter(true);};Texture.prototype.enableNearestScaling=function()
{this.minFilter(false);this.magFilter(false);};Texture.prototype.enableWrapClamp=function()
{var gl=this.gl;this.bind();gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,gl.CLAMP_TO_EDGE);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,gl.CLAMP_TO_EDGE);};Texture.prototype.enableWrapRepeat=function()
{var gl=this.gl;this.bind();gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,gl.REPEAT);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,gl.REPEAT);};Texture.prototype.enableWrapMirrorRepeat=function()
{var gl=this.gl;this.bind();gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,gl.MIRRORED_REPEAT);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,gl.MIRRORED_REPEAT);};Texture.prototype.destroy=function()
{var gl=this.gl;gl.deleteTexture(this.texture);};Texture.fromSource=function(gl,source,premultiplyAlpha)
{var texture=new Texture(gl);texture.premultiplyAlpha=premultiplyAlpha||false;texture.upload(source);return texture;};Texture.fromData=function(gl,data,width,height)
{var texture=new Texture(gl);texture.uploadData(data,width,height);return texture;};module.exports=Texture;}),(function(module,exports){var setVertexAttribArrays=function(gl,attribs,state)
{var i;if(state)
{var tempAttribState=state.tempAttribState,attribState=state.attribState;for(i=0;i<tempAttribState.length;i++)
{tempAttribState[i]=false;}
for(i=0;i<attribs.length;i++)
{tempAttribState[attribs[i].attribute.location]=true;}
for(i=0;i<attribState.length;i++)
{if(attribState[i]!==tempAttribState[i])
{attribState[i]=tempAttribState[i];if(state.attribState[i])
{gl.enableVertexAttribArray(i);}
else
{gl.disableVertexAttribArray(i);}}}}
else
{for(i=0;i<attribs.length;i++)
{var attrib=attribs[i];gl.enableVertexAttribArray(attrib.attribute.location);}}};module.exports=setVertexAttribArrays;}),(function(module,exports){var compileProgram=function(gl,vertexSrc,fragmentSrc,attributeLocations)
{var glVertShader=compileShader(gl,gl.VERTEX_SHADER,vertexSrc);var glFragShader=compileShader(gl,gl.FRAGMENT_SHADER,fragmentSrc);var program=gl.createProgram();gl.attachShader(program,glVertShader);gl.attachShader(program,glFragShader);if(attributeLocations)
{for(var i in attributeLocations)
{gl.bindAttribLocation(program,attributeLocations[i],i);}}
gl.linkProgram(program);if(!gl.getProgramParameter(program,gl.LINK_STATUS))
{console.error('Pixi.js Error: Could not initialize shader.');console.error('gl.VALIDATE_STATUS',gl.getProgramParameter(program,gl.VALIDATE_STATUS));console.error('gl.getError()',gl.getError());if(gl.getProgramInfoLog(program)!=='')
{console.warn('Pixi.js Warning: gl.getProgramInfoLog()',gl.getProgramInfoLog(program));}
gl.deleteProgram(program);program=null;}
gl.deleteShader(glVertShader);gl.deleteShader(glFragShader);return program;};var compileShader=function(gl,type,src)
{var shader=gl.createShader(type);gl.shaderSource(shader,src);gl.compileShader(shader);if(!gl.getShaderParameter(shader,gl.COMPILE_STATUS))
{console.log(gl.getShaderInfoLog(shader));return null;}
return shader;};module.exports=compileProgram;}),(function(module,exports){var defaultValue=function(type,size)
{switch(type)
{case'float':return 0;case'vec2':return new Float32Array(2*size);case'vec3':return new Float32Array(3*size);case'vec4':return new Float32Array(4*size);case'int':case'sampler2D':return 0;case'ivec2':return new Int32Array(2*size);case'ivec3':return new Int32Array(3*size);case'ivec4':return new Int32Array(4*size);case'bool':return false;case'bvec2':return booleanArray(2*size);case'bvec3':return booleanArray(3*size);case'bvec4':return booleanArray(4*size);case'mat2':return new Float32Array([1,0,0,1]);case'mat3':return new Float32Array([1,0,0,0,1,0,0,0,1]);case'mat4':return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);}};var booleanArray=function(size)
{var array=new Array(size);for(var i=0;i<array.length;i++)
{array[i]=false;}
return array;};module.exports=defaultValue;}),(function(module,exports,__webpack_require__){var mapType=__webpack_require__(106);var mapSize=__webpack_require__(187);var extractAttributes=function(gl,program)
{var attributes={};var totalAttributes=gl.getProgramParameter(program,gl.ACTIVE_ATTRIBUTES);for(var i=0;i<totalAttributes;i++)
{var attribData=gl.getActiveAttrib(program,i);var type=mapType(gl,attribData.type);attributes[attribData.name]={type:type,size:mapSize(type),location:gl.getAttribLocation(program,attribData.name),pointer:pointer};}
return attributes;};var pointer=function(type,normalized,stride,start){gl.vertexAttribPointer(this.location,this.size,type||gl.FLOAT,normalized||false,stride||0,start||0);};module.exports=extractAttributes;}),(function(module,exports,__webpack_require__){var mapType=__webpack_require__(106);var defaultValue=__webpack_require__(183);var extractUniforms=function(gl,program)
{var uniforms={};var totalUniforms=gl.getProgramParameter(program,gl.ACTIVE_UNIFORMS);for(var i=0;i<totalUniforms;i++)
{var uniformData=gl.getActiveUniform(program,i);var name=uniformData.name.replace(/\[.*?\]/,"");var type=mapType(gl,uniformData.type);uniforms[name]={type:type,size:uniformData.size,location:gl.getUniformLocation(program,name),value:defaultValue(type,uniformData.size)};}
return uniforms;};module.exports=extractUniforms;}),(function(module,exports){var generateUniformAccessObject=function(gl,uniformData)
{var uniforms={data:{}};uniforms.gl=gl;var uniformKeys=Object.keys(uniformData);for(var i=0;i<uniformKeys.length;i++)
{var fullName=uniformKeys[i];var nameTokens=fullName.split('.');var name=nameTokens[nameTokens.length-1];var uniformGroup=getUniformGroup(nameTokens,uniforms);var uniform=uniformData[fullName];uniformGroup.data[name]=uniform;uniformGroup.gl=gl;Object.defineProperty(uniformGroup,name,{get:generateGetter(name),set:generateSetter(name,uniform)});}
return uniforms;};var generateGetter=function(name)
{var template=getterTemplate.replace('%%',name);return new Function(template);};var generateSetter=function(name,uniform)
{var template=setterTemplate.replace(/%%/g,name);var setTemplate;if(uniform.size===1)
{setTemplate=GLSL_TO_SINGLE_SETTERS[uniform.type];}
else
{setTemplate=GLSL_TO_ARRAY_SETTERS[uniform.type];}
if(setTemplate)
{template+="\nthis.gl."+setTemplate+";";}
return new Function('value',template);};var getUniformGroup=function(nameTokens,uniform)
{var cur=uniform;for(var i=0;i<nameTokens.length-1;i++)
{var o=cur[nameTokens[i]]||{data:{}};cur[nameTokens[i]]=o;cur=o;}
return cur;};var getterTemplate=['return this.data.%%.value;',].join('\n');var setterTemplate=['this.data.%%.value = value;','var location = this.data.%%.location;'].join('\n');var GLSL_TO_SINGLE_SETTERS={'float':'uniform1f(location, value)','vec2':'uniform2f(location, value[0], value[1])','vec3':'uniform3f(location, value[0], value[1], value[2])','vec4':'uniform4f(location, value[0], value[1], value[2], value[3])','int':'uniform1i(location, value)','ivec2':'uniform2i(location, value[0], value[1])','ivec3':'uniform3i(location, value[0], value[1], value[2])','ivec4':'uniform4i(location, value[0], value[1], value[2], value[3])','bool':'uniform1i(location, value)','bvec2':'uniform2i(location, value[0], value[1])','bvec3':'uniform3i(location, value[0], value[1], value[2])','bvec4':'uniform4i(location, value[0], value[1], value[2], value[3])','mat2':'uniformMatrix2fv(location, false, value)','mat3':'uniformMatrix3fv(location, false, value)','mat4':'uniformMatrix4fv(location, false, value)','sampler2D':'uniform1i(location, value)'};var GLSL_TO_ARRAY_SETTERS={'float':'uniform1fv(location, value)','vec2':'uniform2fv(location, value)','vec3':'uniform3fv(location, value)','vec4':'uniform4fv(location, value)','int':'uniform1iv(location, value)','ivec2':'uniform2iv(location, value)','ivec3':'uniform3iv(location, value)','ivec4':'uniform4iv(location, value)','bool':'uniform1iv(location, value)','bvec2':'uniform2iv(location, value)','bvec3':'uniform3iv(location, value)','bvec4':'uniform4iv(location, value)','sampler2D':'uniform1iv(location, value)'};module.exports=generateUniformAccessObject;}),(function(module,exports){var mapSize=function(type)
{return GLSL_TO_SIZE[type];};var GLSL_TO_SIZE={'float':1,'vec2':2,'vec3':3,'vec4':4,'int':1,'ivec2':2,'ivec3':3,'ivec4':4,'bool':1,'bvec2':2,'bvec3':3,'bvec4':4,'mat2':4,'mat3':9,'mat4':16,'sampler2D':1};module.exports=mapSize;}),(function(module,exports){var setPrecision=function(src,precision)
{if(src.substring(0,9)!=='precision')
{return'precision '+precision+' float;\n'+src;}
return src;};module.exports=setPrecision;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.default={accessible:false,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:false,_accessibleDiv:false};}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.autoDetectRenderer=autoDetectRenderer;var _utils=__webpack_require__(10);var utils=_interopRequireWildcard(_utils);var _CanvasRenderer=__webpack_require__(62);var _CanvasRenderer2=_interopRequireDefault(_CanvasRenderer);var _WebGLRenderer=__webpack_require__(84);var _WebGLRenderer2=_interopRequireDefault(_WebGLRenderer);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function autoDetectRenderer(){var width=arguments.length>0&&arguments[0]!==undefined?arguments[0]:800;var height=arguments.length>1&&arguments[1]!==undefined?arguments[1]:600;var options=arguments[2];var noWebGL=arguments[3];if(!noWebGL&&utils.isWebGLSupported()){return new _WebGLRenderer2.default(width,height,options);}
return new _CanvasRenderer2.default(width,height,options);}}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _eventemitter=__webpack_require__(32);var _eventemitter2=_interopRequireDefault(_eventemitter);var _const=__webpack_require__(8);var _settings=__webpack_require__(19);var _settings2=_interopRequireDefault(_settings);var _TransformStatic=__webpack_require__(193);var _TransformStatic2=_interopRequireDefault(_TransformStatic);var _Transform=__webpack_require__(192);var _Transform2=_interopRequireDefault(_Transform);var _Bounds=__webpack_require__(107);var _Bounds2=_interopRequireDefault(_Bounds);var _math=__webpack_require__(14);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var DisplayObject=function(_EventEmitter){_inherits(DisplayObject,_EventEmitter);function DisplayObject(){_classCallCheck(this,DisplayObject);var _this=_possibleConstructorReturn(this,_EventEmitter.call(this));var TransformClass=_settings2.default.TRANSFORM_MODE===_const.TRANSFORM_MODE.STATIC?_TransformStatic2.default:_Transform2.default;_this.tempDisplayObjectParent=null;_this.transform=new TransformClass();_this.alpha=1;_this.visible=true;_this.renderable=true;_this.parent=null;_this.worldAlpha=1;_this.filterArea=null;_this._filters=null;_this._enabledFilters=null;_this._bounds=new _Bounds2.default();_this._boundsID=0;_this._lastBoundsID=-1;_this._boundsRect=null;_this._localBoundsRect=null;_this._mask=null;return _this;}
DisplayObject.prototype.updateTransform=function updateTransform(){this.transform.updateTransform(this.parent.transform);this.worldAlpha=this.alpha*this.parent.worldAlpha;this._bounds.updateID++;};DisplayObject.prototype._recursivePostUpdateTransform=function _recursivePostUpdateTransform(){if(this.parent){this.parent._recursivePostUpdateTransform();this.transform.updateTransform(this.parent.transform);}else{this.transform.updateTransform(this._tempDisplayObjectParent.transform);}};DisplayObject.prototype.getBounds=function getBounds(skipUpdate,rect){if(!skipUpdate){if(!this.parent){this.parent=this._tempDisplayObjectParent;this.updateTransform();this.parent=null;}else{this._recursivePostUpdateTransform();this.updateTransform();}}
if(this._boundsID!==this._lastBoundsID){this.calculateBounds();}
if(!rect){if(!this._boundsRect){this._boundsRect=new _math.Rectangle();}
rect=this._boundsRect;}
return this._bounds.getRectangle(rect);};DisplayObject.prototype.getLocalBounds=function getLocalBounds(rect){var transformRef=this.transform;var parentRef=this.parent;this.parent=null;this.transform=this._tempDisplayObjectParent.transform;if(!rect){if(!this._localBoundsRect){this._localBoundsRect=new _math.Rectangle();}
rect=this._localBoundsRect;}
var bounds=this.getBounds(false,rect);this.parent=parentRef;this.transform=transformRef;return bounds;};DisplayObject.prototype.toGlobal=function toGlobal(position,point){var skipUpdate=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!skipUpdate){this._recursivePostUpdateTransform();if(!this.parent){this.parent=this._tempDisplayObjectParent;this.displayObjectUpdateTransform();this.parent=null;}else{this.displayObjectUpdateTransform();}}
return this.worldTransform.apply(position,point);};DisplayObject.prototype.toLocal=function toLocal(position,from,point,skipUpdate){if(from){position=from.toGlobal(position,point,skipUpdate);}
if(!skipUpdate){this._recursivePostUpdateTransform();if(!this.parent){this.parent=this._tempDisplayObjectParent;this.displayObjectUpdateTransform();this.parent=null;}else{this.displayObjectUpdateTransform();}}
return this.worldTransform.applyInverse(position,point);};DisplayObject.prototype.renderWebGL=function renderWebGL(renderer)
{};DisplayObject.prototype.renderCanvas=function renderCanvas(renderer)
{};DisplayObject.prototype.setParent=function setParent(container){if(!container||!container.addChild){throw new Error('setParent: Argument must be a Container');}
container.addChild(this);return container;};DisplayObject.prototype.setTransform=function setTransform(){var x=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var y=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var scaleX=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var scaleY=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;var rotation=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;var skewX=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;var skewY=arguments.length>6&&arguments[6]!==undefined?arguments[6]:0;var pivotX=arguments.length>7&&arguments[7]!==undefined?arguments[7]:0;var pivotY=arguments.length>8&&arguments[8]!==undefined?arguments[8]:0;this.position.x=x;this.position.y=y;this.scale.x=!scaleX?1:scaleX;this.scale.y=!scaleY?1:scaleY;this.rotation=rotation;this.skew.x=skewX;this.skew.y=skewY;this.pivot.x=pivotX;this.pivot.y=pivotY;return this;};DisplayObject.prototype.destroy=function destroy(){this.removeAllListeners();if(this.parent){this.parent.removeChild(this);}
this.transform=null;this.parent=null;this._bounds=null;this._currentBounds=null;this._mask=null;this.filterArea=null;this.interactive=false;this.interactiveChildren=false;};_createClass(DisplayObject,[{key:'_tempDisplayObjectParent',get:function get(){if(this.tempDisplayObjectParent===null){this.tempDisplayObjectParent=new DisplayObject();}
return this.tempDisplayObjectParent;}},{key:'x',get:function get(){return this.position.x;},set:function set(value)
{this.transform.position.x=value;}},{key:'y',get:function get(){return this.position.y;},set:function set(value)
{this.transform.position.y=value;}},{key:'worldTransform',get:function get(){return this.transform.worldTransform;}},{key:'localTransform',get:function get(){return this.transform.localTransform;}},{key:'position',get:function get(){return this.transform.position;},set:function set(value)
{this.transform.position.copy(value);}},{key:'scale',get:function get(){return this.transform.scale;},set:function set(value)
{this.transform.scale.copy(value);}},{key:'pivot',get:function get(){return this.transform.pivot;},set:function set(value)
{this.transform.pivot.copy(value);}},{key:'skew',get:function get(){return this.transform.skew;},set:function set(value)
{this.transform.skew.copy(value);}},{key:'rotation',get:function get(){return this.transform.rotation;},set:function set(value)
{this.transform.rotation=value;}},{key:'worldVisible',get:function get(){var item=this;do{if(!item.visible){return false;}
item=item.parent;}while(item);return true;}},{key:'mask',get:function get(){return this._mask;},set:function set(value)
{if(this._mask){this._mask.renderable=true;}
this._mask=value;if(this._mask){this._mask.renderable=false;}}},{key:'filters',get:function get(){return this._filters&&this._filters.slice();},set:function set(value)
{this._filters=value&&value.slice();}}]);return DisplayObject;}(_eventemitter2.default);exports.default=DisplayObject;DisplayObject.prototype.displayObjectUpdateTransform=DisplayObject.prototype.updateTransform;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _math=__webpack_require__(14);var _TransformBase2=__webpack_require__(108);var _TransformBase3=_interopRequireDefault(_TransformBase2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var Transform=function(_TransformBase){_inherits(Transform,_TransformBase);function Transform(){_classCallCheck(this,Transform);var _this=_possibleConstructorReturn(this,_TransformBase.call(this));_this.position=new _math.Point(0,0);_this.scale=new _math.Point(1,1);_this.skew=new _math.ObservablePoint(_this.updateSkew,_this,0,0);_this.pivot=new _math.Point(0,0);_this._rotation=0;_this._cx=1;_this._sx=0;_this._cy=0;_this._sy=1;return _this;}
Transform.prototype.updateSkew=function updateSkew(){this._cx=Math.cos(this._rotation+this.skew._y);this._sx=Math.sin(this._rotation+this.skew._y);this._cy=-Math.sin(this._rotation-this.skew._x);this._sy=Math.cos(this._rotation-this.skew._x);};Transform.prototype.updateLocalTransform=function updateLocalTransform(){var lt=this.localTransform;lt.a=this._cx*this.scale.x;lt.b=this._sx*this.scale.x;lt.c=this._cy*this.scale.y;lt.d=this._sy*this.scale.y;lt.tx=this.position.x-(this.pivot.x*lt.a+this.pivot.y*lt.c);lt.ty=this.position.y-(this.pivot.x*lt.b+this.pivot.y*lt.d);};Transform.prototype.updateTransform=function updateTransform(parentTransform){var lt=this.localTransform;lt.a=this._cx*this.scale.x;lt.b=this._sx*this.scale.x;lt.c=this._cy*this.scale.y;lt.d=this._sy*this.scale.y;lt.tx=this.position.x-(this.pivot.x*lt.a+this.pivot.y*lt.c);lt.ty=this.position.y-(this.pivot.x*lt.b+this.pivot.y*lt.d);var pt=parentTransform.worldTransform;var wt=this.worldTransform;wt.a=lt.a*pt.a+lt.b*pt.c;wt.b=lt.a*pt.b+lt.b*pt.d;wt.c=lt.c*pt.a+lt.d*pt.c;wt.d=lt.c*pt.b+lt.d*pt.d;wt.tx=lt.tx*pt.a+lt.ty*pt.c+pt.tx;wt.ty=lt.tx*pt.b+lt.ty*pt.d+pt.ty;this._worldID++;};Transform.prototype.setFromMatrix=function setFromMatrix(matrix){matrix.decompose(this);};_createClass(Transform,[{key:'rotation',get:function get(){return this._rotation;},set:function set(value)
{this._rotation=value;this.updateSkew();}}]);return Transform;}(_TransformBase3.default);exports.default=Transform;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _math=__webpack_require__(14);var _TransformBase2=__webpack_require__(108);var _TransformBase3=_interopRequireDefault(_TransformBase2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var TransformStatic=function(_TransformBase){_inherits(TransformStatic,_TransformBase);function TransformStatic(){_classCallCheck(this,TransformStatic);var _this=_possibleConstructorReturn(this,_TransformBase.call(this));_this.position=new _math.ObservablePoint(_this.onChange,_this,0,0);_this.scale=new _math.ObservablePoint(_this.onChange,_this,1,1);_this.pivot=new _math.ObservablePoint(_this.onChange,_this,0,0);_this.skew=new _math.ObservablePoint(_this.updateSkew,_this,0,0);_this._rotation=0;_this._cx=1;_this._sx=0;_this._cy=0;_this._sy=1;_this._localID=0;_this._currentLocalID=0;return _this;}
TransformStatic.prototype.onChange=function onChange(){this._localID++;};TransformStatic.prototype.updateSkew=function updateSkew(){this._cx=Math.cos(this._rotation+this.skew._y);this._sx=Math.sin(this._rotation+this.skew._y);this._cy=-Math.sin(this._rotation-this.skew._x);this._sy=Math.cos(this._rotation-this.skew._x);this._localID++;};TransformStatic.prototype.updateLocalTransform=function updateLocalTransform(){var lt=this.localTransform;if(this._localID!==this._currentLocalID){lt.a=this._cx*this.scale._x;lt.b=this._sx*this.scale._x;lt.c=this._cy*this.scale._y;lt.d=this._sy*this.scale._y;lt.tx=this.position._x-(this.pivot._x*lt.a+this.pivot._y*lt.c);lt.ty=this.position._y-(this.pivot._x*lt.b+this.pivot._y*lt.d);this._currentLocalID=this._localID;this._parentID=-1;}};TransformStatic.prototype.updateTransform=function updateTransform(parentTransform){var lt=this.localTransform;if(this._localID!==this._currentLocalID){lt.a=this._cx*this.scale._x;lt.b=this._sx*this.scale._x;lt.c=this._cy*this.scale._y;lt.d=this._sy*this.scale._y;lt.tx=this.position._x-(this.pivot._x*lt.a+this.pivot._y*lt.c);lt.ty=this.position._y-(this.pivot._x*lt.b+this.pivot._y*lt.d);this._currentLocalID=this._localID;this._parentID=-1;}
if(this._parentID!==parentTransform._worldID){var pt=parentTransform.worldTransform;var wt=this.worldTransform;wt.a=lt.a*pt.a+lt.b*pt.c;wt.b=lt.a*pt.b+lt.b*pt.d;wt.c=lt.c*pt.a+lt.d*pt.c;wt.d=lt.c*pt.b+lt.d*pt.d;wt.tx=lt.tx*pt.a+lt.ty*pt.c+pt.tx;wt.ty=lt.tx*pt.b+lt.ty*pt.d+pt.ty;this._parentID=parentTransform._worldID;this._worldID++;}};TransformStatic.prototype.setFromMatrix=function setFromMatrix(matrix){matrix.decompose(this);this._localID++;};_createClass(TransformStatic,[{key:'rotation',get:function get(){return this._rotation;},set:function set(value)
{this._rotation=value;this.updateSkew();}}]);return TransformStatic;}(_TransformBase3.default);exports.default=TransformStatic;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var GraphicsData=function(){function GraphicsData(lineWidth,lineColor,lineAlpha,fillColor,fillAlpha,fill,nativeLines,shape){_classCallCheck(this,GraphicsData);this.lineWidth=lineWidth;this.nativeLines=nativeLines;this.lineColor=lineColor;this.lineAlpha=lineAlpha;this._lineTint=lineColor;this.fillColor=fillColor;this.fillAlpha=fillAlpha;this._fillTint=fillColor;this.fill=fill;this.holes=[];this.shape=shape;this.type=shape.type;}
GraphicsData.prototype.clone=function clone(){return new GraphicsData(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape);};GraphicsData.prototype.addHole=function addHole(shape){this.holes.push(shape);};GraphicsData.prototype.destroy=function destroy(){this.shape=null;this.holes=null;};return GraphicsData;}();exports.default=GraphicsData;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _Matrix=__webpack_require__(109);var _Matrix2=_interopRequireDefault(_Matrix);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var ux=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1];var uy=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1];var vx=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1];var vy=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1];var tempMatrices=[];var mul=[];function signum(x){if(x<0){return-1;}
if(x>0){return 1;}
return 0;}
function init(){for(var i=0;i<16;i++){var row=[];mul.push(row);for(var j=0;j<16;j++){var _ux=signum(ux[i]*ux[j]+vx[i]*uy[j]);var _uy=signum(uy[i]*ux[j]+vy[i]*uy[j]);var _vx=signum(ux[i]*vx[j]+vx[i]*vy[j]);var _vy=signum(uy[i]*vx[j]+vy[i]*vy[j]);for(var k=0;k<16;k++){if(ux[k]===_ux&&uy[k]===_uy&&vx[k]===_vx&&vy[k]===_vy){row.push(k);break;}}}}
for(var _i=0;_i<16;_i++){var mat=new _Matrix2.default();mat.set(ux[_i],uy[_i],vx[_i],vy[_i],0,0);tempMatrices.push(mat);}}
init();var GroupD8={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function uX(ind){return ux[ind];},uY:function uY(ind){return uy[ind];},vX:function vX(ind){return vx[ind];},vY:function vY(ind){return vy[ind];},inv:function inv(rotation){if(rotation&8){return rotation&15;}
return-rotation&7;},add:function add(rotationSecond,rotationFirst){return mul[rotationSecond][rotationFirst];},sub:function sub(rotationSecond,rotationFirst){return mul[rotationSecond][GroupD8.inv(rotationFirst)];},rotate180:function rotate180(rotation){return rotation^4;},isSwapWidthHeight:function isSwapWidthHeight(rotation){return(rotation&3)===2;},byDirection:function byDirection(dx,dy){if(Math.abs(dx)*2<=Math.abs(dy)){if(dy>=0){return GroupD8.S;}
return GroupD8.N;}else if(Math.abs(dy)*2<=Math.abs(dx)){if(dx>0){return GroupD8.E;}
return GroupD8.W;}else if(dy>0){if(dx>0){return GroupD8.SE;}
return GroupD8.SW;}else if(dx>0){return GroupD8.NE;}
return GroupD8.NW;},matrixAppendRotationInv:function matrixAppendRotationInv(matrix,rotation){var tx=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var ty=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var mat=tempMatrices[GroupD8.inv(rotation)];mat.tx=tx;mat.ty=ty;matrix.append(mat);}};exports.default=GroupD8;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var ObservablePoint=function(){function ObservablePoint(cb,scope){var x=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var y=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;_classCallCheck(this,ObservablePoint);this._x=x;this._y=y;this.cb=cb;this.scope=scope;}
ObservablePoint.prototype.set=function set(x,y){var _x=x||0;var _y=y||(y!==0?_x:0);if(this._x!==_x||this._y!==_y){this._x=_x;this._y=_y;this.cb.call(this.scope);}};ObservablePoint.prototype.copy=function copy(point){if(this._x!==point.x||this._y!==point.y){this._x=point.x;this._y=point.y;this.cb.call(this.scope);}};_createClass(ObservablePoint,[{key:"x",get:function get(){return this._x;},set:function set(value)
{if(this._x!==value){this._x=value;this.cb.call(this.scope);}}},{key:"y",get:function get(){return this._y;},set:function set(value)
{if(this._y!==value){this._y=value;this.cb.call(this.scope);}}}]);return ObservablePoint;}();exports.default=ObservablePoint;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _utils=__webpack_require__(10);var _math=__webpack_require__(14);var _const=__webpack_require__(8);var _settings=__webpack_require__(19);var _settings2=_interopRequireDefault(_settings);var _Container=__webpack_require__(61);var _Container2=_interopRequireDefault(_Container);var _RenderTexture=__webpack_require__(114);var _RenderTexture2=_interopRequireDefault(_RenderTexture);var _eventemitter=__webpack_require__(32);var _eventemitter2=_interopRequireDefault(_eventemitter);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var tempMatrix=new _math.Matrix();var SystemRenderer=function(_EventEmitter){_inherits(SystemRenderer,_EventEmitter);function SystemRenderer(system,screenWidth,screenHeight,options){_classCallCheck(this,SystemRenderer);var _this=_possibleConstructorReturn(this,_EventEmitter.call(this));(0,_utils.sayHello)(system);if(options){for(var i in _settings2.default.RENDER_OPTIONS){if(typeof options[i]==='undefined'){options[i]=_settings2.default.RENDER_OPTIONS[i];}}}else{options=_settings2.default.RENDER_OPTIONS;}
_this.type=_const.RENDERER_TYPE.UNKNOWN;_this.screen=new _math.Rectangle(0,0,screenWidth||800,screenHeight||600);_this.view=options.view||document.createElement('canvas');_this.resolution=options.resolution||_settings2.default.RESOLUTION;_this.transparent=options.transparent;_this.autoResize=options.autoResize||false;_this.blendModes=null;_this.preserveDrawingBuffer=options.preserveDrawingBuffer;_this.clearBeforeRender=options.clearBeforeRender;_this.roundPixels=options.roundPixels;_this._backgroundColor=0x000000;_this._backgroundColorRgba=[0,0,0,0];_this._backgroundColorString='#000000';_this.backgroundColor=options.backgroundColor||_this._backgroundColor;_this._tempDisplayObjectParent=new _Container2.default();_this._lastObjectRendered=_this._tempDisplayObjectParent;return _this;}
SystemRenderer.prototype.resize=function resize(screenWidth,screenHeight){this.screen.width=screenWidth;this.screen.height=screenHeight;this.view.width=screenWidth*this.resolution;this.view.height=screenHeight*this.resolution;if(this.autoResize){this.view.style.width=screenWidth+'px';this.view.style.height=screenHeight+'px';}};SystemRenderer.prototype.generateTexture=function generateTexture(displayObject,scaleMode,resolution){var bounds=displayObject.getLocalBounds();var renderTexture=_RenderTexture2.default.create(bounds.width|0,bounds.height|0,scaleMode,resolution);tempMatrix.tx=-bounds.x;tempMatrix.ty=-bounds.y;this.render(displayObject,renderTexture,false,tempMatrix,true);return renderTexture;};SystemRenderer.prototype.destroy=function destroy(removeView){if(removeView&&this.view.parentNode){this.view.parentNode.removeChild(this.view);}
this.type=_const.RENDERER_TYPE.UNKNOWN;this.view=null;this.screen=null;this.resolution=0;this.transparent=false;this.autoResize=false;this.blendModes=null;this.preserveDrawingBuffer=false;this.clearBeforeRender=false;this.roundPixels=false;this._backgroundColor=0;this._backgroundColorRgba=null;this._backgroundColorString=null;this.backgroundColor=0;this._tempDisplayObjectParent=null;this._lastObjectRendered=null;};_createClass(SystemRenderer,[{key:'width',get:function get(){return this.view.width;}},{key:'height',get:function get(){return this.view.height;}},{key:'backgroundColor',get:function get(){return this._backgroundColor;},set:function set(value)
{this._backgroundColor=value;this._backgroundColorString=(0,_utils.hex2string)(value);(0,_utils.hex2rgb)(value,this._backgroundColorRgba);}}]);return SystemRenderer;}(_eventemitter2.default);exports.default=SystemRenderer;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _settings=__webpack_require__(19);var _settings2=_interopRequireDefault(_settings);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var CanvasRenderTarget=function(){function CanvasRenderTarget(width,height,resolution){_classCallCheck(this,CanvasRenderTarget);this.canvas=document.createElement('canvas');this.context=this.canvas.getContext('2d');this.resolution=resolution||_settings2.default.RESOLUTION;this.resize(width,height);}
CanvasRenderTarget.prototype.clear=function clear(){this.context.setTransform(1,0,0,1,0,0);this.context.clearRect(0,0,this.canvas.width,this.canvas.height);};CanvasRenderTarget.prototype.resize=function resize(width,height){this.canvas.width=width*this.resolution;this.canvas.height=height*this.resolution;};CanvasRenderTarget.prototype.destroy=function destroy(){this.context=null;this.canvas=null;};_createClass(CanvasRenderTarget,[{key:'width',get:function get(){return this.canvas.width;},set:function set(val)
{this.canvas.width=val;}},{key:'height',get:function get(){return this.canvas.height;},set:function set(val)
{this.canvas.height=val;}}]);return CanvasRenderTarget;}();exports.default=CanvasRenderTarget;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.default=canUseNewCanvasBlendModes;function createColoredCanvas(color){var canvas=document.createElement('canvas');canvas.width=6;canvas.height=1;var context=canvas.getContext('2d');context.fillStyle=color;context.fillRect(0,0,6,1);return canvas;}
function canUseNewCanvasBlendModes(){if(typeof document==='undefined'){return false;}
var magenta=createColoredCanvas('#ff00ff');var yellow=createColoredCanvas('#ffff00');var canvas=document.createElement('canvas');canvas.width=6;canvas.height=1;var context=canvas.getContext('2d');context.globalCompositeOperation='multiply';context.drawImage(magenta,0,0);context.drawImage(yellow,2,0);var imageData=context.getImageData(2,0,1,1);if(!imageData){return false;}
var data=imageData.data;return data[0]===255&&data[1]===0&&data[2]===0;}}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _extractUniformsFromSrc=__webpack_require__(644);var _extractUniformsFromSrc2=_interopRequireDefault(_extractUniformsFromSrc);var _utils=__webpack_require__(10);var _const=__webpack_require__(8);var _settings=__webpack_require__(19);var _settings2=_interopRequireDefault(_settings);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var SOURCE_KEY_MAP={};var Filter=function(){function Filter(vertexSrc,fragmentSrc,uniforms){_classCallCheck(this,Filter);this.vertexSrc=vertexSrc||Filter.defaultVertexSrc;this.fragmentSrc=fragmentSrc||Filter.defaultFragmentSrc;this.blendMode=_const.BLEND_MODES.NORMAL;this.uniformData=uniforms||(0,_extractUniformsFromSrc2.default)(this.vertexSrc,this.fragmentSrc,'projectionMatrix|uSampler');this.uniforms={};for(var i in this.uniformData){this.uniforms[i]=this.uniformData[i].value;}
this.glShaders={};if(!SOURCE_KEY_MAP[this.vertexSrc+this.fragmentSrc]){SOURCE_KEY_MAP[this.vertexSrc+this.fragmentSrc]=(0,_utils.uid)();}
this.glShaderKey=SOURCE_KEY_MAP[this.vertexSrc+this.fragmentSrc];this.padding=4;this.resolution=_settings2.default.RESOLUTION;this.enabled=true;}
Filter.prototype.apply=function apply(filterManager,input,output,clear,currentState)
{filterManager.applyFilter(this,input,output,clear);};_createClass(Filter,null,[{key:'defaultVertexSrc',get:function get(){return['attribute vec2 aVertexPosition;','attribute vec2 aTextureCoord;','uniform mat3 projectionMatrix;','uniform mat3 filterMatrix;','varying vec2 vTextureCoord;','varying vec2 vFilterCoord;','void main(void){','   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);','   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;','   vTextureCoord = aTextureCoord ;','}'].join('\n');}},{key:'defaultFragmentSrc',get:function get(){return['varying vec2 vTextureCoord;','varying vec2 vFilterCoord;','uniform sampler2D uSampler;','uniform sampler2D filterSampler;','void main(void){','   vec4 masky = texture2D(filterSampler, vFilterCoord);','   vec4 sample = texture2D(uSampler, vTextureCoord);','   vec4 color;','   if(mod(vFilterCoord.x, 1.0) > 0.5)','   {','     color = vec4(1.0, 0.0, 0.0, 1.0);','   }','   else','   {','     color = vec4(0.0, 1.0, 0.0, 1.0);','   }','   gl_FragColor = mix(sample, masky, 0.5);','   gl_FragColor *= sample.a;','}'].join('\n');}}]);return Filter;}();exports.default=Filter;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _Filter2=__webpack_require__(200);var _Filter3=_interopRequireDefault(_Filter2);var _math=__webpack_require__(14);var _path=__webpack_require__(29);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var SpriteMaskFilter=function(_Filter){_inherits(SpriteMaskFilter,_Filter);function SpriteMaskFilter(sprite){_classCallCheck(this,SpriteMaskFilter);var maskMatrix=new _math.Matrix();var _this=_possibleConstructorReturn(this,_Filter.call(this,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n','varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n'));sprite.renderable=false;_this.maskSprite=sprite;_this.maskMatrix=maskMatrix;return _this;}
SpriteMaskFilter.prototype.apply=function apply(filterManager,input,output){var maskSprite=this.maskSprite;this.uniforms.mask=maskSprite._texture;this.uniforms.otherMatrix=filterManager.calculateSpriteMatrix(this.maskMatrix,maskSprite);this.uniforms.alpha=maskSprite.worldAlpha;filterManager.applyFilter(this,input,output);};return SpriteMaskFilter;}(_Filter3.default);exports.default=SpriteMaskFilter;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _pixiGlCore=__webpack_require__(26);var _pixiGlCore2=_interopRequireDefault(_pixiGlCore);var _createIndicesForQuads=__webpack_require__(116);var _createIndicesForQuads2=_interopRequireDefault(_createIndicesForQuads);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var Quad=function(){function Quad(gl,state){_classCallCheck(this,Quad);this.gl=gl;this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]);this.uvs=new Float32Array([0,0,1,0,1,1,0,1]);this.interleaved=new Float32Array(8*2);for(var i=0;i<4;i++){this.interleaved[i*4]=this.vertices[i*2];this.interleaved[i*4+1]=this.vertices[i*2+1];this.interleaved[i*4+2]=this.uvs[i*2];this.interleaved[i*4+3]=this.uvs[i*2+1];}
this.indices=(0,_createIndicesForQuads2.default)(1);this.vertexBuffer=_pixiGlCore2.default.GLBuffer.createVertexBuffer(gl,this.interleaved,gl.STATIC_DRAW);this.indexBuffer=_pixiGlCore2.default.GLBuffer.createIndexBuffer(gl,this.indices,gl.STATIC_DRAW);this.vao=new _pixiGlCore2.default.VertexArrayObject(gl,state);}
Quad.prototype.initVao=function initVao(shader){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,shader.attributes.aVertexPosition,this.gl.FLOAT,false,4*4,0).addAttribute(this.vertexBuffer,shader.attributes.aTextureCoord,this.gl.FLOAT,false,4*4,2*4);};Quad.prototype.map=function map(targetTextureFrame,destinationFrame){var x=0;var y=0;this.uvs[0]=x;this.uvs[1]=y;this.uvs[2]=x+destinationFrame.width / targetTextureFrame.width;this.uvs[3]=y;this.uvs[4]=x+destinationFrame.width / targetTextureFrame.width;this.uvs[5]=y+destinationFrame.height / targetTextureFrame.height;this.uvs[6]=x;this.uvs[7]=y+destinationFrame.height / targetTextureFrame.height;x=destinationFrame.x;y=destinationFrame.y;this.vertices[0]=x;this.vertices[1]=y;this.vertices[2]=x+destinationFrame.width;this.vertices[3]=y;this.vertices[4]=x+destinationFrame.width;this.vertices[5]=y+destinationFrame.height;this.vertices[6]=x;this.vertices[7]=y+destinationFrame.height;return this;};Quad.prototype.upload=function upload(){for(var i=0;i<4;i++){this.interleaved[i*4]=this.vertices[i*2];this.interleaved[i*4+1]=this.vertices[i*2+1];this.interleaved[i*4+2]=this.uvs[i*2];this.interleaved[i*4+3]=this.uvs[i*2+1];}
this.vertexBuffer.upload(this.interleaved);return this;};Quad.prototype.destroy=function destroy(){var gl=this.gl;gl.deleteBuffer(this.vertexBuffer);gl.deleteBuffer(this.indexBuffer);};return Quad;}();exports.default=Quad;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _const=__webpack_require__(8);var _utils=__webpack_require__(10);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var defaultStyle={align:'left',breakWords:false,dropShadow:false,dropShadowAlpha:1,dropShadowAngle:Math.PI / 6,dropShadowBlur:0,dropShadowColor:'#000000',dropShadowDistance:5,fill:'black',fillGradientType:_const.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:'Arial',fontSize:26,fontStyle:'normal',fontVariant:'normal',fontWeight:'normal',letterSpacing:0,lineHeight:0,lineJoin:'miter',miterLimit:10,padding:0,stroke:'black',strokeThickness:0,textBaseline:'alphabetic',trim:false,wordWrap:false,wordWrapWidth:100};var TextStyle=function(){function TextStyle(style){_classCallCheck(this,TextStyle);this.styleID=0;Object.assign(this,defaultStyle,style);}
TextStyle.prototype.clone=function clone(){var clonedProperties={};for(var key in defaultStyle){clonedProperties[key]=this[key];}
return new TextStyle(clonedProperties);};TextStyle.prototype.reset=function reset(){Object.assign(this,defaultStyle);};_createClass(TextStyle,[{key:'align',get:function get(){return this._align;},set:function set(align){if(this._align!==align){this._align=align;this.styleID++;}}},{key:'breakWords',get:function get(){return this._breakWords;},set:function set(breakWords){if(this._breakWords!==breakWords){this._breakWords=breakWords;this.styleID++;}}},{key:'dropShadow',get:function get(){return this._dropShadow;},set:function set(dropShadow){if(this._dropShadow!==dropShadow){this._dropShadow=dropShadow;this.styleID++;}}},{key:'dropShadowAlpha',get:function get(){return this._dropShadowAlpha;},set:function set(dropShadowAlpha){if(this._dropShadowAlpha!==dropShadowAlpha){this._dropShadowAlpha=dropShadowAlpha;this.styleID++;}}},{key:'dropShadowAngle',get:function get(){return this._dropShadowAngle;},set:function set(dropShadowAngle){if(this._dropShadowAngle!==dropShadowAngle){this._dropShadowAngle=dropShadowAngle;this.styleID++;}}},{key:'dropShadowBlur',get:function get(){return this._dropShadowBlur;},set:function set(dropShadowBlur){if(this._dropShadowBlur!==dropShadowBlur){this._dropShadowBlur=dropShadowBlur;this.styleID++;}}},{key:'dropShadowColor',get:function get(){return this._dropShadowColor;},set:function set(dropShadowColor){var outputColor=getColor(dropShadowColor);if(this._dropShadowColor!==outputColor){this._dropShadowColor=outputColor;this.styleID++;}}},{key:'dropShadowDistance',get:function get(){return this._dropShadowDistance;},set:function set(dropShadowDistance){if(this._dropShadowDistance!==dropShadowDistance){this._dropShadowDistance=dropShadowDistance;this.styleID++;}}},{key:'fill',get:function get(){return this._fill;},set:function set(fill){var outputColor=getColor(fill);if(this._fill!==outputColor){this._fill=outputColor;this.styleID++;}}},{key:'fillGradientType',get:function get(){return this._fillGradientType;},set:function set(fillGradientType){if(this._fillGradientType!==fillGradientType){this._fillGradientType=fillGradientType;this.styleID++;}}},{key:'fillGradientStops',get:function get(){return this._fillGradientStops;},set:function set(fillGradientStops){if(!areArraysEqual(this._fillGradientStops,fillGradientStops)){this._fillGradientStops=fillGradientStops;this.styleID++;}}},{key:'fontFamily',get:function get(){return this._fontFamily;},set:function set(fontFamily){if(this.fontFamily!==fontFamily){this._fontFamily=fontFamily;this.styleID++;}}},{key:'fontSize',get:function get(){return this._fontSize;},set:function set(fontSize){if(this._fontSize!==fontSize){this._fontSize=fontSize;this.styleID++;}}},{key:'fontStyle',get:function get(){return this._fontStyle;},set:function set(fontStyle){if(this._fontStyle!==fontStyle){this._fontStyle=fontStyle;this.styleID++;}}},{key:'fontVariant',get:function get(){return this._fontVariant;},set:function set(fontVariant){if(this._fontVariant!==fontVariant){this._fontVariant=fontVariant;this.styleID++;}}},{key:'fontWeight',get:function get(){return this._fontWeight;},set:function set(fontWeight){if(this._fontWeight!==fontWeight){this._fontWeight=fontWeight;this.styleID++;}}},{key:'letterSpacing',get:function get(){return this._letterSpacing;},set:function set(letterSpacing){if(this._letterSpacing!==letterSpacing){this._letterSpacing=letterSpacing;this.styleID++;}}},{key:'lineHeight',get:function get(){return this._lineHeight;},set:function set(lineHeight){if(this._lineHeight!==lineHeight){this._lineHeight=lineHeight;this.styleID++;}}},{key:'lineJoin',get:function get(){return this._lineJoin;},set:function set(lineJoin){if(this._lineJoin!==lineJoin){this._lineJoin=lineJoin;this.styleID++;}}},{key:'miterLimit',get:function get(){return this._miterLimit;},set:function set(miterLimit){if(this._miterLimit!==miterLimit){this._miterLimit=miterLimit;this.styleID++;}}},{key:'padding',get:function get(){return this._padding;},set:function set(padding){if(this._padding!==padding){this._padding=padding;this.styleID++;}}},{key:'stroke',get:function get(){return this._stroke;},set:function set(stroke){var outputColor=getColor(stroke);if(this._stroke!==outputColor){this._stroke=outputColor;this.styleID++;}}},{key:'strokeThickness',get:function get(){return this._strokeThickness;},set:function set(strokeThickness){if(this._strokeThickness!==strokeThickness){this._strokeThickness=strokeThickness;this.styleID++;}}},{key:'textBaseline',get:function get(){return this._textBaseline;},set:function set(textBaseline){if(this._textBaseline!==textBaseline){this._textBaseline=textBaseline;this.styleID++;}}},{key:'trim',get:function get(){return this._trim;},set:function set(trim){if(this._trim!==trim){this._trim=trim;this.styleID++;}}},{key:'wordWrap',get:function get(){return this._wordWrap;},set:function set(wordWrap){if(this._wordWrap!==wordWrap){this._wordWrap=wordWrap;this.styleID++;}}},{key:'wordWrapWidth',get:function get(){return this._wordWrapWidth;},set:function set(wordWrapWidth){if(this._wordWrapWidth!==wordWrapWidth){this._wordWrapWidth=wordWrapWidth;this.styleID++;}}}]);return TextStyle;}();exports.default=TextStyle;function getSingleColor(color){if(typeof color==='number'){return(0,_utils.hex2string)(color);}else if(typeof color==='string'){if(color.indexOf('0x')===0){color=color.replace('0x','#');}}
return color;}
function getColor(color){if(!Array.isArray(color)){return getSingleColor(color);}else{for(var i=0;i<color.length;++i){color[i]=getSingleColor(color[i]);}
return color;}}
function areArraysEqual(array1,array2){if(!Array.isArray(array1)||!Array.isArray(array2)){return false;}
if(array1.length!==array2.length){return false;}
for(var i=0;i<array1.length;++i){if(array1[i]!==array2[i]){return false;}}
return true;}}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _BaseTexture2=__webpack_require__(64);var _BaseTexture3=_interopRequireDefault(_BaseTexture2);var _settings=__webpack_require__(19);var _settings2=_interopRequireDefault(_settings);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var BaseRenderTexture=function(_BaseTexture){_inherits(BaseRenderTexture,_BaseTexture);function BaseRenderTexture(){var width=arguments.length>0&&arguments[0]!==undefined?arguments[0]:100;var height=arguments.length>1&&arguments[1]!==undefined?arguments[1]:100;var scaleMode=arguments[2];var resolution=arguments[3];_classCallCheck(this,BaseRenderTexture);var _this=_possibleConstructorReturn(this,_BaseTexture.call(this,null,scaleMode));_this.resolution=resolution||_settings2.default.RESOLUTION;_this.width=width;_this.height=height;_this.realWidth=_this.width*_this.resolution;_this.realHeight=_this.height*_this.resolution;_this.scaleMode=scaleMode!==undefined?scaleMode:_settings2.default.SCALE_MODE;_this.hasLoaded=true;_this._glRenderTargets={};_this._canvasRenderTarget=null;_this.valid=false;return _this;}
BaseRenderTexture.prototype.resize=function resize(width,height){if(width===this.width&&height===this.height){return;}
this.valid=width>0&&height>0;this.width=width;this.height=height;this.realWidth=this.width*this.resolution;this.realHeight=this.height*this.resolution;if(!this.valid){return;}
this.emit('update',this);};BaseRenderTexture.prototype.destroy=function destroy(){_BaseTexture.prototype.destroy.call(this,true);this.renderer=null;};return BaseRenderTexture;}(_BaseTexture3.default);exports.default=BaseRenderTexture;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _GroupD=__webpack_require__(195);var _GroupD2=_interopRequireDefault(_GroupD);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var TextureUvs=function(){function TextureUvs(){_classCallCheck(this,TextureUvs);this.x0=0;this.y0=0;this.x1=1;this.y1=0;this.x2=1;this.y2=1;this.x3=0;this.y3=1;this.uvsUint32=new Uint32Array(4);}
TextureUvs.prototype.set=function set(frame,baseFrame,rotate){var tw=baseFrame.width;var th=baseFrame.height;if(rotate){var w2=frame.width / 2 / tw;var h2=frame.height / 2 / th;var cX=frame.x / tw+w2;var cY=frame.y / th+h2;rotate=_GroupD2.default.add(rotate,_GroupD2.default.NW);this.x0=cX+w2*_GroupD2.default.uX(rotate);this.y0=cY+h2*_GroupD2.default.uY(rotate);rotate=_GroupD2.default.add(rotate,2);this.x1=cX+w2*_GroupD2.default.uX(rotate);this.y1=cY+h2*_GroupD2.default.uY(rotate);rotate=_GroupD2.default.add(rotate,2);this.x2=cX+w2*_GroupD2.default.uX(rotate);this.y2=cY+h2*_GroupD2.default.uY(rotate);rotate=_GroupD2.default.add(rotate,2);this.x3=cX+w2*_GroupD2.default.uX(rotate);this.y3=cY+h2*_GroupD2.default.uY(rotate);}else{this.x0=frame.x / tw;this.y0=frame.y / th;this.x1=(frame.x+frame.width)/ tw;this.y1=frame.y / th;this.x2=(frame.x+frame.width)/ tw;this.y2=(frame.y+frame.height)/ th;this.x3=frame.x / tw;this.y3=(frame.y+frame.height)/ th;}
this.uvsUint32[0]=(this.y0*65535&0xFFFF)<<16|this.x0*65535&0xFFFF;this.uvsUint32[1]=(this.y1*65535&0xFFFF)<<16|this.x1*65535&0xFFFF;this.uvsUint32[2]=(this.y2*65535&0xFFFF)<<16|this.x2*65535&0xFFFF;this.uvsUint32[3]=(this.y3*65535&0xFFFF)<<16|this.x3*65535&0xFFFF;};return TextureUvs;}();exports.default=TextureUvs;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _BaseTexture2=__webpack_require__(64);var _BaseTexture3=_interopRequireDefault(_BaseTexture2);var _utils=__webpack_require__(10);var _ticker=__webpack_require__(115);var ticker=_interopRequireWildcard(_ticker);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var VideoBaseTexture=function(_BaseTexture){_inherits(VideoBaseTexture,_BaseTexture);function VideoBaseTexture(source,scaleMode){_classCallCheck(this,VideoBaseTexture);if(!source){throw new Error('No video source element specified.');}
if((source.readyState===source.HAVE_ENOUGH_DATA||source.readyState===source.HAVE_FUTURE_DATA)&&source.width&&source.height){source.complete=true;}
var _this=_possibleConstructorReturn(this,_BaseTexture.call(this,source,scaleMode));_this.width=source.videoWidth;_this.height=source.videoHeight;_this._autoUpdate=true;_this._isAutoUpdating=false;_this.autoPlay=true;_this.update=_this.update.bind(_this);_this._onCanPlay=_this._onCanPlay.bind(_this);source.addEventListener('play',_this._onPlayStart.bind(_this));source.addEventListener('pause',_this._onPlayStop.bind(_this));_this.hasLoaded=false;_this.__loaded=false;if(!_this._isSourceReady()){source.addEventListener('canplay',_this._onCanPlay);source.addEventListener('canplaythrough',_this._onCanPlay);}else{_this._onCanPlay();}
return _this;}
VideoBaseTexture.prototype._isSourcePlaying=function _isSourcePlaying(){var source=this.source;return source.currentTime>0&&source.paused===false&&source.ended===false&&source.readyState>2;};VideoBaseTexture.prototype._isSourceReady=function _isSourceReady(){return this.source.readyState===3||this.source.readyState===4;};VideoBaseTexture.prototype._onPlayStart=function _onPlayStart(){if(!this.hasLoaded){this._onCanPlay();}
if(!this._isAutoUpdating&&this.autoUpdate){ticker.shared.add(this.update,this);this._isAutoUpdating=true;}};VideoBaseTexture.prototype._onPlayStop=function _onPlayStop(){if(this._isAutoUpdating){ticker.shared.remove(this.update,this);this._isAutoUpdating=false;}};VideoBaseTexture.prototype._onCanPlay=function _onCanPlay(){this.hasLoaded=true;if(this.source){this.source.removeEventListener('canplay',this._onCanPlay);this.source.removeEventListener('canplaythrough',this._onCanPlay);this.width=this.source.videoWidth;this.height=this.source.videoHeight;if(!this.__loaded){this.__loaded=true;this.emit('loaded',this);}
if(this._isSourcePlaying()){this._onPlayStart();}else if(this.autoPlay){this.source.play();}}};VideoBaseTexture.prototype.destroy=function destroy(){if(this._isAutoUpdating){ticker.shared.remove(this.update,this);}
if(this.source&&this.source._pixiId){delete _utils.BaseTextureCache[this.source._pixiId];delete this.source._pixiId;}
_BaseTexture.prototype.destroy.call(this);};VideoBaseTexture.fromVideo=function fromVideo(video,scaleMode){if(!video._pixiId){video._pixiId='video_'+(0,_utils.uid)();}
var baseTexture=_utils.BaseTextureCache[video._pixiId];if(!baseTexture){baseTexture=new VideoBaseTexture(video,scaleMode);_utils.BaseTextureCache[video._pixiId]=baseTexture;}
return baseTexture;};VideoBaseTexture.fromUrl=function fromUrl(videoSrc,scaleMode){var video=document.createElement('video');video.setAttribute('webkit-playsinline','');video.setAttribute('playsinline','');if(Array.isArray(videoSrc)){for(var i=0;i<videoSrc.length;++i){video.appendChild(createSource(videoSrc[i].src||videoSrc[i],videoSrc[i].mime));}}
else{video.appendChild(createSource(videoSrc.src||videoSrc,videoSrc.mime));}
video.load();return VideoBaseTexture.fromVideo(video,scaleMode);};_createClass(VideoBaseTexture,[{key:'autoUpdate',get:function get(){return this._autoUpdate;},set:function set(value)
{if(value!==this._autoUpdate){this._autoUpdate=value;if(!this._autoUpdate&&this._isAutoUpdating){ticker.shared.remove(this.update,this);this._isAutoUpdating=false;}else if(this._autoUpdate&&!this._isAutoUpdating){ticker.shared.add(this.update,this);this._isAutoUpdating=true;}}}}]);return VideoBaseTexture;}(_BaseTexture3.default);exports.default=VideoBaseTexture;VideoBaseTexture.fromUrls=VideoBaseTexture.fromUrl;function createSource(path,type){if(!type){type='video/'+path.substr(path.lastIndexOf('.')+1);}
var source=document.createElement('source');source.src=path;source.type=type;return source;}}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _Matrix=__webpack_require__(109);var _Matrix2=_interopRequireDefault(_Matrix);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var tempMat=new _Matrix2.default();var TextureTransform=function(){function TextureTransform(texture,clampMargin){_classCallCheck(this,TextureTransform);this._texture=texture;this.mapCoord=new _Matrix2.default();this.uClampFrame=new Float32Array(4);this.uClampOffset=new Float32Array(2);this._lastTextureID=-1;this.clampOffset=0;this.clampMargin=typeof clampMargin==='undefined'?0.5:clampMargin;}
TextureTransform.prototype.update=function update(forceUpdate){var tex=this._texture;if(!tex||!tex.valid){return;}
if(!forceUpdate&&this._lastTextureID===tex._updateID){return;}
this._lastTextureID=tex._updateID;var uvs=tex._uvs;this.mapCoord.set(uvs.x1-uvs.x0,uvs.y1-uvs.y0,uvs.x3-uvs.x0,uvs.y3-uvs.y0,uvs.x0,uvs.y0);var orig=tex.orig;var trim=tex.trim;if(trim){tempMat.set(orig.width / trim.width,0,0,orig.height / trim.height,-trim.x / trim.width,-trim.y / trim.height);this.mapCoord.append(tempMat);}
var texBase=tex.baseTexture;var frame=this.uClampFrame;var margin=this.clampMargin / texBase.resolution;var offset=this.clampOffset;frame[0]=(tex._frame.x+margin+offset)/ texBase.width;frame[1]=(tex._frame.y+margin+offset)/ texBase.height;frame[2]=(tex._frame.x+tex._frame.width-margin+offset)/ texBase.width;frame[3]=(tex._frame.y+tex._frame.height-margin+offset)/ texBase.height;this.uClampOffset[0]=offset / texBase.realWidth;this.uClampOffset[1]=offset / texBase.realHeight;};_createClass(TextureTransform,[{key:'texture',get:function get(){return this._texture;},set:function set(value)
{this._texture=value;this._lastTextureID=-1;}}]);return TextureTransform;}();exports.default=TextureTransform;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _core=__webpack_require__(4);var core=_interopRequireWildcard(_core);var _generateBlurVertSource=__webpack_require__(211);var _generateBlurVertSource2=_interopRequireDefault(_generateBlurVertSource);var _generateBlurFragSource=__webpack_require__(210);var _generateBlurFragSource2=_interopRequireDefault(_generateBlurFragSource);var _getMaxBlurKernelSize=__webpack_require__(212);var _getMaxBlurKernelSize2=_interopRequireDefault(_getMaxBlurKernelSize);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var BlurXFilter=function(_core$Filter){_inherits(BlurXFilter,_core$Filter);function BlurXFilter(strength,quality,resolution,kernelSize){_classCallCheck(this,BlurXFilter);kernelSize=kernelSize||5;var vertSrc=(0,_generateBlurVertSource2.default)(kernelSize,true);var fragSrc=(0,_generateBlurFragSource2.default)(kernelSize);var _this=_possibleConstructorReturn(this,_core$Filter.call(this,vertSrc,fragSrc));_this.resolution=resolution||core.settings.RESOLUTION;_this._quality=0;_this.quality=quality||4;_this.strength=strength||8;_this.firstRun=true;return _this;}
BlurXFilter.prototype.apply=function apply(filterManager,input,output,clear){if(this.firstRun){var gl=filterManager.renderer.gl;var kernelSize=(0,_getMaxBlurKernelSize2.default)(gl);this.vertexSrc=(0,_generateBlurVertSource2.default)(kernelSize,true);this.fragmentSrc=(0,_generateBlurFragSource2.default)(kernelSize);this.firstRun=false;}
this.uniforms.strength=1 / output.size.width*(output.size.width / input.size.width);this.uniforms.strength*=this.strength;this.uniforms.strength /=this.passes;if(this.passes===1){filterManager.applyFilter(this,input,output,clear);}else{var renderTarget=filterManager.getRenderTarget(true);var flip=input;var flop=renderTarget;for(var i=0;i<this.passes-1;i++){filterManager.applyFilter(this,flip,flop,true);var temp=flop;flop=flip;flip=temp;}
filterManager.applyFilter(this,flip,output,clear);filterManager.returnRenderTarget(renderTarget);}};_createClass(BlurXFilter,[{key:'blur',get:function get(){return this.strength;},set:function set(value)
{this.padding=Math.abs(value)*2;this.strength=value;}},{key:'quality',get:function get(){return this._quality;},set:function set(value)
{this._quality=value;this.passes=value;}}]);return BlurXFilter;}(core.Filter);exports.default=BlurXFilter;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _core=__webpack_require__(4);var core=_interopRequireWildcard(_core);var _generateBlurVertSource=__webpack_require__(211);var _generateBlurVertSource2=_interopRequireDefault(_generateBlurVertSource);var _generateBlurFragSource=__webpack_require__(210);var _generateBlurFragSource2=_interopRequireDefault(_generateBlurFragSource);var _getMaxBlurKernelSize=__webpack_require__(212);var _getMaxBlurKernelSize2=_interopRequireDefault(_getMaxBlurKernelSize);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var BlurYFilter=function(_core$Filter){_inherits(BlurYFilter,_core$Filter);function BlurYFilter(strength,quality,resolution,kernelSize){_classCallCheck(this,BlurYFilter);kernelSize=kernelSize||5;var vertSrc=(0,_generateBlurVertSource2.default)(kernelSize,false);var fragSrc=(0,_generateBlurFragSource2.default)(kernelSize);var _this=_possibleConstructorReturn(this,_core$Filter.call(this,vertSrc,fragSrc));_this.resolution=resolution||core.settings.RESOLUTION;_this._quality=0;_this.quality=quality||4;_this.strength=strength||8;_this.firstRun=true;return _this;}
BlurYFilter.prototype.apply=function apply(filterManager,input,output,clear){if(this.firstRun){var gl=filterManager.renderer.gl;var kernelSize=(0,_getMaxBlurKernelSize2.default)(gl);this.vertexSrc=(0,_generateBlurVertSource2.default)(kernelSize,false);this.fragmentSrc=(0,_generateBlurFragSource2.default)(kernelSize);this.firstRun=false;}
this.uniforms.strength=1 / output.size.height*(output.size.height / input.size.height);this.uniforms.strength*=this.strength;this.uniforms.strength /=this.passes;if(this.passes===1){filterManager.applyFilter(this,input,output,clear);}else{var renderTarget=filterManager.getRenderTarget(true);var flip=input;var flop=renderTarget;for(var i=0;i<this.passes-1;i++){filterManager.applyFilter(this,flip,flop,true);var temp=flop;flop=flip;flip=temp;}
filterManager.applyFilter(this,flip,output,clear);filterManager.returnRenderTarget(renderTarget);}};_createClass(BlurYFilter,[{key:'blur',get:function get(){return this.strength;},set:function set(value)
{this.padding=Math.abs(value)*2;this.strength=value;}},{key:'quality',get:function get(){return this._quality;},set:function set(value)
{this._quality=value;this.passes=value;}}]);return BlurYFilter;}(core.Filter);exports.default=BlurYFilter;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.default=generateFragBlurSource;var GAUSSIAN_VALUES={5:[0.153388,0.221461,0.250301],7:[0.071303,0.131514,0.189879,0.214607],9:[0.028532,0.067234,0.124009,0.179044,0.20236],11:[0.0093,0.028002,0.065984,0.121703,0.175713,0.198596],13:[0.002406,0.009255,0.027867,0.065666,0.121117,0.174868,0.197641],15:[0.000489,0.002403,0.009246,0.02784,0.065602,0.120999,0.174697,0.197448]};var fragTemplate=['varying vec2 vBlurTexCoords[%size%];','uniform sampler2D uSampler;','void main(void)','{','    gl_FragColor = vec4(0.0);','    %blur%','}'].join('\n');function generateFragBlurSource(kernelSize){var kernel=GAUSSIAN_VALUES[kernelSize];var halfLength=kernel.length;var fragSource=fragTemplate;var blurLoop='';var template='gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;';var value=void 0;for(var i=0;i<kernelSize;i++){var blur=template.replace('%index%',i);value=i;if(i>=halfLength){value=kernelSize-i-1;}
blur=blur.replace('%value%',kernel[value]);blurLoop+=blur;blurLoop+='\n';}
fragSource=fragSource.replace('%blur%',blurLoop);fragSource=fragSource.replace('%size%',kernelSize);return fragSource;}}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.default=generateVertBlurSource;var vertTemplate=['attribute vec2 aVertexPosition;','attribute vec2 aTextureCoord;','uniform float strength;','uniform mat3 projectionMatrix;','varying vec2 vBlurTexCoords[%size%];','void main(void)','{','gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);','%blur%','}'].join('\n');function generateVertBlurSource(kernelSize,x){var halfLength=Math.ceil(kernelSize / 2);var vertSource=vertTemplate;var blurLoop='';var template=void 0;if(x){template='vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);';}else{template='vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);';}
for(var i=0;i<kernelSize;i++){var blur=template.replace('%index%',i);blur=blur.replace('%sampleIndex%',i-(halfLength-1)+'.0');blurLoop+=blur;blurLoop+='\n';}
vertSource=vertSource.replace('%blur%',blurLoop);vertSource=vertSource.replace('%size%',kernelSize);return vertSource;}}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.default=getMaxKernelSize;function getMaxKernelSize(gl){var maxVaryings=gl.getParameter(gl.MAX_VARYING_VECTORS);var kernelSize=15;while(kernelSize>maxVaryings){kernelSize-=2;}
return kernelSize;}}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _FXAAFilter=__webpack_require__(680);Object.defineProperty(exports,'FXAAFilter',{enumerable:true,get:function get(){return _interopRequireDefault(_FXAAFilter).default;}});var _NoiseFilter=__webpack_require__(681);Object.defineProperty(exports,'NoiseFilter',{enumerable:true,get:function get(){return _interopRequireDefault(_NoiseFilter).default;}});var _DisplacementFilter=__webpack_require__(679);Object.defineProperty(exports,'DisplacementFilter',{enumerable:true,get:function get(){return _interopRequireDefault(_DisplacementFilter).default;}});var _BlurFilter=__webpack_require__(677);Object.defineProperty(exports,'BlurFilter',{enumerable:true,get:function get(){return _interopRequireDefault(_BlurFilter).default;}});var _BlurXFilter=__webpack_require__(208);Object.defineProperty(exports,'BlurXFilter',{enumerable:true,get:function get(){return _interopRequireDefault(_BlurXFilter).default;}});var _BlurYFilter=__webpack_require__(209);Object.defineProperty(exports,'BlurYFilter',{enumerable:true,get:function get(){return _interopRequireDefault(_BlurYFilter).default;}});var _ColorMatrixFilter=__webpack_require__(678);Object.defineProperty(exports,'ColorMatrixFilter',{enumerable:true,get:function get(){return _interopRequireDefault(_ColorMatrixFilter).default;}});var _VoidFilter=__webpack_require__(682);Object.defineProperty(exports,'VoidFilter',{enumerable:true,get:function get(){return _interopRequireDefault(_VoidFilter).default;}});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _core=__webpack_require__(4);var core=_interopRequireWildcard(_core);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var InteractionData=function(){function InteractionData(){_classCallCheck(this,InteractionData);this.global=new core.Point();this.target=null;this.originalEvent=null;this.identifier=null;}
InteractionData.prototype.getLocalPosition=function getLocalPosition(displayObject,point,globalPos){return displayObject.worldTransform.applyInverse(globalPos||this.global,point);};return InteractionData;}();exports.default=InteractionData;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _InteractionData=__webpack_require__(214);Object.defineProperty(exports,'InteractionData',{enumerable:true,get:function get(){return _interopRequireDefault(_InteractionData).default;}});var _InteractionManager=__webpack_require__(684);Object.defineProperty(exports,'InteractionManager',{enumerable:true,get:function get(){return _interopRequireDefault(_InteractionManager).default;}});var _interactiveTarget=__webpack_require__(216);Object.defineProperty(exports,'interactiveTarget',{enumerable:true,get:function get(){return _interopRequireDefault(_interactiveTarget).default;}});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.default={interactive:false,interactiveChildren:true,hitArea:null,get buttonMode(){return this.cursor==='pointer';},set buttonMode(value){if(value){this.cursor='pointer';}else if(this.cursor==='pointer'){this.cursor=null;}},cursor:null,get trackedPointers(){if(this._trackedPointers===undefined)this._trackedPointers={};return this._trackedPointers;},_trackedPointers:undefined};}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.parse=parse;exports.default=function(){return function bitmapFontParser(resource,next){if(!resource.data||resource.type!==_resourceLoader.Resource.TYPE.XML){next();return;}
if(resource.data.getElementsByTagName('page').length===0||resource.data.getElementsByTagName('info').length===0||resource.data.getElementsByTagName('info')[0].getAttribute('face')===null){next();return;}
var xmlUrl=!resource.isDataUrl?path.dirname(resource.url):'';if(resource.isDataUrl){if(xmlUrl==='.'){xmlUrl='';}
if(this.baseUrl&&xmlUrl){if(this.baseUrl.charAt(this.baseUrl.length-1)==='/'){xmlUrl+='/';}
xmlUrl=xmlUrl.replace(this.baseUrl,'');}}
if(xmlUrl&&xmlUrl.charAt(xmlUrl.length-1)!=='/'){xmlUrl+='/';}
var textureUrl=xmlUrl+resource.data.getElementsByTagName('page')[0].getAttribute('file');if(_core.utils.TextureCache[textureUrl]){parse(resource,_core.utils.TextureCache[textureUrl]);next();}else{var loadOptions={crossOrigin:resource.crossOrigin,loadType:_resourceLoader.Resource.LOAD_TYPE.IMAGE,metadata:resource.metadata.imageMetadata,parentResource:resource};this.add(resource.name+'_image',textureUrl,loadOptions,function(res){parse(resource,res.texture);next();});}};};var _path=__webpack_require__(29);var path=_interopRequireWildcard(_path);var _core=__webpack_require__(4);var _resourceLoader=__webpack_require__(66);var _extras=__webpack_require__(117);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function parse(resource,texture){resource.bitmapFont=_extras.BitmapText.registerFont(resource.data,texture);}}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _loader=__webpack_require__(686);Object.defineProperty(exports,'Loader',{enumerable:true,get:function get(){return _interopRequireDefault(_loader).default;}});var _bitmapFontParser=__webpack_require__(217);Object.defineProperty(exports,'bitmapFontParser',{enumerable:true,get:function get(){return _interopRequireDefault(_bitmapFontParser).default;}});Object.defineProperty(exports,'parseBitmapFontData',{enumerable:true,get:function get(){return _bitmapFontParser.parse;}});var _spritesheetParser=__webpack_require__(219);Object.defineProperty(exports,'spritesheetParser',{enumerable:true,get:function get(){return _interopRequireDefault(_spritesheetParser).default;}});var _textureParser=__webpack_require__(220);Object.defineProperty(exports,'textureParser',{enumerable:true,get:function get(){return _interopRequireDefault(_textureParser).default;}});var _resourceLoader=__webpack_require__(66);Object.defineProperty(exports,'Resource',{enumerable:true,get:function get(){return _resourceLoader.Resource;}});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.default=function(){return function spritesheetParser(resource,next){var resourcePath=void 0;var imageResourceName=resource.name+'_image';if(!resource.data||resource.type!==_resourceLoader.Resource.TYPE.JSON||!resource.data.frames||this.resources[imageResourceName]){next();return;}
var loadOptions={crossOrigin:resource.crossOrigin,loadType:_resourceLoader.Resource.LOAD_TYPE.IMAGE,metadata:resource.metadata.imageMetadata,parentResource:resource};if(resource.isDataUrl){resourcePath=resource.data.meta.image;}else{resourcePath=_path2.default.dirname(resource.url.replace(this.baseUrl,''))+'/'+resource.data.meta.image;}
this.add(imageResourceName,resourcePath,loadOptions,function onImageLoad(res){var spritesheet=new _core.Spritesheet(res.texture.baseTexture,resource.data,resource.url);spritesheet.parse(function(){resource.spritesheet=spritesheet;resource.textures=spritesheet.textures;next();});});};};var _resourceLoader=__webpack_require__(66);var _path=__webpack_require__(29);var _path2=_interopRequireDefault(_path);var _core=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.default=function(){return function textureParser(resource,next){if(resource.data&&resource.type===_resourceLoader.Resource.TYPE.IMAGE){resource.texture=_Texture2.default.fromLoader(resource.data,resource.url,resource.name);}
next();};};var _resourceLoader=__webpack_require__(66);var _Texture=__webpack_require__(50);var _Texture2=_interopRequireDefault(_Texture);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _Mesh2=__webpack_require__(65);var _Mesh3=_interopRequireDefault(_Mesh2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var Plane=function(_Mesh){_inherits(Plane,_Mesh);function Plane(texture,verticesX,verticesY){_classCallCheck(this,Plane);var _this=_possibleConstructorReturn(this,_Mesh.call(this,texture));_this._ready=true;_this.verticesX=verticesX||10;_this.verticesY=verticesY||10;_this.drawMode=_Mesh3.default.DRAW_MODES.TRIANGLES;_this.refresh();return _this;}
Plane.prototype.refresh=function refresh(){var total=this.verticesX*this.verticesY;var verts=[];var colors=[];var uvs=[];var indices=[];var texture=this.texture;var segmentsX=this.verticesX-1;var segmentsY=this.verticesY-1;var sizeX=texture.width / segmentsX;var sizeY=texture.height / segmentsY;for(var i=0;i<total;i++){if(texture._uvs){var x=i%this.verticesX;var y=i / this.verticesX|0;verts.push(x*sizeX,y*sizeY);uvs.push(texture._uvs.x0+(texture._uvs.x1-texture._uvs.x0)*(x /(this.verticesX-1)),texture._uvs.y0+(texture._uvs.y3-texture._uvs.y0)*(y /(this.verticesY-1)));}else{uvs.push(0);}}
var totalSub=segmentsX*segmentsY;for(var _i=0;_i<totalSub;_i++){var xpos=_i%segmentsX;var ypos=_i / segmentsX|0;var value=ypos*this.verticesX+xpos;var value2=ypos*this.verticesX+xpos+1;var value3=(ypos+1)*this.verticesX+xpos;var value4=(ypos+1)*this.verticesX+xpos+1;indices.push(value,value2,value3);indices.push(value2,value4,value3);}
this.vertices=new Float32Array(verts);this.uvs=new Float32Array(uvs);this.colors=new Float32Array(colors);this.indices=new Uint16Array(indices);this.indexDirty=true;};Plane.prototype._onTextureUpdate=function _onTextureUpdate(){_Mesh3.default.prototype._onTextureUpdate.call(this);if(this._ready){this.refresh();}};return Plane;}(_Mesh3.default);exports.default=Plane;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _Mesh=__webpack_require__(65);Object.defineProperty(exports,'Mesh',{enumerable:true,get:function get(){return _interopRequireDefault(_Mesh).default;}});var _MeshRenderer=__webpack_require__(690);Object.defineProperty(exports,'MeshRenderer',{enumerable:true,get:function get(){return _interopRequireDefault(_MeshRenderer).default;}});var _CanvasMeshRenderer=__webpack_require__(689);Object.defineProperty(exports,'CanvasMeshRenderer',{enumerable:true,get:function get(){return _interopRequireDefault(_CanvasMeshRenderer).default;}});var _Plane=__webpack_require__(221);Object.defineProperty(exports,'Plane',{enumerable:true,get:function get(){return _interopRequireDefault(_Plane).default;}});var _NineSlicePlane=__webpack_require__(687);Object.defineProperty(exports,'NineSlicePlane',{enumerable:true,get:function get(){return _interopRequireDefault(_NineSlicePlane).default;}});var _Rope=__webpack_require__(688);Object.defineProperty(exports,'Rope',{enumerable:true,get:function get(){return _interopRequireDefault(_Rope).default;}});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _ParticleContainer=__webpack_require__(691);Object.defineProperty(exports,'ParticleContainer',{enumerable:true,get:function get(){return _interopRequireDefault(_ParticleContainer).default;}});var _ParticleRenderer=__webpack_require__(693);Object.defineProperty(exports,'ParticleRenderer',{enumerable:true,get:function get(){return _interopRequireDefault(_ParticleRenderer).default;}});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _WebGLPrepare=__webpack_require__(701);Object.defineProperty(exports,'webgl',{enumerable:true,get:function get(){return _interopRequireDefault(_WebGLPrepare).default;}});var _CanvasPrepare=__webpack_require__(699);Object.defineProperty(exports,'canvas',{enumerable:true,get:function get(){return _interopRequireDefault(_CanvasPrepare).default;}});var _BasePrepare=__webpack_require__(118);Object.defineProperty(exports,'BasePrepare',{enumerable:true,get:function get(){return _interopRequireDefault(_BasePrepare).default;}});var _CountLimiter=__webpack_require__(225);Object.defineProperty(exports,'CountLimiter',{enumerable:true,get:function get(){return _interopRequireDefault(_CountLimiter).default;}});var _TimeLimiter=__webpack_require__(700);Object.defineProperty(exports,'TimeLimiter',{enumerable:true,get:function get(){return _interopRequireDefault(_TimeLimiter).default;}});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var CountLimiter=function(){function CountLimiter(maxItemsPerFrame){_classCallCheck(this,CountLimiter);this.maxItemsPerFrame=maxItemsPerFrame;this.itemsLeft=0;}
CountLimiter.prototype.beginFrame=function beginFrame(){this.itemsLeft=this.maxItemsPerFrame;};CountLimiter.prototype.allowedToUpload=function allowedToUpload(){return this.itemsLeft-->0;};return CountLimiter;}();exports.default=CountLimiter;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.eachSeries=eachSeries;exports.queue=queue;function _noop(){}
function eachSeries(array,iterator,callback){var i=0;var len=array.length;(function next(err){if(err||i===len){if(callback){callback(err);}
return;}
iterator(array[i++],next);})();}
function onlyOnce(fn){return function onceWrapper(){if(fn===null){throw new Error('Callback was already called.');}
var callFn=fn;fn=null;callFn.apply(this,arguments);};}
function queue(worker,concurrency){if(concurrency==null){concurrency=1;}else if(concurrency===0){throw new Error('Concurrency must not be zero');}
var workers=0;var q={_tasks:[],concurrency:concurrency,saturated:_noop,unsaturated:_noop,buffer:concurrency / 4,empty:_noop,drain:_noop,error:_noop,started:false,paused:false,push:function push(data,callback){_insert(data,false,callback);},kill:function kill(){workers=0;q.drain=_noop;q.started=false;q._tasks=[];},unshift:function unshift(data,callback){_insert(data,true,callback);},process:function process(){while(!q.paused&&workers<q.concurrency&&q._tasks.length){var task=q._tasks.shift();if(q._tasks.length===0){q.empty();}
workers+=1;if(workers===q.concurrency){q.saturated();}
worker(task.data,onlyOnce(_next(task)));}},length:function length(){return q._tasks.length;},running:function running(){return workers;},idle:function idle(){return q._tasks.length+workers===0;},pause:function pause(){if(q.paused===true){return;}
q.paused=true;},resume:function resume(){if(q.paused===false){return;}
q.paused=false;for(var w=1;w<=q.concurrency;w++){q.process();}}};function _insert(data,insertAtFront,callback){if(callback!=null&&typeof callback!=='function'){throw new Error('task callback must be a function');}
q.started=true;if(data==null&&q.idle()){setTimeout(function(){return q.drain();},1);return;}
var item={data:data,callback:typeof callback==='function'?callback:_noop};if(insertAtFront){q._tasks.unshift(item);}else{q._tasks.push(item);}
setTimeout(function(){return q.process();},1);}
function _next(task){return function next(){workers-=1;task.callback.apply(task,arguments);if(arguments[0]!=null){q.error(arguments[0],task.data);}
if(workers<=q.concurrency-q.buffer){q.unsaturated();}
if(q.idle()){q.drain();}
q.process();};}
return q;}}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.encodeBinary=encodeBinary;var _keyStr='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';function encodeBinary(input){var output='';var inx=0;while(inx<input.length){var bytebuffer=[0,0,0];var encodedCharIndexes=[0,0,0,0];for(var jnx=0;jnx<bytebuffer.length;++jnx){if(inx<input.length){bytebuffer[jnx]=input.charCodeAt(inx++)&0xff;}else{bytebuffer[jnx]=0;}}
encodedCharIndexes[0]=bytebuffer[0]>>2;encodedCharIndexes[1]=(bytebuffer[0]&0x3)<<4|bytebuffer[1]>>4;encodedCharIndexes[2]=(bytebuffer[1]&0x0f)<<2|bytebuffer[2]>>6;encodedCharIndexes[3]=bytebuffer[2]&0x3f;var paddingBytes=inx-(input.length-1);switch(paddingBytes){case 2:encodedCharIndexes[3]=64;encodedCharIndexes[2]=64;break;case 1:encodedCharIndexes[3]=64;break;default:break;}
for(var _jnx=0;_jnx<encodedCharIndexes.length;++_jnx){output+=_keyStr.charAt(encodedCharIndexes[_jnx]);}}
return output;}}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});const _=__webpack_require__(69);class Collision{constructor(){this.list=[];}
add(object,shape,collisionList){this.list.push({object:object,shape:shape,collisionList:collisionList});}
remove(removeObject){_.remove(this.list,(v)=>{return v.object===removeObject;});}
collision(shape){let collisionList=[];for(let a of this.list){if(Collision.intersects(shape,a.shape)){collisionList.push({object:a.object,shape:a.shape});}}
return collisionList;}
tick(){for(let obj of this.list){if(obj.collisionList==undefined){continue;}
obj.collisionList.length=0;}
for(let x=0;x<this.list.length;x++){const a=this.list[x];for(let y=x+1;y<this.list.length;y++){const b=this.list[y];if(Collision.intersects(a.shape,b.shape)){if(a.collisionList)
a.collisionList.push(b.object);if(b.collisionList)
b.collisionList.push(a.object);}}}}
static intersects(a,b){if(a.kind=="Rectangle"&&b.kind=="Rectangle"){return Collision.RectRect(a,b);}
else if(a.kind=="Circle"&&b.kind=="Circle"){return Collision.CircleCircle(a,b);}
else if(a.kind=="Rectangle"&&b.kind=="Circle"){return Collision.RectCircle(a,b);}
else if(a.kind=="Circle"&&b.kind=="Rectangle"){return Collision.RectCircle(b,a);}
else if(a.kind=="Point"&&b.kind=="Rectangle"){return Collision.PointRectangle(a,b);}
else if(a.kind=="Rectangle"&&b.kind=="Point"){return Collision.PointRectangle(b,a);}
else if(a.kind=="Point"&&b.kind=="Circle"){return Collision.PointCircle(a,b);}
else if(a.kind=="Circle"&&b.kind=="Point"){return Collision.PointCircle(b,a);}
else if(a.kind=="Point"&&b.kind=="Point"){return Collision.PointPoint(a,b);}
else{return true;}}
static CircleCircle(a,b){return Math.hypot(a.x-b.x,a.y-b.y)<a.r+b.r;}
static RectRect(a,b){return((a.x<b.x+b.width)&&(a.x+a.width>b.x)&&(a.y<b.y+b.height)&&(a.y+a.height>b.y));}
static RectCircle(rect,cicle){return(rect.x-cicle.r<cicle.x&&rect.x+rect.width+cicle.r>cicle.x&&rect.y-cicle.r<cicle.y&&rect.y+rect.height+cicle.r>cicle.y)||(Math.hypot(rect.x-cicle.x,rect.y-cicle.y)<cicle.r||Math.hypot(rect.x+rect.width-cicle.x,rect.y-cicle.y)<cicle.r||Math.hypot(rect.x+rect.width-cicle.x,rect.y+rect.height-cicle.y)<cicle.r||Math.hypot(rect.x-cicle.x,rect.y+rect.height-cicle.y)<cicle.r);}
static PointPoint(a,b){return a.x==b.x&&a.y==b.y;}
static PointRectangle(point,rect){return(rect.x<point.x)&&(rect.x+rect.width>point.x)&&(rect.y<point.y)&&(rect.y+rect.height>point.y);}
static PointCircle(point,cicle){return Math.hypot(cicle.x-point.x,cicle.y-point.y)<cicle.r;}}
exports.Collision=Collision;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});const ship_1=__webpack_require__(717);const bomber_1=__webpack_require__(711);const infantry_1=__webpack_require__(230);const lander_1=__webpack_require__(713);const area_1=__webpack_require__(67);const overObject_1=__webpack_require__(714);class GameObjectGenerator{static create(type,game,config){let areaType=config.type;let x=config.x;let y=config.y;let width=config.width;let height=config.height;let direction=config.direction;let organization=game.level.organizationMap[config.organization];switch(type){case"bomber":return new bomber_1.Bomber(game,x,y,direction,organization);case"infantry":return new infantry_1.Infantry(game,x,y,direction,organization);case"lander":return new lander_1.Lander(game,x,y,direction,organization);case"ship":return new ship_1.Ship(game,x,y,direction,organization);case"flag":return new overObject_1.Flag(game,x,y,direction,organization);case"land":return new area_1.Area(game,areaType,x,y,width,height);case"sea":return new area_1.Area(game,areaType,x,y,width,height);default:return new ship_1.Ship(game,x,y,direction,organization);}}}
GameObjectGenerator.gameObjectList={bomber:bomber_1.Bomber,infantry:infantry_1.Infantry,lander:lander_1.Lander,ship:ship_1.Ship,flag:overObject_1.Flag,land:area_1.Area,sea:area_1.Area,};exports.GameObjectGenerator=GameObjectGenerator;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});__webpack_require__(22);const weapon_1=__webpack_require__(68);const area_1=__webpack_require__(67);const bullet_1=__webpack_require__(120);class Infantry extends weapon_1.Weapon{constructor(game,x,y,direction,organization){super(game,{kind:"Rectangle",x:x,y:y,width:5,height:20,angle:0},direction,organization);this.setSprite(`image/${this.organization.name}-infantry.png`);this.shotInterval=this.game.level.levelData["WeaponList"][this.organization.name]["infantry"]["shot-interval"];}
update(){super.update();if(this.shape.x<-300||this.shape.x>1300||this.shape.y<-300||this.shape.y>1000){this.remove();}
let isLand=false;for(let object of this.collisionList){if(object instanceof area_1.Area&&object.type=="land"){isLand=true;}}
if(isLand){this.moveOn();}}
moveOn(){switch(this.direction){case"right":this.move.x++;break;case"left":this.move.x--;break;}}
draw(renderer){}
fire(){this.game.level.addObject(new bullet_1.Bullet(this.game,this,this.shape.x,this.shape.y,Math.PI,3,0));}}
exports.Infantry=Infantry;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});__webpack_require__(22);const gameObjectGenerator_1=__webpack_require__(229);class Organization{constructor(game,config){this.money=0;this.game=game;this.name=config.name;this.direction=config.direction;this.moneyTextSprite=new PIXI.Text(this.money.toString(),{fontFamily:'Arial',fontSize:24,fill:0xffffff,align:'center'});this.game.level.view.addChild(this.moneyTextSprite);}
update(){this.money++;this.moneyTextSprite.x=this.direction=="right"?this.game.app.screen.width-this.moneyTextSprite.width:0;this.moneyTextSprite.text=this.money.toString();}
createWeapon(weaponName,game,x,y,direction){let cost=this.game.level.levelData["WeaponList"][this.name][weaponName]["cost"];if(cost>this.money){return null;}
this.money-=cost;return gameObjectGenerator_1.GameObjectGenerator.create(weaponName,game,{x:x,y:y,direction:direction,organization:this.name});}}
exports.Organization=Organization;}),(function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(root,factory){'use strict';if(typeof module==='object'&&module.exports){module.exports=factory();}else if(true){!(__WEBPACK_AMD_DEFINE_FACTORY__=(factory),__WEBPACK_AMD_DEFINE_RESULT__=(typeof __WEBPACK_AMD_DEFINE_FACTORY__==='function'?(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module)):__WEBPACK_AMD_DEFINE_FACTORY__),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));}else{root.IPv6=factory(root);}}(this,function(root){'use strict';var _IPv6=root&&root.IPv6;function bestPresentation(address){var _address=address.toLowerCase();var segments=_address.split(':');var length=segments.length;var total=8;if(segments[0]===''&&segments[1]===''&&segments[2]===''){segments.shift();segments.shift();}else if(segments[0]===''&&segments[1]===''){segments.shift();}else if(segments[length-1]===''&&segments[length-2]===''){segments.pop();}
length=segments.length;if(segments[length-1].indexOf('.')!==-1){total=7;}
var pos;for(pos=0;pos<length;pos++){if(segments[pos]===''){break;}}
if(pos<total){segments.splice(pos,1,'0000');while(segments.length<total){segments.splice(pos,0,'0000');}}
var _segments;for(var i=0;i<total;i++){_segments=segments[i].split('');for(var j=0;j<3;j++){if(_segments[0]==='0'&&_segments.length>1){_segments.splice(0,1);}else{break;}}
segments[i]=_segments.join('');}
var best=-1;var _best=0;var _current=0;var current=-1;var inzeroes=false;for(i=0;i<total;i++){if(inzeroes){if(segments[i]==='0'){_current+=1;}else{inzeroes=false;if(_current>_best){best=current;_best=_current;}}}else{if(segments[i]==='0'){inzeroes=true;current=i;_current=1;}}}
if(_current>_best){best=current;_best=_current;}
if(_best>1){segments.splice(best,_best,'');}
length=segments.length;var result='';if(segments[0]===''){result=':';}
for(i=0;i<length;i++){result+=segments[i];if(i===length-1){break;}
result+=':';}
if(segments[length-1]===''){result+=':';}
return result;}
function noConflict(){if(root.IPv6===this){root.IPv6=_IPv6;}
return this;}
return{best:bestPresentation,noConflict:noConflict};}));}),(function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(root,factory){'use strict';if(typeof module==='object'&&module.exports){module.exports=factory();}else if(true){!(__WEBPACK_AMD_DEFINE_FACTORY__=(factory),__WEBPACK_AMD_DEFINE_RESULT__=(typeof __WEBPACK_AMD_DEFINE_FACTORY__==='function'?(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module)):__WEBPACK_AMD_DEFINE_FACTORY__),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));}else{root.SecondLevelDomains=factory(root);}}(this,function(root){'use strict';var _SecondLevelDomains=root&&root.SecondLevelDomains;var SLD={list:{'ac':' com gov mil net org ','ae':' ac co gov mil name net org pro sch ','af':' com edu gov net org ','al':' com edu gov mil net org ','ao':' co ed gv it og pb ','ar':' com edu gob gov int mil net org tur ','at':' ac co gv or ','au':' asn com csiro edu gov id net org ','ba':' co com edu gov mil net org rs unbi unmo unsa untz unze ','bb':' biz co com edu gov info net org store tv ','bh':' biz cc com edu gov info net org ','bn':' com edu gov net org ','bo':' com edu gob gov int mil net org tv ','br':' adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ','bs':' com edu gov net org ','bz':' du et om ov rg ','ca':' ab bc mb nb nf nl ns nt nu on pe qc sk yk ','ck':' biz co edu gen gov info net org ','cn':' ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ','co':' com edu gov mil net nom org ','cr':' ac c co ed fi go or sa ','cy':' ac biz com ekloges gov ltd name net org parliament press pro tm ','do':' art com edu gob gov mil net org sld web ','dz':' art asso com edu gov net org pol ','ec':' com edu fin gov info med mil net org pro ','eg':' com edu eun gov mil name net org sci ','er':' com edu gov ind mil net org rochest w ','es':' com edu gob nom org ','et':' biz com edu gov info name net org ','fj':' ac biz com info mil name net org pro ','fk':' ac co gov net nom org ','fr':' asso com f gouv nom prd presse tm ','gg':' co net org ','gh':' com edu gov mil org ','gn':' ac com gov net org ','gr':' com edu gov mil net org ','gt':' com edu gob ind mil net org ','gu':' com edu gov net org ','hk':' com edu gov idv net org ','hu':' 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ','id':' ac co go mil net or sch web ','il':' ac co gov idf k12 muni net org ','in':' ac co edu ernet firm gen gov i ind mil net nic org res ','iq':' com edu gov i mil net org ','ir':' ac co dnssec gov i id net org sch ','it':' edu gov ','je':' co net org ','jo':' com edu gov mil name net org sch ','jp':' ac ad co ed go gr lg ne or ','ke':' ac co go info me mobi ne or sc ','kh':' com edu gov mil net org per ','ki':' biz com de edu gov info mob net org tel ','km':' asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ','kn':' edu gov net org ','kr':' ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ','kw':' com edu gov net org ','ky':' com edu gov net org ','kz':' com edu gov mil net org ','lb':' com edu gov net org ','lk':' assn com edu gov grp hotel int ltd net ngo org sch soc web ','lr':' com edu gov net org ','lv':' asn com conf edu gov id mil net org ','ly':' com edu gov id med net org plc sch ','ma':' ac co gov m net org press ','mc':' asso tm ','me':' ac co edu gov its net org priv ','mg':' com edu gov mil nom org prd tm ','mk':' com edu gov inf name net org pro ','ml':' com edu gov net org presse ','mn':' edu gov org ','mo':' com edu gov net org ','mt':' com edu gov net org ','mv':' aero biz com coop edu gov info int mil museum name net org pro ','mw':' ac co com coop edu gov int museum net org ','mx':' com edu gob net org ','my':' com edu gov mil name net org sch ','nf':' arts com firm info net other per rec store web ','ng':' biz com edu gov mil mobi name net org sch ','ni':' ac co com edu gob mil net nom org ','np':' com edu gov mil net org ','nr':' biz com edu gov info net org ','om':' ac biz co com edu gov med mil museum net org pro sch ','pe':' com edu gob mil net nom org sld ','ph':' com edu gov i mil net ngo org ','pk':' biz com edu fam gob gok gon gop gos gov net org web ','pl':' art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ','pr':' ac biz com edu est gov info isla name net org pro prof ','ps':' com edu gov net org plo sec ','pw':' belau co ed go ne or ','ro':' arts com firm info nom nt org rec store tm www ','rs':' ac co edu gov in org ','sb':' com edu gov net org ','sc':' com edu gov net org ','sh':' co com edu gov net nom org ','sl':' com edu gov net org ','st':' co com consulado edu embaixada gov mil net org principe saotome store ','sv':' com edu gob org red ','sz':' ac co org ','tr':' av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ','tt':' aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ','tw':' club com ebiz edu game gov idv mil net org ','mu':' ac co com gov net or org ','mz':' ac co edu gov org ','na':' co com ','nz':' ac co cri geek gen govt health iwi maori mil net org parliament school ','pa':' abo ac com edu gob ing med net nom org sld ','pt':' com edu gov int net nome org publ ','py':' com edu gov mil net org ','qa':' com edu gov mil net org ','re':' asso com nom ','ru':' ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ','rw':' ac co com edu gouv gov int mil net ','sa':' com edu gov med net org pub sch ','sd':' com edu gov info med net org tv ','se':' a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ','sg':' com edu gov idn net org per ','sn':' art com edu gouv org perso univ ','sy':' com edu gov mil net news org ','th':' ac co go in mi net or ','tj':' ac biz co com edu go gov info int mil name net nic org test web ','tn':' agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ','tz':' ac co go ne or ','ua':' biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ','ug':' ac co go ne or org sc ','uk':' ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ','us':' dni fed isa kids nsn ','uy':' com edu gub mil net org ','ve':' co com edu gob info mil net org web ','vi':' co com k12 net org ','vn':' ac biz com edu gov health info int name net org pro ','ye':' co com gov ltd me net org plc ','yu':' ac co edu gov org ','za':' ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ','zm':' ac co com edu gov net org sch '},has:function(domain){var tldOffset=domain.lastIndexOf('.');if(tldOffset<=0||tldOffset>=(domain.length-1)){return false;}
var sldOffset=domain.lastIndexOf('.',tldOffset-1);if(sldOffset<=0||sldOffset>=(tldOffset-1)){return false;}
var sldList=SLD.list[domain.slice(tldOffset+1)];if(!sldList){return false;}
return sldList.indexOf(' '+domain.slice(sldOffset+1,tldOffset)+' ')>=0;},is:function(domain){var tldOffset=domain.lastIndexOf('.');if(tldOffset<=0||tldOffset>=(domain.length-1)){return false;}
var sldOffset=domain.lastIndexOf('.',tldOffset-1);if(sldOffset>=0){return false;}
var sldList=SLD.list[domain.slice(tldOffset+1)];if(!sldList){return false;}
return sldList.indexOf(' '+domain.slice(0,tldOffset)+' ')>=0;},get:function(domain){var tldOffset=domain.lastIndexOf('.');if(tldOffset<=0||tldOffset>=(domain.length-1)){return null;}
var sldOffset=domain.lastIndexOf('.',tldOffset-1);if(sldOffset<=0||sldOffset>=(tldOffset-1)){return null;}
var sldList=SLD.list[domain.slice(tldOffset+1)];if(!sldList){return null;}
if(sldList.indexOf(' '+domain.slice(sldOffset+1,tldOffset)+' ')<0){return null;}
return domain.slice(sldOffset+1);},noConflict:function(){if(root.SecondLevelDomains===this){root.SecondLevelDomains=_SecondLevelDomains;}
return this;}};return SLD;}));}),(function(module,exports,__webpack_require__){(function(module,global){var __WEBPACK_AMD_DEFINE_RESULT__;;(function(root){var freeExports=typeof exports=='object'&&exports&&!exports.nodeType&&exports;var freeModule=typeof module=='object'&&module&&!module.nodeType&&module;var freeGlobal=typeof global=='object'&&global;if(freeGlobal.global===freeGlobal||freeGlobal.window===freeGlobal||freeGlobal.self===freeGlobal){root=freeGlobal;}
var punycode,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter='-',regexPunycode=/^xn--/,regexNonASCII=/[^\x20-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={'overflow':'Overflow: input needs wider integers to process','not-basic':'Illegal input >= 0x80 (not a basic code point)','invalid-input':'Invalid input'},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode,key;function error(type){throw new RangeError(errors[type]);}
function map(array,fn){var length=array.length;var result=[];while(length--){result[length]=fn(array[length]);}
return result;}
function mapDomain(string,fn){var parts=string.split('@');var result='';if(parts.length>1){result=parts[0]+'@';string=parts[1];}
string=string.replace(regexSeparators,'\x2E');var labels=string.split('.');var encoded=map(labels,fn).join('.');return result+encoded;}
function ucs2decode(string){var output=[],counter=0,length=string.length,value,extra;while(counter<length){value=string.charCodeAt(counter++);if(value>=0xD800&&value<=0xDBFF&&counter<length){extra=string.charCodeAt(counter++);if((extra&0xFC00)==0xDC00){output.push(((value&0x3FF)<<10)+(extra&0x3FF)+0x10000);}else{output.push(value);counter--;}}else{output.push(value);}}
return output;}
function ucs2encode(array){return map(array,function(value){var output='';if(value>0xFFFF){value-=0x10000;output+=stringFromCharCode(value>>>10&0x3FF|0xD800);value=0xDC00|value&0x3FF;}
output+=stringFromCharCode(value);return output;}).join('');}
function basicToDigit(codePoint){if(codePoint-48<10){return codePoint-22;}
if(codePoint-65<26){return codePoint-65;}
if(codePoint-97<26){return codePoint-97;}
return base;}
function digitToBasic(digit,flag){return digit+22+75*(digit<26)-((flag!=0)<<5);}
function adapt(delta,numPoints,firstTime){var k=0;delta=firstTime?floor(delta / damp):delta>>1;delta+=floor(delta / numPoints);for(;delta>baseMinusTMin*tMax>>1;k+=base){delta=floor(delta / baseMinusTMin);}
return floor(k+(baseMinusTMin+1)*delta /(delta+skew));}
function decode(input){var output=[],inputLength=input.length,out,i=0,n=initialN,bias=initialBias,basic,j,index,oldi,w,k,digit,t,baseMinusT;basic=input.lastIndexOf(delimiter);if(basic<0){basic=0;}
for(j=0;j<basic;++j){if(input.charCodeAt(j)>=0x80){error('not-basic');}
output.push(input.charCodeAt(j));}
for(index=basic>0?basic+1:0;index<inputLength;){for(oldi=i,w=1,k=base;;k+=base){if(index>=inputLength){error('invalid-input');}
digit=basicToDigit(input.charCodeAt(index++));if(digit>=base||digit>floor((maxInt-i)/ w)){error('overflow');}
i+=digit*w;t=k<=bias?tMin:(k>=bias+tMax?tMax:k-bias);if(digit<t){break;}
baseMinusT=base-t;if(w>floor(maxInt / baseMinusT)){error('overflow');}
w*=baseMinusT;}
out=output.length+1;bias=adapt(i-oldi,out,oldi==0);if(floor(i / out)>maxInt-n){error('overflow');}
n+=floor(i / out);i%=out;output.splice(i++,0,n);}
return ucs2encode(output);}
function encode(input){var n,delta,handledCPCount,basicLength,bias,j,m,q,k,t,currentValue,output=[],inputLength,handledCPCountPlusOne,baseMinusT,qMinusT;input=ucs2decode(input);inputLength=input.length;n=initialN;delta=0;bias=initialBias;for(j=0;j<inputLength;++j){currentValue=input[j];if(currentValue<0x80){output.push(stringFromCharCode(currentValue));}}
handledCPCount=basicLength=output.length;if(basicLength){output.push(delimiter);}
while(handledCPCount<inputLength){for(m=maxInt,j=0;j<inputLength;++j){currentValue=input[j];if(currentValue>=n&&currentValue<m){m=currentValue;}}
handledCPCountPlusOne=handledCPCount+1;if(m-n>floor((maxInt-delta)/ handledCPCountPlusOne)){error('overflow');}
delta+=(m-n)*handledCPCountPlusOne;n=m;for(j=0;j<inputLength;++j){currentValue=input[j];if(currentValue<n&&++delta>maxInt){error('overflow');}
if(currentValue==n){for(q=delta,k=base;;k+=base){t=k<=bias?tMin:(k>=bias+tMax?tMax:k-bias);if(q<t){break;}
qMinusT=q-t;baseMinusT=base-t;output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0)));q=floor(qMinusT / baseMinusT);}
output.push(stringFromCharCode(digitToBasic(q,0)));bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength);delta=0;++handledCPCount;}}
++delta;++n;}
return output.join('');}
function toUnicode(input){return mapDomain(input,function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string;});}
function toASCII(input){return mapDomain(input,function(string){return regexNonASCII.test(string)?'xn--'+encode(string):string;});}
punycode={'version':'1.3.2','ucs2':{'decode':ucs2decode,'encode':ucs2encode},'decode':decode,'encode':encode,'toASCII':toASCII,'toUnicode':toUnicode};if(true){!(__WEBPACK_AMD_DEFINE_RESULT__=function(){return punycode;}.call(exports,__webpack_require__,exports,module),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));}else if(freeExports&&freeModule){if(module.exports==freeExports){freeModule.exports=punycode;}else{for(key in punycode){punycode.hasOwnProperty(key)&&(freeExports[key]=punycode[key]);}}}else{root.punycode=punycode;}}(this));}.call(exports,__webpack_require__(121)(module),__webpack_require__(52)))}),(function(module,exports,__webpack_require__){(function(f,e){true?module.exports=e():"function"===typeof define&&define.amd?define(e):f.Stats=e()})(this,function(){var f=function(){function e(a){c.appendChild(a.dom);return a}function u(a){for(var d=0;d<c.children.length;d++)c.children[d].style.display=d===a?"block":"none";l=a}var l=0,c=document.createElement("div");c.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000";c.addEventListener("click",function(a){a.preventDefault();u(++l%c.children.length)},!1);var k=(performance||Date).now(),g=k,a=0,r=e(new f.Panel("FPS","#0ff","#002")),h=e(new f.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var t=e(new f.Panel("MB","#f08","#201"));u(0);return{REVISION:16,dom:c,addPanel:e,showPanel:u,begin:function(){k=(performance||Date).now()},end:function(){a++;var c=(performance||Date).now();h.update(c-k,200);if(c>g+1E3&&(r.update(1E3*a/(c-g),100),g=c,a=0,t)){var d=performance.memory;t.update(d.usedJSHeapSize/
1048576,d.jsHeapSizeLimit/1048576)}return c},update:function(){k=this.end()},domElement:c,setMode:u}};f.Panel=function(e,f,l){var c=Infinity,k=0,g=Math.round,a=g(window.devicePixelRatio||1),r=80*a,h=48*a,t=3*a,v=2*a,d=3*a,m=15*a,n=74*a,p=30*a,q=document.createElement("canvas");q.width=r;q.height=h;q.style.cssText="width:80px;height:48px";var b=q.getContext("2d");b.font="bold "+9*a+"px Helvetica,Arial,sans-serif";b.textBaseline="top";b.fillStyle=l;b.fillRect(0,0,r,h);b.fillStyle=f;b.fillText(e,t,v);b.fillRect(d,m,n,p);b.fillStyle=l;b.globalAlpha=.9;b.fillRect(d,m,n,p);return{dom:q,update:function(h,w){c=Math.min(c,h);k=Math.max(k,h);b.fillStyle=l;b.globalAlpha=1;b.fillRect(0,0,r,m);b.fillStyle=f;b.fillText(g(h)+" "+e+" ("+g(c)+"-"+g(k)+")",t,v);b.drawImage(q,d+a,m,n-a,p,d,m,n-a,p);b.fillRect(d+n-a,m,a,p);b.fillStyle=l;b.globalAlpha=.9;b.fillRect(d+n-a,m,a,g((1-h/w)*p))}}};return f});}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});__webpack_require__(22);const _=__webpack_require__(69);const gameObject_1=__webpack_require__(51);const gameObjectGenerator_1=__webpack_require__(229);const weaponSelectPanel_1=__webpack_require__(718);const collision_1=__webpack_require__(228);const player_1=__webpack_require__(716);const cpu_1=__webpack_require__(712);class Level extends gameObject_1.GameObject{constructor(game){super(game);this.shape={kind:"Rectangle",x:0,y:0,width:960,height:540,angle:0};this.isLoad=false;this.organizationMap=Object.create(null);this.gameObjectList=[];this.removeQueueList=[];this.countFrame=0;this.view=new PIXI.Container();this.game.app.stage.addChild(this.view);this.collision=new collision_1.Collision();}
load(levelText){this.levelData=JSON.parse(levelText);for(let config of this.levelData["Organization"]){let organization=config.type=="player"?new player_1.Player(this.game,config):new cpu_1.CPU(this.game,config);this.organizationMap[organization.name]=organization;}
this.weaponSelectPanel=new weaponSelectPanel_1.WeaponSelectPanel(this.game,this.levelData,this.organizationMap["sun"]);for(let node of this.levelData["GameObject"]){this.addObject(gameObjectGenerator_1.GameObjectGenerator.create(node["type"],this.game,node));}}
save(){}
update(){for(let key in this.organizationMap){let organization=this.organizationMap[key];organization.update();}
for(let object of this.gameObjectList){object.update();}
this.collision.tick();this.removeExec();this.countFrame++;}
addObject(object){this.gameObjectList.push(object);}
removeQueue(object){this.removeQueueList.push(object);this.collision.remove(object);}
removeExec(){for(let a of this.removeQueueList){_.remove(this.gameObjectList,(b)=>{return a===b;});}
this.removeQueueList=[];}
draw(renderer){for(let object of this.gameObjectList){object.draw(renderer);}}}
exports.Level=Level;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});__webpack_require__(22);const _=__webpack_require__(69);const URI=__webpack_require__(720);class Loader{constructor(){this.ququeList=[];this.loadingList=[];}
load(path){return new Promise((resolve)=>{let normalizePath=new URI(path).normalize().toString();this.ququeList.push({path:normalizePath,callback:(texture)=>{resolve(texture);}});this.loadStart();});}
loadStart(){if(this.loadingList.length!=0){return;}
this.loadExec().then(()=>{for(let load of this.loadingList){load.callback(PIXI.loader.resources[load.path].texture);}
this.loadingList=[];if(this.ququeList.length!=0){this.loadStart();}});}
loadExec(){this.loadingList=this.ququeList;let addList=this.ququeList;this.ququeList=[];addList=_.uniqBy(addList,'path');addList=addList.filter((e)=>{return PIXI.loader.resources[e.path]==null;});if(addList.length==0){return new Promise((resolve)=>{resolve();});}
for(let load of addList){PIXI.loader.add(load.path);console.log(load.path);}
return new Promise((resolve,reject)=>{PIXI.loader.load(()=>{resolve();});});}}
exports.Loader=Loader;}),(function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(root){"use strict";var P={'re':0,'im':0};Math.cosh=Math.cosh||function(x){return(Math.exp(x)+Math.exp(-x))*0.5;};Math.sinh=Math.sinh||function(x){return(Math.exp(x)-Math.exp(-x))*0.5;};var parser_exit=function(){throw SyntaxError("Invalid Param");};function logHypot(a,b){var _a=Math.abs(a);var _b=Math.abs(b);if(a===0){return Math.log(_b);}
if(b===0){return Math.log(_a);}
if(_a<3000&&_b<3000){return Math.log(a*a+b*b)*0.5;}
return Math.log(a / Math.cos(Math.atan2(b,a)));}
var parse=function(a,b){if(a===undefined||a===null){P["re"]=P["im"]=0;}else if(b!==undefined){P["re"]=a;P["im"]=b;}else switch(typeof a){case"object":if("im"in a&&"re"in a){P["re"]=a["re"];P["im"]=a["im"];}else if("abs"in a&&"arg"in a){P["re"]=a["abs"]*Math.cos(a["arg"]);P["im"]=a["abs"]*Math.sin(a["arg"]);}else if("r"in a&&"phi"in a){P["re"]=a["r"]*Math.cos(a["phi"]);P["im"]=a["r"]*Math.sin(a["phi"]);}else{parser_exit();}
break;case"string":P["im"]=P["re"]=0;var tokens=a.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);var plus=1;var minus=0;if(tokens===null){parser_exit();}
for(var i=0;i<tokens.length;i++){var c=tokens[i];if(c===' '||c==='\t'||c==='\n'){}else if(c==='+'){plus++;}else if(c==='-'){minus++;}else if(c==='i'||c==='I'){if(plus+minus===0){parser_exit();}
if(tokens[i+1]!==' '&&!isNaN(tokens[i+1])){P["im"]+=parseFloat((minus%2?"-":"")+tokens[i+1]);i++;}else{P["im"]+=parseFloat((minus%2?"-":"")+"1");}
plus=minus=0;}else{if(plus+minus===0||isNaN(c)){parser_exit();}
if(tokens[i+1]==='i'||tokens[i+1]==='I'){P["im"]+=parseFloat((minus%2?"-":"")+c);i++;}else{P["re"]+=parseFloat((minus%2?"-":"")+c);}
plus=minus=0;}}
if(plus+minus>0){parser_exit();}
break;case"number":P["im"]=0;P["re"]=a;break;default:parser_exit();}
if(isNaN(P["re"])||isNaN(P["im"])){}};function Complex(a,b){if(!(this instanceof Complex)){return new Complex(a,b);}
parse(a,b);this["re"]=P["re"];this["im"]=P["im"];}
Complex.prototype={"re":0,"im":0,"sign":function(){var abs=this["abs"]();return new Complex(this["re"]/ abs,this["im"]/ abs);},"add":function(a,b){parse(a,b);return new Complex(this["re"]+P["re"],this["im"]+P["im"]);},"sub":function(a,b){parse(a,b);return new Complex(this["re"]-P["re"],this["im"]-P["im"]);},"mul":function(a,b){parse(a,b);if(P['im']===0&&this['im']===0){return new Complex(this['re']*P['re'],0);}
return new Complex(this["re"]*P["re"]-this["im"]*P["im"],this["re"]*P["im"]+this["im"]*P["re"]);},"div":function(a,b){parse(a,b);a=this["re"];b=this["im"];var c=P["re"];var d=P["im"];var t,x;if(0===c&&0===d){return new Complex((a!==0)?(a / 0):0,(b!==0)?(b / 0):0);}
if(0===d){return new Complex(a / c,b / c);}
if(Math.abs(c)<Math.abs(d)){x=c / d;t=c*x+d;return new Complex((a*x+b)/ t,(b*x-a)/ t);}else{x=d / c;t=d*x+c;return new Complex((a+b*x)/ t,(b-a*x)/ t);}},"pow":function(a,b){parse(a,b);a=this["re"];b=this["im"];if(a===0&&b===0){return new Complex(0,0);}
var arg=Math.atan2(b,a);var loh=logHypot(a,b);if(P["im"]===0){if(b===0&&a>=0){return new Complex(Math.pow(a,P["re"]),0);}else if(a===0){switch(P["re"]%4){case 0:return new Complex(Math.pow(b,P["re"]),0);case 1:return new Complex(0,Math.pow(b,P["re"]));case 2:return new Complex(-Math.pow(b,P["re"]),0);case 3:return new Complex(0,-Math.pow(b,P["re"]));}}}
a=Math.exp(P["re"]*loh-P["im"]*arg);b=P["im"]*loh+P["re"]*arg;return new Complex(a*Math.cos(b),a*Math.sin(b));},"sqrt":function(){var a=this["re"];var b=this["im"];var r=this["abs"]();var re,im;if(a>=0&&b===0){return new Complex(Math.sqrt(a),0);}
if(a>=0){re=0.5*Math.sqrt(2.0*(r+a));}else{re=Math.abs(b)/ Math.sqrt(2*(r-a));}
if(a<=0){im=0.5*Math.sqrt(2.0*(r-a));}else{im=Math.abs(b)/ Math.sqrt(2*(r+a));}
return new Complex(re,b>=0?im:-im);},"exp":function(){var tmp=Math.exp(this["re"]);if(this["im"]===0){}
return new Complex(tmp*Math.cos(this["im"]),tmp*Math.sin(this["im"]));},"log":function(){var a=this["re"];var b=this["im"];if(b===0&&a>0){}
return new Complex(logHypot(a,b),Math.atan2(b,a));},"abs":function(){var a=Math.abs(this["re"]);var b=Math.abs(this["im"]);if(a<3000&&b<3000){return Math.sqrt(a*a+b*b);}
if(a<b){a=b;b=this["re"]/ this["im"];}else{b=this["im"]/ this["re"];}
return a*Math.sqrt(1+b*b);},"arg":function(){return Math.atan2(this["im"],this["re"]);},"sin":function(){var a=this["re"];var b=this["im"];return new Complex(Math.sin(a)*Math.cosh(b),Math.cos(a)*Math.sinh(b));},"cos":function(){var a=this["re"];var b=this["im"];return new Complex(Math.cos(a)*Math.cosh(b),-Math.sin(a)*Math.sinh(b));},"tan":function(){var a=2*this["re"];var b=2*this["im"];var d=Math.cos(a)+Math.cosh(b);return new Complex(Math.sin(a)/ d,Math.sinh(b)/ d);},"cot":function(){var a=2*this["re"];var b=2*this["im"];var d=Math.cos(a)-Math.cosh(b);return new Complex(-Math.sin(a)/ d,Math.sinh(b)/ d);},"sec":function(){var a=this["re"];var b=this["im"];var d=0.5*Math.cosh(2*b)+0.5*Math.cos(2*a);return new Complex(Math.cos(a)*Math.cosh(b)/ d,Math.sin(a)*Math.sinh(b)/ d);},"csc":function(){var a=this["re"];var b=this["im"];var d=0.5*Math.cosh(2*b)-0.5*Math.cos(2*a);return new Complex(Math.sin(a)*Math.cosh(b)/ d,-Math.cos(a)*Math.sinh(b)/ d);},"asin":function(){var a=this["re"];var b=this["im"];var t1=new Complex(b*b-a*a+1,-2*a*b)['sqrt']();var t2=new Complex(t1['re']-b,t1['im']+a)['log']();return new Complex(t2['im'],-t2['re']);},"acos":function(){var a=this["re"];var b=this["im"];var t1=new Complex(b*b-a*a+1,-2*a*b)['sqrt']();var t2=new Complex(t1["re"]-b,t1["im"]+a)['log']();return new Complex(Math.PI / 2-t2["im"],t2["re"]);},"atan":function(){var a=this["re"];var b=this["im"];if(a===0){if(b===1){return new Complex(0,Infinity);}
if(b===-1){return new Complex(0,-Infinity);}}
var d=a*a+(1.0-b)*(1.0-b);var t1=new Complex((1-b*b-a*a)/ d,-2*a / d).log();return new Complex(-0.5*t1["im"],0.5*t1["re"]);},"acot":function(){var a=this["re"];var b=this["im"];if(b===0){return new Complex(Math.atan2(1,a),0);}
var d=a*a+b*b;return(d!==0)?new Complex(a / d,-b / d).atan():new Complex((a!==0)?a / 0:0,(b!==0)?-b / 0:0).atan();},"asec":function(){var a=this["re"];var b=this["im"];if(a===0&&b===0){return new Complex(0,Infinity);}
var d=a*a+b*b;return(d!==0)?new Complex(a / d,-b / d).acos():new Complex((a!==0)?a / 0:0,(b!==0)?-b / 0:0).acos();},"acsc":function(){var a=this["re"];var b=this["im"];if(a===0&&b===0){return new Complex(Math.PI / 2,Infinity);}
var d=a*a+b*b;return(d!==0)?new Complex(a / d,-b / d).asin():new Complex((a!==0)?a / 0:0,(b!==0)?-b / 0:0).asin();},"sinh":function(){var a=this["re"];var b=this["im"];return new Complex(Math.sinh(a)*Math.cos(b),Math.cosh(a)*Math.sin(b));},"cosh":function(){var a=this["re"];var b=this["im"];return new Complex(Math.cosh(a)*Math.cos(b),Math.sinh(a)*Math.sin(b));},"tanh":function(){var a=2*this["re"];var b=2*this["im"];var d=Math.cosh(a)+Math.cos(b);return new Complex(Math.sinh(a)/ d,Math.sin(b)/ d);},"coth":function(){var a=2*this["re"];var b=2*this["im"];var d=Math.cosh(a)-Math.cos(b);return new Complex(Math.sinh(a)/ d,-Math.sin(b)/ d);},"csch":function(){var a=this["re"];var b=this["im"];var d=Math.cos(2*b)-Math.cosh(2*a);return new Complex(-2*Math.sinh(a)*Math.cos(b)/ d,2*Math.cosh(a)*Math.sin(b)/ d);},"sech":function(){var a=this["re"];var b=this["im"];var d=Math.cos(2*b)+Math.cosh(2*a);return new Complex(2*Math.cosh(a)*Math.cos(b)/ d,-2*Math.sinh(a)*Math.sin(b)/ d);},"asinh":function(){var tmp=this["im"];this["im"]=-this["re"];this["re"]=tmp;var res=this["asin"]();this["re"]=-this["im"];this["im"]=tmp;tmp=res["re"];res["re"]=-res["im"];res["im"]=tmp;return res;},"acosh":function(){var tmp;var res=this["acos"]();if(res["im"]<=0){tmp=res["re"];res["re"]=-res["im"];res["im"]=tmp;}else{tmp=res["im"];res["im"]=-res["re"];res["re"]=tmp;}
return res;},"atanh":function(){var a=this["re"];var b=this["im"];var noIM=a>1&&b===0;var oneMinus=1-a;var onePlus=1+a;var d=oneMinus*oneMinus+b*b;var x=(d!==0)?new Complex((onePlus*oneMinus-b*b)/ d,(b*oneMinus+onePlus*b)/ d):new Complex((a!==-1)?(a / 0):0,(b!==0)?(b / 0):0);var temp=x["re"];x["re"]=logHypot(x["re"],x["im"])/ 2;x["im"]=Math.atan2(x["im"],temp)/ 2;if(noIM){x["im"]=-x["im"];}
return x;},"acoth":function(){var a=this["re"];var b=this["im"];if(a===0&&b===0){return new Complex(0,Math.PI / 2);}
var d=a*a+b*b;return(d!==0)?new Complex(a / d,-b / d).atanh():new Complex((a!==0)?a / 0:0,(b!==0)?-b / 0:0).atanh();},"acsch":function(){var a=this["re"];var b=this["im"];if(b===0){return new Complex((a!==0)?Math.log(a+Math.sqrt(a*a+1)):Infinity,0);}
var d=a*a+b*b;return(d!==0)?new Complex(a / d,-b / d).asinh():new Complex((a!==0)?a / 0:0,(b!==0)?-b / 0:0).asinh();},"asech":function(){var a=this["re"];var b=this["im"];if(a===0&&b===0){return new Complex(Infinity,0);}
var d=a*a+b*b;return(d!==0)?new Complex(a / d,-b / d).acosh():new Complex((a!==0)?a / 0:0,(b!==0)?-b / 0:0).acosh();},"inverse":function(){var a=this["re"];var b=this["im"];var d=a*a+b*b;return new Complex(a!==0?a / d:0,b!==0?-b / d:0);},"conjugate":function(){return new Complex(this["re"],-this["im"]);},"neg":function(){return new Complex(-this["re"],-this["im"]);},"ceil":function(places){places=Math.pow(10,places||0);return new Complex(Math.ceil(this["re"]*places)/ places,Math.ceil(this["im"]*places)/ places);},"floor":function(places){places=Math.pow(10,places||0);return new Complex(Math.floor(this["re"]*places)/ places,Math.floor(this["im"]*places)/ places);},"round":function(places){places=Math.pow(10,places||0);return new Complex(Math.round(this["re"]*places)/ places,Math.round(this["im"]*places)/ places);},"equals":function(a,b){parse(a,b);return Math.abs(P["re"]-this["re"])<=Complex["EPSILON"]&&Math.abs(P["im"]-this["im"])<=Complex["EPSILON"];},"clone":function(){return new Complex(this["re"],this["im"]);},"toString":function(){var a=this["re"];var b=this["im"];var ret="";if(isNaN(a)||isNaN(b)){return"NaN";}
if(a!==0){ret+=a;}
if(b!==0){if(a!==0){ret+=b<0?" - ":" + ";}else if(b<0){ret+="-";}
b=Math.abs(b);if(1!==b){ret+=b;}
ret+="i";}
if(!ret)
return"0";return ret;},"toVector":function(){return[this["re"],this["im"]];},"valueOf":function(){if(this["im"]===0){return this["re"];}
return null;},isNaN:function(){return isNaN(this['re'])||isNaN(this['im']);}};Complex["ZERO"]=new Complex(0,0);Complex["ONE"]=new Complex(1,0);Complex["I"]=new Complex(0,1);Complex["PI"]=new Complex(Math.PI,0);Complex["E"]=new Complex(Math.E,0);Complex['EPSILON']=1e-16;if(true){!(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return Complex;}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));}else if(typeof exports==="object"){module["exports"]=Complex;}else{root["Complex"]=Complex;}})(this);}),(function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;;(function(globalScope){'use strict';var EXP_LIMIT=9e15,MAX_DIGITS=1e9,NUMERALS='0123456789abcdef',LN10='2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058',PI='3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789',Decimal={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-EXP_LIMIT,maxE:EXP_LIMIT,crypto:false},inexact,noConflict,quadrant,external=true,decimalError='[DecimalError] ',invalidArgument=decimalError+'Invalid argument: ',precisionLimitExceeded=decimalError+'Precision limit exceeded',cryptoUnavailable=decimalError+'crypto unavailable',mathfloor=Math.floor,mathpow=Math.pow,isBinary=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,isHex=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,isOctal=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,LN10_PRECISION=LN10.length-1,PI_PRECISION=PI.length-1,P={};P.absoluteValue=P.abs=function(){var x=new this.constructor(this);if(x.s<0)x.s=1;return finalise(x);};P.ceil=function(){return finalise(new this.constructor(this),this.e+1,2);};P.comparedTo=P.cmp=function(y){var i,j,xdL,ydL,x=this,xd=x.d,yd=(y=new x.constructor(y)).d,xs=x.s,ys=y.s;if(!xd||!yd){return!xs||!ys?NaN:xs!==ys?xs:xd===yd?0:!xd^xs<0?1:-1;}
if(!xd[0]||!yd[0])return xd[0]?xs:yd[0]?-ys:0;if(xs!==ys)return xs;if(x.e!==y.e)return x.e>y.e^xs<0?1:-1;xdL=xd.length;ydL=yd.length;for(i=0,j=xdL<ydL?xdL:ydL;i<j;++i){if(xd[i]!==yd[i])return xd[i]>yd[i]^xs<0?1:-1;}
return xdL===ydL?0:xdL>ydL^xs<0?1:-1;};P.cosine=P.cos=function(){var pr,rm,x=this,Ctor=x.constructor;if(!x.d)return new Ctor(NaN);if(!x.d[0])return new Ctor(1);pr=Ctor.precision;rm=Ctor.rounding;Ctor.precision=pr+Math.max(x.e,x.sd())+LOG_BASE;Ctor.rounding=1;x=cosine(Ctor,toLessThanHalfPi(Ctor,x));Ctor.precision=pr;Ctor.rounding=rm;return finalise(quadrant==2||quadrant==3?x.neg():x,pr,rm,true);};P.cubeRoot=P.cbrt=function(){var e,m,n,r,rep,s,sd,t,t3,t3plusx,x=this,Ctor=x.constructor;if(!x.isFinite()||x.isZero())return new Ctor(x);external=false;s=x.s*Math.pow(x.s*x,1 / 3);if(!s||Math.abs(s)==1 / 0){n=digitsToString(x.d);e=x.e;if(s=(e-n.length+1)%3)n+=(s==1||s==-2?'0':'00');s=Math.pow(n,1 / 3);e=mathfloor((e+1)/ 3)-(e%3==(e<0?-1:2));if(s==1 / 0){n='5e'+e;}else{n=s.toExponential();n=n.slice(0,n.indexOf('e')+1)+e;}
r=new Ctor(n);r.s=x.s;}else{r=new Ctor(s.toString());}
sd=(e=Ctor.precision)+3;for(;;){t=r;t3=t.times(t).times(t);t3plusx=t3.plus(x);r=divide(t3plusx.plus(x).times(t),t3plusx.plus(t3),sd+2,1);if(digitsToString(t.d).slice(0,sd)===(n=digitsToString(r.d)).slice(0,sd)){n=n.slice(sd-3,sd+1);if(n=='9999'||!rep&&n=='4999'){if(!rep){finalise(t,e+1,0);if(t.times(t).times(t).eq(x)){r=t;break;}}
sd+=4;rep=1;}else{if(!+n||!+n.slice(1)&&n.charAt(0)=='5'){finalise(r,e+1,1);m=!r.times(r).times(r).eq(x);}
break;}}}
external=true;return finalise(r,e,Ctor.rounding,m);};P.decimalPlaces=P.dp=function(){var w,d=this.d,n=NaN;if(d){w=d.length-1;n=(w-mathfloor(this.e / LOG_BASE))*LOG_BASE;w=d[w];if(w)for(;w%10==0;w /=10)n--;if(n<0)n=0;}
return n;};P.dividedBy=P.div=function(y){return divide(this,new this.constructor(y));};P.dividedToIntegerBy=P.divToInt=function(y){var x=this,Ctor=x.constructor;return finalise(divide(x,new Ctor(y),0,1,1),Ctor.precision,Ctor.rounding);};P.equals=P.eq=function(y){return this.cmp(y)===0;};P.floor=function(){return finalise(new this.constructor(this),this.e+1,3);};P.greaterThan=P.gt=function(y){return this.cmp(y)>0;};P.greaterThanOrEqualTo=P.gte=function(y){var k=this.cmp(y);return k==1||k===0;};P.hyperbolicCosine=P.cosh=function(){var k,n,pr,rm,len,x=this,Ctor=x.constructor,one=new Ctor(1);if(!x.isFinite())return new Ctor(x.s?1 / 0:NaN);if(x.isZero())return one;pr=Ctor.precision;rm=Ctor.rounding;Ctor.precision=pr+Math.max(x.e,x.sd())+4;Ctor.rounding=1;len=x.d.length;if(len<32){k=Math.ceil(len / 3);n=Math.pow(4,-k).toString();}else{k=16;n='2.3283064365386962890625e-10';}
x=taylorSeries(Ctor,1,x.times(n),new Ctor(1),true);var cosh2_x,i=k,d8=new Ctor(8);for(;i--;){cosh2_x=x.times(x);x=one.minus(cosh2_x.times(d8.minus(cosh2_x.times(d8))));}
return finalise(x,Ctor.precision=pr,Ctor.rounding=rm,true);};P.hyperbolicSine=P.sinh=function(){var k,pr,rm,len,x=this,Ctor=x.constructor;if(!x.isFinite()||x.isZero())return new Ctor(x);pr=Ctor.precision;rm=Ctor.rounding;Ctor.precision=pr+Math.max(x.e,x.sd())+4;Ctor.rounding=1;len=x.d.length;if(len<3){x=taylorSeries(Ctor,2,x,x,true);}else{k=1.4*Math.sqrt(len);k=k>16?16:k|0;x=x.times(Math.pow(5,-k));x=taylorSeries(Ctor,2,x,x,true);var sinh2_x,d5=new Ctor(5),d16=new Ctor(16),d20=new Ctor(20);for(;k--;){sinh2_x=x.times(x);x=x.times(d5.plus(sinh2_x.times(d16.times(sinh2_x).plus(d20))));}}
Ctor.precision=pr;Ctor.rounding=rm;return finalise(x,pr,rm,true);};P.hyperbolicTangent=P.tanh=function(){var pr,rm,x=this,Ctor=x.constructor;if(!x.isFinite())return new Ctor(x.s);if(x.isZero())return new Ctor(x);pr=Ctor.precision;rm=Ctor.rounding;Ctor.precision=pr+7;Ctor.rounding=1;return divide(x.sinh(),x.cosh(),Ctor.precision=pr,Ctor.rounding=rm);};P.inverseCosine=P.acos=function(){var halfPi,x=this,Ctor=x.constructor,k=x.abs().cmp(1),pr=Ctor.precision,rm=Ctor.rounding;if(k!==-1){return k===0?x.isNeg()?getPi(Ctor,pr,rm):new Ctor(0):new Ctor(NaN);}
if(x.isZero())return getPi(Ctor,pr+4,rm).times(0.5);Ctor.precision=pr+6;Ctor.rounding=1;x=x.asin();halfPi=getPi(Ctor,pr+4,rm).times(0.5);Ctor.precision=pr;Ctor.rounding=rm;return halfPi.minus(x);};P.inverseHyperbolicCosine=P.acosh=function(){var pr,rm,x=this,Ctor=x.constructor;if(x.lte(1))return new Ctor(x.eq(1)?0:NaN);if(!x.isFinite())return new Ctor(x);pr=Ctor.precision;rm=Ctor.rounding;Ctor.precision=pr+Math.max(Math.abs(x.e),x.sd())+4;Ctor.rounding=1;external=false;x=x.times(x).minus(1).sqrt().plus(x);external=true;Ctor.precision=pr;Ctor.rounding=rm;return x.ln();};P.inverseHyperbolicSine=P.asinh=function(){var pr,rm,x=this,Ctor=x.constructor;if(!x.isFinite()||x.isZero())return new Ctor(x);pr=Ctor.precision;rm=Ctor.rounding;Ctor.precision=pr+2*Math.max(Math.abs(x.e),x.sd())+6;Ctor.rounding=1;external=false;x=x.times(x).plus(1).sqrt().plus(x);external=true;Ctor.precision=pr;Ctor.rounding=rm;return x.ln();};P.inverseHyperbolicTangent=P.atanh=function(){var pr,rm,wpr,xsd,x=this,Ctor=x.constructor;if(!x.isFinite())return new Ctor(NaN);if(x.e>=0)return new Ctor(x.abs().eq(1)?x.s / 0:x.isZero()?x:NaN);pr=Ctor.precision;rm=Ctor.rounding;xsd=x.sd();if(Math.max(xsd,pr)<2*-x.e-1)return finalise(new Ctor(x),pr,rm,true);Ctor.precision=wpr=xsd-x.e;x=divide(x.plus(1),new Ctor(1).minus(x),wpr+pr,1);Ctor.precision=pr+4;Ctor.rounding=1;x=x.ln();Ctor.precision=pr;Ctor.rounding=rm;return x.times(0.5);};P.inverseSine=P.asin=function(){var halfPi,k,pr,rm,x=this,Ctor=x.constructor;if(x.isZero())return new Ctor(x);k=x.abs().cmp(1);pr=Ctor.precision;rm=Ctor.rounding;if(k!==-1){if(k===0){halfPi=getPi(Ctor,pr+4,rm).times(0.5);halfPi.s=x.s;return halfPi;}
return new Ctor(NaN);}
Ctor.precision=pr+6;Ctor.rounding=1;x=x.div(new Ctor(1).minus(x.times(x)).sqrt().plus(1)).atan();Ctor.precision=pr;Ctor.rounding=rm;return x.times(2);};P.inverseTangent=P.atan=function(){var i,j,k,n,px,t,r,wpr,x2,x=this,Ctor=x.constructor,pr=Ctor.precision,rm=Ctor.rounding;if(!x.isFinite()){if(!x.s)return new Ctor(NaN);if(pr+4<=PI_PRECISION){r=getPi(Ctor,pr+4,rm).times(0.5);r.s=x.s;return r;}}else if(x.isZero()){return new Ctor(x);}else if(x.abs().eq(1)&&pr+4<=PI_PRECISION){r=getPi(Ctor,pr+4,rm).times(0.25);r.s=x.s;return r;}
Ctor.precision=wpr=pr+10;Ctor.rounding=1;k=Math.min(28,wpr / LOG_BASE+2|0);for(i=k;i;--i)x=x.div(x.times(x).plus(1).sqrt().plus(1));external=false;j=Math.ceil(wpr / LOG_BASE);n=1;x2=x.times(x);r=new Ctor(x);px=x;for(;i!==-1;){px=px.times(x2);t=r.minus(px.div(n+=2));px=px.times(x2);r=t.plus(px.div(n+=2));if(r.d[j]!==void 0)for(i=j;r.d[i]===t.d[i]&&i--;);}
if(k)r=r.times(2<<(k-1));external=true;return finalise(r,Ctor.precision=pr,Ctor.rounding=rm,true);};P.isFinite=function(){return!!this.d;};P.isInteger=P.isInt=function(){return!!this.d&&mathfloor(this.e / LOG_BASE)>this.d.length-2;};P.isNaN=function(){return!this.s;};P.isNegative=P.isNeg=function(){return this.s<0;};P.isPositive=P.isPos=function(){return this.s>0;};P.isZero=function(){return!!this.d&&this.d[0]===0;};P.lessThan=P.lt=function(y){return this.cmp(y)<0;};P.lessThanOrEqualTo=P.lte=function(y){return this.cmp(y)<1;};P.logarithm=P.log=function(base){var isBase10,d,denominator,k,inf,num,sd,r,arg=this,Ctor=arg.constructor,pr=Ctor.precision,rm=Ctor.rounding,guard=5;if(base==null){base=new Ctor(10);isBase10=true;}else{base=new Ctor(base);d=base.d;if(base.s<0||!d||!d[0]||base.eq(1))return new Ctor(NaN);isBase10=base.eq(10);}
d=arg.d;if(arg.s<0||!d||!d[0]||arg.eq(1)){return new Ctor(d&&!d[0]?-1 / 0:arg.s!=1?NaN:d?0:1 / 0);}
if(isBase10){if(d.length>1){inf=true;}else{for(k=d[0];k%10===0;)k /=10;inf=k!==1;}}
external=false;sd=pr+guard;num=naturalLogarithm(arg,sd);denominator=isBase10?getLn10(Ctor,sd+10):naturalLogarithm(base,sd);r=divide(num,denominator,sd,1);if(checkRoundingDigits(r.d,k=pr,rm)){do{sd+=10;num=naturalLogarithm(arg,sd);denominator=isBase10?getLn10(Ctor,sd+10):naturalLogarithm(base,sd);r=divide(num,denominator,sd,1);if(!inf){if(+digitsToString(r.d).slice(k+1,k+15)+1==1e14){r=finalise(r,pr+1,0);}
break;}}while(checkRoundingDigits(r.d,k+=10,rm));}
external=true;return finalise(r,pr,rm);};P.minus=P.sub=function(y){var d,e,i,j,k,len,pr,rm,xd,xe,xLTy,yd,x=this,Ctor=x.constructor;y=new Ctor(y);if(!x.d||!y.d){if(!x.s||!y.s)y=new Ctor(NaN);else if(x.d)y.s=-y.s;else y=new Ctor(y.d||x.s!==y.s?x:NaN);return y;}
if(x.s!=y.s){y.s=-y.s;return x.plus(y);}
xd=x.d;yd=y.d;pr=Ctor.precision;rm=Ctor.rounding;if(!xd[0]||!yd[0]){if(yd[0])y.s=-y.s;else if(xd[0])y=new Ctor(x);else return new Ctor(rm===3?-0:0);return external?finalise(y,pr,rm):y;}
e=mathfloor(y.e / LOG_BASE);xe=mathfloor(x.e / LOG_BASE);xd=xd.slice();k=xe-e;if(k){xLTy=k<0;if(xLTy){d=xd;k=-k;len=yd.length;}else{d=yd;e=xe;len=xd.length;}
i=Math.max(Math.ceil(pr / LOG_BASE),len)+2;if(k>i){k=i;d.length=1;}
d.reverse();for(i=k;i--;)d.push(0);d.reverse();}else{i=xd.length;len=yd.length;xLTy=i<len;if(xLTy)len=i;for(i=0;i<len;i++){if(xd[i]!=yd[i]){xLTy=xd[i]<yd[i];break;}}
k=0;}
if(xLTy){d=xd;xd=yd;yd=d;y.s=-y.s;}
len=xd.length;for(i=yd.length-len;i>0;--i)xd[len++]=0;for(i=yd.length;i>k;){if(xd[--i]<yd[i]){for(j=i;j&&xd[--j]===0;)xd[j]=BASE-1;--xd[j];xd[i]+=BASE;}
xd[i]-=yd[i];}
for(;xd[--len]===0;)xd.pop();for(;xd[0]===0;xd.shift())--e;if(!xd[0])return new Ctor(rm===3?-0:0);y.d=xd;y.e=getBase10Exponent(xd,e);return external?finalise(y,pr,rm):y;};P.modulo=P.mod=function(y){var q,x=this,Ctor=x.constructor;y=new Ctor(y);if(!x.d||!y.s||y.d&&!y.d[0])return new Ctor(NaN);if(!y.d||x.d&&!x.d[0]){return finalise(new Ctor(x),Ctor.precision,Ctor.rounding);}
external=false;if(Ctor.modulo==9){q=divide(x,y.abs(),0,3,1);q.s*=y.s;}else{q=divide(x,y,0,Ctor.modulo,1);}
q=q.times(y);external=true;return x.minus(q);};P.naturalExponential=P.exp=function(){return naturalExponential(this);};P.naturalLogarithm=P.ln=function(){return naturalLogarithm(this);};P.negated=P.neg=function(){var x=new this.constructor(this);x.s=-x.s;return finalise(x);};P.plus=P.add=function(y){var carry,d,e,i,k,len,pr,rm,xd,yd,x=this,Ctor=x.constructor;y=new Ctor(y);if(!x.d||!y.d){if(!x.s||!y.s)y=new Ctor(NaN);else if(!x.d)y=new Ctor(y.d||x.s===y.s?x:NaN);return y;}
if(x.s!=y.s){y.s=-y.s;return x.minus(y);}
xd=x.d;yd=y.d;pr=Ctor.precision;rm=Ctor.rounding;if(!xd[0]||!yd[0]){if(!yd[0])y=new Ctor(x);return external?finalise(y,pr,rm):y;}
k=mathfloor(x.e / LOG_BASE);e=mathfloor(y.e / LOG_BASE);xd=xd.slice();i=k-e;if(i){if(i<0){d=xd;i=-i;len=yd.length;}else{d=yd;e=k;len=xd.length;}
k=Math.ceil(pr / LOG_BASE);len=k>len?k+1:len+1;if(i>len){i=len;d.length=1;}
d.reverse();for(;i--;)d.push(0);d.reverse();}
len=xd.length;i=yd.length;if(len-i<0){i=len;d=yd;yd=xd;xd=d;}
for(carry=0;i;){carry=(xd[--i]=xd[i]+yd[i]+carry)/ BASE|0;xd[i]%=BASE;}
if(carry){xd.unshift(carry);++e;}
for(len=xd.length;xd[--len]==0;)xd.pop();y.d=xd;y.e=getBase10Exponent(xd,e);return external?finalise(y,pr,rm):y;};P.precision=P.sd=function(z){var k,x=this;if(z!==void 0&&z!==!!z&&z!==1&&z!==0)throw Error(invalidArgument+z);if(x.d){k=getPrecision(x.d);if(z&&x.e+1>k)k=x.e+1;}else{k=NaN;}
return k;};P.round=function(){var x=this,Ctor=x.constructor;return finalise(new Ctor(x),x.e+1,Ctor.rounding);};P.sine=P.sin=function(){var pr,rm,x=this,Ctor=x.constructor;if(!x.isFinite())return new Ctor(NaN);if(x.isZero())return new Ctor(x);pr=Ctor.precision;rm=Ctor.rounding;Ctor.precision=pr+Math.max(x.e,x.sd())+LOG_BASE;Ctor.rounding=1;x=sine(Ctor,toLessThanHalfPi(Ctor,x));Ctor.precision=pr;Ctor.rounding=rm;return finalise(quadrant>2?x.neg():x,pr,rm,true);};P.squareRoot=P.sqrt=function(){var m,n,sd,r,rep,t,x=this,d=x.d,e=x.e,s=x.s,Ctor=x.constructor;if(s!==1||!d||!d[0]){return new Ctor(!s||s<0&&(!d||d[0])?NaN:d?x:1 / 0);}
external=false;s=Math.sqrt(+x);if(s==0||s==1 / 0){n=digitsToString(d);if((n.length+e)%2==0)n+='0';s=Math.sqrt(n);e=mathfloor((e+1)/ 2)-(e<0||e%2);if(s==1 / 0){n='1e'+e;}else{n=s.toExponential();n=n.slice(0,n.indexOf('e')+1)+e;}
r=new Ctor(n);}else{r=new Ctor(s.toString());}
sd=(e=Ctor.precision)+3;for(;;){t=r;r=t.plus(divide(x,t,sd+2,1)).times(0.5);if(digitsToString(t.d).slice(0,sd)===(n=digitsToString(r.d)).slice(0,sd)){n=n.slice(sd-3,sd+1);if(n=='9999'||!rep&&n=='4999'){if(!rep){finalise(t,e+1,0);if(t.times(t).eq(x)){r=t;break;}}
sd+=4;rep=1;}else{if(!+n||!+n.slice(1)&&n.charAt(0)=='5'){finalise(r,e+1,1);m=!r.times(r).eq(x);}
break;}}}
external=true;return finalise(r,e,Ctor.rounding,m);};P.tangent=P.tan=function(){var pr,rm,x=this,Ctor=x.constructor;if(!x.isFinite())return new Ctor(NaN);if(x.isZero())return new Ctor(x);pr=Ctor.precision;rm=Ctor.rounding;Ctor.precision=pr+10;Ctor.rounding=1;x=x.sin();x.s=1;x=divide(x,new Ctor(1).minus(x.times(x)).sqrt(),pr+10,0);Ctor.precision=pr;Ctor.rounding=rm;return finalise(quadrant==2||quadrant==4?x.neg():x,pr,rm,true);};P.times=P.mul=function(y){var carry,e,i,k,r,rL,t,xdL,ydL,x=this,Ctor=x.constructor,xd=x.d,yd=(y=new Ctor(y)).d;y.s*=x.s;if(!xd||!xd[0]||!yd||!yd[0]){return new Ctor(!y.s||xd&&!xd[0]&&!yd||yd&&!yd[0]&&!xd?NaN:!xd||!yd?y.s / 0:y.s*0);}
e=mathfloor(x.e / LOG_BASE)+mathfloor(y.e / LOG_BASE);xdL=xd.length;ydL=yd.length;if(xdL<ydL){r=xd;xd=yd;yd=r;rL=xdL;xdL=ydL;ydL=rL;}
r=[];rL=xdL+ydL;for(i=rL;i--;)r.push(0);for(i=ydL;--i>=0;){carry=0;for(k=xdL+i;k>i;){t=r[k]+yd[i]*xd[k-i-1]+carry;r[k--]=t%BASE|0;carry=t / BASE|0;}
r[k]=(r[k]+carry)%BASE|0;}
for(;!r[--rL];)r.pop();if(carry)++e;else r.shift();y.d=r;y.e=getBase10Exponent(r,e);return external?finalise(y,Ctor.precision,Ctor.rounding):y;};P.toBinary=function(sd,rm){return toStringBinary(this,2,sd,rm);};P.toDecimalPlaces=P.toDP=function(dp,rm){var x=this,Ctor=x.constructor;x=new Ctor(x);if(dp===void 0)return x;checkInt32(dp,0,MAX_DIGITS);if(rm===void 0)rm=Ctor.rounding;else checkInt32(rm,0,8);return finalise(x,dp+x.e+1,rm);};P.toExponential=function(dp,rm){var str,x=this,Ctor=x.constructor;if(dp===void 0){str=finiteToString(x,true);}else{checkInt32(dp,0,MAX_DIGITS);if(rm===void 0)rm=Ctor.rounding;else checkInt32(rm,0,8);x=finalise(new Ctor(x),dp+1,rm);str=finiteToString(x,true,dp+1);}
return x.isNeg()&&!x.isZero()?'-'+str:str;};P.toFixed=function(dp,rm){var str,y,x=this,Ctor=x.constructor;if(dp===void 0){str=finiteToString(x);}else{checkInt32(dp,0,MAX_DIGITS);if(rm===void 0)rm=Ctor.rounding;else checkInt32(rm,0,8);y=finalise(new Ctor(x),dp+x.e+1,rm);str=finiteToString(y,false,dp+y.e+1);}
return x.isNeg()&&!x.isZero()?'-'+str:str;};P.toFraction=function(maxD){var d,d0,d1,d2,e,k,n,n0,n1,pr,q,r,x=this,xd=x.d,Ctor=x.constructor;if(!xd)return new Ctor(x);n1=d0=new Ctor(1);d1=n0=new Ctor(0);d=new Ctor(d1);e=d.e=getPrecision(xd)-x.e-1;k=e%LOG_BASE;d.d[0]=mathpow(10,k<0?LOG_BASE+k:k);if(maxD==null){maxD=e>0?d:n1;}else{n=new Ctor(maxD);if(!n.isInt()||n.lt(n1))throw Error(invalidArgument+n);maxD=n.gt(d)?(e>0?d:n1):n;}
external=false;n=new Ctor(digitsToString(xd));pr=Ctor.precision;Ctor.precision=e=xd.length*LOG_BASE*2;for(;;){q=divide(n,d,0,1,1);d2=d0.plus(q.times(d1));if(d2.cmp(maxD)==1)break;d0=d1;d1=d2;d2=n1;n1=n0.plus(q.times(d2));n0=d2;d2=d;d=n.minus(q.times(d2));n=d2;}
d2=divide(maxD.minus(d0),d1,0,1,1);n0=n0.plus(d2.times(n1));d0=d0.plus(d2.times(d1));n0.s=n1.s=x.s;r=divide(n1,d1,e,1).minus(x).abs().cmp(divide(n0,d0,e,1).minus(x).abs())<1?[n1,d1]:[n0,d0];Ctor.precision=pr;external=true;return r;};P.toHexadecimal=P.toHex=function(sd,rm){return toStringBinary(this,16,sd,rm);};P.toNearest=function(y,rm){var x=this,Ctor=x.constructor;x=new Ctor(x);if(y==null){if(!x.d)return x;y=new Ctor(1);rm=Ctor.rounding;}else{y=new Ctor(y);if(rm!==void 0)checkInt32(rm,0,8);if(!x.d)return y.s?x:y;if(!y.d){if(y.s)y.s=x.s;return y;}}
if(y.d[0]){external=false;if(rm<4)rm=[4,5,7,8][rm];x=divide(x,y,0,rm,1).times(y);external=true;finalise(x);}else{y.s=x.s;x=y;}
return x;};P.toNumber=function(){return+this;};P.toOctal=function(sd,rm){return toStringBinary(this,8,sd,rm);};P.toPower=P.pow=function(y){var e,k,pr,r,rm,sign,yIsInt,x=this,Ctor=x.constructor,yn=+(y=new Ctor(y));if(!x.d||!y.d||!x.d[0]||!y.d[0])return new Ctor(mathpow(+x,yn));x=new Ctor(x);if(x.eq(1))return x;pr=Ctor.precision;rm=Ctor.rounding;if(y.eq(1))return finalise(x,pr,rm);e=mathfloor(y.e / LOG_BASE);k=y.d.length-1;yIsInt=e>=k;sign=x.s;if(!yIsInt){if(sign<0)return new Ctor(NaN);}else if((k=yn<0?-yn:yn)<=MAX_SAFE_INTEGER){r=intPow(Ctor,x,k,pr);return y.s<0?new Ctor(1).div(r):finalise(r,pr,rm);}
sign=sign<0&&y.d[Math.max(e,k)]&1?-1:1;k=mathpow(+x,yn);e=k==0||!isFinite(k)?mathfloor(yn*(Math.log('0.'+digitsToString(x.d))/ Math.LN10+x.e+1)):new Ctor(k+'').e;if(e>Ctor.maxE+1||e<Ctor.minE-1)return new Ctor(e>0?sign / 0:0);external=false;Ctor.rounding=x.s=1;k=Math.min(12,(e+'').length);r=naturalExponential(y.times(naturalLogarithm(x,pr+k)),pr);r=finalise(r,pr+5,1);if(checkRoundingDigits(r.d,pr,rm)){e=pr+10;r=finalise(naturalExponential(y.times(naturalLogarithm(x,e+k)),e),e+5,1);if(+digitsToString(r.d).slice(pr+1,pr+15)+1==1e14){r=finalise(r,pr+1,0);}}
r.s=sign;external=true;Ctor.rounding=rm;return finalise(r,pr,rm);};P.toPrecision=function(sd,rm){var str,x=this,Ctor=x.constructor;if(sd===void 0){str=finiteToString(x,x.e<=Ctor.toExpNeg||x.e>=Ctor.toExpPos);}else{checkInt32(sd,1,MAX_DIGITS);if(rm===void 0)rm=Ctor.rounding;else checkInt32(rm,0,8);x=finalise(new Ctor(x),sd,rm);str=finiteToString(x,sd<=x.e||x.e<=Ctor.toExpNeg,sd);}
return x.isNeg()&&!x.isZero()?'-'+str:str;};P.toSignificantDigits=P.toSD=function(sd,rm){var x=this,Ctor=x.constructor;if(sd===void 0){sd=Ctor.precision;rm=Ctor.rounding;}else{checkInt32(sd,1,MAX_DIGITS);if(rm===void 0)rm=Ctor.rounding;else checkInt32(rm,0,8);}
return finalise(new Ctor(x),sd,rm);};P.toString=function(){var x=this,Ctor=x.constructor,str=finiteToString(x,x.e<=Ctor.toExpNeg||x.e>=Ctor.toExpPos);return x.isNeg()&&!x.isZero()?'-'+str:str;};P.truncated=P.trunc=function(){return finalise(new this.constructor(this),this.e+1,1);};P.valueOf=P.toJSON=function(){var x=this,Ctor=x.constructor,str=finiteToString(x,x.e<=Ctor.toExpNeg||x.e>=Ctor.toExpPos);return x.isNeg()?'-'+str:str;};function digitsToString(d){var i,k,ws,indexOfLastWord=d.length-1,str='',w=d[0];if(indexOfLastWord>0){str+=w;for(i=1;i<indexOfLastWord;i++){ws=d[i]+'';k=LOG_BASE-ws.length;if(k)str+=getZeroString(k);str+=ws;}
w=d[i];ws=w+'';k=LOG_BASE-ws.length;if(k)str+=getZeroString(k);}else if(w===0){return'0';}
for(;w%10===0;)w /=10;return str+w;}
function checkInt32(i,min,max){if(i!==~~i||i<min||i>max){throw Error(invalidArgument+i);}}
function checkRoundingDigits(d,i,rm,repeating){var di,k,r,rd;for(k=d[0];k>=10;k /=10)--i;if(--i<0){i+=LOG_BASE;di=0;}else{di=Math.ceil((i+1)/ LOG_BASE);i%=LOG_BASE;}
k=mathpow(10,LOG_BASE-i);rd=d[di]%k|0;if(repeating==null){if(i<3){if(i==0)rd=rd / 100|0;else if(i==1)rd=rd / 10|0;r=rm<4&&rd==99999||rm>3&&rd==49999||rd==50000||rd==0;}else{r=(rm<4&&rd+1==k||rm>3&&rd+1==k / 2)&&(d[di+1]/ k / 100|0)==mathpow(10,i-2)-1||(rd==k / 2||rd==0)&&(d[di+1]/ k / 100|0)==0;}}else{if(i<4){if(i==0)rd=rd / 1000|0;else if(i==1)rd=rd / 100|0;else if(i==2)rd=rd / 10|0;r=(repeating||rm<4)&&rd==9999||!repeating&&rm>3&&rd==4999;}else{r=((repeating||rm<4)&&rd+1==k||(!repeating&&rm>3)&&rd+1==k / 2)&&(d[di+1]/ k / 1000|0)==mathpow(10,i-3)-1;}}
return r;}
function convertBase(str,baseIn,baseOut){var j,arr=[0],arrL,i=0,strL=str.length;for(;i<strL;){for(arrL=arr.length;arrL--;)arr[arrL]*=baseIn;arr[0]+=NUMERALS.indexOf(str.charAt(i++));for(j=0;j<arr.length;j++){if(arr[j]>baseOut-1){if(arr[j+1]===void 0)arr[j+1]=0;arr[j+1]+=arr[j]/ baseOut|0;arr[j]%=baseOut;}}}
return arr.reverse();}
function cosine(Ctor,x){var k,y,len=x.d.length;if(len<32){k=Math.ceil(len / 3);y=Math.pow(4,-k).toString();}else{k=16;y='2.3283064365386962890625e-10';}
Ctor.precision+=k;x=taylorSeries(Ctor,1,x.times(y),new Ctor(1));for(var i=k;i--;){var cos2x=x.times(x);x=cos2x.times(cos2x).minus(cos2x).times(8).plus(1);}
Ctor.precision-=k;return x;}
var divide=(function(){function multiplyInteger(x,k,base){var temp,carry=0,i=x.length;for(x=x.slice();i--;){temp=x[i]*k+carry;x[i]=temp%base|0;carry=temp / base|0;}
if(carry)x.unshift(carry);return x;}
function compare(a,b,aL,bL){var i,r;if(aL!=bL){r=aL>bL?1:-1;}else{for(i=r=0;i<aL;i++){if(a[i]!=b[i]){r=a[i]>b[i]?1:-1;break;}}}
return r;}
function subtract(a,b,aL,base){var i=0;for(;aL--;){a[aL]-=i;i=a[aL]<b[aL]?1:0;a[aL]=i*base+a[aL]-b[aL];}
for(;!a[0]&&a.length>1;)a.shift();}
return function(x,y,pr,rm,dp,base){var cmp,e,i,k,logBase,more,prod,prodL,q,qd,rem,remL,rem0,sd,t,xi,xL,yd0,yL,yz,Ctor=x.constructor,sign=x.s==y.s?1:-1,xd=x.d,yd=y.d;if(!xd||!xd[0]||!yd||!yd[0]){return new Ctor(!x.s||!y.s||(xd?yd&&xd[0]==yd[0]:!yd)?NaN:xd&&xd[0]==0||!yd?sign*0:sign / 0);}
if(base){logBase=1;e=x.e-y.e;}else{base=BASE;logBase=LOG_BASE;e=mathfloor(x.e / logBase)-mathfloor(y.e / logBase);}
yL=yd.length;xL=xd.length;q=new Ctor(sign);qd=q.d=[];for(i=0;yd[i]==(xd[i]||0);i++);if(yd[i]>(xd[i]||0))e--;if(pr==null){sd=pr=Ctor.precision;rm=Ctor.rounding;}else if(dp){sd=pr+(x.e-y.e)+1;}else{sd=pr;}
if(sd<0){qd.push(1);more=true;}else{sd=sd / logBase+2|0;i=0;if(yL==1){k=0;yd=yd[0];sd++;for(;(i<xL||k)&&sd--;i++){t=k*base+(xd[i]||0);qd[i]=t / yd|0;k=t%yd|0;}
more=k||i<xL;}else{k=base /(yd[0]+1)|0;if(k>1){yd=multiplyInteger(yd,k,base);xd=multiplyInteger(xd,k,base);yL=yd.length;xL=xd.length;}
xi=yL;rem=xd.slice(0,yL);remL=rem.length;for(;remL<yL;)rem[remL++]=0;yz=yd.slice();yz.unshift(0);yd0=yd[0];if(yd[1]>=base / 2)++yd0;do{k=0;cmp=compare(yd,rem,yL,remL);if(cmp<0){rem0=rem[0];if(yL!=remL)rem0=rem0*base+(rem[1]||0);k=rem0 / yd0|0;if(k>1){if(k>=base)k=base-1;prod=multiplyInteger(yd,k,base);prodL=prod.length;remL=rem.length;cmp=compare(prod,rem,prodL,remL);if(cmp==1){k--;subtract(prod,yL<prodL?yz:yd,prodL,base);}}else{if(k==0)cmp=k=1;prod=yd.slice();}
prodL=prod.length;if(prodL<remL)prod.unshift(0);subtract(rem,prod,remL,base);if(cmp==-1){remL=rem.length;cmp=compare(yd,rem,yL,remL);if(cmp<1){k++;subtract(rem,yL<remL?yz:yd,remL,base);}}
remL=rem.length;}else if(cmp===0){k++;rem=[0];}
qd[i++]=k;if(cmp&&rem[0]){rem[remL++]=xd[xi]||0;}else{rem=[xd[xi]];remL=1;}}while((xi++<xL||rem[0]!==void 0)&&sd--);more=rem[0]!==void 0;}
if(!qd[0])qd.shift();}
if(logBase==1){q.e=e;inexact=more;}else{for(i=1,k=qd[0];k>=10;k /=10)i++;q.e=i+e*logBase-1;finalise(q,dp?pr+q.e+1:pr,rm,more);}
return q;};})();function finalise(x,sd,rm,isTruncated){var digits,i,j,k,rd,roundUp,w,xd,xdi,Ctor=x.constructor;out:if(sd!=null){xd=x.d;if(!xd)return x;for(digits=1,k=xd[0];k>=10;k /=10)digits++;i=sd-digits;if(i<0){i+=LOG_BASE;j=sd;w=xd[xdi=0];rd=w / mathpow(10,digits-j-1)%10|0;}else{xdi=Math.ceil((i+1)/ LOG_BASE);k=xd.length;if(xdi>=k){if(isTruncated){for(;k++<=xdi;)xd.push(0);w=rd=0;digits=1;i%=LOG_BASE;j=i-LOG_BASE+1;}else{break out;}}else{w=k=xd[xdi];for(digits=1;k>=10;k /=10)digits++;i%=LOG_BASE;j=i-LOG_BASE+digits;rd=j<0?0:w / mathpow(10,digits-j-1)%10|0;}}
isTruncated=isTruncated||sd<0||xd[xdi+1]!==void 0||(j<0?w:w%mathpow(10,digits-j-1));roundUp=rm<4?(rd||isTruncated)&&(rm==0||rm==(x.s<0?3:2)):rd>5||rd==5&&(rm==4||isTruncated||rm==6&&((i>0?j>0?w / mathpow(10,digits-j):0:xd[xdi-1])%10)&1||rm==(x.s<0?8:7));if(sd<1||!xd[0]){xd.length=0;if(roundUp){sd-=x.e+1;xd[0]=mathpow(10,(LOG_BASE-sd%LOG_BASE)%LOG_BASE);x.e=-sd||0;}else{xd[0]=x.e=0;}
return x;}
if(i==0){xd.length=xdi;k=1;xdi--;}else{xd.length=xdi+1;k=mathpow(10,LOG_BASE-i);xd[xdi]=j>0?(w / mathpow(10,digits-j)%mathpow(10,j)|0)*k:0;}
if(roundUp){for(;;){if(xdi==0){for(i=1,j=xd[0];j>=10;j /=10)i++;j=xd[0]+=k;for(k=1;j>=10;j /=10)k++;if(i!=k){x.e++;if(xd[0]==BASE)xd[0]=1;}
break;}else{xd[xdi]+=k;if(xd[xdi]!=BASE)break;xd[xdi--]=0;k=1;}}}
for(i=xd.length;xd[--i]===0;)xd.pop();}
if(external){if(x.e>Ctor.maxE){x.d=null;x.e=NaN;}else if(x.e<Ctor.minE){x.e=0;x.d=[0];}}
return x;}
function finiteToString(x,isExp,sd){if(!x.isFinite())return nonFiniteToString(x);var k,e=x.e,str=digitsToString(x.d),len=str.length;if(isExp){if(sd&&(k=sd-len)>0){str=str.charAt(0)+'.'+str.slice(1)+getZeroString(k);}else if(len>1){str=str.charAt(0)+'.'+str.slice(1);}
str=str+(x.e<0?'e':'e+')+x.e;}else if(e<0){str='0.'+getZeroString(-e-1)+str;if(sd&&(k=sd-len)>0)str+=getZeroString(k);}else if(e>=len){str+=getZeroString(e+1-len);if(sd&&(k=sd-e-1)>0)str=str+'.'+getZeroString(k);}else{if((k=e+1)<len)str=str.slice(0,k)+'.'+str.slice(k);if(sd&&(k=sd-len)>0){if(e+1===len)str+='.';str+=getZeroString(k);}}
return str;}
function getBase10Exponent(digits,e){var w=digits[0];for(e*=LOG_BASE;w>=10;w /=10)e++;return e;}
function getLn10(Ctor,sd,pr){if(sd>LN10_PRECISION){external=true;if(pr)Ctor.precision=pr;throw Error(precisionLimitExceeded);}
return finalise(new Ctor(LN10),sd,1,true);}
function getPi(Ctor,sd,rm){if(sd>PI_PRECISION)throw Error(precisionLimitExceeded);return finalise(new Ctor(PI),sd,rm,true);}
function getPrecision(digits){var w=digits.length-1,len=w*LOG_BASE+1;w=digits[w];if(w){for(;w%10==0;w /=10)len--;for(w=digits[0];w>=10;w /=10)len++;}
return len;}
function getZeroString(k){var zs='';for(;k--;)zs+='0';return zs;}
function intPow(Ctor,x,n,pr){var isTruncated,r=new Ctor(1),k=Math.ceil(pr / LOG_BASE+4);external=false;for(;;){if(n%2){r=r.times(x);if(truncate(r.d,k))isTruncated=true;}
n=mathfloor(n / 2);if(n===0){n=r.d.length-1;if(isTruncated&&r.d[n]===0)++r.d[n];break;}
x=x.times(x);truncate(x.d,k);}
external=true;return r;}
function isOdd(n){return n.d[n.d.length-1]&1;}
function maxOrMin(Ctor,args,ltgt){var y,x=new Ctor(args[0]),i=0;for(;++i<args.length;){y=new Ctor(args[i]);if(!y.s){x=y;break;}else if(x[ltgt](y)){x=y;}}
return x;}
function naturalExponential(x,sd){var denominator,guard,j,pow,sum,t,wpr,rep=0,i=0,k=0,Ctor=x.constructor,rm=Ctor.rounding,pr=Ctor.precision;if(!x.d||!x.d[0]||x.e>17){return new Ctor(x.d?!x.d[0]?1:x.s<0?0:1 / 0:x.s?x.s<0?0:x:0 / 0);}
if(sd==null){external=false;wpr=pr;}else{wpr=sd;}
t=new Ctor(0.03125);while(x.e>-2){x=x.times(t);k+=5;}
guard=Math.log(mathpow(2,k))/ Math.LN10*2+5|0;wpr+=guard;denominator=pow=sum=new Ctor(1);Ctor.precision=wpr;for(;;){pow=finalise(pow.times(x),wpr,1);denominator=denominator.times(++i);t=sum.plus(divide(pow,denominator,wpr,1));if(digitsToString(t.d).slice(0,wpr)===digitsToString(sum.d).slice(0,wpr)){j=k;while(j--)sum=finalise(sum.times(sum),wpr,1);if(sd==null){if(rep<3&&checkRoundingDigits(sum.d,wpr-guard,rm,rep)){Ctor.precision=wpr+=10;denominator=pow=t=new Ctor(1);i=0;rep++;}else{return finalise(sum,Ctor.precision=pr,rm,external=true);}}else{Ctor.precision=pr;return sum;}}
sum=t;}}
function naturalLogarithm(y,sd){var c,c0,denominator,e,numerator,rep,sum,t,wpr,x1,x2,n=1,guard=10,x=y,xd=x.d,Ctor=x.constructor,rm=Ctor.rounding,pr=Ctor.precision;if(x.s<0||!xd||!xd[0]||!x.e&&xd[0]==1&&xd.length==1){return new Ctor(xd&&!xd[0]?-1 / 0:x.s!=1?NaN:xd?0:x);}
if(sd==null){external=false;wpr=pr;}else{wpr=sd;}
Ctor.precision=wpr+=guard;c=digitsToString(xd);c0=c.charAt(0);if(Math.abs(e=x.e)<1.5e15){while(c0<7&&c0!=1||c0==1&&c.charAt(1)>3){x=x.times(y);c=digitsToString(x.d);c0=c.charAt(0);n++;}
e=x.e;if(c0>1){x=new Ctor('0.'+c);e++;}else{x=new Ctor(c0+'.'+c.slice(1));}}else{t=getLn10(Ctor,wpr+2,pr).times(e+'');x=naturalLogarithm(new Ctor(c0+'.'+c.slice(1)),wpr-guard).plus(t);Ctor.precision=pr;return sd==null?finalise(x,pr,rm,external=true):x;}
x1=x;sum=numerator=x=divide(x.minus(1),x.plus(1),wpr,1);x2=finalise(x.times(x),wpr,1);denominator=3;for(;;){numerator=finalise(numerator.times(x2),wpr,1);t=sum.plus(divide(numerator,new Ctor(denominator),wpr,1));if(digitsToString(t.d).slice(0,wpr)===digitsToString(sum.d).slice(0,wpr)){sum=sum.times(2);if(e!==0)sum=sum.plus(getLn10(Ctor,wpr+2,pr).times(e+''));sum=divide(sum,new Ctor(n),wpr,1);if(sd==null){if(checkRoundingDigits(sum.d,wpr-guard,rm,rep)){Ctor.precision=wpr+=guard;t=numerator=x=divide(x1.minus(1),x1.plus(1),wpr,1);x2=finalise(x.times(x),wpr,1);denominator=rep=1;}else{return finalise(sum,Ctor.precision=pr,rm,external=true);}}else{Ctor.precision=pr;return sum;}}
sum=t;denominator+=2;}}
function nonFiniteToString(x){return String(x.s*x.s / 0);}
function parseDecimal(x,str){var e,i,len;if((e=str.indexOf('.'))>-1)str=str.replace('.','');if((i=str.search(/e/i))>0){if(e<0)e=i;e+=+str.slice(i+1);str=str.substring(0,i);}else if(e<0){e=str.length;}
for(i=0;str.charCodeAt(i)===48;i++);for(len=str.length;str.charCodeAt(len-1)===48;--len);str=str.slice(i,len);if(str){len-=i;x.e=e=e-i-1;x.d=[];i=(e+1)%LOG_BASE;if(e<0)i+=LOG_BASE;if(i<len){if(i)x.d.push(+str.slice(0,i));for(len-=LOG_BASE;i<len;)x.d.push(+str.slice(i,i+=LOG_BASE));str=str.slice(i);i=LOG_BASE-str.length;}else{i-=len;}
for(;i--;)str+='0';x.d.push(+str);if(external){if(x.e>x.constructor.maxE){x.d=null;x.e=NaN;}else if(x.e<x.constructor.minE){x.e=0;x.d=[0];}}}else{x.e=0;x.d=[0];}
return x;}
function parseOther(x,str){var base,Ctor,divisor,i,isFloat,len,p,xd,xe;if(str==='Infinity'||str==='NaN'){if(!+str)x.s=NaN;x.e=NaN;x.d=null;return x;}
if(isHex.test(str)){base=16;str=str.toLowerCase();}else if(isBinary.test(str)){base=2;}else if(isOctal.test(str)){base=8;}else{throw Error(invalidArgument+str);}
i=str.search(/p/i);if(i>0){p=+str.slice(i+1);str=str.substring(2,i);}else{str=str.slice(2);}
i=str.indexOf('.');isFloat=i>=0;Ctor=x.constructor;if(isFloat){str=str.replace('.','');len=str.length;i=len-i;divisor=intPow(Ctor,new Ctor(base),i,i*2);}
xd=convertBase(str,base,BASE);xe=xd.length-1;for(i=xe;xd[i]===0;--i)xd.pop();if(i<0)return new Ctor(x.s*0);x.e=getBase10Exponent(xd,xe);x.d=xd;external=false;if(isFloat)x=divide(x,divisor,len*4);if(p)x=x.times(Math.abs(p)<54?Math.pow(2,p):Decimal.pow(2,p));external=true;return x;}
function sine(Ctor,x){var k,len=x.d.length;if(len<3)return taylorSeries(Ctor,2,x,x);k=1.4*Math.sqrt(len);k=k>16?16:k|0;x=x.times(Math.pow(5,-k));x=taylorSeries(Ctor,2,x,x);var sin2_x,d5=new Ctor(5),d16=new Ctor(16),d20=new Ctor(20);for(;k--;){sin2_x=x.times(x);x=x.times(d5.plus(sin2_x.times(d16.times(sin2_x).minus(d20))));}
return x;}
function taylorSeries(Ctor,n,x,y,isHyperbolic){var j,t,u,x2,i=1,pr=Ctor.precision,k=Math.ceil(pr / LOG_BASE);external=false;x2=x.times(x);u=new Ctor(y);for(;;){t=divide(u.times(x2),new Ctor(n++*n++),pr,1);u=isHyperbolic?y.plus(t):y.minus(t);y=divide(t.times(x2),new Ctor(n++*n++),pr,1);t=u.plus(y);if(t.d[k]!==void 0){for(j=k;t.d[j]===u.d[j]&&j--;);if(j==-1)break;}
j=u;u=y;y=t;t=j;i++;}
external=true;t.d.length=k+1;return t;}
function toLessThanHalfPi(Ctor,x){var t,isNeg=x.s<0,pi=getPi(Ctor,Ctor.precision,1),halfPi=pi.times(0.5);x=x.abs();if(x.lte(halfPi)){quadrant=isNeg?4:1;return x;}
t=x.divToInt(pi);if(t.isZero()){quadrant=isNeg?3:2;}else{x=x.minus(t.times(pi));if(x.lte(halfPi)){quadrant=isOdd(t)?(isNeg?2:3):(isNeg?4:1);return x;}
quadrant=isOdd(t)?(isNeg?1:4):(isNeg?3:2);}
return x.minus(pi).abs();}
function toStringBinary(x,baseOut,sd,rm){var base,e,i,k,len,roundUp,str,xd,y,Ctor=x.constructor,isExp=sd!==void 0;if(isExp){checkInt32(sd,1,MAX_DIGITS);if(rm===void 0)rm=Ctor.rounding;else checkInt32(rm,0,8);}else{sd=Ctor.precision;rm=Ctor.rounding;}
if(!x.isFinite()){str=nonFiniteToString(x);}else{str=finiteToString(x);i=str.indexOf('.');if(isExp){base=2;if(baseOut==16){sd=sd*4-3;}else if(baseOut==8){sd=sd*3-2;}}else{base=baseOut;}
if(i>=0){str=str.replace('.','');y=new Ctor(1);y.e=str.length-i;y.d=convertBase(finiteToString(y),10,base);y.e=y.d.length;}
xd=convertBase(str,10,base);e=len=xd.length;for(;xd[--len]==0;)xd.pop();if(!xd[0]){str=isExp?'0p+0':'0';}else{if(i<0){e--;}else{x=new Ctor(x);x.d=xd;x.e=e;x=divide(x,y,sd,rm,0,base);xd=x.d;e=x.e;roundUp=inexact;}
i=xd[sd];k=base / 2;roundUp=roundUp||xd[sd+1]!==void 0;roundUp=rm<4?(i!==void 0||roundUp)&&(rm===0||rm===(x.s<0?3:2)):i>k||i===k&&(rm===4||roundUp||rm===6&&xd[sd-1]&1||rm===(x.s<0?8:7));xd.length=sd;if(roundUp){for(;++xd[--sd]>base-1;){xd[sd]=0;if(!sd){++e;xd.unshift(1);}}}
for(len=xd.length;!xd[len-1];--len);for(i=0,str='';i<len;i++)str+=NUMERALS.charAt(xd[i]);if(isExp){if(len>1){if(baseOut==16||baseOut==8){i=baseOut==16?4:3;for(--len;len%i;len++)str+='0';xd=convertBase(str,base,baseOut);for(len=xd.length;!xd[len-1];--len);for(i=1,str='1.';i<len;i++)str+=NUMERALS.charAt(xd[i]);}else{str=str.charAt(0)+'.'+str.slice(1);}}
str=str+(e<0?'p':'p+')+e;}else if(e<0){for(;++e;)str='0'+str;str='0.'+str;}else{if(++e>len)for(e-=len;e--;)str+='0';else if(e<len)str=str.slice(0,e)+'.'+str.slice(e);}}
str=(baseOut==16?'0x':baseOut==2?'0b':baseOut==8?'0o':'')+str;}
return x.s<0?'-'+str:str;}
function truncate(arr,len){if(arr.length>len){arr.length=len;return true;}}
function abs(x){return new this(x).abs();}
function acos(x){return new this(x).acos();}
function acosh(x){return new this(x).acosh();}
function add(x,y){return new this(x).plus(y);}
function asin(x){return new this(x).asin();}
function asinh(x){return new this(x).asinh();}
function atan(x){return new this(x).atan();}
function atanh(x){return new this(x).atanh();}
function atan2(y,x){y=new this(y);x=new this(x);var r,pr=this.precision,rm=this.rounding,wpr=pr+4;if(!y.s||!x.s){r=new this(NaN);}else if(!y.d&&!x.d){r=getPi(this,wpr,1).times(x.s>0?0.25:0.75);r.s=y.s;}else if(!x.d||y.isZero()){r=x.s<0?getPi(this,pr,rm):new this(0);r.s=y.s;}else if(!y.d||x.isZero()){r=getPi(this,wpr,1).times(0.5);r.s=y.s;}else if(x.s<0){this.precision=wpr;this.rounding=1;r=this.atan(divide(y,x,wpr,1));x=getPi(this,wpr,1);this.precision=pr;this.rounding=rm;r=y.s<0?r.minus(x):r.plus(x);}else{r=this.atan(divide(y,x,wpr,1));}
return r;}
function cbrt(x){return new this(x).cbrt();}
function ceil(x){return finalise(x=new this(x),x.e+1,2);}
function config(obj){if(!obj||typeof obj!=='object')throw Error(decimalError+'Object expected');var i,p,v,ps=['precision',1,MAX_DIGITS,'rounding',0,8,'toExpNeg',-EXP_LIMIT,0,'toExpPos',0,EXP_LIMIT,'maxE',0,EXP_LIMIT,'minE',-EXP_LIMIT,0,'modulo',0,9];for(i=0;i<ps.length;i+=3){if((v=obj[p=ps[i]])!==void 0){if(mathfloor(v)===v&&v>=ps[i+1]&&v<=ps[i+2])this[p]=v;else throw Error(invalidArgument+p+': '+v);}}
if((v=obj[p='crypto'])!==void 0){if(v===true||v===false||v===0||v===1){if(v){if(typeof crypto!='undefined'&&crypto&&(crypto.getRandomValues||crypto.randomBytes)){this[p]=true;}else{throw Error(cryptoUnavailable);}}else{this[p]=false;}}else{throw Error(invalidArgument+p+': '+v);}}
return this;}
function cos(x){return new this(x).cos();}
function cosh(x){return new this(x).cosh();}
function clone(obj){var i,p,ps;function Decimal(v){var e,i,t,x=this;if(!(x instanceof Decimal))return new Decimal(v);x.constructor=Decimal;if(v instanceof Decimal){x.s=v.s;x.e=v.e;x.d=(v=v.d)?v.slice():v;return;}
t=typeof v;if(t==='number'){if(v===0){x.s=1 / v<0?-1:1;x.e=0;x.d=[0];return;}
if(v<0){v=-v;x.s=-1;}else{x.s=1;}
if(v===~~v&&v<1e7){for(e=0,i=v;i>=10;i /=10)e++;x.e=e;x.d=[v];return;}else if(v*0!==0){if(!v)x.s=NaN;x.e=NaN;x.d=null;return;}
return parseDecimal(x,v.toString());}else if(t!=='string'){throw Error(invalidArgument+v);}
if(v.charCodeAt(0)===45){v=v.slice(1);x.s=-1;}else{x.s=1;}
return isDecimal.test(v)?parseDecimal(x,v):parseOther(x,v);}
Decimal.prototype=P;Decimal.ROUND_UP=0;Decimal.ROUND_DOWN=1;Decimal.ROUND_CEIL=2;Decimal.ROUND_FLOOR=3;Decimal.ROUND_HALF_UP=4;Decimal.ROUND_HALF_DOWN=5;Decimal.ROUND_HALF_EVEN=6;Decimal.ROUND_HALF_CEIL=7;Decimal.ROUND_HALF_FLOOR=8;Decimal.EUCLID=9;Decimal.config=Decimal.set=config;Decimal.clone=clone;Decimal.abs=abs;Decimal.acos=acos;Decimal.acosh=acosh;Decimal.add=add;Decimal.asin=asin;Decimal.asinh=asinh;Decimal.atan=atan;Decimal.atanh=atanh;Decimal.atan2=atan2;Decimal.cbrt=cbrt;Decimal.ceil=ceil;Decimal.cos=cos;Decimal.cosh=cosh;Decimal.div=div;Decimal.exp=exp;Decimal.floor=floor;Decimal.hypot=hypot;Decimal.ln=ln;Decimal.log=log;Decimal.log10=log10;Decimal.log2=log2;Decimal.max=max;Decimal.min=min;Decimal.mod=mod;Decimal.mul=mul;Decimal.pow=pow;Decimal.random=random;Decimal.round=round;Decimal.sign=sign;Decimal.sin=sin;Decimal.sinh=sinh;Decimal.sqrt=sqrt;Decimal.sub=sub;Decimal.tan=tan;Decimal.tanh=tanh;Decimal.trunc=trunc;if(obj===void 0)obj={};if(obj){ps=['precision','rounding','toExpNeg','toExpPos','maxE','minE','modulo','crypto'];for(i=0;i<ps.length;)if(!obj.hasOwnProperty(p=ps[i++]))obj[p]=this[p];}
Decimal.config(obj);return Decimal;}
function div(x,y){return new this(x).div(y);}
function exp(x){return new this(x).exp();}
function floor(x){return finalise(x=new this(x),x.e+1,3);}
function hypot(){var i,n,t=new this(0);external=false;for(i=0;i<arguments.length;){n=new this(arguments[i++]);if(!n.d){if(n.s){external=true;return new this(1 / 0);}
t=n;}else if(t.d){t=t.plus(n.times(n));}}
external=true;return t.sqrt();}
function ln(x){return new this(x).ln();}
function log(x,y){return new this(x).log(y);}
function log2(x){return new this(x).log(2);}
function log10(x){return new this(x).log(10);}
function max(){return maxOrMin(this,arguments,'lt');}
function min(){return maxOrMin(this,arguments,'gt');}
function mod(x,y){return new this(x).mod(y);}
function mul(x,y){return new this(x).mul(y);}
function pow(x,y){return new this(x).pow(y);}
function random(sd){var d,e,k,n,i=0,r=new this(1),rd=[];if(sd===void 0)sd=this.precision;else checkInt32(sd,1,MAX_DIGITS);k=Math.ceil(sd / LOG_BASE);if(!this.crypto){for(;i<k;)rd[i++]=Math.random()*1e7|0;}else if(crypto.getRandomValues){d=crypto.getRandomValues(new Uint32Array(k));for(;i<k;){n=d[i];if(n>=4.29e9){d[i]=crypto.getRandomValues(new Uint32Array(1))[0];}else{rd[i++]=n%1e7;}}}else if(crypto.randomBytes){d=crypto.randomBytes(k*=4);for(;i<k;){n=d[i]+(d[i+1]<<8)+(d[i+2]<<16)+((d[i+3]&0x7f)<<24);if(n>=2.14e9){crypto.randomBytes(4).copy(d,i);}else{rd.push(n%1e7);i+=4;}}
i=k / 4;}else{throw Error(cryptoUnavailable);}
k=rd[--i];sd%=LOG_BASE;if(k&&sd){n=mathpow(10,LOG_BASE-sd);rd[i]=(k / n|0)*n;}
for(;rd[i]===0;i--)rd.pop();if(i<0){e=0;rd=[0];}else{e=-1;for(;rd[0]===0;e-=LOG_BASE)rd.shift();for(k=1,n=rd[0];n>=10;n /=10)k++;if(k<LOG_BASE)e-=LOG_BASE-k;}
r.e=e;r.d=rd;return r;}
function round(x){return finalise(x=new this(x),x.e+1,this.rounding);}
function sign(x){x=new this(x);return x.d?(x.d[0]?x.s:0*x.s):x.s||NaN;}
function sin(x){return new this(x).sin();}
function sinh(x){return new this(x).sinh();}
function sqrt(x){return new this(x).sqrt();}
function sub(x,y){return new this(x).sub(y);}
function tan(x){return new this(x).tan();}
function tanh(x){return new this(x).tanh();}
function trunc(x){return finalise(x=new this(x),x.e+1,1);}
Decimal=clone(Decimal);LN10=new Decimal(LN10);PI=new Decimal(PI);if(true){!(__WEBPACK_AMD_DEFINE_RESULT__=function(){return Decimal;}.call(exports,__webpack_require__,exports,module),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));}else if(typeof module!='undefined'&&module.exports){module.exports=Decimal.default=Decimal.Decimal=Decimal;}else{if(!globalScope){globalScope=typeof self!='undefined'&&self&&self.self==self?self:Function('return this')();}
noConflict=globalScope.Decimal;Decimal.noConflict=function(){globalScope.Decimal=noConflict;return Decimal;};globalScope.Decimal=Decimal;}})(this);}),(function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(root){"use strict";var MAX_CYCLE_LEN=2000;var P={"s":1,"n":0,"d":1};function createError(name){var errorConstructor=function(){var temp=Error.apply(this,arguments);temp.name=this.name=name;this.stack=temp.stack;this.message=temp.message;}
var IntermediateInheritor=function(){};IntermediateInheritor.prototype=Error.prototype;errorConstructor.prototype=new IntermediateInheritor();return errorConstructor;}
var DivisionByZero=Fraction['DivisionByZero']=createError('DivisionByZero');var InvalidParameter=Fraction['InvalidParameter']=createError('InvalidParameter');function assign(n,s){if(isNaN(n=parseInt(n,10))){throwInvalidParam();}
return n*s;}
function throwInvalidParam(){throw new InvalidParameter();}
var parse=function(p1,p2){var n=0,d=1,s=1;var v=0,w=0,x=0,y=1,z=1;var A=0,B=1;var C=1,D=1;var N=10000000;var M;if(p1===undefined||p1===null){}else if(p2!==undefined){n=p1;d=p2;s=n*d;}else
switch(typeof p1){case"object":{if("d"in p1&&"n"in p1){n=p1["n"];d=p1["d"];if("s"in p1)
n*=p1["s"];}else if(0 in p1){n=p1[0];if(1 in p1)
d=p1[1];}else{throwInvalidParam();}
s=n*d;break;}
case"number":{if(p1<0){s=p1;p1=-p1;}
if(p1%1===0){n=p1;}else if(p1>0){if(p1>=1){z=Math.pow(10,Math.floor(1+Math.log(p1)/ Math.LN10));p1/=z;}
while(B<=N&&D<=N){M=(A+C)/(B+D);if(p1===M){if(B+D<=N){n=A+C;d=B+D;}else if(D>B){n=C;d=D;}else{n=A;d=B;}
break;}else{if(p1>M){A+=C;B+=D;}else{C+=A;D+=B;}
if(B>N){n=C;d=D;}else{n=A;d=B;}}}
n*=z;}else if(isNaN(p1)||isNaN(p2)){d=n=NaN;}
break;}
case"string":{B=p1.match(/\d+|./g);if(B[A]==='-'){s=-1;A++;}else if(B[A]==='+'){A++;}
if(B.length===A+1){w=assign(B[A++],s);}else if(B[A+1]==='.'||B[A]==='.'){if(B[A]!=='.'){v=assign(B[A++],s);}
A++;if(A+1===B.length||B[A+1]==='('&&B[A+3]===')'||B[A+1]==="'"&&B[A+3]==="'"){w=assign(B[A],s);y=Math.pow(10,B[A].length);A++;}
if(B[A]==='('&&B[A+2]===')'||B[A]==="'"&&B[A+2]==="'"){x=assign(B[A+1],s);z=Math.pow(10,B[A+1].length)-1;A+=3;}}else if(B[A+1]==='/'||B[A+1]===':'){w=assign(B[A],s);y=assign(B[A+2],1);A+=3;}else if(B[A+3]==='/'&&B[A+1]===' '){v=assign(B[A],s);w=assign(B[A+2],s);y=assign(B[A+4],1);A+=5;}
if(B.length<=A){d=y*z;s=n=x+d*v+z*w;break;}}
default:throwInvalidParam();}
if(d===0){throw new DivisionByZero();}
P["s"]=s<0?-1:1;P["n"]=Math.abs(n);P["d"]=Math.abs(d);};var modpow=function(b,e,m){for(var r=1;e>0;b=(b*b)%m,e>>=1){if(e&1){r=(r*b)%m;}}
return r;};var cycleLen=function(n,d){for(;d%2===0;d/=2){}
for(;d%5===0;d/=5){}
if(d===1)
return 0;var rem=10%d;for(var t=1;rem!==1;t++){rem=rem*10%d;if(t>MAX_CYCLE_LEN)
return 0;}
return t;};var cycleStart=function(n,d,len){var rem1=1;var rem2=modpow(10,len,d);for(var t=0;t<300;t++){if(rem1===rem2)
return t;rem1=rem1*10%d;rem2=rem2*10%d;}
return 0;};var gcd=function(a,b){if(!a)return b;if(!b)return a;while(1){a%=b;if(!a)return b;b%=a;if(!b)return a;}};function Fraction(a,b){if(!(this instanceof Fraction)){return new Fraction(a,b);}
parse(a,b);if(Fraction['REDUCE']){a=gcd(P["d"],P["n"]);}else{a=1;}
this["s"]=P["s"];this["n"]=P["n"]/ a;this["d"]=P["d"]/ a;}
Fraction['REDUCE']=1;Fraction.prototype={"s":1,"n":0,"d":1,"abs":function(){return new Fraction(this["n"],this["d"]);},"neg":function(){return new Fraction(-this["s"]*this["n"],this["d"]);},"add":function(a,b){parse(a,b);return new Fraction(this["s"]*this["n"]*P["d"]+P["s"]*this["d"]*P["n"],this["d"]*P["d"]);},"sub":function(a,b){parse(a,b);return new Fraction(this["s"]*this["n"]*P["d"]-P["s"]*this["d"]*P["n"],this["d"]*P["d"]);},"mul":function(a,b){parse(a,b);return new Fraction(this["s"]*P["s"]*this["n"]*P["n"],this["d"]*P["d"]);},"div":function(a,b){parse(a,b);return new Fraction(this["s"]*P["s"]*this["n"]*P["d"],this["d"]*P["n"]);},"clone":function(){return new Fraction(this);},"mod":function(a,b){if(isNaN(this['n'])||isNaN(this['d'])){return new Fraction(NaN);}
if(a===undefined){return new Fraction(this["s"]*this["n"]%this["d"],1);}
parse(a,b);if(0===P["n"]&&0===this["d"]){Fraction(0,0);}
return new Fraction((this["s"]*P["d"]*this["n"])%(P["n"]*this["d"]),P["d"]*this["d"]);},"gcd":function(a,b){parse(a,b);return new Fraction(gcd(P["n"],this["n"]),P["d"]*this["d"]/ gcd(P["d"],this["d"]));},"lcm":function(a,b){parse(a,b);if(P["n"]===0&&this["n"]===0){return new Fraction;}
return new Fraction(P["n"]*this["n"]/ gcd(P["n"],this["n"]),gcd(P["d"],this["d"]));},"ceil":function(places){places=Math.pow(10,places||0);if(isNaN(this["n"])||isNaN(this["d"])){return new Fraction(NaN);}
return new Fraction(Math.ceil(places*this["s"]*this["n"]/ this["d"]),places);},"floor":function(places){places=Math.pow(10,places||0);if(isNaN(this["n"])||isNaN(this["d"])){return new Fraction(NaN);}
return new Fraction(Math.floor(places*this["s"]*this["n"]/ this["d"]),places);},"round":function(places){places=Math.pow(10,places||0);if(isNaN(this["n"])||isNaN(this["d"])){return new Fraction(NaN);}
return new Fraction(Math.round(places*this["s"]*this["n"]/ this["d"]),places);},"inverse":function(){return new Fraction(this["s"]*this["d"],this["n"]);},"pow":function(m){if(m<0){return new Fraction(Math.pow(this['s']*this["d"],-m),Math.pow(this["n"],-m));}else{return new Fraction(Math.pow(this['s']*this["n"],m),Math.pow(this["d"],m));}},"equals":function(a,b){parse(a,b);return this["s"]*this["n"]*P["d"]===P["s"]*P["n"]*this["d"];},"compare":function(a,b){parse(a,b);var t=(this["s"]*this["n"]*P["d"]-P["s"]*P["n"]*this["d"]);return(0<t)-(t<0);},"divisible":function(a,b){parse(a,b);return!(!(P["n"]*this["d"])||((this["n"]*P["d"])%(P["n"]*this["d"])));},'valueOf':function(){return this["s"]*this["n"]/ this["d"];},'toFraction':function(excludeWhole){var whole,str="";var n=this["n"];var d=this["d"];if(this["s"]<0){str+='-';}
if(d===1){str+=n;}else{if(excludeWhole&&(whole=Math.floor(n / d))>0){str+=whole;str+=" ";n%=d;}
str+=n;str+='/';str+=d;}
return str;},'toLatex':function(excludeWhole){var whole,str="";var n=this["n"];var d=this["d"];if(this["s"]<0){str+='-';}
if(d===1){str+=n;}else{if(excludeWhole&&(whole=Math.floor(n / d))>0){str+=whole;n%=d;}
str+="\\frac{";str+=n;str+='}{';str+=d;str+='}';}
return str;},'toContinued':function(){var t;var a=this['n'];var b=this['d'];var res=[];do{res.push(Math.floor(a / b));t=a%b;a=b;b=t;}while(a!==1);return res;},'toString':function(){var g;var N=this["n"];var D=this["d"];if(isNaN(N)||isNaN(D)){return"NaN";}
if(!Fraction['REDUCE']){g=gcd(N,D);N/=g;D/=g;}
var p=String(N).split("");var t=0;var ret=[~this["s"]?"":"-","",""];var zeros="";var cycLen=cycleLen(N,D);var cycOff=cycleStart(N,D,cycLen);var j=-1;var n=1;var length=15+cycLen+cycOff+p.length;for(var i=0;i<length;i++,t*=10){if(i<p.length){t+=Number(p[i]);}else{n=2;j++;}
if(cycLen>0){if(j===cycOff){ret[n]+=zeros+"(";zeros="";}else if(j===cycLen+cycOff){ret[n]+=zeros+")";break;}}
if(t>=D){ret[n]+=zeros+((t / D)|0);zeros="";t=t%D;}else if(n>1){zeros+="0";}else if(ret[n]){ret[n]+="0";}}
ret[0]+=ret[1]||"0";if(ret[2]){return ret[0]+"."+ret[2];}
return ret[0];}};if(true){!(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return Fraction;}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));}else if(typeof exports==="object"){module["exports"]=Fraction;}else{root['Fraction']=Fraction;}})(this);}),(function(module,exports,__webpack_require__){module.exports=__webpack_require__(244);}),(function(module,exports,__webpack_require__){var core=__webpack_require__(241);function create(config){var math=core.create(config);math.create=create;math['import'](__webpack_require__(576));return math;}
module.exports=create();}),(function(module,exports,__webpack_require__){"use strict";var object=__webpack_require__(5);var bigConstants=__webpack_require__(176);function factory(type,config,load,typed,math){math.on('config',function(curr,prev){if(curr.number!==prev.number){factory(type,config,load,typed,math);}});math['true']=true;math['false']=false;math['null']=null;math['uninitialized']=__webpack_require__(7).UNINITIALIZED;if(config.number==='BigNumber'){math['Infinity']=new type.BigNumber(Infinity);math['NaN']=new type.BigNumber(NaN);object.lazy(math,'pi',function(){return bigConstants.pi(type.BigNumber)});object.lazy(math,'tau',function(){return bigConstants.tau(type.BigNumber)});object.lazy(math,'e',function(){return bigConstants.e(type.BigNumber)});object.lazy(math,'phi',function(){return bigConstants.phi(type.BigNumber)});object.lazy(math,'E',function(){return math.e;});object.lazy(math,'LN2',function(){return new type.BigNumber(2).ln();});object.lazy(math,'LN10',function(){return new type.BigNumber(10).ln()});object.lazy(math,'LOG2E',function(){return new type.BigNumber(1).div(new type.BigNumber(2).ln());});object.lazy(math,'LOG10E',function(){return new type.BigNumber(1).div(new type.BigNumber(10).ln())});object.lazy(math,'PI',function(){return math.pi});object.lazy(math,'SQRT1_2',function(){return new type.BigNumber('0.5').sqrt()});object.lazy(math,'SQRT2',function(){return new type.BigNumber(2).sqrt()});}
else{math['Infinity']=Infinity;math['NaN']=NaN;math.pi=Math.PI;math.tau=Math.PI*2;math.e=Math.E;math.phi=1.61803398874989484820458683436563811772030917980576286213545;math.E=math.e;math.LN2=Math.LN2;math.LN10=Math.LN10;math.LOG2E=Math.LOG2E;math.LOG10E=Math.LOG10E;math.PI=math.pi;math.SQRT1_2=Math.SQRT1_2;math.SQRT2=Math.SQRT2;}
math.i=type.Complex.I;math.version=__webpack_require__(614);}
exports.factory=factory;exports.lazy=false;exports.math=true;}),(function(module,exports,__webpack_require__){var isFactory=__webpack_require__(5).isFactory;var deepExtend=__webpack_require__(5).deepExtend;var typedFactory=__webpack_require__(247);var emitter=__webpack_require__(177);var importFactory=__webpack_require__(246);var configFactory=__webpack_require__(245);exports.create=function create(options){if(typeof Object.create!=='function'){throw new Error('ES5 not supported by this JavaScript engine. '+'Please load the es5-shim and es5-sham library for compatibility.');}
var factories=[];var instances=[];var math=emitter.mixin({});math.type={};math.expression={transform:Object.create(math)};math.algebra={};math.typed=typedFactory.create(math.type);var _config={epsilon:1e-12,matrix:'Matrix',number:'number',precision:64,predictable:false,randomSeed:null};function load(factory){if(!isFactory(factory)){throw new Error('Factory object with properties `type`, `name`, and `factory` expected');}
var index=factories.indexOf(factory);var instance;if(index===-1){if(factory.math===true){instance=factory.factory(math.type,_config,load,math.typed,math);}
else{instance=factory.factory(math.type,_config,load,math.typed);}
factories.push(factory);instances.push(instance);}
else{instance=instances[index];}
return instance;}
math['import']=load(importFactory);math['config']=load(configFactory);if(options){math.config(options);}
return math;};}),(function(module,exports,__webpack_require__){"use strict";var object=__webpack_require__(5);function factory(type,config,load,typed,math){var MATRIX=['Matrix','Array'];var NUMBER=['number','BigNumber','Fraction'];function _config(options){if(options){var prev=object.clone(config);validateOption(options,'matrix',MATRIX);validateOption(options,'number',NUMBER);object.deepExtend(config,options);var curr=object.clone(config);var changes=object.clone(options);math.emit('config',curr,prev,changes);return curr;}
else{return object.clone(config);}}
_config.MATRIX=MATRIX;_config.NUMBER=NUMBER;return _config;}
function contains(array,item){return array.indexOf(item)!==-1;}
function findIndex(array,item){return array.map(function(i){return i.toLowerCase();}).indexOf(item.toLowerCase());}
function validateOption(options,name,values){if(options[name]!==undefined&&!contains(values,options[name])){var index=findIndex(values,options[name]);if(index!==-1){console.warn('Warning: Wrong casing for configuration option "'+name+'", should be "'+values[index]+'" instead of "'+options[name]+'".');options[name]=values[index];}
else{console.warn('Warning: Unknown value "'+options[name]+'" for configuration option "'+name+'". Available options: '+values.map(JSON.stringify).join(', ')+'.');}}}
exports.name='config';exports.math=true;exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var lazy=__webpack_require__(5).lazy;var isFactory=__webpack_require__(5).isFactory;var traverse=__webpack_require__(5).traverse;var extend=__webpack_require__(5).extend;var ArgumentsError=__webpack_require__(53);function factory(type,config,load,typed,math){function math_import(object,options){var num=arguments.length;if(num!=1&&num!=2){throw new ArgumentsError('import',num,1,2);}
if(!options){options={};}
if(isFactory(object)){_importFactory(object,options);}
else if(Array.isArray(object)){object.forEach(function(entry){math_import(entry,options);});}
else if(typeof object==='object'){for(var name in object){if(object.hasOwnProperty(name)){var value=object[name];if(isSupportedType(value)){_import(name,value,options);}
else if(isFactory(object)){_importFactory(object,options);}
else{math_import(value,options);}}}}
else{if(!options.silent){throw new TypeError('Factory, Object, or Array expected');}}}
function _import(name,value,options){if(options.wrap&&typeof value==='function'){value=_wrap(value);}
if(isTypedFunction(math[name])&&isTypedFunction(value)){if(options.override){value=typed(name,value.signatures);}
else{value=typed(math[name],value);}
math[name]=value;_importTransform(name,value);math.emit('import',name,function resolver(){return value;});return;}
if(math[name]===undefined||options.override){math[name]=value;_importTransform(name,value);math.emit('import',name,function resolver(){return value;});return;}
if(!options.silent){throw new Error('Cannot import "'+name+'": already exists');}}
function _importTransform(name,value){if(value&&typeof value.transform==='function'){math.expression.transform[name]=value.transform;}
else{delete math.expression.transform[name]}}
function _wrap(fn){var wrapper=function wrapper(){var args=[];for(var i=0,len=arguments.length;i<len;i++){var arg=arguments[i];args[i]=arg&&arg.valueOf();}
return fn.apply(math,args);};if(fn.transform){wrapper.transform=fn.transform;}
return wrapper;}
function _importFactory(factory,options){if(typeof factory.name==='string'){var name=factory.name;var namespace=factory.path?traverse(math,factory.path):math;var existing=namespace.hasOwnProperty(name)?namespace[name]:undefined;var resolver=function(){var instance=load(factory);if(instance&&typeof instance.transform==='function'){throw new Error('Transforms cannot be attached to factory functions. '+'Please create a separate function for it with exports.path="expression.transform"');}
if(isTypedFunction(existing)&&isTypedFunction(instance)){if(options.override){}
else{instance=typed(existing,instance);}
return instance;}
if(existing===undefined||options.override){return instance;}
if(!options.silent){throw new Error('Cannot import "'+name+'": already exists');}};if(factory.lazy!==false){lazy(namespace,name,resolver);}
else{namespace[name]=resolver();}
math.emit('import',name,resolver,factory.path);}
else{load(factory);}}
function isSupportedType(object){return typeof object=='function'||typeof object==='number'||typeof object==='string'||typeof object==='boolean'||object===null||(object&&object.isUnit===true)||(object&&object.isComplex===true)||(object&&object.isBigNumber===true)||(object&&object.isFraction===true)||(object&&object.isMatrix===true)||(object&&Array.isArray(object)===true)}
function isTypedFunction(fn){return typeof fn==='function'&&typeof fn.signatures==='object';}
return math_import;}
exports.math=true;exports.name='import';exports.factory=factory;exports.lazy=true;}),(function(module,exports,__webpack_require__){var typedFunction=__webpack_require__(719);var digits=__webpack_require__(2).digits;var createTyped=function(){createTyped=typedFunction.create;return typedFunction;};exports.create=function create(type){var typed=createTyped();typed.types=[{name:'number',test:function(x){return typeof x==='number'}},{name:'Complex',test:function(x){return x&&x.isComplex}},{name:'BigNumber',test:function(x){return x&&x.isBigNumber}},{name:'Fraction',test:function(x){return x&&x.isFraction}},{name:'Unit',test:function(x){return x&&x.isUnit}},{name:'string',test:function(x){return typeof x==='string'}},{name:'Array',test:Array.isArray},{name:'Matrix',test:function(x){return x&&x.isMatrix}},{name:'DenseMatrix',test:function(x){return x&&x.isDenseMatrix}},{name:'SparseMatrix',test:function(x){return x&&x.isSparseMatrix}},{name:'Range',test:function(x){return x&&x.isRange}},{name:'Index',test:function(x){return x&&x.isIndex}},{name:'boolean',test:function(x){return typeof x==='boolean'}},{name:'ResultSet',test:function(x){return x&&x.isResultSet}},{name:'Help',test:function(x){return x&&x.isHelp}},{name:'function',test:function(x){return typeof x==='function'}},{name:'Date',test:function(x){return x instanceof Date}},{name:'RegExp',test:function(x){return x instanceof RegExp}},{name:'Object',test:function(x){return typeof x==='object'}},{name:'null',test:function(x){return x===null}},{name:'undefined',test:function(x){return x===undefined}},{name:'OperatorNode',test:function(x){return x&&x.isOperatorNode}},{name:'ConstantNode',test:function(x){return x&&x.isConstantNode}},{name:'SymbolNode',test:function(x){return x&&x.isSymbolNode}},{name:'ParenthesisNode',test:function(x){return x&&x.isParenthesisNode}},{name:'FunctionNode',test:function(x){return x&&x.isFunctionNode}},{name:'FunctionAssignmentNode',test:function(x){return x&&x.isFunctionAssignmentNode}},{name:'ArrayNode',test:function(x){return x&&x.isArrayNode}},{name:'AssignmentNode',test:function(x){return x&&x.isAssignmentNode}},{name:'BlockNode',test:function(x){return x&&x.isBlockNode}},{name:'ConditionalNode',test:function(x){return x&&x.isConditionalNode}},{name:'IndexNode',test:function(x){return x&&x.isIndexNode}},{name:'RangeNode',test:function(x){return x&&x.isRangeNode}},{name:'UpdateNode',test:function(x){return x&&x.isUpdateNode}},{name:'Node',test:function(x){return x&&x.isNode}}];typed.conversions=[{from:'number',to:'BigNumber',convert:function(x){if(digits(x)>15){throw new TypeError('Cannot implicitly convert a number with >15 significant digits to BigNumber '+'(value: '+x+'). '+'Use function bignumber(x) to convert to BigNumber.');}
return new type.BigNumber(x);}},{from:'number',to:'Complex',convert:function(x){return new type.Complex(x,0);}},{from:'number',to:'string',convert:function(x){return x+'';}},{from:'BigNumber',to:'Complex',convert:function(x){return new type.Complex(x.toNumber(),0);}},{from:'Fraction',to:'BigNumber',convert:function(x){throw new TypeError('Cannot implicitly convert a Fraction to BigNumber or vice versa. '+'Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.');}},{from:'Fraction',to:'Complex',convert:function(x){return new type.Complex(x.valueOf(),0);}},{from:'number',to:'Fraction',convert:function(x){if(digits(x)>15){throw new TypeError('Cannot implicitly convert a number with >15 significant digits to Fraction '+'(value: '+x+'). '+'Use function fraction(x) to convert to Fraction.');}
return new type.Fraction(x);}},{from:'string',to:'number',convert:function(x){var n=Number(x);if(isNaN(n)){throw new Error('Cannot convert "'+x+'" to a number');}
return n;}},{from:'string',to:'BigNumber',convert:function(x){try{return new type.BigNumber(x);}
catch(err){throw new Error('Cannot convert "'+x+'" to BigNumber');}}},{from:'string',to:'Fraction',convert:function(x){try{return new type.Fraction(x);}
catch(err){throw new Error('Cannot convert "'+x+'" to Fraction');}}},{from:'string',to:'Complex',convert:function(x){try{return new type.Complex(x);}
catch(err){throw new Error('Cannot convert "'+x+'" to Complex');}}},{from:'boolean',to:'number',convert:function(x){return+x;}},{from:'boolean',to:'BigNumber',convert:function(x){return new type.BigNumber(+x);}},{from:'boolean',to:'Fraction',convert:function(x){return new type.Fraction(+x);}},{from:'boolean',to:'string',convert:function(x){return+x;}},{from:'null',to:'number',convert:function(){return 0;}},{from:'null',to:'string',convert:function(){return'null';}},{from:'null',to:'BigNumber',convert:function(){return new type.BigNumber(0);}},{from:'null',to:'Fraction',convert:function(){return new type.Fraction(0);}},{from:'Array',to:'Matrix',convert:function(array){return new type.DenseMatrix(array);}},{from:'Matrix',to:'Array',convert:function(matrix){return matrix.valueOf();}}];return typed;};}),(function(module,exports,__webpack_require__){"use strict";var ArgumentsError=__webpack_require__(53);var DimensionError=__webpack_require__(11);var IndexError=__webpack_require__(54);module.exports=[{name:'ArgumentsError',path:'error',factory:function(){return ArgumentsError;}},{name:'DimensionError',path:'error',factory:function(){return DimensionError;}},{name:'IndexError',path:'error',factory:function(){return IndexError;}}];}),(function(module,exports,__webpack_require__){"use strict";var object=__webpack_require__(5);var string=__webpack_require__(25);function factory(type,config,load,typed){var parser=load(__webpack_require__(127))();function Help(doc){if(!(this instanceof Help)){throw new SyntaxError('Constructor must be called with the new operator');}
if(!doc)throw new Error('Argument "doc" missing');this.doc=doc;}
Help.prototype.type='Help';Help.prototype.isHelp=true;Help.prototype.toString=function(){var doc=this.doc||{};var desc='\n';if(doc.name){desc+='Name: '+doc.name+'\n\n';}
if(doc.category){desc+='Category: '+doc.category+'\n\n';}
if(doc.description){desc+='Description:\n    '+doc.description+'\n\n';}
if(doc.syntax){desc+='Syntax:\n    '+doc.syntax.join('\n    ')+'\n\n';}
if(doc.examples){desc+='Examples:\n';for(var i=0;i<doc.examples.length;i++){var expr=doc.examples[i];desc+='    '+expr+'\n';var res;try{res=parser.eval(expr);}
catch(e){res=e;}
if(res&&!res.isHelp){desc+='        '+string.format(res,{precision:14})+'\n';}}
desc+='\n';}
if(doc.seealso){desc+='See also: '+doc.seealso.join(', ')+'\n';}
return desc;};Help.prototype.toJSON=function(){var obj=object.clone(this.doc);obj.mathjs='Help';return obj;};Help.fromJSON=function(json){var doc={};for(var prop in json){if(prop!=='mathjs'){doc[prop]=json[prop];}}
return new Help(doc);};Help.prototype.valueOf=Help.prototype.toString;return Help;}
exports.name='Help';exports.path='type';exports.factory=factory;}),(function(module,exports){module.exports={'name':'Infinity','category':'Constants','syntax':['Infinity'],'description':'Infinity, a number which is larger than the maximum number that can be handled by a floating point number.','examples':['Infinity','1 / 0'],'seealso':[]};}),(function(module,exports){module.exports={'name':'LN10','category':'Constants','syntax':['LN10'],'description':'Returns the natural logarithm of 10, approximately equal to 2.302','examples':['LN10','log(10)'],'seealso':[]};}),(function(module,exports){module.exports={'name':'LN2','category':'Constants','syntax':['LN2'],'description':'Returns the natural logarithm of 2, approximately equal to 0.693','examples':['LN2','log(2)'],'seealso':[]};}),(function(module,exports){module.exports={'name':'LOG10E','category':'Constants','syntax':['LOG10E'],'description':'Returns the base-10 logarithm of E, approximately equal to 0.434','examples':['LOG10E','log(e, 10)'],'seealso':[]};}),(function(module,exports){module.exports={'name':'LOG2E','category':'Constants','syntax':['LOG2E'],'description':'Returns the base-2 logarithm of E, approximately equal to 1.442','examples':['LOG2E','log(e, 2)'],'seealso':[]};}),(function(module,exports){module.exports={'name':'NaN','category':'Constants','syntax':['NaN'],'description':'Not a number','examples':['NaN','0 / 0'],'seealso':[]};}),(function(module,exports){module.exports={'name':'SQRT1_2','category':'Constants','syntax':['SQRT1_2'],'description':'Returns the square root of 1/2, approximately equal to 0.707','examples':['SQRT1_2','sqrt(1/2)'],'seealso':[]};}),(function(module,exports){module.exports={'name':'SQRT2','category':'Constants','syntax':['SQRT2'],'description':'Returns the square root of 2, approximately equal to 1.414','examples':['SQRT2','sqrt(2)'],'seealso':[]};}),(function(module,exports){module.exports={'name':'false','category':'Constants','syntax':['false'],'description':'Boolean value false','examples':['false'],'seealso':['true']};}),(function(module,exports){module.exports={'name':'i','category':'Constants','syntax':['i'],'description':'Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.','examples':['i','i * i','sqrt(-1)'],'seealso':[]};}),(function(module,exports){module.exports={'name':'null','category':'Constants','syntax':['null'],'description':'Value null','examples':['null'],'seealso':['true','false']};}),(function(module,exports){module.exports={'name':'phi','category':'Constants','syntax':['phi'],'description':'Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...','examples':['tau'],'seealso':[]};}),(function(module,exports){module.exports={'name':'tau','category':'Constants','syntax':['tau'],'description':'Tau is the ratio constant of a circle\'s circumference to radius, equal to 2 * pi, approximately 6.2832.','examples':['tau','2 * pi'],'seealso':['pi']};}),(function(module,exports){module.exports={'name':'true','category':'Constants','syntax':['true'],'description':'Boolean value true','examples':['true'],'seealso':['false']};}),(function(module,exports){module.exports={'name':'version','category':'Constants','syntax':['version'],'description':'A string with the version number of math.js','examples':['version'],'seealso':[]};}),(function(module,exports){module.exports={'name':'bignumber','category':'Construction','syntax':['bignumber(x)'],'description':'Create a big number from a number or string.','examples':['0.1 + 0.2','bignumber(0.1) + bignumber(0.2)','bignumber("7.2")','bignumber("7.2e500")','bignumber([0.1, 0.2, 0.3])'],'seealso':['boolean','complex','fraction','index','matrix','string','unit']};}),(function(module,exports){module.exports={'name':'boolean','category':'Construction','syntax':['x','boolean(x)'],'description':'Convert a string or number into a boolean.','examples':['boolean(0)','boolean(1)','boolean(3)','boolean("true")','boolean("false")','boolean([1, 0, 1, 1])'],'seealso':['bignumber','complex','index','matrix','number','string','unit']};}),(function(module,exports){module.exports={'name':'complex','category':'Construction','syntax':['complex()','complex(re, im)','complex(string)'],'description':'Create a complex number.','examples':['complex()','complex(2, 3)','complex("7 - 2i")'],'seealso':['bignumber','boolean','index','matrix','number','string','unit']};}),(function(module,exports){module.exports={'name':'createUnit','category':'Construction','syntax':['createUnit(definitions)','createUnit(name, definition)'],'description':'Create a user-defined unit and register it with the Unit type.','examples':['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],'seealso':['unit','splitUnit']};}),(function(module,exports){module.exports={'name':'fraction','category':'Construction','syntax':['fraction(num)','fraction(num,den)'],'description':'Create a fraction from a number or from a numerator and denominator.','examples':['fraction(0.125)','fraction(1, 3) + fraction(2, 5)'],'seealso':['bignumber','boolean','complex','index','matrix','string','unit']};}),(function(module,exports){module.exports={'name':'index','category':'Construction','syntax':['[start]','[start:end]','[start:step:end]','[start1, start 2, ...]','[start1:end1, start2:end2, ...]','[start1:step1:end1, start2:step2:end2, ...]'],'description':'Create an index to get or replace a subset of a matrix','examples':['[]','[1, 2, 3]','A = [1, 2, 3; 4, 5, 6]','A[1, :]','A[1, 2] = 50','A[0:2, 0:2] = ones(2, 2)'],'seealso':['bignumber','boolean','complex','matrix,','number','range','string','unit']};}),(function(module,exports){module.exports={'name':'matrix','category':'Construction','syntax':['[]','[a1, b1, ...; a2, b2, ...]','matrix()','matrix("dense")','matrix([...])'],'description':'Create a matrix.','examples':['[]','[1, 2, 3]','[1, 2, 3; 4, 5, 6]','matrix()','matrix([3, 4])','matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],'seealso':['bignumber','boolean','complex','index','number','string','unit','sparse']};}),(function(module,exports){module.exports={'name':'number','category':'Construction','syntax':['x','number(x)'],'description':'Create a number or convert a string or boolean into a number.','examples':['2','2e3','4.05','number(2)','number("7.2")','number(true)','number([true, false, true, true])','number("52cm", "m")'],'seealso':['bignumber','boolean','complex','fraction','index','matrix','string','unit']};}),(function(module,exports){module.exports={'name':'sparse','category':'Construction','syntax':['sparse()','sparse([a1, b1, ...; a1, b2, ...])','sparse([a1, b1, ...; a1, b2, ...], "number")'],'description':'Create a sparse matrix.','examples':['sparse()','sparse([3, 4; 5, 6])','sparse([3, 0; 5, 0], "number")'],'seealso':['bignumber','boolean','complex','index','number','string','unit','matrix']};}),(function(module,exports){module.exports={'name':'splitUnit','category':'Construction','syntax':['splitUnit(unit: Unit, parts: Unit[])'],'description':'Split a unit in an array of units whose sum is equal to the original unit.','examples':['splitUnit(1 m, ["feet", "inch"])'],'seealso':['unit','createUnit']};}),(function(module,exports){module.exports={'name':'string','category':'Construction','syntax':['"text"','string(x)'],'description':'Create a string or convert a value to a string','examples':['"Hello World!"','string(4.2)','string(3 + 2i)'],'seealso':['bignumber','boolean','complex','index','matrix','number','unit']};}),(function(module,exports){module.exports={'name':'unit','category':'Construction','syntax':['value unit','unit(value, unit)','unit(string)'],'description':'Create a unit.','examples':['5.5 mm','3 inch','unit(7.1, "kilogram")','unit("23 deg")'],'seealso':['bignumber','boolean','complex','index','matrix','number','string']};}),(function(module,exports){module.exports={'name':'config','category':'Core','syntax':['config()','config(options)'],'description':'Get configuration or change configuration.','examples':['config()','1/3 + 1/4','config({number: "Fraction"})','1/3 + 1/4'],'seealso':[]};}),(function(module,exports){module.exports={'name':'import','category':'Core','syntax':['import(functions)','import(functions, options)'],'description':'Import functions or constants from an object.','examples':['import({myFn: f(x)=x^2, myConstant: 32 })','myFn(2)','myConstant'],'seealso':[]};}),(function(module,exports){module.exports={'name':'typed','category':'Core','syntax':['typed(signatures)','typed(name, signatures)'],'description':'Create a typed function.','examples':['double = typed({ "number, number": f(x)=x+x })','double(2)','double("hello")'],'seealso':[]};}),(function(module,exports){module.exports={'name':'derivative','category':'Algebra','syntax':['derivative(expr)','derivative(expr, {simplify: boolean})'],'description':'Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.','examples':['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")','df = derivative(f, x)','df.eval({x: 3})'],'seealso':['simplify','parse','eval']};}),(function(module,exports){module.exports={'name':'lsolve','category':'Algebra','syntax':['x=lsolve(L, b)'],'description':'Solves the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.','examples':['a = [-2, 3; 2, 1]','b = [11, 9]','x = lsolve(a, b)'],'seealso':['lup','lusolve','usolve','matrix','sparse']};}),(function(module,exports){module.exports={'name':'lup','category':'Algebra','syntax':['lup(m)'],'description':'Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U','examples':['lup([[2, 1], [1, 4]])','lup(matrix([[2, 1], [1, 4]]))','lup(sparse([[2, 1], [1, 4]]))'],'seealso':['lusolve','lsolve','usolve','matrix','sparse','slu']};}),(function(module,exports){module.exports={'name':'lusolve','category':'Algebra','syntax':['x=lusolve(A, b)','x=lusolve(lu, b)'],'description':'Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.','examples':['a = [-2, 3; 2, 1]','b = [11, 9]','x = lusolve(a, b)'],'seealso':['lup','slu','lsolve','usolve','matrix','sparse']};}),(function(module,exports){module.exports={'name':'simplify','category':'Algebra','syntax':['simplify(expr)','simplify(expr, rules)'],'description':'Simplify an expression tree.','examples':['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")','simplified = simplify(f)','simplified.eval({x: 2})'],'seealso':['derivative','parse','eval']};}),(function(module,exports){module.exports={'name':'slu','category':'Algebra','syntax':['slu(A, order, threshold)'],'description':'Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U','examples':['slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)'],'seealso':['lusolve','lsolve','usolve','matrix','sparse','lup']};}),(function(module,exports){module.exports={'name':'usolve','category':'Algebra','syntax':['x=usolve(U, b)'],'description':'Solves the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.','examples':['x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])'],'seealso':['lup','lusolve','lsolve','matrix','sparse']};}),(function(module,exports){module.exports={'name':'abs','category':'Arithmetic','syntax':['abs(x)'],'description':'Compute the absolute value.','examples':['abs(3.5)','abs(-4.2)'],'seealso':['sign']};}),(function(module,exports){module.exports={'name':'add','category':'Operators','syntax':['x + y','add(x, y)'],'description':'Add two values.','examples':['a = 2.1 + 3.6','a - 3.6','3 + 2i','3 cm + 2 inch','"2.3" + "4"'],'seealso':['subtract']};}),(function(module,exports){module.exports={'name':'cbrt','category':'Arithmetic','syntax':['cbrt(x)','cbrt(x, allRoots)'],'description':'Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned','examples':['cbrt(64)','cube(4)','cbrt(-8)','cbrt(2 + 3i)','cbrt(8i)','cbrt(8i, true)','cbrt(27 m^3)'],'seealso':['square','sqrt','cube','multiply']};}),(function(module,exports){module.exports={'name':'ceil','category':'Arithmetic','syntax':['ceil(x)'],'description':'Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.','examples':['ceil(3.2)','ceil(3.8)','ceil(-4.2)'],'seealso':['floor','fix','round']};}),(function(module,exports){module.exports={'name':'cube','category':'Arithmetic','syntax':['cube(x)'],'description':'Compute the cube of a value. The cube of x is x * x * x.','examples':['cube(2)','2^3','2 * 2 * 2'],'seealso':['multiply','square','pow']};}),(function(module,exports){module.exports={'name':'divide','category':'Operators','syntax':['x / y','divide(x, y)'],'description':'Divide two values.','examples':['a = 2 / 3','a * 3','4.5 / 2','3 + 4 / 2','(3 + 4) / 2','18 km / 4.5'],'seealso':['multiply']};}),(function(module,exports){module.exports={'name':'dotDivide','category':'Operators','syntax':['x ./ y','dotDivide(x, y)'],'description':'Divide two values element wise.','examples':['a = [1, 2, 3; 4, 5, 6]','b = [2, 1, 1; 3, 2, 5]','a ./ b'],'seealso':['multiply','dotMultiply','divide']};}),(function(module,exports){module.exports={'name':'dotMultiply','category':'Operators','syntax':['x .* y','dotMultiply(x, y)'],'description':'Multiply two values element wise.','examples':['a = [1, 2, 3; 4, 5, 6]','b = [2, 1, 1; 3, 2, 5]','a .* b'],'seealso':['multiply','divide','dotDivide']};}),(function(module,exports){module.exports={'name':'dotpow','category':'Operators','syntax':['x .^ y','dotpow(x, y)'],'description':'Calculates the power of x to y element wise.','examples':['a = [1, 2, 3; 4, 5, 6]','a .^ 2'],'seealso':['pow']};}),(function(module,exports){module.exports={'name':'exp','category':'Arithmetic','syntax':['exp(x)'],'description':'Calculate the exponent of a value.','examples':['exp(1.3)','e ^ 1.3','log(exp(1.3))','x = 2.4','(exp(i*x) == cos(x) + i*sin(x))   # Euler\'s formula'],'seealso':['pow','log']};}),(function(module,exports){module.exports={'name':'fix','category':'Arithmetic','syntax':['fix(x)'],'description':'Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.','examples':['fix(3.2)','fix(3.8)','fix(-4.2)','fix(-4.8)'],'seealso':['ceil','floor','round']};}),(function(module,exports){module.exports={'name':'floor','category':'Arithmetic','syntax':['floor(x)'],'description':'Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.','examples':['floor(3.2)','floor(3.8)','floor(-4.2)'],'seealso':['ceil','fix','round']};}),(function(module,exports){module.exports={'name':'gcd','category':'Arithmetic','syntax':['gcd(a, b)','gcd(a, b, c, ...)'],'description':'Compute the greatest common divisor.','examples':['gcd(8, 12)','gcd(-4, 6)','gcd(25, 15, -10)'],'seealso':['lcm','xgcd']};}),(function(module,exports){module.exports={'name':'hypot','category':'Arithmetic','syntax':['hypot(a, b, c, ...)','hypot([a, b, c, ...])'],'description':'Calculate the hypotenusa of a list with values. ','examples':['hypot(3, 4)','sqrt(3^2 + 4^2)','hypot(-2)','hypot([3, 4, 5])'],'seealso':['abs','norm']};}),(function(module,exports){module.exports={'name':'lcm','category':'Arithmetic','syntax':['lcm(x, y)'],'description':'Compute the least common multiple.','examples':['lcm(4, 6)','lcm(6, 21)','lcm(6, 21, 5)'],'seealso':['gcd']};}),(function(module,exports){module.exports={'name':'log','category':'Arithmetic','syntax':['log(x)','log(x, base)'],'description':'Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).','examples':['log(3.5)','a = log(2.4)','exp(a)','10 ^ 4','log(10000, 10)','log(10000) / log(10)','b = log(1024, 2)','2 ^ b'],'seealso':['exp','log10']};}),(function(module,exports){module.exports={'name':'log10','category':'Arithmetic','syntax':['log10(x)'],'description':'Compute the 10-base logarithm of a value.','examples':['log10(0.00001)','log10(10000)','10 ^ 4','log(10000) / log(10)','log(10000, 10)'],'seealso':['exp','log']};}),(function(module,exports){module.exports={'name':'mod','category':'Operators','syntax':['x % y','x mod y','mod(x, y)'],'description':'Calculates the modulus, the remainder of an integer division.','examples':['7 % 3','11 % 2','10 mod 4','function isOdd(x) = x % 2','isOdd(2)','isOdd(3)'],'seealso':['divide']};}),(function(module,exports){module.exports={'name':'multiply','category':'Operators','syntax':['x * y','multiply(x, y)'],'description':'multiply two values.','examples':['a = 2.1 * 3.4','a / 3.4','2 * 3 + 4','2 * (3 + 4)','3 * 2.1 km'],'seealso':['divide']};}),(function(module,exports){module.exports={'name':'norm','category':'Arithmetic','syntax':['norm(x)','norm(x, p)'],'description':'Calculate the norm of a number, vector or matrix.','examples':['abs(-3.5)','norm(-3.5)','norm(3 - 4i))','norm([1, 2, -3], Infinity)','norm([1, 2, -3], -Infinity)','norm([3, 4], 2)','norm([[1, 2], [3, 4]], 1)','norm([[1, 2], [3, 4]], \'inf\')','norm([[1, 2], [3, 4]], \'fro\')']};}),(function(module,exports){module.exports={'name':'nthRoot','category':'Arithmetic','syntax':['nthRoot(a)','nthRoot(a, root)'],'description':'Calculate the nth root of a value. '+'The principal nth root of a positive real number A, '+'is the positive real solution of the equation "x^root = A".','examples':['4 ^ 3','nthRoot(64, 3)','nthRoot(9, 2)','sqrt(9)'],'seealso':['sqrt','pow']};}),(function(module,exports){module.exports={'name':'pow','category':'Operators','syntax':['x ^ y','pow(x, y)'],'description':'Calculates the power of x to y, x^y.','examples':['2^3 = 8','2*2*2','1 + e ^ (pi * i)'],'seealso':['multiply']};}),(function(module,exports){module.exports={'name':'round','category':'Arithmetic','syntax':['round(x)','round(x, n)'],'description':'round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.','examples':['round(3.2)','round(3.8)','round(-4.2)','round(-4.8)','round(pi, 3)','round(123.45678, 2)'],'seealso':['ceil','floor','fix']};}),(function(module,exports){module.exports={'name':'sign','category':'Arithmetic','syntax':['sign(x)'],'description':'Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.','examples':['sign(3.5)','sign(-4.2)','sign(0)'],'seealso':['abs']};}),(function(module,exports){module.exports={'name':'sqrt','category':'Arithmetic','syntax':['sqrt(x)'],'description':'Compute the square root value. If x = y * y, then y is the square root of x.','examples':['sqrt(25)','5 * 5','sqrt(-1)'],'seealso':['square','multiply']};}),(function(module,exports){module.exports={'name':'square','category':'Arithmetic','syntax':['square(x)'],'description':'Compute the square of a value. The square of x is x * x.','examples':['square(3)','sqrt(9)','3^2','3 * 3'],'seealso':['multiply','pow','sqrt','cube']};}),(function(module,exports){module.exports={'name':'subtract','category':'Operators','syntax':['x - y','subtract(x, y)'],'description':'subtract two values.','examples':['a = 5.3 - 2','a + 2','2/3 - 1/6','2 * 3 - 3','2.1 km - 500m'],'seealso':['add']};}),(function(module,exports){module.exports={'name':'unaryMinus','category':'Operators','syntax':['-x','unaryMinus(x)'],'description':'Inverse the sign of a value. Converts booleans and strings to numbers.','examples':['-4.5','-(-5.6)','-"22"'],'seealso':['add','subtract','unaryPlus']};}),(function(module,exports){module.exports={'name':'unaryPlus','category':'Operators','syntax':['+x','unaryPlus(x)'],'description':'Converts booleans and strings to numbers.','examples':['+true','+"2"'],'seealso':['add','subtract','unaryMinus']};}),(function(module,exports){module.exports={'name':'xgcd','category':'Arithmetic','syntax':['xgcd(a, b)'],'description':'Calculate the extended greatest common divisor for two values','examples':['xgcd(8, 12)','gcd(8, 12)','xgcd(36163, 21199)'],'seealso':['gcd','lcm']};}),(function(module,exports){module.exports={'name':'bitAnd','category':'Bitwise','syntax':['x & y','bitAnd(x, y)'],'description':'Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0','examples':['5 & 3','bitAnd(53, 131)','[1, 12, 31] & 42'],'seealso':['bitNot','bitOr','bitXor','leftShift','rightArithShift','rightLogShift']};}),(function(module,exports){module.exports={'name':'bitNot','category':'Bitwise','syntax':['~x','bitNot(x)'],'description':'Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.','examples':['~1','~2','bitNot([2, -3, 4])'],'seealso':['bitAnd','bitOr','bitXor','leftShift','rightArithShift','rightLogShift']};}),(function(module,exports){module.exports={'name':'bitOr','category':'Bitwise','syntax':['x | y','bitOr(x, y)'],'description':'Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.','examples':['5 | 3','bitOr([1, 2, 3], 4)'],'seealso':['bitAnd','bitNot','bitXor','leftShift','rightArithShift','rightLogShift']};}),(function(module,exports){module.exports={'name':'bitXor','category':'Bitwise','syntax':['bitXor(x, y)'],'description':'Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.','examples':['bitOr(1, 2)','bitXor([2, 3, 4], 4)'],'seealso':['bitAnd','bitNot','bitOr','leftShift','rightArithShift','rightLogShift']};}),(function(module,exports){module.exports={'name':'leftShift','category':'Bitwise','syntax':['x << y','leftShift(x, y)'],'description':'Bitwise left logical shift of a value x by y number of bits.','examples':['4 << 1','8 >> 1'],'seealso':['bitAnd','bitNot','bitOr','bitXor','rightArithShift','rightLogShift']};}),(function(module,exports){module.exports={'name':'rightArithShift','category':'Bitwise','syntax':['x >> y','leftShift(x, y)'],'description':'Bitwise right arithmetic shift of a value x by y number of bits.','examples':['8 >> 1','4 << 1','-12 >> 2'],'seealso':['bitAnd','bitNot','bitOr','bitXor','leftShift','rightLogShift']};}),(function(module,exports){module.exports={'name':'rightLogShift','category':'Bitwise','syntax':['x >> y','leftShift(x, y)'],'description':'Bitwise right logical shift of a value x by y number of bits.','examples':['8 >>> 1','4 << 1','-12 >>> 2'],'seealso':['bitAnd','bitNot','bitOr','bitXor','leftShift','rightArithShift']};}),(function(module,exports){module.exports={'name':'bellNumbers','category':'Combinatorics','syntax':['bellNumbers(n)'],'description':'The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.','examples':['bellNumbers(3)','bellNumbers(8)'],'seealso':['stirlingS2']};}),(function(module,exports){module.exports={'name':'catalan','category':'Combinatorics','syntax':['catalan(n)'],'description':'The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.','examples':['catalan(3)','catalan(8)'],'seealso':['bellNumbers']};}),(function(module,exports){module.exports={'name':'composition','category':'Combinatorics','syntax':['composition(n, k)'],'description':'The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.','examples':['composition(5, 3)'],'seealso':['combinations']};}),(function(module,exports){module.exports={'name':'stirlingS2','category':'Combinatorics','syntax':['stirlingS2(n, k)'],'description':'he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.','examples':['stirlingS2(5, 3)'],'seealso':['bellNumbers']};}),(function(module,exports){module.exports={'name':'arg','category':'Complex','syntax':['arg(x)'],'description':'Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).','examples':['arg(2 + 2i)','atan2(3, 2)','arg(2 + 3i)'],'seealso':['re','im','conj','abs']};}),(function(module,exports){module.exports={'name':'conj','category':'Complex','syntax':['conj(x)'],'description':'Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.','examples':['conj(2 + 3i)','conj(2 - 3i)','conj(-5.2i)'],'seealso':['re','im','abs','arg']};}),(function(module,exports){module.exports={'name':'im','category':'Complex','syntax':['im(x)'],'description':'Get the imaginary part of a complex number.','examples':['im(2 + 3i)','re(2 + 3i)','im(-5.2i)','im(2.4)'],'seealso':['re','conj','abs','arg']};}),(function(module,exports){module.exports={'name':'re','category':'Complex','syntax':['re(x)'],'description':'Get the real part of a complex number.','examples':['re(2 + 3i)','im(2 + 3i)','re(-5.2i)','re(2.4)'],'seealso':['im','conj','abs','arg']};}),(function(module,exports){module.exports={'name':'eval','category':'Expression','syntax':['eval(expression)','eval([expr1, expr2, expr3, ...])'],'description':'Evaluate an expression or an array with expressions.','examples':['eval("2 + 3")','eval("sqrt(" + 4 + ")")'],'seealso':[]};}),(function(module,exports){module.exports={'name':'help','category':'Expression','syntax':['help(object)','help(string)'],'description':'Display documentation on a function or data type.','examples':['help(sqrt)','help("complex")'],'seealso':[]};}),(function(module,exports){module.exports={'name':'distance','category':'Geometry','syntax':['distance([x1, y1], [x2, y2])','distance([[x1, y1], [x2, y2])'],'description':'Calculates the Euclidean distance between two points.','examples':['distance([0,0], [4,4])','distance([[0,0], [4,4]])'],'seealso':[]};}),(function(module,exports){module.exports={'name':'intersect','category':'Geometry','syntax':['intersect(expr1, expr2, expr3, expr4)','intersect(expr1, expr2, expr3)'],'description':'Computes the intersection point of lines and/or planes.','examples':['intersect([0, 0], [10, 10], [10, 0], [0, 10])','intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])'],'seealso':[]};}),(function(module,exports){module.exports={'name':'and','category':'Logical','syntax':['x and y','and(x, y)'],'description':'Logical and. Test whether two values are both defined with a nonzero/nonempty value.','examples':['true and false','true and true','2 and 4'],'seealso':['not','or','xor']};}),(function(module,exports){module.exports={'name':'not','category':'Logical','syntax':['not x','not(x)'],'description':'Logical not. Flips the boolean value of given argument.','examples':['not true','not false','not 2','not 0'],'seealso':['and','or','xor']};}),(function(module,exports){module.exports={'name':'or','category':'Logical','syntax':['x or y','or(x, y)'],'description':'Logical or. Test if at least one value is defined with a nonzero/nonempty value.','examples':['true or false','false or false','0 or 4'],'seealso':['not','and','xor']};}),(function(module,exports){module.exports={'name':'xor','category':'Logical','syntax':['x or y','or(x, y)'],'description':'Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.','examples':['true xor false','false xor false','true xor true','0 or 4'],'seealso':['not','and','or']};}),(function(module,exports){module.exports={'name':'concat','category':'Matrix','syntax':['concat(A, B, C, ...)','concat(A, B, C, ..., dim)'],'description':'Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.','examples':['A = [1, 2; 5, 6]','B = [3, 4; 7, 8]','concat(A, B)','concat(A, B, 1)','concat(A, B, 2)'],'seealso':['det','diag','eye','inv','ones','range','size','squeeze','subset','trace','transpose','zeros']};}),(function(module,exports){module.exports={'name':'cross','category':'Matrix','syntax':['cross(A, B)'],'description':'Calculate the cross product for two vectors in three dimensional space.','examples':['cross([1, 1, 0],  [0, 1, 1])','cross([3, -3, 1], [4, 9, 2])','cross([2, 3, 4],  [5, 6, 7])'],'seealso':['multiply','dot']};}),(function(module,exports){module.exports={'name':'det','category':'Matrix','syntax':['det(x)'],'description':'Calculate the determinant of a matrix','examples':['det([1, 2; 3, 4])','det([-2, 2, 3; -1, 1, 3; 2, 0, -1])'],'seealso':['concat','diag','eye','inv','ones','range','size','squeeze','subset','trace','transpose','zeros']};}),(function(module,exports){module.exports={'name':'diag','category':'Matrix','syntax':['diag(x)','diag(x, k)'],'description':'Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.','examples':['diag(1:3)','diag(1:3, 1)','a = [1, 2, 3; 4, 5, 6; 7, 8, 9]','diag(a)'],'seealso':['concat','det','eye','inv','ones','range','size','squeeze','subset','trace','transpose','zeros']};}),(function(module,exports){module.exports={'name':'dot','category':'Matrix','syntax':['dot(A, B)'],'description':'Calculate the dot product of two vectors. '+'The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] '+'is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn','examples':['dot([2, 4, 1], [2, 2, 3])','[2, 4, 1] * [2, 2, 3]'],'seealso':['multiply','cross']};}),(function(module,exports){module.exports={'name':'eye','category':'Matrix','syntax':['eye(n)','eye(m, n)','eye([m, n])','eye'],'description':'Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.','examples':['eye(3)','eye(3, 5)','a = [1, 2, 3; 4, 5, 6]','eye(size(a))'],'seealso':['concat','det','diag','inv','ones','range','size','squeeze','subset','trace','transpose','zeros']};}),(function(module,exports){module.exports={'name':'filter','category':'Matrix','syntax':['filter(x, test)'],'description':'Filter items in a matrix.','examples':['isPositive(x) = x > 0','filter([6, -2, -1, 4, 3], isPositive)','filter([6, -2, 0, 1, 0], x != 0)'],'seealso':['sort','map','forEach']};}),(function(module,exports){module.exports={'name':'flatten','category':'Matrix','syntax':['flatten(x)'],'description':'Flatten a multi dimensional matrix into a single dimensional matrix.','examples':['a = [1, 2, 3; 4, 5, 6]','size(a)','b = flatten(a)','size(b)'],'seealso':['concat','resize','size','squeeze']};}),(function(module,exports){module.exports={'name':'forEach','category':'Matrix','syntax':['forEach(x, callback)'],'description':'Iterates over all elements of a matrix/array, and executes the given callback function.','examples':['forEach([1, 2, 3], function(val) { console.log(val) })'],'seealso':['map','sort','filter']};}),(function(module,exports){module.exports={'name':'inv','category':'Matrix','syntax':['inv(x)'],'description':'Calculate the inverse of a matrix','examples':['inv([1, 2; 3, 4])','inv(4)','1 / 4'],'seealso':['concat','det','diag','eye','ones','range','size','squeeze','subset','trace','transpose','zeros']};}),(function(module,exports){module.exports={'name':'kron','category':'Matrix','syntax':['math.kron(x, y)'],'description':'Calculates the kronecker product of 2 matrices or vectors.','examples':['kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])','kron([1,1], [2,3,4])'],'seealso':['multiply','dot','cross']};}),(function(module,exports){module.exports={'name':'map','category':'Matrix','syntax':['map(x, callback)'],'description':'Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.','examples':['map([1, 2, 3], function(val) { return value * value })'],'seealso':['filter','forEach']};}),(function(module,exports){module.exports={'name':'ones','category':'Matrix','syntax':['ones(m)','ones(m, n)','ones(m, n, p, ...)','ones([m])','ones([m, n])','ones([m, n, p, ...])','ones'],'description':'Create a matrix containing ones.','examples':['ones(3)','ones(3, 5)','ones([2,3]) * 4.5','a = [1, 2, 3; 4, 5, 6]','ones(size(a))'],'seealso':['concat','det','diag','eye','inv','range','size','squeeze','subset','trace','transpose','zeros']};}),(function(module,exports){module.exports={'name':'partitionSelect','category':'Matrix','syntax':['partitionSelect(x, k)','partitionSelect(x, k, compare)'],'description':'Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.','examples':['partitionSelect([5, 10, 1], 2)','partitionSelect(["C", "B", "A", "D"], 1)'],'seealso':['sort']};}),(function(module,exports){module.exports={'name':'range','category':'Type','syntax':['start:end','start:step:end','range(start, end)','range(start, end, step)','range(string)'],'description':'Create a range. Lower bound of the range is included, upper bound is excluded.','examples':['1:5','3:-1:-3','range(3, 7)','range(0, 12, 2)','range("4:10")','a = [1, 2, 3, 4; 5, 6, 7, 8]','a[1:2, 1:2]'],'seealso':['concat','det','diag','eye','inv','ones','size','squeeze','subset','trace','transpose','zeros']};}),(function(module,exports){module.exports={'name':'resize','category':'Matrix','syntax':['resize(x, size)','resize(x, size, defaultValue)'],'description':'Resize a matrix.','examples':['resize([1,2,3,4,5], [3])','resize([1,2,3], [5])','resize([1,2,3], [5], -1)','resize(2, [2, 3])','resize("hello", [8], "!")'],'seealso':['size','subset','squeeze']};}),(function(module,exports){module.exports={'name':'size','category':'Matrix','syntax':['size(x)'],'description':'Calculate the size of a matrix.','examples':['size(2.3)','size("hello world")','a = [1, 2; 3, 4; 5, 6]','size(a)','size(1:6)'],'seealso':['concat','det','diag','eye','inv','ones','range','squeeze','subset','trace','transpose','zeros']};}),(function(module,exports){module.exports={'name':'sort','category':'Matrix','syntax':['sort(x)','sort(x, compare)'],'description':'Sort the items in a matrix. Compare can be a string "asc" or "desc", or a custom sort function.','examples':['sort([5, 10, 1])','sort(["C", "B", "A", "D"])','sortByLength(a, b) = size(a)[1] - size(b)[1]','sort(["Langdon", "Tom", "Sara"], sortByLength)'],'seealso':['map','filter','forEach']};}),(function(module,exports){module.exports={'name':'squeeze','category':'Matrix','syntax':['squeeze(x)'],'description':'Remove inner and outer singleton dimensions from a matrix.','examples':['a = zeros(3,2,1)','size(squeeze(a))','b = zeros(1,1,3)','size(squeeze(b))'],'seealso':['concat','det','diag','eye','inv','ones','range','size','subset','trace','transpose','zeros']};}),(function(module,exports){module.exports={'name':'subset','category':'Matrix','syntax':['value(index)','value(index) = replacement','subset(value, [index])','subset(value, [index], replacement)'],'description':'Get or set a subset of a matrix or string. '+'Indexes are one-based. '+'Both the ranges lower-bound and upper-bound are included.','examples':['d = [1, 2; 3, 4]','e = []','e[1, 1:2] = [5, 6]','e[2, :] = [7, 8]','f = d * e','f[2, 1]','f[:, 1]'],'seealso':['concat','det','diag','eye','inv','ones','range','size','squeeze','trace','transpose','zeros']};}),(function(module,exports){module.exports={'name':'trace','category':'Matrix','syntax':['trace(A)'],'description':'Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.','examples':['A = [1, 2, 3; -1, 2, 3; 2, 0, 3]','trace(A)'],'seealso':['concat','det','diag','eye','inv','ones','range','size','squeeze','subset','transpose','zeros']};}),(function(module,exports){module.exports={'name':'transpose','category':'Matrix','syntax':['x\'','transpose(x)'],'description':'Transpose a matrix','examples':['a = [1, 2, 3; 4, 5, 6]','a\'','transpose(a)'],'seealso':['concat','det','diag','eye','inv','ones','range','size','squeeze','subset','trace','zeros']};}),(function(module,exports){module.exports={'name':'zeros','category':'Matrix','syntax':['zeros(m)','zeros(m, n)','zeros(m, n, p, ...)','zeros([m])','zeros([m, n])','zeros([m, n, p, ...])','zeros'],'description':'Create a matrix containing zeros.','examples':['zeros(3)','zeros(3, 5)','a = [1, 2, 3; 4, 5, 6]','zeros(size(a))'],'seealso':['concat','det','diag','eye','inv','ones','range','size','squeeze','subset','trace','transpose']};}),(function(module,exports){module.exports={'name':'combinations','category':'Probability','syntax':['combinations(n, k)'],'description':'Compute the number of combinations of n items taken k at a time','examples':['combinations(7, 5)'],'seealso':['permutations','factorial']};}),(function(module,exports){module.exports={'name':'factorial','category':'Probability','syntax':['kldivergence(x, y)'],'description':'Compute the factorial of a value','examples':['5!','5 * 4 * 3 * 2 * 1','3!'],'seealso':['combinations','permutations','gamma']};}),(function(module,exports){module.exports={'name':'gamma','category':'Probability','syntax':['gamma(n)'],'description':'Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.','examples':['gamma(4)','3!','gamma(1/2)','sqrt(pi)'],'seealso':['factorial']};}),(function(module,exports){module.exports={'name':'kldivergence','category':'Probability','syntax':['n!','factorial(n)'],'description':'Calculate the Kullback-Leibler (KL) divergence  between two distributions.','examples':['math.kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])'],'seealso':[]};}),(function(module,exports){module.exports={'name':'multinomial','category':'Probability','syntax':['multinomial(A)'],'description':'Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai <= 0.','examples':['multinomial([1, 2, 1])'],'seealso':['combinations','factorial']};}),(function(module,exports){module.exports={'name':'permutations','category':'Probability','syntax':['permutations(n)','permutations(n, k)'],'description':'Compute the number of permutations of n items taken k at a time','examples':['permutations(5)','permutations(5, 3)'],'seealso':['combinations','factorial']};}),(function(module,exports){module.exports={'name':'pickRandom','category':'Probability','syntax':['pickRandom(array)','pickRandom(array, number)','pickRandom(array, weights)','pickRandom(array, number, weights)','pickRandom(array, weights, number)'],'description':'Pick a random entry from a given array.','examples':['pickRandom(0:10)','pickRandom([1, 3, 1, 6])','pickRandom([1, 3, 1, 6], 2)','pickRandom([1, 3, 1, 6], [2, 3, 2, 1])','pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])','pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)'],'seealso':['random','randomInt']};}),(function(module,exports){module.exports={'name':'random','category':'Probability','syntax':['random()','random(max)','random(min, max)','random(size)','random(size, max)','random(size, min, max)'],'description':'Return a random number.','examples':['random()','random(10, 20)','random([2, 3])'],'seealso':['pickRandom','randomInt']};}),(function(module,exports){module.exports={'name':'randInt','category':'Probability','syntax':['randInt(max)','randInt(min, max)','randInt(size)','randInt(size, max)','randInt(size, min, max)'],'description':'Return a random integer number','examples':['randInt(10, 20)','randInt([2, 3], 10)'],'seealso':['pickRandom','random']};}),(function(module,exports){module.exports={'name':'compare','category':'Relational','syntax':['compare(x, y)'],'description':'Compare two values. Returns 1 if x is larger than y, -1 if x is smaller than y, and 0 if x and y are equal.','examples':['compare(2, 3)','compare(3, 2)','compare(2, 2)','compare(5cm, 40mm)','compare(2, [1, 2, 3])'],'seealso':['equal','unequal','smaller','smallerEq','largerEq']};}),(function(module,exports){module.exports={'name':'deepEqual','category':'Relational','syntax':['deepEqual(x, y)'],'description':'Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.','examples':['[1,3,4] == [1,3,4]','[1,3,4] == [1,3]'],'seealso':['equal','unequal','smaller','larger','smallerEq','largerEq','compare']};}),(function(module,exports){module.exports={'name':'equal','category':'Relational','syntax':['x == y','equal(x, y)'],'description':'Check equality of two values. Returns true if the values are equal, and false if not.','examples':['2+2 == 3','2+2 == 4','a = 3.2','b = 6-2.8','a == b','50cm == 0.5m'],'seealso':['unequal','smaller','larger','smallerEq','largerEq','compare','deepEqual']};}),(function(module,exports){module.exports={'name':'larger','category':'Relational','syntax':['x > y','larger(x, y)'],'description':'Check if value x is larger than y. Returns true if x is larger than y, and false if not.','examples':['2 > 3','5 > 2*2','a = 3.3','b = 6-2.8','(a > b)','(b < a)','5 cm > 2 inch'],'seealso':['equal','unequal','smaller','smallerEq','largerEq','compare']};}),(function(module,exports){module.exports={'name':'largerEq','category':'Relational','syntax':['x >= y','largerEq(x, y)'],'description':'Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.','examples':['2 > 1+1','2 >= 1+1','a = 3.2','b = 6-2.8','(a > b)'],'seealso':['equal','unequal','smallerEq','smaller','largerEq','compare']};}),(function(module,exports){module.exports={'name':'smaller','category':'Relational','syntax':['x < y','smaller(x, y)'],'description':'Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.','examples':['2 < 3','5 < 2*2','a = 3.3','b = 6-2.8','(a < b)','5 cm < 2 inch'],'seealso':['equal','unequal','larger','smallerEq','largerEq','compare']};}),(function(module,exports){module.exports={'name':'smallerEq','category':'Relational','syntax':['x <= y','smallerEq(x, y)'],'description':'Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.','examples':['2 < 1+1','2 <= 1+1','a = 3.2','b = 6-2.8','(a < b)'],'seealso':['equal','unequal','larger','smaller','largerEq','compare']};}),(function(module,exports){module.exports={'name':'unequal','category':'Relational','syntax':['x != y','unequal(x, y)'],'description':'Check unequality of two values. Returns true if the values are unequal, and false if they are equal.','examples':['2+2 != 3','2+2 != 4','a = 3.2','b = 6-2.8','a != b','50cm != 0.5m','5 cm != 2 inch'],'seealso':['equal','smaller','larger','smallerEq','largerEq','compare','deepEqual']};}),(function(module,exports){module.exports={'name':'erf','category':'Special','syntax':['erf(x)'],'description':'Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x','examples':['erf(0.2)','erf(-0.5)','erf(4)'],'seealso':[]};}),(function(module,exports){module.exports={'name':'mad','category':'Statistics','syntax':['mad(a, b, c, ...)','mad(A)'],'description':'Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.','examples':['mad(10, 20, 30)','mad([1, 2, 3])','mad(10, 20, 30)'],'seealso':['mean','median','std','abs']};}),(function(module,exports){module.exports={'name':'max','category':'Statistics','syntax':['max(a, b, c, ...)','max(A)','max(A, dim)'],'description':'Compute the maximum value of a list of values.','examples':['max(2, 3, 4, 1)','max([2, 3, 4, 1])','max([2, 5; 4, 3])','max([2, 5; 4, 3], 1)','max([2, 5; 4, 3], 2)','max(2.7, 7.1, -4.5, 2.0, 4.1)','min(2.7, 7.1, -4.5, 2.0, 4.1)'],'seealso':['mean','median','min','prod','std','sum','var']};}),(function(module,exports){module.exports={'name':'mean','category':'Statistics','syntax':['mean(a, b, c, ...)','mean(A)','mean(A, dim)'],'description':'Compute the arithmetic mean of a list of values.','examples':['mean(2, 3, 4, 1)','mean([2, 3, 4, 1])','mean([2, 5; 4, 3])','mean([2, 5; 4, 3], 1)','mean([2, 5; 4, 3], 2)','mean([1.0, 2.7, 3.2, 4.0])'],'seealso':['max','median','min','prod','std','sum','var']};}),(function(module,exports){module.exports={'name':'median','category':'Statistics','syntax':['median(a, b, c, ...)','median(A)'],'description':'Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.','examples':['median(5, 2, 7)','median([3, -1, 5, 7])'],'seealso':['max','mean','min','prod','std','sum','var','quantileSeq']};}),(function(module,exports){module.exports={'name':'min','category':'Statistics','syntax':['min(a, b, c, ...)','min(A)','min(A, dim)'],'description':'Compute the minimum value of a list of values.','examples':['min(2, 3, 4, 1)','min([2, 3, 4, 1])','min([2, 5; 4, 3])','min([2, 5; 4, 3], 1)','min([2, 5; 4, 3], 2)','min(2.7, 7.1, -4.5, 2.0, 4.1)','max(2.7, 7.1, -4.5, 2.0, 4.1)'],'seealso':['max','mean','median','prod','std','sum','var']};}),(function(module,exports){module.exports={'name':'mode','category':'Statistics','syntax':['mode(a, b, c, ...)','mode(A)','mode(A, a, b, B, c, ...)'],'description':'Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.','examples':['mode(5, 2, 7)','mode([3, -1, 5, 7])'],'seealso':['max','mean','min','median','prod','std','sum','var']};}),(function(module,exports){module.exports={'name':'prod','category':'Statistics','syntax':['prod(a, b, c, ...)','prod(A)'],'description':'Compute the product of all values.','examples':['prod(2, 3, 4)','prod([2, 3, 4])','prod([2, 5; 4, 3])'],'seealso':['max','mean','min','median','min','std','sum','var']};}),(function(module,exports){module.exports={'name':'quantileSeq','category':'Statistics','syntax':['quantileSeq(A, prob[, sorted])','quantileSeq(A, [prob1, prob2, ...][, sorted])','quantileSeq(A, N[, sorted])'],'description':'Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. \n\nIn case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.','examples':['quantileSeq([3, -1, 5, 7], 0.5)','quantileSeq([3, -1, 5, 7], [1/3, 2/3])','quantileSeq([3, -1, 5, 7], 2)','quantileSeq([-1, 3, 5, 7], 0.5, true)'],'seealso':['mean','median','min','max','prod','std','sum','var']};}),(function(module,exports){module.exports={'name':'std','category':'Statistics','syntax':['std(a, b, c, ...)','std(A)','std(A, normalization)'],'description':'Compute the standard deviation of all values, defined as std(A) = sqrt(var(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".','examples':['std(2, 4, 6)','std([2, 4, 6, 8])','std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")','std([1, 2, 3; 4, 5, 6])'],'seealso':['max','mean','min','median','min','prod','sum','var']};}),(function(module,exports){module.exports={'name':'sum','category':'Statistics','syntax':['sum(a, b, c, ...)','sum(A)'],'description':'Compute the sum of all values.','examples':['sum(2, 3, 4, 1)','sum([2, 3, 4, 1])','sum([2, 5; 4, 3])'],'seealso':['max','mean','median','min','prod','std','sum','var']};}),(function(module,exports){module.exports={'name':'var','category':'Statistics','syntax':['var(a, b, c, ...)','var(A)','var(A, normalization)'],'description':'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".','examples':['var(2, 4, 6)','var([2, 4, 6, 8])','var([2, 4, 6, 8], "uncorrected")','var([2, 4, 6, 8], "biased")','var([1, 2, 3; 4, 5, 6])'],'seealso':['max','mean','min','median','min','prod','std','sum']};}),(function(module,exports){module.exports={'name':'acos','category':'Trigonometry','syntax':['acos(x)'],'description':'Compute the inverse cosine of a value in radians.','examples':['acos(0.5)','acos(cos(2.3))'],'seealso':['cos','atan','asin']};}),(function(module,exports){module.exports={'name':'acosh','category':'Trigonometry','syntax':['acosh(x)'],'description':'Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.','examples':['acosh(1.5)'],'seealso':['cosh','asinh','atanh']};}),(function(module,exports){module.exports={'name':'acot','category':'Trigonometry','syntax':['acot(x)'],'description':'Calculate the inverse cotangent of a value.','examples':['acot(0.5)','acot(cot(0.5))','acot(2)'],'seealso':['cot','atan']};}),(function(module,exports){module.exports={'name':'acoth','category':'Trigonometry','syntax':['acoth(x)'],'description':'Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.','examples':['acoth(0.5)'],'seealso':['acsch','asech']};}),(function(module,exports){module.exports={'name':'acsc','category':'Trigonometry','syntax':['acsc(x)'],'description':'Calculate the inverse cotangent of a value.','examples':['acsc(0.5)','acsc(csc(0.5))','acsc(2)'],'seealso':['csc','asin','asec']};}),(function(module,exports){module.exports={'name':'acsch','category':'Trigonometry','syntax':['acsch(x)'],'description':'Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.','examples':['acsch(0.5)'],'seealso':['asech','acoth']};}),(function(module,exports){module.exports={'name':'asec','category':'Trigonometry','syntax':['asec(x)'],'description':'Calculate the inverse secant of a value.','examples':['asec(0.5)','asec(sec(0.5))','asec(2)'],'seealso':['acos','acot','acsc']};}),(function(module,exports){module.exports={'name':'asech','category':'Trigonometry','syntax':['asech(x)'],'description':'Calculate the inverse secant of a value.','examples':['asech(0.5)'],'seealso':['acsch','acoth']};}),(function(module,exports){module.exports={'name':'asin','category':'Trigonometry','syntax':['asin(x)'],'description':'Compute the inverse sine of a value in radians.','examples':['asin(0.5)','asin(sin(2.3))'],'seealso':['sin','acos','atan']};}),(function(module,exports){module.exports={'name':'asinh','category':'Trigonometry','syntax':['asinh(x)'],'description':'Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.','examples':['asinh(0.5)'],'seealso':['acosh','atanh']};}),(function(module,exports){module.exports={'name':'atan','category':'Trigonometry','syntax':['atan(x)'],'description':'Compute the inverse tangent of a value in radians.','examples':['atan(0.5)','atan(tan(2.3))'],'seealso':['tan','acos','asin']};}),(function(module,exports){module.exports={'name':'atan2','category':'Trigonometry','syntax':['atan2(y, x)'],'description':'Computes the principal value of the arc tangent of y/x in radians.','examples':['atan2(2, 2) / pi','angle = 60 deg in rad','x = cos(angle)','y = sin(angle)','atan2(y, x)'],'seealso':['sin','cos','tan']};}),(function(module,exports){module.exports={'name':'atanh','category':'Trigonometry','syntax':['atanh(x)'],'description':'Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.','examples':['atanh(0.5)'],'seealso':['acosh','asinh']};}),(function(module,exports){module.exports={'name':'cos','category':'Trigonometry','syntax':['cos(x)'],'description':'Compute the cosine of x in radians.','examples':['cos(2)','cos(pi / 4) ^ 2','cos(180 deg)','cos(60 deg)','sin(0.2)^2 + cos(0.2)^2'],'seealso':['acos','sin','tan']};}),(function(module,exports){module.exports={'name':'cosh','category':'Trigonometry','syntax':['cosh(x)'],'description':'Compute the hyperbolic cosine of x in radians.','examples':['cosh(0.5)'],'seealso':['sinh','tanh','coth']};}),(function(module,exports){module.exports={'name':'cot','category':'Trigonometry','syntax':['cot(x)'],'description':'Compute the cotangent of x in radians. Defined as 1/tan(x)','examples':['cot(2)','1 / tan(2)'],'seealso':['sec','csc','tan']};}),(function(module,exports){module.exports={'name':'coth','category':'Trigonometry','syntax':['coth(x)'],'description':'Compute the hyperbolic cotangent of x in radians.','examples':['coth(2)','1 / tanh(2)'],'seealso':['sech','csch','tanh']};}),(function(module,exports){module.exports={'name':'csc','category':'Trigonometry','syntax':['csc(x)'],'description':'Compute the cosecant of x in radians. Defined as 1/sin(x)','examples':['csc(2)','1 / sin(2)'],'seealso':['sec','cot','sin']};}),(function(module,exports){module.exports={'name':'csch','category':'Trigonometry','syntax':['csch(x)'],'description':'Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)','examples':['csch(2)','1 / sinh(2)'],'seealso':['sech','coth','sinh']};}),(function(module,exports){module.exports={'name':'sec','category':'Trigonometry','syntax':['sec(x)'],'description':'Compute the secant of x in radians. Defined as 1/cos(x)','examples':['sec(2)','1 / cos(2)'],'seealso':['cot','csc','cos']};}),(function(module,exports){module.exports={'name':'sech','category':'Trigonometry','syntax':['sech(x)'],'description':'Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)','examples':['sech(2)','1 / cosh(2)'],'seealso':['coth','csch','cosh']};}),(function(module,exports){module.exports={'name':'sin','category':'Trigonometry','syntax':['sin(x)'],'description':'Compute the sine of x in radians.','examples':['sin(2)','sin(pi / 4) ^ 2','sin(90 deg)','sin(30 deg)','sin(0.2)^2 + cos(0.2)^2'],'seealso':['asin','cos','tan']};}),(function(module,exports){module.exports={'name':'sinh','category':'Trigonometry','syntax':['sinh(x)'],'description':'Compute the hyperbolic sine of x in radians.','examples':['sinh(0.5)'],'seealso':['cosh','tanh']};}),(function(module,exports){module.exports={'name':'tan','category':'Trigonometry','syntax':['tan(x)'],'description':'Compute the tangent of x in radians.','examples':['tan(0.5)','sin(0.5) / cos(0.5)','tan(pi / 4)','tan(45 deg)'],'seealso':['atan','sin','cos']};}),(function(module,exports){module.exports={'name':'tanh','category':'Trigonometry','syntax':['tanh(x)'],'description':'Compute the hyperbolic tangent of x in radians.','examples':['tanh(0.5)','sinh(0.5) / cosh(0.5)'],'seealso':['sinh','cosh']};}),(function(module,exports){module.exports={'name':'to','category':'Units','syntax':['x to unit','to(x, unit)'],'description':'Change the unit of a value.','examples':['5 inch to cm','3.2kg to g','16 bytes in bits'],'seealso':[]};}),(function(module,exports){module.exports={'name':'clone','category':'Utils','syntax':['clone(x)'],'description':'Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices','examples':['clone(3.5)','clone(2 - 4i)','clone(45 deg)','clone([1, 2; 3, 4])','clone("hello world")'],'seealso':[]};}),(function(module,exports){module.exports={'name':'format','category':'Utils','syntax':['format(value)','format(value, precision)'],'description':'Format a value of any type as string.','examples':['format(2.3)','format(3 - 4i)','format([])','format(pi, 3)'],'seealso':['print']};}),(function(module,exports){module.exports={'name':'isInteger','category':'Utils','syntax':['isInteger(x)'],'description':'Test whether a value is an integer number.','examples':['isInteger(2)','isInteger(3.5)','isInteger([3, 0.5, -2])'],'seealso':['isNegative','isNumeric','isPositive','isZero']};}),(function(module,exports){module.exports={'name':'isNaN','category':'Utils','syntax':['isNaN(x)'],'description':'Test whether a value is NaN (not a number)','examples':['isNaN(2)','isNaN(0 / 0)','isNaN(NaN)','isNaN(Infinity)'],'seealso':['isNegative','isNumeric','isPositive','isZero']};}),(function(module,exports){module.exports={'name':'isNegative','category':'Utils','syntax':['isNegative(x)'],'description':'Test whether a value is negative: smaller than zero.','examples':['isNegative(2)','isNegative(0)','isNegative(-4)','isNegative([3, 0.5, -2])'],'seealso':['isInteger','isNumeric','isPositive','isZero']};}),(function(module,exports){module.exports={'name':'isNumeric','category':'Utils','syntax':['isNumeric(x)'],'description':'Test whether a value is a numeric value. '+'Returns true when the input is a number, BigNumber, Fraction, or boolean.','examples':['isNumeric(2)','isNumeric(0)','isNumeric(bignumber(500))','isNumeric(fraction(0.125))','isNumeric("3")','isNumeric(2 + 3i)','isNumeric([2.3, "foo", false])'],'seealso':['isInteger','isZero','isNegative','isPositive','isNaN']};}),(function(module,exports){module.exports={'name':'isPositive','category':'Utils','syntax':['isPositive(x)'],'description':'Test whether a value is positive: larger than zero.','examples':['isPositive(2)','isPositive(0)','isPositive(-4)','isPositive([3, 0.5, -2])'],'seealso':['isInteger','isNumeric','isNegative','isZero']};}),(function(module,exports){module.exports={'name':'isPrime','category':'Utils','syntax':['isPrime(x)'],'description':'Test whether a value is prime: has no divisors other than itself and one.','examples':['isPrime(3)','isPrime(-2)','isPrime([2, 17, 100])'],'seealso':['isInteger','isNumeric','isNegative','isZero']};}),(function(module,exports){module.exports={'name':'isZero','category':'Utils','syntax':['isZero(x)'],'description':'Test whether a value is zero.','examples':['isZero(2)','isZero(0)','isZero(-4)','isZero([3, 0, -2, 0])'],'seealso':['isInteger','isNumeric','isNegative','isPositive']};}),(function(module,exports){module.exports={'name':'typeof','category':'Utils','syntax':['typeof(x)'],'description':'Get the type of a variable.','examples':['typeof(3.5)','typeof(2 - 4i)','typeof(45 deg)','typeof("hello world")'],'seealso':[]};}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var parse=load(__webpack_require__(37));return typed('compile',{'string':function(expr){return parse(expr).compile();},'Array | Matrix':function(expr){return deepMap(expr,function(entry){return parse(entry).compile();});}});}
exports.name='compile';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var parse=load(__webpack_require__(37));return typed('compile',{'string':function(expr){var scope={};return parse(expr).compile().eval(scope);},'string, Object':function(expr,scope){return parse(expr).compile().eval(scope);},'Array | Matrix':function(expr){var scope={};return deepMap(expr,function(entry){return parse(entry).compile().eval(scope);});},'Array | Matrix, Object':function(expr,scope){return deepMap(expr,function(entry){return parse(entry).compile().eval(scope);});}});}
exports.name='eval';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed,math){var docs=load(__webpack_require__(126));return typed('help',{'any':function(search){var prop;var name=search;if(typeof search!=='string'){for(prop in math){if(math.hasOwnProperty(prop)&&(search===math[prop])){name=prop;break;}}}
var doc=docs[name];if(!doc){throw new Error('No documentation found on "'+name+'"');}
return new type.Help(doc);}});}
exports.math=true;exports.name='help';exports.factory=factory;}),(function(module,exports,__webpack_require__){module.exports=[__webpack_require__(428),__webpack_require__(429),__webpack_require__(430),__webpack_require__(432),__webpack_require__(127)];}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var parse=load(__webpack_require__(37));return typed('parse',{'string | Array | Matrix':parse,'string | Array | Matrix, Object':parse});}
exports.name='parse';exports.factory=factory;}),(function(module,exports,__webpack_require__){module.exports=[__webpack_require__(126),__webpack_require__(431),__webpack_require__(435),__webpack_require__(440),__webpack_require__(249),__webpack_require__(37),__webpack_require__(123)];}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){function UpdateNode(){throw new Error('UpdateNode is deprecated. Use AssignmentNode instead.');}
return UpdateNode;}
exports.name='UpdateNode';exports.path='expression.node';exports.factory=factory;}),(function(module,exports,__webpack_require__){module.exports=[__webpack_require__(128),__webpack_require__(90),__webpack_require__(129),__webpack_require__(130),__webpack_require__(131),__webpack_require__(55),__webpack_require__(133),__webpack_require__(132),__webpack_require__(56),__webpack_require__(15),__webpack_require__(134),__webpack_require__(70),__webpack_require__(71),__webpack_require__(91),__webpack_require__(33),__webpack_require__(434)];}),(function(module,exports,__webpack_require__){"use strict";var errorTransform=__webpack_require__(38).transform;function factory(type,config,load,typed){var subset=load(__webpack_require__(73));var matrix=load(__webpack_require__(0));return function assign(object,index,value){try{if(Array.isArray(object)){return matrix(object).subset(index,value).valueOf();}
else if(object&&typeof object.subset==='function'){return object.subset(index,value);}
else if(typeof object==='string'){return subset(object,index,value);}
else if(typeof object==='object'){if(!index.isObjectProperty()){throw TypeError('Cannot apply a numeric index as object property');}
object[index.getObjectProperty()]=value;return object;}
else{throw new TypeError('Cannot apply index: unsupported type of object');}}
catch(err){throw errorTransform(err);}}}
exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var errorTransform=__webpack_require__(38).transform;function factory(type,config,load,typed){var concat=load(__webpack_require__(150));return typed('concat',{'...any':function(args){var lastIndex=args.length-1;var last=args[lastIndex];if(typeof last==='number'){args[lastIndex]=last-1;}
else if(last&&last.isBigNumber===true){args[lastIndex]=last.minus(1);}
try{return concat.apply(null,args);}
catch(err){throw errorTransform(err);}}});}
exports.name='concat';exports.path='expression.transform';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var filter=load(__webpack_require__(152));var SymbolNode=load(__webpack_require__(33));function filterTransform(args,math,scope){var x,test;if(args[0]){x=args[0].compile().eval(scope);}
if(args[1]){if(args[1]&&args[1].isSymbolNode){test=args[1].compile().eval(scope);}
else{var _scope=scope||{};var symbol=args[1].filter(function(node){return(node&&node.isSymbolNode)&&!(node.name in math)&&!(node.name in _scope);})[0];var sub=Object.create(_scope);var eq=args[1].compile();if(symbol){var name=symbol.name;test=function(x){sub[name]=x;return eq.eval(sub);}}
else{throw new Error('No undefined variable found in filter equation');}}}
return filter(x,test);}
filterTransform.rawArgs=true;return filterTransform;}
exports.name='filter';exports.path='expression.transform';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var maxArgumentCount=__webpack_require__(42).maxArgumentCount;function factory(type,config,load,typed){var forEach=load(__webpack_require__(153));return typed('forEach',{'Array | Matrix, function':function(array,callback){var args=maxArgumentCount(callback);var recurse=function(value,index){if(Array.isArray(value)){value.forEach(function(child,i){recurse(child,index.concat(i+1));});}
else{if(args===1){callback(value);}
else if(args===2){callback(value,index);}
else{callback(value,index,array);}}};recurse(array.valueOf(),[]);}});}
exports.name='forEach';exports.path='expression.transform';exports.factory=factory;}),(function(module,exports,__webpack_require__){module.exports=[__webpack_require__(437),__webpack_require__(438),__webpack_require__(439),__webpack_require__(441),__webpack_require__(442),__webpack_require__(443),__webpack_require__(444),__webpack_require__(445),__webpack_require__(446),__webpack_require__(447)];}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load){return function indexTransform(){var args=[];for(var i=0,ii=arguments.length;i<ii;i++){var arg=arguments[i];if(arg&&arg.isRange===true){arg.start--;arg.end-=(arg.step>0?0:2);}
else if(arg&&arg.isSet===true){arg=arg.map(function(v){return v-1;});}
else if(arg&&(arg.isArray===true||arg.isMatrix)){arg=arg.map(function(v){return v-1;});}
else if(typeof arg==='number'){arg--;}
else if(arg&&arg.isBigNumber===true){arg=arg.toNumber()-1;}
else if(typeof arg==='string'){}
else{throw new TypeError('Dimension must be an Array, Matrix, number, string, or Range');}
args[i]=arg;}
var res=new type.Index();type.Index.apply(res,args);return res;};}
exports.name='index';exports.path='expression.transform';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var maxArgumentCount=__webpack_require__(42).maxArgumentCount;function factory(type,config,load,typed){var map=load(__webpack_require__(95));var matrix=load(__webpack_require__(0));return typed('max',{'Array, function':function(x,callback){return _map(x,callback,x);},'Matrix, function':function(x,callback){return matrix(_map(x.valueOf(),callback,x));}});}
function _map(array,callback,orig){var args=maxArgumentCount(callback);function recurse(value,index){if(Array.isArray(value)){return value.map(function(child,i){return recurse(child,index.concat(i+1));});}
else{if(args===1){return callback(value);}
else if(args===2){return callback(value,index);}
else{return callback(value,index,orig);}}}
return recurse(array,[]);}
exports.name='map';exports.path='expression.transform';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var errorTransform=__webpack_require__(38).transform;var isCollection=__webpack_require__(49);function factory(type,config,load,typed){var max=load(__webpack_require__(159));return typed('max',{'...any':function(args){if(args.length==2&&isCollection(args[0])){var dim=args[1];if(typeof dim==='number'){args[1]=dim-1;}
else if(dim&&dim.isBigNumber===true){args[1]=dim.minus(1);}}
try{return max.apply(null,args);}
catch(err){throw errorTransform(err);}}});}
exports.name='max';exports.path='expression.transform';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var errorTransform=__webpack_require__(38).transform;var isCollection=__webpack_require__(49);function factory(type,config,load,typed){var mean=load(__webpack_require__(160));return typed('mean',{'...any':function(args){if(args.length==2&&isCollection(args[0])){var dim=args[1];if(typeof dim==='number'){args[1]=dim-1;}
else if(dim&&dim.isBigNumber===true){args[1]=dim.minus(1);}}
try{return mean.apply(null,args);}
catch(err){throw errorTransform(err);}}});}
exports.name='mean';exports.path='expression.transform';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var errorTransform=__webpack_require__(38).transform;var isCollection=__webpack_require__(49);function factory(type,config,load,typed){var min=load(__webpack_require__(162));return typed('min',{'...any':function(args){if(args.length==2&&isCollection(args[0])){var dim=args[1];if(typeof dim==='number'){args[1]=dim-1;}
else if(dim&&dim.isBigNumber===true){args[1]=dim.minus(1);}}
try{return min.apply(null,args);}
catch(err){throw errorTransform(err);}}});}
exports.name='min';exports.path='expression.transform';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var range=load(__webpack_require__(155));return typed('range',{'...any':function(args){var lastIndex=args.length-1;var last=args[lastIndex];if(typeof last!=='boolean'){args.push(true);}
return range.apply(null,args);}});}
exports.name='range';exports.path='expression.transform';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var errorTransform=__webpack_require__(38).transform;function factory(type,config,load,typed){var subset=load(__webpack_require__(73));return typed('subset',{'...any':function(args){try{return subset.apply(null,args);}
catch(err){throw errorTransform(err);}}});}
exports.name='subset';exports.path='expression.transform';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var parse=load(__webpack_require__(37));var simplify=load(__webpack_require__(138));var ConstantNode=load(__webpack_require__(55));var FunctionNode=load(__webpack_require__(56));var OperatorNode=load(__webpack_require__(70));var ParenthesisNode=load(__webpack_require__(71));var SymbolNode=load(__webpack_require__(33));var derivative=typed('derivative',{'Node, SymbolNode, Object':function(expr,variable,options){var constNodes={};constTag(constNodes,expr,variable.name);var res=_derivative(expr,constNodes);return options.simplify?simplify(res):res;},'Node, SymbolNode':function(expr,variable){return derivative(expr,variable,{simplify:true})},'string, SymbolNode':function(expr,variable){return derivative(parse(expr),variable)},'string, SymbolNode, Object':function(expr,variable,options){return derivative(parse(expr),variable,options)},'string, string':function(expr,variable){return derivative(parse(expr),parse(variable))},'string, string, Object':function(expr,variable,options){return derivative(parse(expr),parse(variable),options)},'Node, string':function(expr,variable){return derivative(expr,parse(variable))},'Node, string, Object':function(expr,variable,options){return derivative(expr,parse(variable),options)}});derivative._simplify=true
derivative.toTex=function(deriv){return _derivTex.apply(null,deriv.args);}
var _derivTex=typed('_derivTex',{'Node, SymbolNode':function(expr,x){return _derivTex(expr.toString(),x.toString(),1);},'Node, SymbolNode, ConstantNode':function(expr,x,order){return _derivTex(expr.toString(),x.name,order.value);},'string, string, number':function(expr,x,order){var d;if(order===1){d="{d\\over d"+x+"}";}
else{d="{d^{"+order+"}\\over d"+x+"^{"+order+"}}";}
return d+"\\left["+expr+"\\right]"}});var constTag=typed('constTag',{'Object, ConstantNode, string':function(constNodes,node){return constNodes[node]=true;},'Object, SymbolNode, string':function(constNodes,node,varName){if(node.name!=varName){return constNodes[node]=true;}
return false;},'Object, ParenthesisNode, string':function(constNodes,node,varName){return constTag(constNodes,node.content,varName);},'Object, FunctionAssignmentNode, string':function(constNodes,node,varName){if(node.params.indexOf(varName)==-1){return constNodes[node]=true;}
return constTag(constNodes,node.expr,varName);},'Object, FunctionNode | OperatorNode, string':function(constNodes,node,varName){if(node.args.length!=0){var isConst=constTag(constNodes,node.args[0],varName);for(var i=1;i<node.args.length;++i){isConst=constTag(constNodes,node.args[i],varName)&&isConst;}
if(isConst){return constNodes[node]=true;}}
return false;}});var _derivative=typed('_derivative',{'ConstantNode, Object':function(node){return new ConstantNode('0',node.valueType);},'SymbolNode, Object':function(node,constNodes){if(constNodes[node]!==undefined){return new ConstantNode('0',config.number);}
return new ConstantNode('1',config.number);},'ParenthesisNode, Object':function(node,constNodes){return new ParenthesisNode(_derivative(node.content,constNodes));},'FunctionAssignmentNode, Object':function(node,constNodes){if(constNodes[node]!==undefined){return new ConstantNode('0',config.number);}
return _derivative(node.expr,constNodes);},'FunctionNode, Object':function(node,constNodes){if(node.args.length!=1){funcArgsCheck(node);}
if(constNodes[node]!==undefined){return new ConstantNode('0',config.number);}
var arg1=node.args[0];var arg2;var div=false;var negative=false;var funcDerivative;switch(node.name){case'cbrt':div=true;funcDerivative=new OperatorNode('*','multiply',[new ConstantNode('3',config.number),new OperatorNode('^','pow',[arg1,new OperatorNode('/','divide',[new ConstantNode('2',config.number),new ConstantNode('3',config.number)])])]);break;case'sqrt':case'nthRoot':if(node.args.length==1){div=true;funcDerivative=new OperatorNode('*','multiply',[new ConstantNode('2',config.number),new FunctionNode('sqrt',[arg1])]);break;}
arg2=new OperatorNode('/','divide',[new ConstantNode('1',config.number),node.args[1]]);constNodes[arg2]=constNodes[node.args[1]];return _derivative(new OperatorNode('^','pow',[arg1,arg2]),constNodes);case'log10':arg2=new ConstantNode('10',config.number);case'log':if(!arg2&&node.args.length==1){funcDerivative=arg1.clone();}else if(arg2||constNodes[node.args[1]]!==undefined){funcDerivative=new OperatorNode('*','multiply',[arg1.clone(),new FunctionNode('log',[arg2||node.args[1]])]);}else{return _derivative(new OperatorNode('/','divide',[new FunctionNode('log',[arg1]),new FunctionNode('log',[node.args[1]])]),constNodes);}
div=true;break;case'exp':funcDerivative=new FunctionNode('exp',[arg1.clone()]);break;case'sin':funcDerivative=new FunctionNode('cos',[arg1.clone()]);break;case'cos':funcDerivative=new OperatorNode('-','unaryMinus',[new FunctionNode('sin',[arg1.clone()])]);break;case'tan':funcDerivative=new OperatorNode('^','pow',[new FunctionNode('sec',[arg1.clone()]),new ConstantNode('2',config.number)]);break;case'sec':funcDerivative=new OperatorNode('*','multiply',[node,new FunctionNode('tan',[arg1.clone()])]);break;case'csc':negative=true;funcDerivative=new OperatorNode('*','multiply',[node,new FunctionNode('cot',[arg1.clone()])]);break;case'cot':negative=true;funcDerivative=new OperatorNode('^','pow',[new FunctionNode('csc',[arg1.clone()]),new ConstantNode('2',config.number)]);break;case'asin':div=true;funcDerivative=new FunctionNode('sqrt',[new OperatorNode('-','subtract',[new ConstantNode('1',config.number),new OperatorNode('^','pow',[arg1.clone(),new ConstantNode('2',config.number)])])]);break;case'acos':div=true;negative=true;funcDerivative=new FunctionNode('sqrt',[new OperatorNode('-','subtract',[new ConstantNode('1',config.number),new OperatorNode('^','pow',[arg1.clone(),new ConstantNode('2',config.number)])])]);break;case'atan':div=true;funcDerivative=new OperatorNode('+','add',[new OperatorNode('^','pow',[arg1.clone(),new ConstantNode('2',config.number)]),new ConstantNode('1',config.number)]);break;case'asec':div=true;funcDerivative=new OperatorNode('*','multiply',[new FunctionNode('abs',[arg1.clone()]),new FunctionNode('sqrt',[new OperatorNode('-','subtract',[new OperatorNode('^','pow',[arg1.clone(),new ConstantNode('2',config.number)]),new ConstantNode('1',config.number)])])]);break;case'acsc':div=true;negative=true;funcDerivative=new OperatorNode('*','multiply',[new FunctionNode('abs',[arg1.clone()]),new FunctionNode('sqrt',[new OperatorNode('-','subtract',[new OperatorNode('^','pow',[arg1.clone(),new ConstantNode('2',config.number)]),new ConstantNode('1',config.number)])])]);break;case'acot':div=true;negative=true;funcDerivative=new OperatorNode('+','add',[new OperatorNode('^','pow',[arg1.clone(),new ConstantNode('2',config.number)]),new ConstantNode('1',config.number)]);break;case'sinh':funcDerivative=new FunctionNode('cosh',[arg1.clone()]);break;case'cosh':funcDerivative=new FunctionNode('sinh',[arg1.clone()]);break;case'tanh':funcDerivative=new OperatorNode('^','pow',[new FunctionNode('sech',[arg1.clone()]),new ConstantNode('2',config.number)]);break;case'sech':negative=true;funcDerivative=new OperatorNode('*','multiply',[node,new FunctionNode('tanh',[arg1.clone()])]);break;case'csch':negative=true;funcDerivative=new OperatorNode('*','multiply',[node,new FunctionNode('coth',[arg1.clone()])]);break;case'coth':negative=true;funcDerivative=new OperatorNode('^','pow',[new FunctionNode('csch',[arg1.clone()]),new ConstantNode('2',config.number)]);break;case'asinh':div=true;funcDerivative=new FunctionNode('sqrt',[new OperatorNode('+','add',[new OperatorNode('^','pow',[arg1.clone(),new ConstantNode('2',config.number)]),new ConstantNode('1',config.number)])]);break;case'acosh':div=true;funcDerivative=new FunctionNode('sqrt',[new OperatorNode('-','subtract',[new OperatorNode('^','pow',[arg1.clone(),new ConstantNode('2',config.number)]),new ConstantNode('1',config.number),])]);break;case'atanh':div=true;funcDerivative=new OperatorNode('-','subtract',[new ConstantNode('1',config.number),new OperatorNode('^','pow',[arg1.clone(),new ConstantNode('2',config.number)])]);break;case'asech':div=true;negative=true;funcDerivative=new OperatorNode('*','multiply',[arg1.clone(),new FunctionNode('sqrt',[new OperatorNode('-','subtract',[new ConstantNode('1',config.number),new OperatorNode('^','pow',[arg1.clone(),new ConstantNode('2',config.number)])])])]);break;case'acsch':div=true;negative=true;funcDerivative=new OperatorNode('*','multiply',[new FunctionNode('abs',[arg1.clone()]),new FunctionNode('sqrt',[new OperatorNode('+','add',[new OperatorNode('^','pow',[arg1.clone(),new ConstantNode('2',config.number)]),new ConstantNode('1',config.number)])])]);break;case'acoth':div=true;negative=true;funcDerivative=new OperatorNode('-','subtract',[new ConstantNode('1',config.number),new OperatorNode('^','pow',[arg1.clone(),new ConstantNode('2',config.number)])]);break;case'gamma':default:throw new Error('Function "'+node.name+'" not supported by derivative');}
var op,func;if(div){op='/';func='divide';}else{op='*';func='multiply';}
var chainDerivative=_derivative(arg1,constNodes);if(negative){chainDerivative=new OperatorNode('-','unaryMinus',[chainDerivative]);}
return new OperatorNode(op,func,[chainDerivative,funcDerivative]);},'OperatorNode, Object':function(node,constNodes){if(constNodes[node]!==undefined){return new ConstantNode('0',config.number);}
var arg1=node.args[0];var arg2=node.args[1];switch(node.op){case'+':case'-':if(node.args.length==1){return new OperatorNode(node.op,node.fn,[_derivative(arg1,constNodes)]);}
return new OperatorNode(node.op,node.fn,[_derivative(arg1,constNodes),_derivative(arg2,constNodes)]);case'*':if(constNodes[arg1]!==undefined||constNodes[arg2]!==undefined){var newArgs=(constNodes[arg1]!==undefined)?[arg1.clone(),_derivative(arg2,constNodes)]:[arg2.clone(),_derivative(arg1,constNodes)];return new OperatorNode('*','multiply',newArgs);}
return new OperatorNode('+','add',[new OperatorNode('*','multiply',[_derivative(arg1,constNodes),arg2.clone()]),new OperatorNode('*','multiply',[arg1.clone(),_derivative(arg2,constNodes)])]);case'/':if(constNodes[arg2]!==undefined){return new OperatorNode('/','divide',[_derivative(arg1,constNodes),arg2]);}
if(constNodes[arg1]!==undefined){return new OperatorNode('*','multiply',[new OperatorNode('-','unaryMinus',[arg1]),new OperatorNode('/','divide',[_derivative(arg2,constNodes),new OperatorNode('^','pow',[arg2.clone(),new ConstantNode('2',config.number)])])]);}
return new OperatorNode('/','divide',[new OperatorNode('-','subtract',[new OperatorNode('*','multiply',[_derivative(arg1,constNodes),arg2.clone()]),new OperatorNode('*','multiply',[arg1.clone(),_derivative(arg2,constNodes)])]),new OperatorNode('^','pow',[arg2.clone(),new ConstantNode('2',config.number)])]);case'^':if(constNodes[arg1]!==undefined){if(arg1.isConstantNode&&(arg1.value=='0'||arg1.value=='1')){return new ConstantNode('0',config.number);}
return new OperatorNode('*','multiply',[node,new OperatorNode('*','multiply',[new FunctionNode('log',[arg1.clone()]),_derivative(arg2.clone(),constNodes)])]);}
if(constNodes[arg2]!==undefined){if(arg2.isConstantNode){var expValue=arg2.value;if(expValue=='0'){return new ConstantNode('0',config.number);}
if(expValue=='1'){return _derivative(arg1,constNodes);}}
var powMinusOne=new OperatorNode('^','pow',[arg1.clone(),new OperatorNode('-','subtract',[arg2,new ConstantNode('1',config.number)])]);return new OperatorNode('*','multiply',[arg2.clone(),new OperatorNode('*','multiply',[_derivative(arg1,constNodes),powMinusOne]),]);}
return new OperatorNode('*','multiply',[new OperatorNode('^','pow',[arg1.clone(),arg2.clone()]),new OperatorNode('+','add',[new OperatorNode('*','multiply',[_derivative(arg1,constNodes),new OperatorNode('/','divide',[arg2.clone(),arg1.clone()])]),new OperatorNode('*','multiply',[_derivative(arg2,constNodes),new FunctionNode('log',[arg1.clone()])])])]);case'%':case'mod':default:throw new Error('Operator "'+node.op+'" not supported by derivative');}}});function funcArgsCheck(node){if((node.name=='log'||node.name=='nthRoot')&&node.args.length==2){return;}
for(var i=0;i<node.args.length;++i){node.args[i]=new ConstantNode(0);}
node.compile().eval();throw new Error('Expected TypeError, but none found');}
return derivative;}
exports.name='derivative';exports.factory=factory;}),(function(module,exports,__webpack_require__){module.exports=[__webpack_require__(448),__webpack_require__(138),__webpack_require__(136),__webpack_require__(137),__webpack_require__(140),__webpack_require__(451),__webpack_require__(141)];}),(function(module,exports,__webpack_require__){"use strict";var digits=__webpack_require__(2).digits;function factory(type,config,load,typed,math){var util=load(__webpack_require__(139));var isCommutative=util.isCommutative;var isAssociative=util.isAssociative;var allChildren=util.allChildren;var createMakeNodeFunction=util.createMakeNodeFunction;var ConstantNode=math.expression.node.ConstantNode;var OperatorNode=math.expression.node.OperatorNode;function simplifyConstant(expr){var res=foldFraction(expr);return res.isNode?res:_toNode(res);}
function _eval(fnname,args){try{return _toNumber(math[fnname].apply(null,args));}
catch(ignore){args=args.map(function(x){return x.valueOf();});return _toNumber(math[fnname].apply(null,args));}}
var _toNode=typed({'Fraction':_fractionToNode,'number':_numberToNode,'BigNumber':function(s){return _numberToNode(s._toNumber());},'Complex':function(s){throw'Cannot convert Complex number to Node';}});var _toNumber=typed({'Fraction':function(s){return s;},'BigNumber':function(s){if(s.decimalPlaces()<=15){return math.fraction(s.toNumber())}
return s.toNumber();},'number':function(s){if(digits(s)<=15){return math.fraction(s);}
return s;},'Complex':function(s){if(s.im!==0){return s;}
if(digits(s.re)<=15){return math.fraction(s.re);}
return s.re;},});function _numberToNode(n){if(n<0){return new OperatorNode('-','unaryMinus',[new ConstantNode(-n)])}
return new ConstantNode(n);}
function _fractionToNode(f){var n;var vn=f.s*f.n;if(vn<0){n=new OperatorNode('-','unaryMinus',[new ConstantNode(-vn)])}
else{n=new ConstantNode(vn);}
if(f.d===1){return n;}
return new OperatorNode('/','divide',[n,new ConstantNode(f.d)]);}
function foldOp(fn,args,makeNode){return args.reduce(function(a,b){if(!a.isNode&&!b.isNode){try{return _eval(fn,[a,b]);}
catch(ignoreandcontinue){}
a=_toNode(a);b=_toNode(b);}
else if(!a.isNode){a=_toNode(a);}
else if(!b.isNode){b=_toNode(b);}
return makeNode([a,b]);});}
function foldFraction(node){switch(node.type){case'SymbolNode':return node;case'ConstantNode':return _toNumber(node.value);case'FunctionNode':if(math[node.name]&&math[node.name].rawArgs){return node;}
case'OperatorNode':var fn=node.fn.toString();var args;var res;var makeNode=createMakeNodeFunction(node);if(node.args.length===1){args=[foldFraction(node.args[0])];if(!args[0].isNode){res=_eval(fn,args);}
else{res=makeNode(args);}}
else if(isAssociative(node)){args=allChildren(node);args=args.map(foldFraction);if(isCommutative(fn)){var consts=[],vars=[];for(var i=0;i<args.length;i++){if(!args[i].isNode){consts.push(args[i]);}
else{vars.push(args[i]);}}
if(consts.length>1){res=foldOp(fn,consts,makeNode);vars.unshift(res);res=foldOp(fn,vars,makeNode);}
else{res=foldOp(fn,args,makeNode);}}
else{res=foldOp(fn,args,makeNode);}}
else{args=node.args.map(foldFraction);res=foldOp(fn,args,makeNode);}
return res;case'ParenthesisNode':return foldFraction(node.content);case'AccessorNode':case'ArrayNode':case'AssignmentNode':case'BlockNode':case'FunctionAssignmentNode':case'IndexNode':case'ObjectNode':case'RangeNode':case'UpdateNode':case'ConditionalNode':default:throw'Unimplemented node type in simplifyConstant: '+node.type;}}
return simplifyConstant;}
exports.math=true;exports.name='simplifyConstant';exports.path='algebra.simplify';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var isArray=Array.isArray;function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var lup=load(__webpack_require__(136));var slu=load(__webpack_require__(137));var cs_ipvec=load(__webpack_require__(457));var solveValidation=load(__webpack_require__(92));var usolve=load(__webpack_require__(141));var lsolve=load(__webpack_require__(140));var lusolve=typed('lusolve',{'Array, Array | Matrix':function(a,b){a=matrix(a);var d=lup(a);var x=_lusolve(d.L,d.U,d.p,null,b);return x.valueOf();},'DenseMatrix, Array | Matrix':function(a,b){var d=lup(a);return _lusolve(d.L,d.U,d.p,null,b);},'SparseMatrix, Array | Matrix':function(a,b){var d=lup(a);return _lusolve(d.L,d.U,d.p,null,b);},'SparseMatrix, Array | Matrix, number, number':function(a,b,order,threshold){var d=slu(a,order,threshold);return _lusolve(d.L,d.U,d.p,d.q,b);},'Object, Array | Matrix':function(d,b){return _lusolve(d.L,d.U,d.p,d.q,b);}});var _toMatrix=function(a){if(a&&a.isMatrix===true)
return a;if(isArray(a))
return matrix(a);throw new TypeError('Invalid Matrix LU decomposition');};var _lusolve=function(l,u,p,q,b){l=_toMatrix(l);u=_toMatrix(u);b=solveValidation(l,b,false);if(p)
b._data=cs_ipvec(p,b._data);var y=lsolve(l,b);var x=usolve(u,y);if(q)
x._data=cs_ipvec(q,x._data);return x;};return lusolve;}
exports.name='lusolve';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load){var cs_flip=load(__webpack_require__(93));var cs_fkeep=load(__webpack_require__(456));var cs_tdfs=load(__webpack_require__(144));var add=load(__webpack_require__(20));var multiply=load(__webpack_require__(13));var transpose=load(__webpack_require__(74));var cs_amd=function(order,a){if(!a||order<=0||order>3)
return null;var asize=a._size;var m=asize[0];var n=asize[1];var lemax=0;var dense=Math.max(16,10*Math.sqrt(n));dense=Math.min(n-2,dense);var cm=_createTargetMatrix(order,a,m,n,dense);cs_fkeep(cm,_diag,null);var cindex=cm._index;var cptr=cm._ptr;var cnz=cptr[n];var P=[];var W=[];var len=0;var nv=n+1;var next=2*(n+1);var head=3*(n+1);var elen=4*(n+1);var degree=5*(n+1);var w=6*(n+1);var hhead=7*(n+1);var last=P;var mark=_initializeQuotientGraph(n,cptr,W,len,head,last,next,hhead,nv,w,elen,degree);var nel=_initializeDegreeLists(n,cptr,W,degree,elen,w,dense,nv,head,last,next);var mindeg=0;var i,j,k,k1,k2,e,pj,ln,nvi,pk,eln,p1,p2,pn,h,d;while(nel<n){for(k=-1;mindeg<n&&(k=W[head+mindeg])==-1;mindeg++);if(W[next+k]!=-1)
last[W[next+k]]=-1;W[head+mindeg]=W[next+k];var elenk=W[elen+k];var nvk=W[nv+k];nel+=nvk;var dk=0;W[nv+k]=-nvk;var p=cptr[k];var pk1=(elenk===0)?p:cnz;var pk2=pk1;for(k1=1;k1<=elenk+1;k1++){if(k1>elenk){e=k;pj=p;ln=W[len+k]-elenk;}
else{e=cindex[p++];pj=cptr[e];ln=W[len+e];}
for(k2=1;k2<=ln;k2++){i=cindex[pj++];if((nvi=W[nv+i])<=0)
continue;dk+=nvi;W[nv+i]=-nvi;cindex[pk2++]=i;if(W[next+i]!=-1)
last[W[next+i]]=last[i];if(last[i]!=-1)
W[next+last[i]]=W[next+i];else
W[head+W[degree+i]]=W[next+i];}
if(e!=k){cptr[e]=cs_flip(k);W[w+e]=0;}}
if(elenk!==0)
cnz=pk2;W[degree+k]=dk;cptr[k]=pk1;W[len+k]=pk2-pk1;W[elen+k]=-2;mark=_wclear(mark,lemax,W,w,n);for(pk=pk1;pk<pk2;pk++){i=cindex[pk];if((eln=W[elen+i])<=0)
continue;nvi=-W[nv+i];var wnvi=mark-nvi;for(p=cptr[i],p1=cptr[i]+eln-1;p<=p1;p++){e=cindex[p];if(W[w+e]>=mark){W[w+e]-=nvi;}
else if(W[w+e]!==0){W[w+e]=W[degree+e]+wnvi;}}}
for(pk=pk1;pk<pk2;pk++){i=cindex[pk];p1=cptr[i];p2=p1+W[elen+i]-1;pn=p1;for(h=0,d=0,p=p1;p<=p2;p++){e=cindex[p];if(W[w+e]!==0){var dext=W[w+e]-mark;if(dext>0){d+=dext;cindex[pn++]=e;h+=e;}
else{cptr[e]=cs_flip(k);W[w+e]=0;}}}
W[elen+i]=pn-p1+1;var p3=pn;var p4=p1+W[len+i];for(p=p2+1;p<p4;p++){j=cindex[p];var nvj=W[nv+j];if(nvj<=0)
continue;d+=nvj;cindex[pn++]=j;h+=j;}
if(d===0){cptr[i]=cs_flip(k);nvi=-W[nv+i];dk-=nvi;nvk+=nvi;nel+=nvi;W[nv+i]=0;W[elen+i]=-1;}
else{W[degree+i]=Math.min(W[degree+i],d);cindex[pn]=cindex[p3];cindex[p3]=cindex[p1];cindex[p1]=k;W[len+i]=pn-p1+1;h=(h<0?-h:h)%n;W[next+i]=W[hhead+h];W[hhead+h]=i;last[i]=h;}}
W[degree+k]=dk;lemax=Math.max(lemax,dk);mark=_wclear(mark+lemax,lemax,W,w,n);for(pk=pk1;pk<pk2;pk++){i=cindex[pk];if(W[nv+i]>=0)
continue;h=last[i];i=W[hhead+h];W[hhead+h]=-1;for(;i!=-1&&W[next+i]!=-1;i=W[next+i],mark++){ln=W[len+i];eln=W[elen+i];for(p=cptr[i]+1;p<=cptr[i]+ln-1;p++)
W[w+cindex[p]]=mark;var jlast=i;for(j=W[next+i];j!=-1;){var ok=W[len+j]===ln&&W[elen+j]===eln;for(p=cptr[j]+1;ok&&p<=cptr[j]+ln-1;p++){if(W[w+cindex[p]]!=mark)
ok=0;}
if(ok){cptr[j]=cs_flip(i);W[nv+i]+=W[nv+j];W[nv+j]=0;W[elen+j]=-1;j=W[next+j];W[next+jlast]=j;}
else{jlast=j;j=W[next+j];}}}}
for(p=pk1,pk=pk1;pk<pk2;pk++){i=cindex[pk];if((nvi=-W[nv+i])<=0)
continue;W[nv+i]=nvi;d=W[degree+i]+dk-nvi;d=Math.min(d,n-nel-nvi);if(W[head+d]!=-1)
last[W[head+d]]=i;W[next+i]=W[head+d];last[i]=-1;W[head+d]=i;mindeg=Math.min(mindeg,d);W[degree+i]=d;cindex[p++]=i;}
W[nv+k]=nvk;if((W[len+k]=p-pk1)===0){cptr[k]=-1;W[w+k]=0;}
if(elenk!==0){cnz=p;}}
for(i=0;i<n;i++)
cptr[i]=cs_flip(cptr[i]);for(j=0;j<=n;j++)
W[head+j]=-1;for(j=n;j>=0;j--){if(W[nv+j]>0)
continue;W[next+j]=W[head+cptr[j]];W[head+cptr[j]]=j;}
for(e=n;e>=0;e--){if(W[nv+e]<=0)
continue;if(cptr[e]!=-1){W[next+e]=W[head+cptr[e]];W[head+cptr[e]]=e;}}
for(k=0,i=0;i<=n;i++){if(cptr[i]==-1)
k=cs_tdfs(i,k,W,head,next,P,w);}
P.splice(P.length-1,1);return P;};var _createTargetMatrix=function(order,a,m,n,dense){var at=transpose(a);if(order===1&&n===m){return add(a,at);}
if(order==2){var tindex=at._index;var tptr=at._ptr;var p2=0;for(var j=0;j<m;j++){var p=tptr[j];tptr[j]=p2;if(tptr[j+1]-p>dense)
continue;for(var p1=tptr[j+1];p<p1;p++)
tindex[p2++]=tindex[p];}
tptr[m]=p2;a=transpose(at);return multiply(at,a);}
return multiply(at,a);};var _initializeQuotientGraph=function(n,cptr,W,len,head,last,next,hhead,nv,w,elen,degree){for(var k=0;k<n;k++)
W[len+k]=cptr[k+1]-cptr[k];W[len+n]=0;for(var i=0;i<=n;i++){W[head+i]=-1;last[i]=-1;W[next+i]=-1;W[hhead+i]=-1;W[nv+i]=1;W[w+i]=1;W[elen+i]=0;W[degree+i]=W[len+i];}
var mark=_wclear(0,0,W,w,n);W[elen+n]=-2;cptr[n]=-1;W[w+n]=0;return mark;};var _initializeDegreeLists=function(n,cptr,W,degree,elen,w,dense,nv,head,last,next){var nel=0;for(var i=0;i<n;i++){var d=W[degree+i];if(d===0){W[elen+i]=-2;nel++;cptr[i]=-1;W[w+i]=0;}
else if(d>dense){W[nv+i]=0;W[elen+i]=-1;nel++;cptr[i]=cs_flip(n);W[nv+n]++;}
else{var h=W[head+d];if(h!=-1)
last[h]=i;W[next+i]=W[head+d];W[head+d]=i;}}
return nel;};var _wclear=function(mark,lemax,W,w,n){if(mark<2||(mark+lemax<0)){for(var k=0;k<n;k++){if(W[w+k]!==0)
W[w+k]=1;}
mark=2;}
return mark;};var _diag=function(i,j){return i!=j;};return cs_amd;}
exports.name='cs_amd';exports.path='sparse';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load){var transpose=load(__webpack_require__(74));var cs_leaf=load(__webpack_require__(458));var cs_counts=function(a,parent,post,ata){if(!a||!parent||!post)
return null;var asize=a._size;var m=asize[0];var n=asize[1];var i,j,k,J,p,p0,p1;var s=4*n+(ata?(n+m+1):0);var w=[];var ancestor=0;var maxfirst=n;var prevleaf=2*n;var first=3*n;var head=4*n;var next=5*n+1;for(k=0;k<s;k++)
w[k]=-1;var colcount=[];var at=transpose(a);var tindex=at._index;var tptr=at._ptr;for(k=0;k<n;k++){j=post[k];colcount[j]=(w[first+j]==-1)?1:0;for(;j!=-1&&w[first+j]==-1;j=parent[j])
w[first+j]=k;}
if(ata){for(k=0;k<n;k++)
w[post[k]]=k;for(i=0;i<m;i++){for(k=n,p0=tptr[i],p1=tptr[i+1],p=p0;p<p1;p++)
k=Math.min(k,w[tindex[p]]);w[next+i]=w[head+k];w[head+k]=i;}}
for(i=0;i<n;i++)
w[ancestor+i]=i;for(k=0;k<n;k++){j=post[k];if(parent[j]!=-1)
colcount[parent[j]]--;for(J=(ata?w[head+k]:j);J!=-1;J=(ata?w[next+J]:-1)){for(p=tptr[J];p<tptr[J+1];p++){i=tindex[p];var r=cs_leaf(i,j,w,first,maxfirst,prevleaf,ancestor);if(r.jleaf>=1)
colcount[j]++;if(r.jleaf==2)
colcount[r.q]--;}}
if(parent[j]!=-1)
w[ancestor+j]=parent[j];}
for(j=0;j<n;j++){if(parent[j]!=-1)
colcount[parent[j]]+=colcount[j];}
return colcount;};return cs_counts;}
exports.name='cs_counts';exports.path='sparse';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load){var cs_marked=load(__webpack_require__(143));var cs_mark=load(__webpack_require__(142));var cs_unflip=load(__webpack_require__(465));var cs_dfs=function(j,g,top,xi,pinv){var index=g._index;var ptr=g._ptr;var size=g._size;var n=size[1];var i,p,p2;var head=0;xi[0]=j;while(head>=0){j=xi[head];var jnew=pinv?pinv[j]:j;if(!cs_marked(ptr,j)){cs_mark(ptr,j);xi[n+head]=jnew<0?0:cs_unflip(ptr[jnew]);}
var done=1;for(p=xi[n+head],p2=jnew<0?0:cs_unflip(ptr[jnew+1]);p<p2;p++){i=index[p];if(cs_marked(ptr,i))
continue;xi[n+head]=p;xi[++head]=i;done=0;break;}
if(done){head--;xi[--top]=j;}}
return top;};return cs_dfs;}
exports.name='cs_dfs';exports.path='sparse';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(){var cs_etree=function(a,ata){if(!a)
return null;var aindex=a._index;var aptr=a._ptr;var asize=a._size;var m=asize[0];var n=asize[1];var parent=[];var w=[];var ancestor=0;var prev=n;var i,inext;if(ata){for(i=0;i<m;i++)
w[prev+i]=-1;}
for(var k=0;k<n;k++){parent[k]=-1;w[ancestor+k]=-1;for(var p0=aptr[k],p1=aptr[k+1],p=p0;p<p1;p++){var r=aindex[p];i=ata?(w[prev+r]):r;for(;i!=-1&&i<k;i=inext){inext=w[ancestor+i];w[ancestor+i]=k;if(inext==-1)
parent[i]=k;}
if(ata)
w[prev+r]=k;}}
return parent;};return cs_etree;}
exports.name='cs_etree';exports.path='sparse';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(){var cs_fkeep=function(a,callback,other){var avalues=a._values;var aindex=a._index;var aptr=a._ptr;var asize=a._size;var n=asize[1];var nz=0;for(var j=0;j<n;j++){var p=aptr[j];aptr[j]=nz;for(;p<aptr[j+1];p++){if(callback(aindex[p],j,avalues?avalues[p]:1,other)){aindex[nz]=aindex[p];if(avalues)
avalues[nz]=avalues[p];nz++;}}}
aptr[n]=nz;aindex.splice(nz,aindex.length-nz);if(avalues)
avalues.splice(nz,avalues.length-nz);return(nz);};return cs_fkeep;}
exports.name='cs_fkeep';exports.path='sparse';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(){var cs_ipvec=function(p,b,n){var k;var n=b.length;var x=[];if(p){for(k=0;k<n;k++){x[p[k]]=b[k];}}
else{for(k=0;k<n;k++){x[k]=b[k];}}
return x;};return cs_ipvec;}
exports.name='cs_ipvec';exports.path='sparse';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(){var cs_leaf=function(i,j,w,first,maxfirst,prevleaf,ancestor){var s,sparent,jprev;var jleaf=0;var q;if(i<=j||w[first+j]<=w[maxfirst+i])
return(-1);w[maxfirst+i]=w[first+j];jprev=w[prevleaf+i];w[prevleaf+i]=j;if(jprev===-1){jleaf=1;q=i;}
else{jleaf=2;for(q=jprev;q!=w[ancestor+q];q=w[ancestor+q]);for(s=jprev;s!=q;s=sparent){sparent=w[ancestor+s];w[ancestor+s]=q;}}
return{jleaf:jleaf,q:q};};return cs_leaf;}
exports.name='cs_leaf';exports.path='sparse';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load){var abs=load(__webpack_require__(34));var divideScalar=load(__webpack_require__(21));var multiply=load(__webpack_require__(13));var larger=load(__webpack_require__(35));var largerEq=load(__webpack_require__(158));var cs_spsolve=load(__webpack_require__(463));var SparseMatrix=type.SparseMatrix;var cs_lu=function(m,s,tol){if(!m)
return null;var size=m._size;var n=size[1];var q;var lnz=100;var unz=100;if(s){q=s.q;lnz=s.lnz||lnz;unz=s.unz||unz;}
var lvalues=[];var lindex=[];var lptr=[];var L=new SparseMatrix({values:lvalues,index:lindex,ptr:lptr,size:[n,n]});var uvalues=[];var uindex=[];var uptr=[];var U=new SparseMatrix({values:uvalues,index:uindex,ptr:uptr,size:[n,n]});var pinv=[];var i,p;var x=[];var xi=[];for(i=0;i<n;i++){x[i]=0;pinv[i]=-1;lptr[i+1]=0;}
lnz=0;unz=0;for(var k=0;k<n;k++){lptr[k]=lnz;uptr[k]=unz;var col=q?q[k]:k;var top=cs_spsolve(L,m,col,xi,x,pinv,1);var ipiv=-1;var a=-1;for(p=top;p<n;p++){i=xi[p];if(pinv[i]<0){var xabs=abs(x[i]);if(larger(xabs,a)){a=xabs;ipiv=i;}}
else{uindex[unz]=pinv[i];uvalues[unz++]=x[i];}}
if(ipiv==-1||a<=0)
return null;if(pinv[col]<0&&largerEq(abs(x[col]),multiply(a,tol)))
ipiv=col;var pivot=x[ipiv];uindex[unz]=k;uvalues[unz++]=pivot;pinv[ipiv]=k;lindex[lnz]=ipiv;lvalues[lnz++]=1;for(p=top;p<n;p++){i=xi[p];if(pinv[i]<0){lindex[lnz]=i;lvalues[lnz++]=divideScalar(x[i],pivot);}
x[i]=0;}}
lptr[n]=lnz;uptr[n]=unz;for(p=0;p<lnz;p++)
lindex[p]=pinv[lindex[p]];lvalues.splice(lnz,lvalues.length-lnz);lindex.splice(lnz,lindex.length-lnz);uvalues.splice(unz,uvalues.length-unz);uindex.splice(unz,uindex.length-unz);return{L:L,U:U,pinv:pinv};};return cs_lu;}
exports.name='cs_lu';exports.path='sparse';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type){var SparseMatrix=type.SparseMatrix;var cs_permute=function(a,pinv,q,values){var avalues=a._values;var aindex=a._index;var aptr=a._ptr;var asize=a._size;var adt=a._datatype;var m=asize[0];var n=asize[1];var cvalues=values&&a._values?[]:null;var cindex=[];var cptr=[];var nz=0;for(var k=0;k<n;k++){cptr[k]=nz;var j=q?(q[k]):k;for(var t0=aptr[j],t1=aptr[j+1],t=t0;t<t1;t++){var r=pinv?pinv[aindex[t]]:aindex[t];cindex[nz]=r;if(cvalues)
cvalues[nz]=avalues[t];nz++;}}
cptr[n]=nz;return new SparseMatrix({values:cvalues,index:cindex,ptr:cptr,size:[m,n],datatype:adt});};return cs_permute;}
exports.name='cs_permute';exports.path='sparse';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load){var cs_tdfs=load(__webpack_require__(144));var cs_post=function(parent,n){if(!parent)
return null;var k=0;var j;var post=[];var w=[];var head=0;var next=n;var stack=2*n;for(j=0;j<n;j++){w[head+j]=-1;}
for(j=n-1;j>=0;j--){if(parent[j]==-1)
continue;w[next+j]=w[head+parent[j]];w[head+parent[j]]=j;}
for(j=0;j<n;j++){if(parent[j]!=-1)
continue;k=cs_tdfs(j,k,w,head,next,post,stack);}
return post;};return cs_post;}
exports.name='cs_post';exports.path='sparse';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load){var cs_dfs=load(__webpack_require__(454));var cs_marked=load(__webpack_require__(143));var cs_mark=load(__webpack_require__(142));var cs_reach=function(g,b,k,xi,pinv){var gptr=g._ptr;var gsize=g._size;var bindex=b._index;var bptr=b._ptr;var n=gsize[1];var p,p0,p1;var top=n;for(p0=bptr[k],p1=bptr[k+1],p=p0;p<p1;p++){var i=bindex[p];if(!cs_marked(gptr,i)){top=cs_dfs(i,g,top,xi,pinv);}}
for(p=top;p<n;p++){cs_mark(gptr,xi[p]);}
return top;};return cs_reach;}
exports.name='cs_reach';exports.path='sparse';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load){var divideScalar=load(__webpack_require__(21));var multiply=load(__webpack_require__(13));var subtract=load(__webpack_require__(24));var cs_reach=load(__webpack_require__(462));var cs_spsolve=function(g,b,k,xi,x,pinv,lo){var gvalues=g._values;var gindex=g._index;var gptr=g._ptr;var gsize=g._size;var n=gsize[1];var bvalues=b._values;var bindex=b._index;var bptr=b._ptr;var p,p0,p1,q;var top=cs_reach(g,b,k,xi,pinv);for(p=top;p<n;p++)
x[xi[p]]=0;for(p0=bptr[k],p1=bptr[k+1],p=p0;p<p1;p++)
x[bindex[p]]=bvalues[p];for(var px=top;px<n;px++){var j=xi[px];var J=pinv?pinv[j]:j;if(J<0)
continue;p0=gptr[J];p1=gptr[J+1];x[j]=divideScalar(x[j],gvalues[lo?p0:(p1-1)]);p=lo?(p0+1):p0;q=lo?(p1):(p1-1);for(;p<q;p++){var i=gindex[p];x[i]=subtract(x[i],multiply(gvalues[p],x[j]));}}
return top;};return cs_spsolve;}
exports.name='cs_spsolve';exports.path='sparse';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load){var cs_amd=load(__webpack_require__(452));var cs_permute=load(__webpack_require__(460));var cs_etree=load(__webpack_require__(455));var cs_post=load(__webpack_require__(461));var cs_counts=load(__webpack_require__(453));var cs_sqr=function(order,a,qr){var aptr=a._ptr;var asize=a._size;var n=asize[1];var k;var s={};s.q=cs_amd(order,a);if(order&&!s.q)
return null;if(qr){var c=order?cs_permute(a,null,s.q,0):a;s.parent=cs_etree(c,1);var post=cs_post(s.parent,n);s.cp=cs_counts(c,s.parent,post,1);if(c&&s.parent&&s.cp&&_vcount(c,s)){for(s.unz=0,k=0;k<n;k++)
s.unz+=s.cp[k];}}
else{s.unz=4*(aptr[n])+n;s.lnz=s.unz;}
return s;};var _vcount=function(a,s){var aptr=a._ptr;var aindex=a._index;var asize=a._size;var m=asize[0];var n=asize[1];s.pinv=[];s.leftmost=[];var parent=s.parent;var pinv=s.pinv;var leftmost=s.leftmost;var w=[];var next=0;var head=m;var tail=m+n;var nque=m+2*n;var i,k,p,p0,p1;for(k=0;k<n;k++){w[head+k]=-1;w[tail+k]=-1;w[nque+k]=0;}
for(i=0;i<m;i++)
leftmost[i]=-1;for(k=n-1;k>=0;k--){for(p0=aptr[k],p1=aptr[k+1],p=p0;p<p1;p++){leftmost[aindex[p]]=k;}}
for(i=m-1;i>=0;i--){pinv[i]=-1;k=leftmost[i];if(k==-1)
continue;if(w[nque+k]++===0)
w[tail+k]=i;w[next+i]=w[head+k];w[head+k]=i;}
s.lnz=0;s.m2=m;for(k=0;k<n;k++){i=w[head+k];s.lnz++;if(i<0)
i=s.m2++;pinv[i]=k;if(--nque[k]<=0)
continue;s.lnz+=w[nque+k];var pa=parent[k];if(pa!=-1){if(w[nque+pa]===0)
w[tail+pa]=w[tail+k];w[next+w[tail+k]]=w[head+pa];w[head+pa]=w[next+i];w[nque+pa]+=w[nque+k];}}
for(i=0;i<m;i++){if(pinv[i]<0)
pinv[i]=k++;}
return true;};return cs_sqr;}
exports.name='cs_sqr';exports.path='sparse';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load){var cs_flip=load(__webpack_require__(93));var cs_unflip=function(i){return i<0?cs_flip(i):i;};return cs_unflip;}
exports.name='cs_unflip';exports.path='sparse';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var unaryMinus=load(__webpack_require__(45));var isNegative=load(__webpack_require__(59));var matrix=load(__webpack_require__(0));var cbrt=typed('cbrt',{'number':_cbrtNumber,'Complex':_cbrtComplex,'Complex, boolean':_cbrtComplex,'BigNumber':function(x){return x.cbrt();},'Unit':_cbrtUnit,'Array | Matrix':function(x){return deepMap(x,cbrt,true);}});function _cbrtComplex(x,allRoots){var arg_3=x.arg()/ 3;var abs=x.abs();var principal=new type.Complex(_cbrtNumber(abs),0).mul(new type.Complex(0,arg_3).exp());if(allRoots){var all=[principal,new type.Complex(_cbrtNumber(abs),0).mul(new type.Complex(0,arg_3+Math.PI*2 / 3).exp()),new type.Complex(_cbrtNumber(abs),0).mul(new type.Complex(0,arg_3-Math.PI*2 / 3).exp())];return(config.matrix==='Array')?all:matrix(all);}
else{return principal;}}
function _cbrtUnit(x){if(x.value&&x.value.isComplex){var result=x.clone();result.value=1.0;result=result.pow(1.0/3);result.value=_cbrtComplex(x.value);return result;}
else{var negate=isNegative(x.value);if(negate){x.value=unaryMinus(x.value);}
var third;if(x.value&&x.value.isBigNumber){third=new type.BigNumber(1).div(3);}
else if(x.value&&x.value.isFraction){third=new type.Fraction(1,3);}
else{third=1/3;}
var result=x.pow(third);if(negate){result.value=unaryMinus(result.value);}
return result;}}
cbrt.toTex={1:'\\sqrt[3]{${args[0]}}'};return cbrt;}
var _cbrtNumber=Math.cbrt||function(x){if(x===0){return x;}
var negate=x<0;var result;if(negate){x=-x;}
if(isFinite(x)){result=Math.exp(Math.log(x)/ 3);result=(x /(result*result)+(2*result))/ 3;}else{result=x;}
return negate?-result:result;};exports.name='cbrt';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var ceil=typed('ceil',{'number':Math.ceil,'Complex':function(x){return x.ceil();},'BigNumber':function(x){return x.ceil();},'Fraction':function(x){return x.ceil();},'Array | Matrix':function(x){return deepMap(x,ceil,true);}});ceil.toTex={1:'\\left\\lceil${args[0]}\\right\\rceil'};return ceil;}
exports.name='ceil';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var cube=typed('cube',{'number':function(x){return x*x*x;},'Complex':function(x){return x.mul(x).mul(x);},'BigNumber':function(x){return x.times(x).times(x);},'Fraction':function(x){return x.pow(3);},'Array | Matrix':function(x){return deepMap(x,cube,true);},'Unit':function(x){return x.pow(3);}});cube.toTex={1:'\\left(${args[0]}\\right)^3'};return cube;}
exports.name='cube';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var multiplyScalar=load(__webpack_require__(27));var latex=__webpack_require__(3);var algorithm02=load(__webpack_require__(28));var algorithm09=load(__webpack_require__(173));var algorithm11=load(__webpack_require__(17));var algorithm13=load(__webpack_require__(9));var algorithm14=load(__webpack_require__(6));var dotMultiply=typed('dotMultiply',{'any, any':multiplyScalar,'Matrix, Matrix':function(x,y){var c;switch(x.storage()){case'sparse':switch(y.storage()){case'sparse':c=algorithm09(x,y,multiplyScalar,false);break;default:c=algorithm02(y,x,multiplyScalar,true);break;}
break;default:switch(y.storage()){case'sparse':c=algorithm02(x,y,multiplyScalar,false);break;default:c=algorithm13(x,y,multiplyScalar);break;}
break;}
return c;},'Array, Array':function(x,y){return dotMultiply(matrix(x),matrix(y)).valueOf();},'Array, Matrix':function(x,y){return dotMultiply(matrix(x),y);},'Matrix, Array':function(x,y){return dotMultiply(x,matrix(y));},'Matrix, any':function(x,y){var c;switch(x.storage()){case'sparse':c=algorithm11(x,y,multiplyScalar,false);break;default:c=algorithm14(x,y,multiplyScalar,false);break;}
return c;},'any, Matrix':function(x,y){var c;switch(y.storage()){case'sparse':c=algorithm11(y,x,multiplyScalar,true);break;default:c=algorithm14(y,x,multiplyScalar,true);break;}
return c;},'Array, any':function(x,y){return algorithm14(matrix(x),y,multiplyScalar,false).valueOf();},'any, Array':function(x,y){return algorithm14(matrix(y),x,multiplyScalar,true).valueOf();}});dotMultiply.toTex={2:'\\left(${args[0]}'+latex.operators['dotMultiply']+'${args[1]}\\right)'};return dotMultiply;}
exports.name='dotMultiply';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var pow=load(__webpack_require__(44));var latex=__webpack_require__(3);var algorithm03=load(__webpack_require__(16));var algorithm07=load(__webpack_require__(30));var algorithm11=load(__webpack_require__(17));var algorithm12=load(__webpack_require__(18));var algorithm13=load(__webpack_require__(9));var algorithm14=load(__webpack_require__(6));var dotPow=typed('dotPow',{'any, any':pow,'Matrix, Matrix':function(x,y){var c;switch(x.storage()){case'sparse':switch(y.storage()){case'sparse':c=algorithm07(x,y,pow,false);break;default:c=algorithm03(y,x,pow,true);break;}
break;default:switch(y.storage()){case'sparse':c=algorithm03(x,y,pow,false);break;default:c=algorithm13(x,y,pow);break;}
break;}
return c;},'Array, Array':function(x,y){return dotPow(matrix(x),matrix(y)).valueOf();},'Array, Matrix':function(x,y){return dotPow(matrix(x),y);},'Matrix, Array':function(x,y){return dotPow(x,matrix(y));},'Matrix, any':function(x,y){var c;switch(x.storage()){case'sparse':c=algorithm11(x,y,dotPow,false);break;default:c=algorithm14(x,y,dotPow,false);break;}
return c;},'any, Matrix':function(x,y){var c;switch(y.storage()){case'sparse':c=algorithm12(y,x,dotPow,true);break;default:c=algorithm14(y,x,dotPow,true);break;}
return c;},'Array, any':function(x,y){return algorithm14(matrix(x),y,dotPow,false).valueOf();},'any, Array':function(x,y){return algorithm14(matrix(y),x,dotPow,true).valueOf();}});dotPow.toTex={2:'\\left(${args[0]}'+latex.operators['dotPow']+'${args[1]}\\right)'};return dotPow;}
exports.name='dotPow';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var exp=typed('exp',{'number':Math.exp,'Complex':function(x){return x.exp();},'BigNumber':function(x){return x.exp();},'Array | Matrix':function(x){return deepMap(x,exp);}});exp.toTex={1:'\\exp\\left(${args[0]}\\right)'};return exp;}
exports.name='exp';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var floor=typed('floor',{'number':Math.floor,'Complex':function(x){return x.floor();},'BigNumber':function(x){return x.floor();},'Fraction':function(x){return x.floor();},'Array | Matrix':function(x){return deepMap(x,floor,true);}});floor.toTex={1:'\\left\\lfloor${args[0]}\\right\\rfloor'};return floor;}
exports.name='floor';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var isInteger=__webpack_require__(2).isInteger;function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var algorithm01=load(__webpack_require__(36));var algorithm04=load(__webpack_require__(101));var algorithm10=load(__webpack_require__(39));var algorithm13=load(__webpack_require__(9));var algorithm14=load(__webpack_require__(6));var gcd=typed('gcd',{'number, number':_gcd,'BigNumber, BigNumber':_gcdBigNumber,'Fraction, Fraction':function(x,y){return x.gcd(y);},'Matrix, Matrix':function(x,y){var c;switch(x.storage()){case'sparse':switch(y.storage()){case'sparse':c=algorithm04(x,y,gcd);break;default:c=algorithm01(y,x,gcd,true);break;}
break;default:switch(y.storage()){case'sparse':c=algorithm01(x,y,gcd,false);break;default:c=algorithm13(x,y,gcd);break;}
break;}
return c;},'Array, Array':function(x,y){return gcd(matrix(x),matrix(y)).valueOf();},'Array, Matrix':function(x,y){return gcd(matrix(x),y);},'Matrix, Array':function(x,y){return gcd(x,matrix(y));},'Matrix, number | BigNumber':function(x,y){var c;switch(x.storage()){case'sparse':c=algorithm10(x,y,gcd,false);break;default:c=algorithm14(x,y,gcd,false);break;}
return c;},'number | BigNumber, Matrix':function(x,y){var c;switch(y.storage()){case'sparse':c=algorithm10(y,x,gcd,true);break;default:c=algorithm14(y,x,gcd,true);break;}
return c;},'Array, number | BigNumber':function(x,y){return algorithm14(matrix(x),y,gcd,false).valueOf();},'number | BigNumber, Array':function(x,y){return algorithm14(matrix(y),x,gcd,true).valueOf();},'Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber':function(a,b,args){var res=gcd(a,b);for(var i=0;i<args.length;i++){res=gcd(res,args[i]);}
return res;}});gcd.toTex='\\gcd\\left(${args}\\right)';return gcd;function _gcdBigNumber(a,b){if(!a.isInt()||!b.isInt()){throw new Error('Parameters in function gcd must be integer numbers');}
var zero=new type.BigNumber(0);while(!b.isZero()){var r=a.mod(b);a=b;b=r;}
return a.lt(zero)?a.neg():a;}}
function _gcd(a,b){if(!isInteger(a)||!isInteger(b)){throw new Error('Parameters in function gcd must be integer numbers');}
var r;while(b!=0){r=a%b;a=b;b=r;}
return(a<0)?-a:a;}
exports.name='gcd';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var flatten=__webpack_require__(7).flatten;function factory(type,config,load,typed){var abs=load(__webpack_require__(34));var add=load(__webpack_require__(23));var divide=load(__webpack_require__(21));var multiply=load(__webpack_require__(27));var sqrt=load(__webpack_require__(72));var smaller=load(__webpack_require__(47));var isPositive=load(__webpack_require__(77));var hypot=typed('hypot',{'... number | BigNumber':_hypot,'Array':function(x){return hypot.apply(hypot,flatten(x));},'Matrix':function(x){return hypot.apply(hypot,flatten(x.toArray()));}});function _hypot(args){var result=0;var largest=0;for(var i=0;i<args.length;i++){var value=abs(args[i]);if(smaller(largest,value)){result=multiply(result,multiply(divide(largest,value),divide(largest,value)));result=add(result,1);largest=value;}else{result=add(result,isPositive(value)?multiply(divide(value,largest),divide(value,largest)):value);}}
return multiply(largest,sqrt(result));}
hypot.toTex='\\hypot\\left(${args}\\right)';return hypot;}
exports.name='hypot';exports.factory=factory;}),(function(module,exports,__webpack_require__){module.exports=[__webpack_require__(34),__webpack_require__(20),__webpack_require__(23),__webpack_require__(466),__webpack_require__(467),__webpack_require__(468),__webpack_require__(43),__webpack_require__(145),__webpack_require__(469),__webpack_require__(470),__webpack_require__(471),__webpack_require__(146),__webpack_require__(472),__webpack_require__(473),__webpack_require__(474),__webpack_require__(476),__webpack_require__(147),__webpack_require__(477),__webpack_require__(478),__webpack_require__(13),__webpack_require__(479),__webpack_require__(480),__webpack_require__(44),__webpack_require__(481),__webpack_require__(482),__webpack_require__(72),__webpack_require__(483),__webpack_require__(24),__webpack_require__(45),__webpack_require__(484),__webpack_require__(485)];}),(function(module,exports,__webpack_require__){"use strict";var isInteger=__webpack_require__(2).isInteger;function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var algorithm02=load(__webpack_require__(28));var algorithm06=load(__webpack_require__(79));var algorithm11=load(__webpack_require__(17));var algorithm13=load(__webpack_require__(9));var algorithm14=load(__webpack_require__(6));var lcm=typed('lcm',{'number, number':_lcm,'BigNumber, BigNumber':_lcmBigNumber,'Fraction, Fraction':function(x,y){return x.lcm(y);},'Matrix, Matrix':function(x,y){var c;switch(x.storage()){case'sparse':switch(y.storage()){case'sparse':c=algorithm06(x,y,lcm);break;default:c=algorithm02(y,x,lcm,true);break;}
break;default:switch(y.storage()){case'sparse':c=algorithm02(x,y,lcm,false);break;default:c=algorithm13(x,y,lcm);break;}
break;}
return c;},'Array, Array':function(x,y){return lcm(matrix(x),matrix(y)).valueOf();},'Array, Matrix':function(x,y){return lcm(matrix(x),y);},'Matrix, Array':function(x,y){return lcm(x,matrix(y));},'Matrix, number | BigNumber':function(x,y){var c;switch(x.storage()){case'sparse':c=algorithm11(x,y,lcm,false);break;default:c=algorithm14(x,y,lcm,false);break;}
return c;},'number | BigNumber, Matrix':function(x,y){var c;switch(y.storage()){case'sparse':c=algorithm11(y,x,lcm,true);break;default:c=algorithm14(y,x,lcm,true);break;}
return c;},'Array, number | BigNumber':function(x,y){return algorithm14(matrix(x),y,lcm,false).valueOf();},'number | BigNumber, Array':function(x,y){return algorithm14(matrix(y),x,lcm,true).valueOf();},'Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber':function(a,b,args){var res=lcm(a,b);for(var i=0;i<args.length;i++){res=lcm(res,args[i]);}
return res;}});lcm.toTex=undefined;return lcm;function _lcmBigNumber(a,b){if(!a.isInt()||!b.isInt()){throw new Error('Parameters in function lcm must be integer numbers');}
if(a.isZero()||b.isZero()){return new type.BigNumber(0);}
var prod=a.times(b);while(!b.isZero()){var t=b;b=a.mod(t);a=t;}
return prod.div(a).abs();}}
function _lcm(a,b){if(!isInteger(a)||!isInteger(b)){throw new Error('Parameters in function lcm must be integer numbers');}
if(a==0||b==0){return 0;}
var t;var prod=a*b;while(b!=0){t=b;b=a%t;a=t;}
return Math.abs(prod / a);}
exports.name='lcm';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var log10=typed('log10',{'number':function(x){if(x>=0||config.predictable){return _log10(x);}
else{return new type.Complex(x,0).log().div(Math.LN10);}},'Complex':function(x){return new type.Complex(x).log().div(Math.LN10);},'BigNumber':function(x){if(!x.isNegative()||config.predictable){return x.log();}
else{return new type.Complex(x.toNumber(),0).log().div(Math.LN10);}},'Array | Matrix':function(x){return deepMap(x,log10);}});log10.toTex={1:'\\log_{10}\\left(${args[0]}\\right)'};return log10;}
var _log10=Math.log10||function(x){return Math.log(x)/ Math.LN10;};exports.name='log10';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var latex=__webpack_require__(3);var algorithm02=load(__webpack_require__(28));var algorithm03=load(__webpack_require__(16));var algorithm05=load(__webpack_require__(78));var algorithm11=load(__webpack_require__(17));var algorithm12=load(__webpack_require__(18));var algorithm13=load(__webpack_require__(9));var algorithm14=load(__webpack_require__(6));var mod=typed('mod',{'number, number':_mod,'BigNumber, BigNumber':function(x,y){return y.isZero()?x:x.mod(y);},'Fraction, Fraction':function(x,y){return x.mod(y);},'Matrix, Matrix':function(x,y){var c;switch(x.storage()){case'sparse':switch(y.storage()){case'sparse':c=algorithm05(x,y,mod,false);break;default:c=algorithm02(y,x,mod,true);break;}
break;default:switch(y.storage()){case'sparse':c=algorithm03(x,y,mod,false);break;default:c=algorithm13(x,y,mod);break;}
break;}
return c;},'Array, Array':function(x,y){return mod(matrix(x),matrix(y)).valueOf();},'Array, Matrix':function(x,y){return mod(matrix(x),y);},'Matrix, Array':function(x,y){return mod(x,matrix(y));},'Matrix, any':function(x,y){var c;switch(x.storage()){case'sparse':c=algorithm11(x,y,mod,false);break;default:c=algorithm14(x,y,mod,false);break;}
return c;},'any, Matrix':function(x,y){var c;switch(y.storage()){case'sparse':c=algorithm12(y,x,mod,true);break;default:c=algorithm14(y,x,mod,true);break;}
return c;},'Array, any':function(x,y){return algorithm14(matrix(x),y,mod,false).valueOf();},'any, Array':function(x,y){return algorithm14(matrix(y),x,mod,true).valueOf();}});mod.toTex={2:'\\left(${args[0]}'+latex.operators['mod']+'${args[1]}\\right)'};return mod;function _mod(x,y){if(y>0){return x-y*Math.floor(x / y);}
else if(y===0){return x;}
else{throw new Error('Cannot calculate mod for a negative divisor');}}}
exports.name='mod';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var abs=load(__webpack_require__(34));var add=load(__webpack_require__(20));var pow=load(__webpack_require__(44));var sqrt=load(__webpack_require__(72));var multiply=load(__webpack_require__(13));var equalScalar=load(__webpack_require__(12));var larger=load(__webpack_require__(35));var smaller=load(__webpack_require__(47));var matrix=load(__webpack_require__(0));var trace=load(__webpack_require__(156));var transpose=load(__webpack_require__(74));var norm=typed('norm',{'number':Math.abs,'Complex':function(x){return x.abs();},'BigNumber':function(x){return x.abs();},'boolean | null':function(x){return Math.abs(x);},'Array':function(x){return _norm(matrix(x),2);},'Matrix':function(x){return _norm(x,2);},'number | Complex | BigNumber | boolean | null, number | BigNumber | string':function(x){return norm(x);},'Array, number | BigNumber | string':function(x,p){return _norm(matrix(x),p);},'Matrix, number | BigNumber | string':function(x,p){return _norm(x,p);}});function _norm(x,p){var sizeX=x.size();if(sizeX.length==1){if(p===Number.POSITIVE_INFINITY||p==='inf'){var pinf=0;x.forEach(function(value){var v=abs(value);if(larger(v,pinf))
pinf=v;},true);return pinf;}
if(p===Number.NEGATIVE_INFINITY||p==='-inf'){var ninf;x.forEach(function(value){var v=abs(value);if(!ninf||smaller(v,ninf))
ninf=v;},true);return ninf||0;}
if(p==='fro'){return _norm(x,2);}
if(typeof p==='number'&&!isNaN(p)){if(!equalScalar(p,0)){var n=0;x.forEach(function(value){n=add(pow(abs(value),p),n);},true);return pow(n,1 / p);}
return Number.POSITIVE_INFINITY;}
throw new Error('Unsupported parameter value');}
if(sizeX.length==2){if(p===1){var c=[];var maxc=0;x.forEach(function(value,index){var j=index[1];var cj=add(c[j]||0,abs(value));if(larger(cj,maxc))
maxc=cj;c[j]=cj;},true);return maxc;}
if(p===Number.POSITIVE_INFINITY||p==='inf'){var r=[];var maxr=0;x.forEach(function(value,index){var i=index[0];var ri=add(r[i]||0,abs(value));if(larger(ri,maxr))
maxr=ri;r[i]=ri;},true);return maxr;}
if(p==='fro'){return sqrt(trace(multiply(transpose(x),x)));}
if(p===2){throw new Error('Unsupported parameter value, missing implementation of matrix singular value decomposition');}
throw new Error('Unsupported parameter value');}}
norm.toTex={1:'\\left\\|${args[0]}\\right\\|',2:undefined};return norm;}
exports.name='norm';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var algorithm01=load(__webpack_require__(36));var algorithm02=load(__webpack_require__(28));var algorithm06=load(__webpack_require__(79));var algorithm11=load(__webpack_require__(17));var algorithm13=load(__webpack_require__(9));var algorithm14=load(__webpack_require__(6));var nthRoot=typed('nthRoot',{'number':function(x){return _nthRoot(x,2);},'number, number':_nthRoot,'BigNumber':function(x){return _bigNthRoot(x,new type.BigNumber(2));},'Complex':function(x){return _nthComplexRoot(x,2);},'Complex, number':_nthComplexRoot,'BigNumber, BigNumber':_bigNthRoot,'Array | Matrix':function(x){return nthRoot(x,2);},'Matrix, Matrix':function(x,y){var c;switch(x.storage()){case'sparse':switch(y.storage()){case'sparse':if(y.density()===1){c=algorithm06(x,y,nthRoot);}
else{throw new Error('Root must be non-zero');}
break;default:c=algorithm02(y,x,nthRoot,true);break;}
break;default:switch(y.storage()){case'sparse':if(y.density()===1){c=algorithm01(x,y,nthRoot,false);}
else{throw new Error('Root must be non-zero');}
break;default:c=algorithm13(x,y,nthRoot);break;}
break;}
return c;},'Array, Array':function(x,y){return nthRoot(matrix(x),matrix(y)).valueOf();},'Array, Matrix':function(x,y){return nthRoot(matrix(x),y);},'Matrix, Array':function(x,y){return nthRoot(x,matrix(y));},'Matrix, number | BigNumber':function(x,y){var c;switch(x.storage()){case'sparse':c=algorithm11(x,y,nthRoot,false);break;default:c=algorithm14(x,y,nthRoot,false);break;}
return c;},'number | BigNumber, Matrix':function(x,y){var c;switch(y.storage()){case'sparse':if(y.density()===1){c=algorithm11(y,x,nthRoot,true);}
else{throw new Error('Root must be non-zero');}
break;default:c=algorithm14(y,x,nthRoot,true);break;}
return c;},'Array, number | BigNumber':function(x,y){return nthRoot(matrix(x),y).valueOf();},'number | BigNumber, Array':function(x,y){return nthRoot(x,matrix(y)).valueOf();}});nthRoot.toTex={2:'\\sqrt[${args[1]}]{${args[0]}}'};return nthRoot;function _bigNthRoot(a,root){var precision=type.BigNumber.precision;var Big=type.BigNumber.clone({precision:precision+2});var zero=new type.BigNumber(0);var one=new Big(1);var inv=root.isNegative();if(inv){root=root.neg();}
if(root.isZero()){throw new Error('Root must be non-zero');}
if(a.isNegative()&&!root.abs().mod(2).equals(1)){throw new Error('Root must be odd when a is negative.');}
if(a.isZero()){return inv?new Big(Infinity):0;}
if(!a.isFinite()){return inv?zero:a;}
var x=a.abs().pow(one.div(root));x=a.isNeg()?x.neg():x;return new type.BigNumber((inv?one.div(x):x).toPrecision(precision));}}
function _nthRoot(a,root){var inv=root<0;if(inv){root=-root;}
if(root===0){throw new Error('Root must be non-zero');}
if(a<0&&(Math.abs(root)%2!=1)){throw new Error('Root must be odd when a is negative.');}
if(a==0){return inv?Infinity:0;}
if(!isFinite(a)){return inv?0:a;}
var x=Math.pow(Math.abs(a),1/root);x=a<0?-x:x;return inv?1 / x:x;}
function _nthComplexRoot(a,root){if(root<0)throw new Error('Root must be greater than zero');if(root===0)throw new Error('Root must be non-zero');if(root%1!==0)throw new Error('Root must be an integer');var arg=a.arg();var abs=a.abs();var roots=[];var r=Math.pow(abs,1/root);for(var k=0;k<root;k++){roots.push({r:r,phi:(arg+2*Math.PI*k)/root});}
return roots;}
exports.name='nthRoot';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var isInteger=__webpack_require__(2).isInteger;var toFixed=__webpack_require__(2).toFixed;var deepMap=__webpack_require__(1);var NO_INT='Number of decimals in function round must be an integer';function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var equalScalar=load(__webpack_require__(12));var zeros=load(__webpack_require__(46));var algorithm11=load(__webpack_require__(17));var algorithm12=load(__webpack_require__(18));var algorithm14=load(__webpack_require__(6));var round=typed('round',{'number':Math.round,'number, number':function(x,n){if(!isInteger(n)){throw new TypeError(NO_INT);}
if(n<0||n>15){throw new Error('Number of decimals in function round must be in te range of 0-15');}
return _round(x,n);},'Complex':function(x){return x.round();},'Complex, number':function(x,n){if(n%1){throw new TypeError(NO_INT);}
return x.round(n);},'Complex, BigNumber':function(x,n){if(!n.isInteger()){throw new TypeError(NO_INT);}
var _n=n.toNumber();return x.round(_n);},'number, BigNumber':function(x,n){if(!n.isInteger()){throw new TypeError(NO_INT);}
return new type.BigNumber(x).toDecimalPlaces(n.toNumber());},'BigNumber':function(x){return x.toDecimalPlaces(0);},'BigNumber, BigNumber':function(x,n){if(!n.isInteger()){throw new TypeError(NO_INT);}
return x.toDecimalPlaces(n.toNumber());},'Fraction':function(x){return x.round();},'Fraction, number':function(x,n){if(n%1){throw new TypeError(NO_INT);}
return x.round(n);},'Array | Matrix':function(x){return deepMap(x,round,true);},'Matrix, number | BigNumber':function(x,y){var c;switch(x.storage()){case'sparse':c=algorithm11(x,y,round,false);break;default:c=algorithm14(x,y,round,false);break;}
return c;},'number | Complex | BigNumber, Matrix':function(x,y){if(!equalScalar(x,0)){var c;switch(y.storage()){case'sparse':c=algorithm12(y,x,round,true);break;default:c=algorithm14(y,x,round,true);break;}
return c;}
return zeros(y.size(),y.storage());},'Array, number | BigNumber':function(x,y){return algorithm14(matrix(x),y,round,false).valueOf();},'number | Complex | BigNumber, Array':function(x,y){return algorithm14(matrix(y),x,round,true).valueOf();}});round.toTex={1:'\\left\\lfloor${args[0]}\\right\\rceil',2:undefined};return round;}
function _round(value,decimals){return parseFloat(toFixed(value,decimals));}
exports.name='round';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var number=__webpack_require__(2);var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var sign=typed('sign',{'number':number.sign,'Complex':function(x){return x.sign();},'BigNumber':function(x){return new type.BigNumber(x.cmp(0));},'Fraction':function(x){return new type.Fraction(x.s,1);},'Array | Matrix':function(x){return deepMap(x,sign,true);},'Unit':function(x){return sign(x.value);}});sign.toTex={1:'\\mathrm{${name}}\\left(${args[0]}\\right)'};return sign;}
exports.name='sign';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var square=typed('square',{'number':function(x){return x*x;},'Complex':function(x){return x.mul(x);},'BigNumber':function(x){return x.times(x);},'Fraction':function(x){return x.mul(x);},'Array | Matrix':function(x){return deepMap(x,square,true);},'Unit':function(x){return x.pow(2);}});square.toTex={1:'\\left(${args[0]}\\right)^2'};return square;}
exports.name='square';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var latex=__webpack_require__(3);var unaryPlus=typed('unaryPlus',{'number':function(x){return x;},'Complex':function(x){return x;},'BigNumber':function(x){return x;},'Fraction':function(x){return x;},'Unit':function(x){return x.clone();},'Array | Matrix':function(x){return deepMap(x,unaryPlus,true);},'boolean | string | null':function(x){return(config.number=='BigNumber')?new type.BigNumber(+x):+x;}});unaryPlus.toTex={1:latex.operators['unaryPlus']+'\\left(${args[0]}\\right)'};return unaryPlus;}
exports.name='unaryPlus';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var isInteger=__webpack_require__(2).isInteger;function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var xgcd=typed('xgcd',{'number, number':_xgcd,'BigNumber, BigNumber':_xgcdBigNumber});xgcd.toTex=undefined;return xgcd;function _xgcd(a,b){var t,q,r,x=0,lastx=1,y=1,lasty=0;if(!isInteger(a)||!isInteger(b)){throw new Error('Parameters in function xgcd must be integer numbers');}
while(b){q=Math.floor(a / b);r=a-q*b;t=x;x=lastx-q*x;lastx=t;t=y;y=lasty-q*y;lasty=t;a=b;b=r;}
var res;if(a<0){res=[-a,-lastx,-lasty];}
else{res=[a,a?lastx:0,lasty];}
return(config.matrix==='Array')?res:matrix(res);}
function _xgcdBigNumber(a,b){var t,q,r,zero=new type.BigNumber(0),one=new type.BigNumber(1),x=zero,lastx=one,y=one,lasty=zero;if(!a.isInt()||!b.isInt()){throw new Error('Parameters in function xgcd must be integer numbers');}
while(!b.isZero()){q=a.div(b).floor();r=a.mod(b);t=x;x=lastx.minus(q.times(x));lastx=t;t=y;y=lasty.minus(q.times(y));lasty=t;a=b;b=r;}
var res;if(a.lt(zero)){res=[a.neg(),lastx.neg(),lasty.neg()];}
else{res=[a,!a.isZero()?lastx:0,lasty];}
return(config.matrix==='Array')?res:matrix(res);}}
exports.name='xgcd';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var isInteger=__webpack_require__(2).isInteger;var bigBitAnd=__webpack_require__(606);function factory(type,config,load,typed){var latex=__webpack_require__(3);var matrix=load(__webpack_require__(0));var algorithm02=load(__webpack_require__(28));var algorithm06=load(__webpack_require__(79));var algorithm11=load(__webpack_require__(17));var algorithm13=load(__webpack_require__(9));var algorithm14=load(__webpack_require__(6));var bitAnd=typed('bitAnd',{'number, number':function(x,y){if(!isInteger(x)||!isInteger(y)){throw new Error('Integers expected in function bitAnd');}
return x&y;},'BigNumber, BigNumber':bigBitAnd,'Matrix, Matrix':function(x,y){var c;switch(x.storage()){case'sparse':switch(y.storage()){case'sparse':c=algorithm06(x,y,bitAnd,false);break;default:c=algorithm02(y,x,bitAnd,true);break;}
break;default:switch(y.storage()){case'sparse':c=algorithm02(x,y,bitAnd,false);break;default:c=algorithm13(x,y,bitAnd);break;}
break;}
return c;},'Array, Array':function(x,y){return bitAnd(matrix(x),matrix(y)).valueOf();},'Array, Matrix':function(x,y){return bitAnd(matrix(x),y);},'Matrix, Array':function(x,y){return bitAnd(x,matrix(y));},'Matrix, any':function(x,y){var c;switch(x.storage()){case'sparse':c=algorithm11(x,y,bitAnd,false);break;default:c=algorithm14(x,y,bitAnd,false);break;}
return c;},'any, Matrix':function(x,y){var c;switch(y.storage()){case'sparse':c=algorithm11(y,x,bitAnd,true);break;default:c=algorithm14(y,x,bitAnd,true);break;}
return c;},'Array, any':function(x,y){return algorithm14(matrix(x),y,bitAnd,false).valueOf();},'any, Array':function(x,y){return algorithm14(matrix(y),x,bitAnd,true).valueOf();}});bitAnd.toTex={2:'\\left(${args[0]}'+latex.operators['bitAnd']+'${args[1]}\\right)'};return bitAnd;}
exports.name='bitAnd';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);var bigBitNot=__webpack_require__(104);var isInteger=__webpack_require__(2).isInteger;function factory(type,config,load,typed){var latex=__webpack_require__(3);var bitNot=typed('bitNot',{'number':function(x){if(!isInteger(x)){throw new Error('Integer expected in function bitNot');}
return~x;},'BigNumber':bigBitNot,'Array | Matrix':function(x){return deepMap(x,bitNot);}});bitNot.toTex={1:latex.operators['bitNot']+'\\left(${args[0]}\\right)'};return bitNot;}
exports.name='bitNot';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var isInteger=__webpack_require__(2).isInteger;var bigBitOr=__webpack_require__(607);function factory(type,config,load,typed){var latex=__webpack_require__(3);var matrix=load(__webpack_require__(0));var algorithm01=load(__webpack_require__(36));var algorithm04=load(__webpack_require__(101));var algorithm10=load(__webpack_require__(39));var algorithm13=load(__webpack_require__(9));var algorithm14=load(__webpack_require__(6));var bitOr=typed('bitOr',{'number, number':function(x,y){if(!isInteger(x)||!isInteger(y)){throw new Error('Integers expected in function bitOr');}
return x|y;},'BigNumber, BigNumber':bigBitOr,'Matrix, Matrix':function(x,y){var c;switch(x.storage()){case'sparse':switch(y.storage()){case'sparse':c=algorithm04(x,y,bitOr);break;default:c=algorithm01(y,x,bitOr,true);break;}
break;default:switch(y.storage()){case'sparse':c=algorithm01(x,y,bitOr,false);break;default:c=algorithm13(x,y,bitOr);break;}
break;}
return c;},'Array, Array':function(x,y){return bitOr(matrix(x),matrix(y)).valueOf();},'Array, Matrix':function(x,y){return bitOr(matrix(x),y);},'Matrix, Array':function(x,y){return bitOr(x,matrix(y));},'Matrix, any':function(x,y){var c;switch(x.storage()){case'sparse':c=algorithm10(x,y,bitOr,false);break;default:c=algorithm14(x,y,bitOr,false);break;}
return c;},'any, Matrix':function(x,y){var c;switch(y.storage()){case'sparse':c=algorithm10(y,x,bitOr,true);break;default:c=algorithm14(y,x,bitOr,true);break;}
return c;},'Array, any':function(x,y){return algorithm14(matrix(x),y,bitOr,false).valueOf();},'any, Array':function(x,y){return algorithm14(matrix(y),x,bitOr,true).valueOf();}});bitOr.toTex={2:'\\left(${args[0]}'+latex.operators['bitOr']+'${args[1]}\\right)'};return bitOr;}
exports.name='bitOr';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var isInteger=__webpack_require__(2).isInteger;var bigBitXor=__webpack_require__(608);function factory(type,config,load,typed){var latex=__webpack_require__(3);var matrix=load(__webpack_require__(0));var algorithm03=load(__webpack_require__(16));var algorithm07=load(__webpack_require__(30));var algorithm12=load(__webpack_require__(18));var algorithm13=load(__webpack_require__(9));var algorithm14=load(__webpack_require__(6));var bitXor=typed('bitXor',{'number, number':function(x,y){if(!isInteger(x)||!isInteger(y)){throw new Error('Integers expected in function bitXor');}
return x^y;},'BigNumber, BigNumber':bigBitXor,'Matrix, Matrix':function(x,y){var c;switch(x.storage()){case'sparse':switch(y.storage()){case'sparse':c=algorithm07(x,y,bitXor);break;default:c=algorithm03(y,x,bitXor,true);break;}
break;default:switch(y.storage()){case'sparse':c=algorithm03(x,y,bitXor,false);break;default:c=algorithm13(x,y,bitXor);break;}
break;}
return c;},'Array, Array':function(x,y){return bitXor(matrix(x),matrix(y)).valueOf();},'Array, Matrix':function(x,y){return bitXor(matrix(x),y);},'Matrix, Array':function(x,y){return bitXor(x,matrix(y));},'Matrix, any':function(x,y){var c;switch(x.storage()){case'sparse':c=algorithm12(x,y,bitXor,false);break;default:c=algorithm14(x,y,bitXor,false);break;}
return c;},'any, Matrix':function(x,y){var c;switch(y.storage()){case'sparse':c=algorithm12(y,x,bitXor,true);break;default:c=algorithm14(y,x,bitXor,true);break;}
return c;},'Array, any':function(x,y){return algorithm14(matrix(x),y,bitXor,false).valueOf();},'any, Array':function(x,y){return algorithm14(matrix(y),x,bitXor,true).valueOf();}});bitXor.toTex={2:'\\left(${args[0]}'+latex.operators['bitXor']+'${args[1]}\\right)'};return bitXor;}
exports.name='bitXor';exports.factory=factory;}),(function(module,exports,__webpack_require__){module.exports=[__webpack_require__(486),__webpack_require__(487),__webpack_require__(488),__webpack_require__(489),__webpack_require__(491),__webpack_require__(492),__webpack_require__(493)];}),(function(module,exports,__webpack_require__){"use strict";var isInteger=__webpack_require__(2).isInteger;var bigLeftShift=__webpack_require__(610);function factory(type,config,load,typed){var latex=__webpack_require__(3);var matrix=load(__webpack_require__(0));var equalScalar=load(__webpack_require__(12));var zeros=load(__webpack_require__(46));var algorithm01=load(__webpack_require__(36));var algorithm02=load(__webpack_require__(28));var algorithm08=load(__webpack_require__(102));var algorithm10=load(__webpack_require__(39));var algorithm11=load(__webpack_require__(17));var algorithm13=load(__webpack_require__(9));var algorithm14=load(__webpack_require__(6));var leftShift=typed('leftShift',{'number, number':function(x,y){if(!isInteger(x)||!isInteger(y)){throw new Error('Integers expected in function leftShift');}
return x<<y;},'BigNumber, BigNumber':bigLeftShift,'Matrix, Matrix':function(x,y){var c;switch(x.storage()){case'sparse':switch(y.storage()){case'sparse':c=algorithm08(x,y,leftShift,false);break;default:c=algorithm02(y,x,leftShift,true);break;}
break;default:switch(y.storage()){case'sparse':c=algorithm01(x,y,leftShift,false);break;default:c=algorithm13(x,y,leftShift);break;}
break;}
return c;},'Array, Array':function(x,y){return leftShift(matrix(x),matrix(y)).valueOf();},'Array, Matrix':function(x,y){return leftShift(matrix(x),y);},'Matrix, Array':function(x,y){return leftShift(x,matrix(y));},'Matrix, number | BigNumber':function(x,y){if(!equalScalar(y,0)){var c;switch(x.storage()){case'sparse':c=algorithm11(x,y,leftShift,false);break;default:c=algorithm14(x,y,leftShift,false);break;}
return c;}
return x.clone();},'number | BigNumber, Matrix':function(x,y){if(!equalScalar(x,0)){var c;switch(y.storage()){case'sparse':c=algorithm10(y,x,leftShift,true);break;default:c=algorithm14(y,x,leftShift,true);break;}
return c;}
return zeros(y.size(),y.storage());},'Array, number | BigNumber':function(x,y){return leftShift(matrix(x),y).valueOf();},'number | BigNumber, Array':function(x,y){return leftShift(x,matrix(y)).valueOf();}});leftShift.toTex={2:'\\left(${args[0]}'+latex.operators['leftShift']+'${args[1]}\\right)'};return leftShift;}
exports.name='leftShift';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var isInteger=__webpack_require__(2).isInteger;var bigRightArithShift=__webpack_require__(611);function factory(type,config,load,typed){var latex=__webpack_require__(3);var matrix=load(__webpack_require__(0));var equalScalar=load(__webpack_require__(12));var zeros=load(__webpack_require__(46));var algorithm01=load(__webpack_require__(36));var algorithm02=load(__webpack_require__(28));var algorithm08=load(__webpack_require__(102));var algorithm10=load(__webpack_require__(39));var algorithm11=load(__webpack_require__(17));var algorithm13=load(__webpack_require__(9));var algorithm14=load(__webpack_require__(6));var rightArithShift=typed('rightArithShift',{'number, number':function(x,y){if(!isInteger(x)||!isInteger(y)){throw new Error('Integers expected in function rightArithShift');}
return x>>y;},'BigNumber, BigNumber':bigRightArithShift,'Matrix, Matrix':function(x,y){var c;switch(x.storage()){case'sparse':switch(y.storage()){case'sparse':c=algorithm08(x,y,rightArithShift,false);break;default:c=algorithm02(y,x,rightArithShift,true);break;}
break;default:switch(y.storage()){case'sparse':c=algorithm01(x,y,rightArithShift,false);break;default:c=algorithm13(x,y,rightArithShift);break;}
break;}
return c;},'Array, Array':function(x,y){return rightArithShift(matrix(x),matrix(y)).valueOf();},'Array, Matrix':function(x,y){return rightArithShift(matrix(x),y);},'Matrix, Array':function(x,y){return rightArithShift(x,matrix(y));},'Matrix, number | BigNumber':function(x,y){if(!equalScalar(y,0)){var c;switch(x.storage()){case'sparse':c=algorithm11(x,y,rightArithShift,false);break;default:c=algorithm14(x,y,rightArithShift,false);break;}
return c;}
return x.clone();},'number | BigNumber, Matrix':function(x,y){if(!equalScalar(x,0)){var c;switch(y.storage()){case'sparse':c=algorithm10(y,x,rightArithShift,true);break;default:c=algorithm14(y,x,rightArithShift,true);break;}
return c;}
return zeros(y.size(),y.storage());},'Array, number | BigNumber':function(x,y){return rightArithShift(matrix(x),y).valueOf();},'number | BigNumber, Array':function(x,y){return rightArithShift(x,matrix(y)).valueOf();}});rightArithShift.toTex={2:'\\left(${args[0]}'+latex.operators['rightArithShift']+'${args[1]}\\right)'};return rightArithShift;}
exports.name='rightArithShift';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var isInteger=__webpack_require__(2).isInteger;function factory(type,config,load,typed){var latex=__webpack_require__(3);var matrix=load(__webpack_require__(0));var equalScalar=load(__webpack_require__(12));var zeros=load(__webpack_require__(46));var algorithm01=load(__webpack_require__(36));var algorithm02=load(__webpack_require__(28));var algorithm08=load(__webpack_require__(102));var algorithm10=load(__webpack_require__(39));var algorithm11=load(__webpack_require__(17));var algorithm13=load(__webpack_require__(9));var algorithm14=load(__webpack_require__(6));var rightLogShift=typed('rightLogShift',{'number, number':function(x,y){if(!isInteger(x)||!isInteger(y)){throw new Error('Integers expected in function rightLogShift');}
return x>>>y;},'Matrix, Matrix':function(x,y){var c;switch(x.storage()){case'sparse':switch(y.storage()){case'sparse':c=algorithm08(x,y,rightLogShift,false);break;default:c=algorithm02(y,x,rightLogShift,true);break;}
break;default:switch(y.storage()){case'sparse':c=algorithm01(x,y,rightLogShift,false);break;default:c=algorithm13(x,y,rightLogShift);break;}
break;}
return c;},'Array, Array':function(x,y){return rightLogShift(matrix(x),matrix(y)).valueOf();},'Array, Matrix':function(x,y){return rightLogShift(matrix(x),y);},'Matrix, Array':function(x,y){return rightLogShift(x,matrix(y));},'Matrix, number | BigNumber':function(x,y){if(!equalScalar(y,0)){var c;switch(x.storage()){case'sparse':c=algorithm11(x,y,rightLogShift,false);break;default:c=algorithm14(x,y,rightLogShift,false);break;}
return c;}
return x.clone();},'number | BigNumber, Matrix':function(x,y){if(!equalScalar(x,0)){var c;switch(y.storage()){case'sparse':c=algorithm10(y,x,rightLogShift,true);break;default:c=algorithm14(y,x,rightLogShift,true);break;}
return c;}
return zeros(y.size(),y.storage());},'Array, number | BigNumber':function(x,y){return rightLogShift(matrix(x),y).valueOf();},'number | BigNumber, Array':function(x,y){return rightLogShift(x,matrix(y)).valueOf();}});rightLogShift.toTex={2:'\\left(${args[0]}'+latex.operators['rightLogShift']+'${args[1]}\\right)'};return rightLogShift;}
exports.name='rightLogShift';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var add=load(__webpack_require__(20));var stirlingS2=load(__webpack_require__(148));var isNegative=load(__webpack_require__(59));var isInteger=load(__webpack_require__(48));var bellNumbers=typed('bellNumbers',{'number | BigNumber':function(n){if(!isInteger(n)||isNegative(n)){throw new TypeError('Non-negative integer value expected in function bellNumbers');}
var result=0;for(var i=0;i<=n;i++){result=add(result,stirlingS2(n,i));}
return result;}});bellNumbers.toTex={1:'\\mathrm{B}_{${args[0]}}'};return bellNumbers;}
exports.name='bellNumbers';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var add=load(__webpack_require__(20));var divide=load(__webpack_require__(43));var multiply=load(__webpack_require__(13));var combinations=load(__webpack_require__(75));var isNegative=load(__webpack_require__(59));var isInteger=load(__webpack_require__(48));var catalan=typed('catalan',{'number | BigNumber':function(n){if(!isInteger(n)||isNegative(n)){throw new TypeError('Non-negative integer value expected in function catalan');}
return divide(combinations(multiply(n,2),n),add(n,1));}});catalan.toTex={1:'\\mathrm{C}_{${args[0]}}'};return catalan;}
exports.name='catalan';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var combinations=load(__webpack_require__(75));var add=load(__webpack_require__(23));var isPositive=load(__webpack_require__(77));var isInteger=load(__webpack_require__(48));var larger=load(__webpack_require__(35));var composition=typed('composition',{'number | BigNumber, number | BigNumber':function(n,k){if(!isInteger(n)||!isPositive(n)||!isInteger(k)||!isPositive(k)){throw new TypeError('Positive integer value expected in function composition');}
else if(larger(k,n)){throw new TypeError('k must be less than or equal to n in function composition');}
return combinations(add(n,-1),add(k,-1));}});composition.toTex=undefined;return composition;}
exports.name='composition';exports.factory=factory;}),(function(module,exports,__webpack_require__){module.exports=[__webpack_require__(494),__webpack_require__(496),__webpack_require__(148),__webpack_require__(495)];}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var arg=typed('arg',{'number':function(x){return Math.atan2(0,x);},'BigNumber':function(x){return type.BigNumber.atan2(0,x);},'Complex':function(x){return x.arg();},'Array | Matrix':function(x){return deepMap(x,arg);}});arg.toTex={1:'\\arg\\left(${args[0]}\\right)'};return arg;}
exports.name='arg';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var conj=typed('conj',{'number':function(x){return x;},'BigNumber':function(x){return x;},'Complex':function(x){return x.conjugate();},'Array | Matrix':function(x){return deepMap(x,conj);}});conj.toTex={1:'\\left(${args[0]}\\right)^*'};return conj;}
exports.name='conj';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var im=typed('im',{'number':function(x){return 0;},'BigNumber':function(x){return new type.BigNumber(0);},'Complex':function(x){return x.im;},'Array | Matrix':function(x){return deepMap(x,im);}});im.toTex={1:'\\Im\\left\\lbrace${args[0]}\\right\\rbrace'};return im;}
exports.name='im';exports.factory=factory;}),(function(module,exports,__webpack_require__){module.exports=[__webpack_require__(498),__webpack_require__(499),__webpack_require__(500),__webpack_require__(502)];}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var re=typed('re',{'number':function(x){return x;},'BigNumber':function(x){return x;},'Complex':function(x){return x.re;},'Array | Matrix':function(x){return deepMap(x,re);}});re.toTex={1:'\\Re\\left\\lbrace${args[0]}\\right\\rbrace'};return re;}
exports.name='re';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var distance=typed('distance',{'Array, Array, Array':function(x,y,z){if(x.length==2&&y.length==2&&z.length==2){if(!_2d(x)){throw new TypeError('Array with 2 numbers expected for first argument');}
if(!_2d(y)){throw new TypeError('Array with 2 numbers expected for second argument');}
if(!_2d(z)){throw new TypeError('Array with 2 numbers expected for third argument');}
var m=(z[1]-z[0])/(y[1]-y[0]);var xCoeff=m*m*y[0];var yCoeff=-1*(m*y[0]);var constant=x[1];return _distancePointLine2D(x[0],x[1],xCoeff,yCoeff,constant);}
else{throw new TypeError('Invalid Arguments: Try again');}},'Object, Object, Object':function(x,y,z){if(Object.keys(x).length==2&&Object.keys(y).length==2&&Object.keys(z).length==2){if(!_2d(x)){throw new TypeError('Values of pointX and pointY should be numbers');}
if(!_2d(y)){throw new TypeError('Values of lineOnePtX and lineOnePtY should be numbers');}
if(!_2d(z)){throw new TypeError('Values of lineTwoPtX and lineTwoPtY should be numbers');}
if(x.hasOwnProperty('pointX')&&x.hasOwnProperty('pointY')&&y.hasOwnProperty('lineOnePtX')&&y.hasOwnProperty('lineOnePtY')&&z.hasOwnProperty('lineTwoPtX')&&z.hasOwnProperty('lineTwoPtY')){var m=(z.lineTwoPtY-z.lineTwoPtX)/(y.lineOnePtY-y.lineOnePtX);var xCoeff=m*m*y.lineOnePtX;var yCoeff=-1*(m*y.lineOnePtX);var constant=x.pointX;return _distancePointLine2D(x.pointX,x.pointY,xCoeff,yCoeff,constant);}
else{throw new TypeError('Key names do not match');}}
else{throw new TypeError('Invalid Arguments: Try again');}},'Array, Array':function(x,y){if(x.length==2&&y.length==3){if(!_2d(x)){throw new TypeError('Array with 2 numbers expected for first argument');}
if(!_3d(y)){throw new TypeError('Array with 3 numbers expected for second argument');}
return _distancePointLine2D(x[0],x[1],y[0],y[1],y[2]);}
else if(x.length==3&&y.length==6){if(!_3d(x)){throw new TypeError('Array with 3 numbers expected for first argument');}
if(!_parametricLine(y)){throw new TypeError('Array with 6 numbers expected for second argument');}
return _distancePointLine3D(x[0],x[1],x[2],y[0],y[1],y[2],y[3],y[4],y[5]);}
else if(x.length==2&&y.length==2){if(!_2d(x)){throw new TypeError('Array with 2 numbers expected for first argument');}
if(!_2d(y)){throw new TypeError('Array with 2 numbers expected for second argument');}
return _distance2d(x[0],x[1],y[0],y[1]);}
else if(x.length==3&&y.length==3){if(!_3d(x)){throw new TypeError('Array with 3 numbers expected for first argument');}
if(!_3d(y)){throw new TypeError('Array with 3 numbers expected for second argument');}
return _distance3d(x[0],x[1],x[2],y[0],y[1],y[2]);}
else{throw new TypeError('Invalid Arguments: Try again');}},'Object, Object':function(x,y){if(Object.keys(x).length==2&&Object.keys(y).length==3){if(!_2d(x)){throw new TypeError('Values of pointX and pointY should be numbers');}
if(!_3d(y)){throw new TypeError('Values of xCoeffLine, yCoeffLine and constant should be numbers');}
if(x.hasOwnProperty('pointX')&&x.hasOwnProperty('pointY')&&y.hasOwnProperty('xCoeffLine')&&y.hasOwnProperty('yCoeffLine')&&y.hasOwnProperty('yCoeffLine')){return _distancePointLine2D(x.pointX,x.pointY,y.xCoeffLine,y.yCoeffLine,y.constant);}
else{throw new TypeError('Key names do not match');}}
else if(Object.keys(x).length==3&&Object.keys(y).length==6){if(!_3d(x)){throw new TypeError('Values of pointX, pointY and pointZ should be numbers');}
if(!_parametricLine(y)){throw new TypeError('Values of x0, y0, z0, a, b and c should be numbers');}
if(x.hasOwnProperty('pointX')&&x.hasOwnProperty('pointY')&&y.hasOwnProperty('x0')&&y.hasOwnProperty('y0')&&y.hasOwnProperty('z0')&&y.hasOwnProperty('a')&&y.hasOwnProperty('b')&&y.hasOwnProperty('c')){return _distancePointLine3D(x.pointX,x.pointY,x.pointZ,y.x0,y.y0,y.z0,y.a,y.b,y.c);}
else{throw new TypeError('Key names do not match');}}
else if(Object.keys(x).length==2&&Object.keys(y).length==2){if(!_2d(x)){throw new TypeError('Values of pointOneX and pointOneY should be numbers');}
if(!_2d(y)){throw new TypeError('Values of pointTwoX and pointTwoY should be numbers');}
if(x.hasOwnProperty('pointOneX')&&x.hasOwnProperty('pointOneY')&&y.hasOwnProperty('pointTwoX')&&y.hasOwnProperty('pointTwoY')){return _distance2d(x.pointOneX,x.pointOneY,y.pointTwoX,y.pointTwoY);}
else{throw new TypeError('Key names do not match');}}
else if(Object.keys(x).length==3&&Object.keys(y).length==3){if(!_3d(x)){throw new TypeError('Values of pointOneX, pointOneY and pointOneZ should be numbers');}
if(!_3d(y)){throw new TypeError('Values of pointTwoX, pointTwoY and pointTwoZ should be numbers');}
if(x.hasOwnProperty('pointOneX')&&x.hasOwnProperty('pointOneY')&&x.hasOwnProperty('pointOneZ')&&y.hasOwnProperty('pointTwoX')&&y.hasOwnProperty('pointTwoY')&&y.hasOwnProperty('pointTwoZ')){return _distance3d(x.pointOneX,x.pointOneY,x.pointOneZ,y.pointTwoX,y.pointTwoY,y.pointTwoZ);}
else{throw new TypeError('Key names do not match');}}
else{throw new TypeError('Invalid Arguments: Try again');}},'Array':function(arr){if(!_pairwise(arr)){throw new TypeError('Incorrect array format entered for pairwise distance calculation');}
return _distancePairwise(arr);}});return distance;}
function _2d(a){if(a.constructor!==Array){a=_objectToArray(a);}
return typeof a[0]==='number'&&typeof a[1]==='number';}
function _3d(a){if(a.constructor!==Array){a=_objectToArray(a);}
return typeof a[0]==='number'&&typeof a[1]==='number'&&typeof a[2]==='number';}
function _parametricLine(a){if(a.constructor!==Array){a=_objectToArray(a);}
return typeof a[0]==='number'&&typeof a[1]==='number'&&typeof a[2]==='number'&&typeof a[3]==='number'&&typeof a[4]==='number'&&typeof a[5]==='number';}
function _objectToArray(o){var keys=Object.keys(o);var a=[];for(var i=0;i<keys.length;i++){a.push(o[keys[i]]);}
return a;}
function _pairwise(a){if(a[0].length==2&&typeof a[0][0]==='number'&&typeof a[0][1]==='number'){for(var i in a){if(a[i].length!=2||typeof a[i][0]!=='number'||typeof a[i][1]!=='number'){return false;}}}
else if(a[0].length==3&&typeof a[0][0]==='number'&&typeof a[0][1]==='number'&&typeof a[0][2]==='number'){for(var i in a){if(a[i].length!=3||typeof a[i][0]!=='number'||typeof a[i][1]!=='number'||typeof a[i][2]!=='number'){return false;}}}
else{return false;}
return true;}
function _distancePointLine2D(x,y,a,b,c){var num=Math.abs(a*x+b*y+c);var den=Math.pow((a*a+b*b),0.5);var result=(num/den);return result;}
function _distancePointLine3D(x,y,z,x0,y0,z0,a,b,c){var num=[((y0-y)*(c))-((z0-z)*(b)),((z0-z)*(a))-((x0-x)*(c)),((x0-x)*(b))-((y0-y)*(a))]
num=Math.pow(num[0]*num[0]+num[1]*num[1]+num[2]*num[2],0.5);var den=Math.pow(a*a+b*b+c*c,0.5);var result=num/den;return result;}
function _distance2d(x1,y1,x2,y2){var yDiff=y2-y1;var xDiff=x2-x1;var radicant=yDiff*yDiff+xDiff*xDiff;var result=Math.pow(radicant,0.5);return result;}
function _distance3d(x1,y1,z1,x2,y2,z2){var zDiff=z2-z1;var yDiff=y2-y1;var xDiff=x2-x1;var radicant=zDiff*zDiff+yDiff*yDiff+xDiff*xDiff;var result=Math.pow(radicant,0.5);return result;}
function _distancePairwise(a){var result=[];for(var i=0;i<a.length-1;i++){for(var j=i+1;j<a.length;j++){if(a[0].length==2){result.push(_distance2d(a[i][0],a[i][1],a[j][0],a[j][1]));}
else if(a[0].length==3){result.push(_distance3d(a[i][0],a[i][1],a[i][2],a[j][0],a[j][1],a[j][2]));}}}
return result;}
exports.name='distance';exports.factory=factory;}),(function(module,exports,__webpack_require__){module.exports=[__webpack_require__(505),__webpack_require__(503)];}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var abs=load(__webpack_require__(34));var add=load(__webpack_require__(20));var matrix=load(__webpack_require__(0));var multiply=load(__webpack_require__(13));var subtract=load(__webpack_require__(24));var intersect=typed('intersect',{'Array, Array, Array':function(x,y,plane){if(!_3d(x)){throw new TypeError('Array with 3 numbers expected for first argument');}
if(!_3d(y)){throw new TypeError('Array with 3 numbers expected for second argument');}
if(!_4d(plane)){throw new TypeError('Array with 4 numbers expected as third argument');}
return _intersectLinePlane(x[0],x[1],x[2],y[0],y[1],y[2],plane[0],plane[1],plane[2],plane[3]);},'Array, Array, Array, Array':function(w,x,y,z){if(w.length===2){if(!_2d(w)){throw new TypeError('Array with 2 numbers expected for first argument');}
if(!_2d(x)){throw new TypeError('Array with 2 numbers expected for second argument');}
if(!_2d(y)){throw new TypeError('Array with 2 numbers expected for third argument');}
if(!_2d(z)){throw new TypeError('Array with 2 numbers expected for fourth argument');}
return _intersect2d(w,x,y,z);}
else if(w.length===3){if(!_3d(w)){throw new TypeError('Array with 3 numbers expected for first argument');}
if(!_3d(x)){throw new TypeError('Array with 3 numbers expected for second argument');}
if(!_3d(y)){throw new TypeError('Array with 3 numbers expected for third argument');}
if(!_3d(z)){throw new TypeError('Array with 3 numbers expected for fourth argument');}
return _intersect3d(w[0],w[1],w[2],x[0],x[1],x[2],y[0],y[1],y[2],z[0],z[1],z[2]);}
else{throw new TypeError('Arrays with two or thee dimensional points expected');}},'Matrix, Matrix, Matrix':function(x,y,plane){return matrix(intersect(x.valueOf(),y.valueOf(),plane.valueOf()));},'Matrix, Matrix, Matrix, Matrix':function(w,x,y,z){return matrix(intersect(w.valueOf(),x.valueOf(),y.valueOf(),z.valueOf()));}});function _2d(x){return x.length===2&&typeof x[0]==='number'&&typeof x[1]==='number';}
function _3d(x){return x.length===3&&typeof x[0]==='number'&&typeof x[1]==='number'&&typeof x[2]==='number';}
function _4d(x){return x.length===4&&typeof x[0]==='number'&&typeof x[1]==='number'&&typeof x[2]==='number'&&typeof x[3]==='number';}
function _intersect2d(p1a,p1b,p2a,p2b){var o1=p1a;var o2=p2a;var d1=subtract(o1,p1b);var d2=subtract(o2,p2b);var det=d1[0]*d2[1]-d2[0]*d1[1];if(abs(det)<config.epsilon){return null;}
var t=(d2[0]*o1[1]-d2[1]*o1[0]-d2[0]*o2[1]+d2[1]*o2[0])/ det;return add(multiply(d1,t),o1);}
function _intersect3d(x1,y1,z1,x2,y2,z2,x3,y3,z3,x4,y4,z4){var d1343=(x1-x3)*(x4-x3)+(y1-y3)*(y4-y3)+(z1-z3)*(z4-z3);var d4321=(x4-x3)*(x2-x1)+(y4-y3)*(y2-y1)+(z4-z3)*(z2-z1);var d1321=(x1-x3)*(x2-x1)+(y1-y3)*(y2-y1)+(z1-z3)*(z2-z1);var d4343=(x4-x3)*(x4-x3)+(y4-y3)*(y4-y3)+(z4-z3)*(z4-z3);var d2121=(x2-x1)*(x2-x1)+(y2-y1)*(y2-y1)+(z2-z1)*(z2-z1);var ta=(d1343*d4321-d1321*d4343)/(d2121*d4343-d4321*d4321);var tb=(d1343+ta*d4321)/(d4343);var pax=x1+ta*(x2-x1);var pay=y1+ta*(y2-y1);var paz=z1+ta*(z2-z1);var pbx=x3+tb*(x4-x3);var pby=y3+tb*(y4-y3);var pbz=z3+tb*(z4-z3);if(pax===pbx&&pay===pby&&paz===pbz){return[pax,pay,paz];}
else{return null;}}
function _intersectLinePlane(x1,y1,z1,x2,y2,z2,x,y,z,c){var t=(c-x1*x-y1*y-z1*z)/(x2*x+y2*y+z2*z-x1-y1-z1);var px=x1+t*(x2-x1);var py=y1+t*(y2-y1);var pz=z1+t*(z2-z1);return[px,py,pz];}
return intersect;}
exports.name='intersect';exports.factory=factory;}),(function(module,exports,__webpack_require__){module.exports=[__webpack_require__(449),__webpack_require__(475),__webpack_require__(490),__webpack_require__(497),__webpack_require__(501),__webpack_require__(504),__webpack_require__(508),__webpack_require__(515),__webpack_require__(523),__webpack_require__(532),__webpack_require__(536),__webpack_require__(537),__webpack_require__(543),__webpack_require__(563),__webpack_require__(570),__webpack_require__(573)];}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var latex=__webpack_require__(3);var matrix=load(__webpack_require__(0));var zeros=load(__webpack_require__(46));var not=load(__webpack_require__(149));var isZero=load(__webpack_require__(167));var algorithm02=load(__webpack_require__(28));var algorithm06=load(__webpack_require__(79));var algorithm11=load(__webpack_require__(17));var algorithm13=load(__webpack_require__(9));var algorithm14=load(__webpack_require__(6));var and=typed('and',{'number, number':function(x,y){return!!(x&&y);},'Complex, Complex':function(x,y){return(x.re!==0||x.im!==0)&&(y.re!==0||y.im!==0);},'BigNumber, BigNumber':function(x,y){return!x.isZero()&&!y.isZero()&&!x.isNaN()&&!y.isNaN();},'Unit, Unit':function(x,y){return and(x.value,y.value);},'Matrix, Matrix':function(x,y){var c;switch(x.storage()){case'sparse':switch(y.storage()){case'sparse':c=algorithm06(x,y,and,false);break;default:c=algorithm02(y,x,and,true);break;}
break;default:switch(y.storage()){case'sparse':c=algorithm02(x,y,and,false);break;default:c=algorithm13(x,y,and);break;}
break;}
return c;},'Array, Array':function(x,y){return and(matrix(x),matrix(y)).valueOf();},'Array, Matrix':function(x,y){return and(matrix(x),y);},'Matrix, Array':function(x,y){return and(x,matrix(y));},'Matrix, any':function(x,y){if(not(y)){return zeros(x.size(),x.storage());}
var c;switch(x.storage()){case'sparse':c=algorithm11(x,y,and,false);break;default:c=algorithm14(x,y,and,false);break;}
return c;},'any, Matrix':function(x,y){if(not(x)){return zeros(x.size(),x.storage());}
var c;switch(y.storage()){case'sparse':c=algorithm11(y,x,and,true);break;default:c=algorithm14(y,x,and,true);break;}
return c;},'Array, any':function(x,y){return and(matrix(x),y).valueOf();},'any, Array':function(x,y){return and(x,matrix(y)).valueOf();}});and.toTex={2:'\\left(${args[0]}'+latex.operators['and']+'${args[1]}\\right)'};return and;}
exports.name='and';exports.factory=factory;}),(function(module,exports,__webpack_require__){module.exports=[__webpack_require__(507),__webpack_require__(149),__webpack_require__(509),__webpack_require__(510)];}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var latex=__webpack_require__(3);var matrix=load(__webpack_require__(0));var algorithm03=load(__webpack_require__(16));var algorithm05=load(__webpack_require__(78));var algorithm12=load(__webpack_require__(18));var algorithm13=load(__webpack_require__(9));var algorithm14=load(__webpack_require__(6));var or=typed('or',{'number, number':function(x,y){return!!(x||y);},'Complex, Complex':function(x,y){return(x.re!==0||x.im!==0)||(y.re!==0||y.im!==0);},'BigNumber, BigNumber':function(x,y){return(!x.isZero()&&!x.isNaN())||(!y.isZero()&&!y.isNaN());},'Unit, Unit':function(x,y){return or(x.value,y.value);},'Matrix, Matrix':function(x,y){var c;switch(x.storage()){case'sparse':switch(y.storage()){case'sparse':c=algorithm05(x,y,or);break;default:c=algorithm03(y,x,or,true);break;}
break;default:switch(y.storage()){case'sparse':c=algorithm03(x,y,or,false);break;default:c=algorithm13(x,y,or);break;}
break;}
return c;},'Array, Array':function(x,y){return or(matrix(x),matrix(y)).valueOf();},'Array, Matrix':function(x,y){return or(matrix(x),y);},'Matrix, Array':function(x,y){return or(x,matrix(y));},'Matrix, any':function(x,y){var c;switch(x.storage()){case'sparse':c=algorithm12(x,y,or,false);break;default:c=algorithm14(x,y,or,false);break;}
return c;},'any, Matrix':function(x,y){var c;switch(y.storage()){case'sparse':c=algorithm12(y,x,or,true);break;default:c=algorithm14(y,x,or,true);break;}
return c;},'Array, any':function(x,y){return algorithm14(matrix(x),y,or,false).valueOf();},'any, Array':function(x,y){return algorithm14(matrix(y),x,or,true).valueOf();}});or.toTex={2:'\\left(${args[0]}'+latex.operators['or']+'${args[1]}\\right)'};return or;}
exports.name='or';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var latex=__webpack_require__(3);var matrix=load(__webpack_require__(0));var algorithm03=load(__webpack_require__(16));var algorithm07=load(__webpack_require__(30));var algorithm12=load(__webpack_require__(18));var algorithm13=load(__webpack_require__(9));var algorithm14=load(__webpack_require__(6));var xor=typed('xor',{'number, number':function(x,y){return!!(!!x^!!y);},'Complex, Complex':function(x,y){return((x.re!==0||x.im!==0)!==(y.re!==0||y.im!==0));},'BigNumber, BigNumber':function(x,y){return((!x.isZero()&&!x.isNaN())!==(!y.isZero()&&!y.isNaN()));},'Unit, Unit':function(x,y){return xor(x.value,y.value);},'Matrix, Matrix':function(x,y){var c;switch(x.storage()){case'sparse':switch(y.storage()){case'sparse':c=algorithm07(x,y,xor);break;default:c=algorithm03(y,x,xor,true);break;}
break;default:switch(y.storage()){case'sparse':c=algorithm03(x,y,xor,false);break;default:c=algorithm13(x,y,xor);break;}
break;}
return c;},'Array, Array':function(x,y){return xor(matrix(x),matrix(y)).valueOf();},'Array, Matrix':function(x,y){return xor(matrix(x),y);},'Matrix, Array':function(x,y){return xor(x,matrix(y));},'Matrix, any':function(x,y){var c;switch(x.storage()){case'sparse':c=algorithm12(x,y,xor,false);break;default:c=algorithm14(x,y,xor,false);break;}
return c;},'any, Matrix':function(x,y){var c;switch(y.storage()){case'sparse':c=algorithm12(y,x,xor,true);break;default:c=algorithm14(y,x,xor,true);break;}
return c;},'Array, any':function(x,y){return algorithm14(matrix(x),y,xor,false).valueOf();},'any, Array':function(x,y){return algorithm14(matrix(y),x,xor,true).valueOf();}});xor.toTex={2:'\\left(${args[0]}'+latex.operators['xor']+'${args[1]}\\right)'};return xor;}
exports.name='xor';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var array=__webpack_require__(7);function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var subtract=load(__webpack_require__(24));var multiply=load(__webpack_require__(13));var cross=typed('cross',{'Matrix, Matrix':function(x,y){return matrix(_cross(x.toArray(),y.toArray()));},'Matrix, Array':function(x,y){return matrix(_cross(x.toArray(),y));},'Array, Matrix':function(x,y){return matrix(_cross(x,y.toArray()));},'Array, Array':_cross});cross.toTex={2:'\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)'};return cross;function _cross(x,y){var highestDimension=Math.max(array.size(x).length,array.size(y).length);x=array.squeeze(x);y=array.squeeze(y);var xSize=array.size(x);var ySize=array.size(y);if(xSize.length!=1||ySize.length!=1||xSize[0]!=3||ySize[0]!=3){throw new RangeError('Vectors with length 3 expected '+'(Size A = ['+xSize.join(', ')+'], B = ['+ySize.join(', ')+'])');}
var product=[subtract(multiply(x[1],y[2]),multiply(x[2],y[1])),subtract(multiply(x[2],y[0]),multiply(x[0],y[2])),subtract(multiply(x[0],y[1]),multiply(x[1],y[0]))];if(highestDimension>1){return[product];}else{return product;}}}
exports.name='cross';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var array=__webpack_require__(7);var clone=__webpack_require__(5).clone;var isInteger=__webpack_require__(2).isInteger;function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var diag=typed('diag',{'Array':function(x){return _diag(x,0,array.size(x),null);},'Array, number':function(x,k){return _diag(x,k,array.size(x),null);},'Array, BigNumber':function(x,k){return _diag(x,k.toNumber(),array.size(x),null);},'Array, string':function(x,format){return _diag(x,0,array.size(x),format);},'Array, number, string':function(x,k,format){return _diag(x,k,array.size(x),format);},'Array, BigNumber, string':function(x,k,format){return _diag(x,k.toNumber(),array.size(x),format);},'Matrix':function(x){return _diag(x,0,x.size(),x.storage());},'Matrix, number':function(x,k){return _diag(x,k,x.size(),x.storage());},'Matrix, BigNumber':function(x,k){return _diag(x,k.toNumber(),x.size(),x.storage());},'Matrix, string':function(x,format){return _diag(x,0,x.size(),format);},'Matrix, number, string':function(x,k,format){return _diag(x,k,x.size(),format);},'Matrix, BigNumber, string':function(x,k,format){return _diag(x,k.toNumber(),x.size(),format);}});diag.toTex=undefined;return diag;function _diag(x,k,size,format){if(!isInteger(k)){throw new TypeError('Second parameter in function diag must be an integer');}
var kSuper=k>0?k:0;var kSub=k<0?-k:0;switch(size.length){case 1:return _createDiagonalMatrix(x,k,format,size[0],kSub,kSuper);case 2:return _getDiagonal(x,k,format,size,kSub,kSuper);}
throw new RangeError('Matrix for function diag must be 2 dimensional');}
function _createDiagonalMatrix(x,k,format,l,kSub,kSuper){var ms=[l+kSub,l+kSuper];var F=type.Matrix.storage(format||'dense');var m=F.diagonal(ms,x,k);return format!==null?m:m.valueOf();}
function _getDiagonal(x,k,format,s,kSub,kSuper){if(x&&x.isMatrix===true){var dm=x.diagonal(k);if(format!==null){if(format!==dm.storage())
return matrix(dm,format);return dm;}
return dm.valueOf();}
var n=Math.min(s[0]-kSub,s[1]-kSuper);var vector=[];for(var i=0;i<n;i++){vector[i]=x[i+kSub][i+kSuper];}
return format!==null?matrix(vector):vector;}}
exports.name='diag';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var size=__webpack_require__(7).size;function factory(type,config,load,typed){var add=load(__webpack_require__(20));var multiply=load(__webpack_require__(13));var dot=typed('dot',{'Matrix, Matrix':function(x,y){return _dot(x.toArray(),y.toArray());},'Matrix, Array':function(x,y){return _dot(x.toArray(),y);},'Array, Matrix':function(x,y){return _dot(x,y.toArray());},'Array, Array':_dot});dot.toTex={2:'\\left(${args[0]}\\cdot${args[1]}\\right)'};return dot;function _dot(x,y){var xSize=size(x);var ySize=size(y);var len=xSize[0];if(xSize.length!==1||ySize.length!==1)throw new RangeError('Vector expected');if(xSize[0]!=ySize[0])throw new RangeError('Vectors must have equal length ('+xSize[0]+' != '+ySize[0]+')');if(len==0)throw new RangeError('Cannot calculate the dot product of empty vectors');var prod=0;for(var i=0;i<len;i++){prod=add(prod,multiply(x[i],y[i]));}
return prod;}}
exports.name='dot';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var clone=__webpack_require__(5).clone;var _flatten=__webpack_require__(7).flatten;function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var flatten=typed('flatten',{'Array':function(x){return _flatten(clone(x));},'Matrix':function(x){var flat=_flatten(clone(x.toArray()));return matrix(flat);}});flatten.toTex=undefined;return flatten;}
exports.name='flatten';exports.factory=factory;}),(function(module,exports,__webpack_require__){module.exports=[__webpack_require__(150),__webpack_require__(511),__webpack_require__(151),__webpack_require__(512),__webpack_require__(513),__webpack_require__(94),__webpack_require__(152),__webpack_require__(514),__webpack_require__(153),__webpack_require__(154),__webpack_require__(516),__webpack_require__(95),__webpack_require__(517),__webpack_require__(96),__webpack_require__(155),__webpack_require__(518),__webpack_require__(519),__webpack_require__(520),__webpack_require__(521),__webpack_require__(522),__webpack_require__(73),__webpack_require__(156),__webpack_require__(74),__webpack_require__(46)];}),(function(module,exports,__webpack_require__){"use strict";var size=__webpack_require__(7).size;function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var multiplyScalar=load(__webpack_require__(27))
var kron=typed('kron',{'Matrix, Matrix':function(x,y){return matrix(_kron(x.toArray(),y.toArray()));},'Matrix, Array':function(x,y){return matrix(_kron(x.toArray(),y));},'Array, Matrix':function(x,y){return matrix(_kron(x,y.toArray()));},'Array, Array':_kron});return kron;function _kron(a,b){if(size(a).length===1){a=[a];}
if(size(b).length===1){b=[b]}
if(size(a).length>2||size(b).length>2){throw new RangeError('Vectors with dimensions greater then 2 are not supported expected '+'(Size x = '+JSON.stringify(a.length)+', y = '+JSON.stringify(b.length)+')');}
var t=[];var r=[];return a.map(function(a){return b.map(function(b){return a.map(function(y){return b.map(function(x){return r.push(multiplyScalar(y,x));});},t.push(r=[]));});},t=[])&&t;}}
exports.name='kron';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var isInteger=__webpack_require__(2).isInteger;var resize=__webpack_require__(7).resize;function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var ones=typed('ones',{'':function(){return(config.matrix==='Array')?_ones([]):_ones([],'default');},'...number | BigNumber | string':function(size){var last=size[size.length-1];if(typeof last==='string'){var format=size.pop();return _ones(size,format);}
else if(config.matrix==='Array'){return _ones(size);}
else{return _ones(size,'default');}},'Array':_ones,'Matrix':function(size){var format=size.storage();return _ones(size.valueOf(),format);},'Array | Matrix, string':function(size,format){return _ones(size.valueOf(),format);}});ones.toTex=undefined;return ones;function _ones(size,format){var hasBigNumbers=_normalize(size);var defaultValue=hasBigNumbers?new type.BigNumber(1):1;_validate(size);if(format){var m=matrix(format);if(size.length>0){return m.resize(size,defaultValue);}
return m;}
else{var arr=[];if(size.length>0){return resize(arr,size,defaultValue);}
return arr;}}
function _normalize(size){var hasBigNumbers=false;size.forEach(function(value,index,arr){if(value&&value.isBigNumber===true){hasBigNumbers=true;arr[index]=value.toNumber();}});return hasBigNumbers;}
function _validate(size){size.forEach(function(value){if(typeof value!=='number'||!isInteger(value)||value<0){throw new Error('Parameters in function ones must be positive integers');}});}}
exports.name='ones';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var DimensionError=__webpack_require__(11);var isInteger=__webpack_require__(2).isInteger;var array=__webpack_require__(7);function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var reshape=typed('reshape',{'Matrix, Array':function(x,sizes){if(x.reshape){return x.reshape(sizes);}else{return matrix(array.reshape(x.valueOf(),sizes));}},'Array, Array':function(x,sizes){sizes.forEach(function(size){if(!isInteger(size)){throw new TypeError('Invalid size for dimension: '+size);}});return array.reshape(x,sizes);}});reshape.toTex=undefined;return reshape;}
exports.name='reshape';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var DimensionError=__webpack_require__(11);var ArgumentsError=__webpack_require__(53);var isInteger=__webpack_require__(2).isInteger;var format=__webpack_require__(25).format;var clone=__webpack_require__(5).clone;var array=__webpack_require__(7);function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var resize=function resize(x,size,defaultValue){if(arguments.length!=2&&arguments.length!=3){throw new ArgumentsError('resize',arguments.length,2,3);}
if(size&&size.isMatrix===true){size=size.valueOf();}
if(size.length&&size[0]&&size[0].isBigNumber===true){size=size.map(function(value){return(value&&value.isBigNumber===true)?value.toNumber():value;});}
if(x&&x.isMatrix===true){return x.resize(size,defaultValue,true);}
if(typeof x==='string'){return _resizeString(x,size,defaultValue);}
var asMatrix=Array.isArray(x)?false:(config.matrix!=='Array');if(size.length==0){while(Array.isArray(x)){x=x[0];}
return clone(x);}
else{if(!Array.isArray(x)){x=[x];}
x=clone(x);var res=array.resize(x,size,defaultValue);return asMatrix?matrix(res):res;}};resize.toTex=undefined;return resize;function _resizeString(str,size,defaultChar){if(defaultChar!==undefined){if(typeof defaultChar!=='string'||defaultChar.length!==1){throw new TypeError('Single character expected as defaultValue');}}
else{defaultChar=' ';}
if(size.length!==1){throw new DimensionError(size.length,1);}
var len=size[0];if(typeof len!=='number'||!isInteger(len)){throw new TypeError('Invalid size, must contain positive integers '+'(size: '+format(size)+')');}
if(str.length>len){return str.substring(0,len);}
else if(str.length<len){var res=str;for(var i=0,ii=len-str.length;i<ii;i++){res+=defaultChar;}
return res;}
else{return str;}}}
exports.name='resize';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var array=__webpack_require__(7);function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var size=typed('size',{'Matrix':function(x){return matrix(x.size());},'Array':array.size,'string':function(x){return(config.matrix==='Array')?[x.length]:matrix([x.length]);},'number | Complex | BigNumber | Unit | boolean | null':function(x){return(config.matrix==='Array')?[]:matrix([]);}});size.toTex=undefined;return size;}
exports.name='size';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var size=__webpack_require__(7).size;function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var asc=load(__webpack_require__(58));var desc=function(a,b){return-asc(a,b);};var sort=typed('sort',{'Array':function(x){_arrayIsVector(x);return x.sort(asc);},'Matrix':function(x){_matrixIsVector(x);return matrix(x.toArray().sort(asc),x.storage());},'Array, function':function(x,_comparator){_arrayIsVector(x);return x.sort(_comparator);},'Matrix, function':function(x,_comparator){_matrixIsVector(x);return matrix(x.toArray().sort(_comparator),x.storage());},'Array, string':function(x,order){_arrayIsVector(x);return x.sort(_comparator(order));},'Matrix, string':function(x,order){_matrixIsVector(x);return matrix(x.toArray().sort(_comparator(order)),x.storage());}});sort.toTex=undefined;function _comparator(order){if(order==='asc'){return asc;}
else if(order==='desc'){return desc;}
else{throw new Error('String "asc" or "desc" expected');}}
function _arrayIsVector(array){if(size(array).length!==1){throw new Error('One dimensional array expected');}}
function _matrixIsVector(matrix){if(matrix.size().length!==1){throw new Error('One dimensional matrix expected');}}
return sort;}
exports.name='sort';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var object=__webpack_require__(5);var array=__webpack_require__(7);function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var squeeze=typed('squeeze',{'Array':function(x){return array.squeeze(object.clone(x));},'Matrix':function(x){var res=array.squeeze(x.toArray());return Array.isArray(res)?matrix(res):res;},'any':function(x){return object.clone(x);}});squeeze.toTex=undefined;return squeeze;}
exports.name='squeeze';exports.factory=factory;}),(function(module,exports,__webpack_require__){module.exports=[__webpack_require__(75),__webpack_require__(76),__webpack_require__(157),__webpack_require__(524),__webpack_require__(525),__webpack_require__(526),__webpack_require__(527),__webpack_require__(528),__webpack_require__(529)];}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var divide=load(__webpack_require__(43));var sum=load(__webpack_require__(163));var multiply=load(__webpack_require__(13));var dotDivide=load(__webpack_require__(145));var log=load(__webpack_require__(147));var isNumeric=load(__webpack_require__(99));var kldivergence=typed('kldivergence',{'Array, Array':function(q,p){return _kldiv(matrix(q),matrix(p));},'Matrix, Array':function(q,p){return _kldiv(q,matrix(p));},'Array, Matrix':function(q,p){return _kldiv(matrix(q),p);},'Matrix, Matrix':function(q,p){return _kldiv(q,p);}});function _kldiv(q,p){var plength=p.size().length;var qlength=q.size().length;if(plength>1){throw new Error('first object must be one dimensional');}
if(qlength>1){throw new Error('second object must be one dimensional');}
if(plength!==qlength){throw new Error("Length of two vectors must be equal");}
var sumq=sum(q);if(sumq===0){throw new Error("Sum of elements in first object must be non zero");}
var sump=sum(p);if(sump===0){throw new Error("Sum of elements in second object must be non zero");}
var qnorm=divide(q,sum(q));var pnorm=divide(p,sum(p));var result=sum(multiply(qnorm,log(dotDivide(qnorm,pnorm))));if(isNumeric(result)){return result;}
else{return Number.NaN;}}
return kldivergence;}
exports.name='kldivergence';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepForEach=__webpack_require__(41);function factory(type,config,load,typed){var add=load(__webpack_require__(20));var multiply=load(__webpack_require__(13));var divide=load(__webpack_require__(43));var factorial=load(__webpack_require__(76));var isInteger=load(__webpack_require__(48));var isPositive=load(__webpack_require__(77));return typed('multinomial',{'Array | Matrix':function(a){var sum=0;var denom=1;deepForEach(a,function(ai){if(!isInteger(ai)||!isPositive(ai)){throw new TypeError('Positive integer value expected in function multinomial');}
sum=add(sum,ai);denom=multiply(denom,factorial(ai));});return divide(factorial(sum),denom);}});}
exports.name='multinomial';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var isInteger=__webpack_require__(2).isInteger;function factory(type,config,load,typed){var factorial=load(__webpack_require__(76));var permutations=typed('permutations',{'number | BigNumber':factorial,'number, number':function(n,k){var result,i;if(!isInteger(n)||n<0){throw new TypeError('Positive integer value expected in function permutations');}
if(!isInteger(k)||k<0){throw new TypeError('Positive integer value expected in function permutations');}
if(k>n){throw new TypeError('second argument k must be less than or equal to first argument n');}
result=1;for(i=n-k+1;i<=n;i++){result=result*i;}
return result;},'BigNumber, BigNumber':function(n,k){var result,i;if(!isPositiveInteger(n)||!isPositiveInteger(k)){throw new TypeError('Positive integer value expected in function permutations');}
if(k.gt(n)){throw new TypeError('second argument k must be less than or equal to first argument n');}
result=new type.BigNumber(1);for(i=n.minus(k).plus(1);i.lte(n);i=i.plus(1)){result=result.times(i);}
return result;}});permutations.toTex=undefined;return permutations;}
function isPositiveInteger(n){return n.isInteger()&&n.gte(0);}
exports.name='permutations';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var distribution=load(__webpack_require__(97));var pickRandom=distribution('uniform').pickRandom;pickRandom.toTex=undefined;return pickRandom;}
exports.name='pickRandom';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var distribution=load(__webpack_require__(97));var random=distribution('uniform').random;random.toTex=undefined;return random;}
exports.name='random';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var distribution=load(__webpack_require__(97));var randomInt=distribution('uniform').randomInt;randomInt.toTex=undefined;return randomInt;}
exports.name='randomInt';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var seedrandom=__webpack_require__(709);function factory(type,config,load,typed,math){var generator=config.randomSeed===null?seedrandom():seedrandom(config.randomSeed.toString());function rng(){return generator();}
math.on('config',function(curr,prev,changes){if(changes.randomSeed!==undefined){generator=curr.randomSeed===null?seedrandom():seedrandom(curr.randomSeed.toString());}});return rng;}
exports.factory=factory;exports.math=true;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var equal=load(__webpack_require__(98));var deepEqual=typed('deepEqual',{'any, any':function(x,y){return _deepEqual(x.valueOf(),y.valueOf());}});deepEqual.toTex=undefined;return deepEqual;function _deepEqual(x,y){if(Array.isArray(x)){if(Array.isArray(y)){var len=x.length;if(len!==y.length){return false;}
for(var i=0;i<len;i++){if(!_deepEqual(x[i],y[i])){return false;}}
return true;}
else{return false;}}
else{if(Array.isArray(y)){return false;}
else{return equal(x,y);}}}}
exports.name='deepEqual';exports.factory=factory;}),(function(module,exports,__webpack_require__){module.exports=[__webpack_require__(58),__webpack_require__(531),__webpack_require__(98),__webpack_require__(35),__webpack_require__(158),__webpack_require__(47),__webpack_require__(533),__webpack_require__(534)];}),(function(module,exports,__webpack_require__){"use strict";var nearlyEqual=__webpack_require__(2).nearlyEqual;var bigNearlyEqual=__webpack_require__(40);function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var algorithm03=load(__webpack_require__(16));var algorithm07=load(__webpack_require__(30));var algorithm12=load(__webpack_require__(18));var algorithm13=load(__webpack_require__(9));var algorithm14=load(__webpack_require__(6));var latex=__webpack_require__(3);var smallerEq=typed('smallerEq',{'boolean, boolean':function(x,y){return x<=y;},'number, number':function(x,y){return x<=y||nearlyEqual(x,y,config.epsilon);},'BigNumber, BigNumber':function(x,y){return x.lte(y)||bigNearlyEqual(x,y,config.epsilon);},'Fraction, Fraction':function(x,y){return x.compare(y)!==1;},'Complex, Complex':function(){throw new TypeError('No ordering relation is defined for complex numbers');},'Unit, Unit':function(x,y){if(!x.equalBase(y)){throw new Error('Cannot compare units with different base');}
return smallerEq(x.value,y.value);},'string, string':function(x,y){return x<=y;},'Matrix, Matrix':function(x,y){var c;switch(x.storage()){case'sparse':switch(y.storage()){case'sparse':c=algorithm07(x,y,smallerEq);break;default:c=algorithm03(y,x,smallerEq,true);break;}
break;default:switch(y.storage()){case'sparse':c=algorithm03(x,y,smallerEq,false);break;default:c=algorithm13(x,y,smallerEq);break;}
break;}
return c;},'Array, Array':function(x,y){return smallerEq(matrix(x),matrix(y)).valueOf();},'Array, Matrix':function(x,y){return smallerEq(matrix(x),y);},'Matrix, Array':function(x,y){return smallerEq(x,matrix(y));},'Matrix, any':function(x,y){var c;switch(x.storage()){case'sparse':c=algorithm12(x,y,smallerEq,false);break;default:c=algorithm14(x,y,smallerEq,false);break;}
return c;},'any, Matrix':function(x,y){var c;switch(y.storage()){case'sparse':c=algorithm12(y,x,smallerEq,true);break;default:c=algorithm14(y,x,smallerEq,true);break;}
return c;},'Array, any':function(x,y){return algorithm14(matrix(x),y,smallerEq,false).valueOf();},'any, Array':function(x,y){return algorithm14(matrix(y),x,smallerEq,true).valueOf();}});smallerEq.toTex={2:'\\left(${args[0]}'+latex.operators['smallerEq']+'${args[1]}\\right)'};return smallerEq;}
exports.name='smallerEq';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var nearlyEqual=__webpack_require__(2).nearlyEqual;var bigNearlyEqual=__webpack_require__(40);function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var algorithm03=load(__webpack_require__(16));var algorithm07=load(__webpack_require__(30));var algorithm12=load(__webpack_require__(18));var algorithm13=load(__webpack_require__(9));var algorithm14=load(__webpack_require__(6));var latex=__webpack_require__(3);var unequal=typed('unequal',{'any, any':function(x,y){if(x===null){return y!==null;}
if(y===null){return x!==null;}
if(x===undefined){return y!==undefined;}
if(y===undefined){return x!==undefined;}
return _unequal(x,y);},'Matrix, Matrix':function(x,y){var c;switch(x.storage()){case'sparse':switch(y.storage()){case'sparse':c=algorithm07(x,y,_unequal);break;default:c=algorithm03(y,x,_unequal,true);break;}
break;default:switch(y.storage()){case'sparse':c=algorithm03(x,y,_unequal,false);break;default:c=algorithm13(x,y,_unequal);break;}
break;}
return c;},'Array, Array':function(x,y){return unequal(matrix(x),matrix(y)).valueOf();},'Array, Matrix':function(x,y){return unequal(matrix(x),y);},'Matrix, Array':function(x,y){return unequal(x,matrix(y));},'Matrix, any':function(x,y){var c;switch(x.storage()){case'sparse':c=algorithm12(x,y,_unequal,false);break;default:c=algorithm14(x,y,_unequal,false);break;}
return c;},'any, Matrix':function(x,y){var c;switch(y.storage()){case'sparse':c=algorithm12(y,x,_unequal,true);break;default:c=algorithm14(y,x,_unequal,true);break;}
return c;},'Array, any':function(x,y){return algorithm14(matrix(x),y,_unequal,false).valueOf();},'any, Array':function(x,y){return algorithm14(matrix(y),x,_unequal,true).valueOf();}});var _unequal=typed('_unequal',{'boolean, boolean':function(x,y){return x!==y;},'number, number':function(x,y){return!nearlyEqual(x,y,config.epsilon);},'BigNumber, BigNumber':function(x,y){return!bigNearlyEqual(x,y,config.epsilon);},'Fraction, Fraction':function(x,y){return!x.equals(y);},'Complex, Complex':function(x,y){return!x.equals(y);},'Unit, Unit':function(x,y){if(!x.equalBase(y)){throw new Error('Cannot compare units with different base');}
return unequal(x.value,y.value);},'string, string':function(x,y){return x!==y;}});unequal.toTex={2:'\\left(${args[0]}'+latex.operators['unequal']+'${args[1]}\\right)'};return unequal;}
exports.name='unequal';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);var sign=__webpack_require__(2).sign;function factory(type,config,load,typed){var erf=typed('erf',{'number':function(x){var y=Math.abs(x);if(y>=MAX_NUM){return sign(x);}
if(y<=THRESH){return sign(x)*erf1(y);}
if(y<=4.0){return sign(x)*(1-erfc2(y));}
return sign(x)*(1-erfc3(y));},'BigNumber':function(n){return new type.BigNumber(erf(n.toNumber()));},'Array | Matrix':function(n){return deepMap(n,erf);}});function erf1(y){var ysq=y*y;var xnum=P[0][4]*ysq;var xden=ysq;var i;for(i=0;i<3;i+=1){xnum=(xnum+P[0][i])*ysq;xden=(xden+Q[0][i])*ysq;}
return y*(xnum+P[0][3])/(xden+Q[0][3]);}
function erfc2(y){var xnum=P[1][8]*y;var xden=y;var i;for(i=0;i<7;i+=1){xnum=(xnum+P[1][i])*y;xden=(xden+Q[1][i])*y;}
var result=(xnum+P[1][7])/(xden+Q[1][7]);var ysq=parseInt(y*16)/ 16;var del=(y-ysq)*(y+ysq);return Math.exp(-ysq*ysq)*Math.exp(-del)*result;}
function erfc3(y){var ysq=1 /(y*y);var xnum=P[2][5]*ysq;var xden=ysq;var i;for(i=0;i<4;i+=1){xnum=(xnum+P[2][i])*ysq;xden=(xden+Q[2][i])*ysq;}
var result=ysq*(xnum+P[2][4])/(xden+Q[2][4]);result=(SQRPI-result)/ y;ysq=parseInt(y*16)/ 16;var del=(y-ysq)*(y+ysq);return Math.exp(-ysq*ysq)*Math.exp(-del)*result;}
erf.toTex={1:'erf\\left(${args[0]}\\right)'};return erf;}
var THRESH=0.46875;var SQRPI=5.6418958354775628695e-1;var P=[[3.16112374387056560e00,1.13864154151050156e02,3.77485237685302021e02,3.20937758913846947e03,1.85777706184603153e-1],[5.64188496988670089e-1,8.88314979438837594e00,6.61191906371416295e01,2.98635138197400131e02,8.81952221241769090e02,1.71204761263407058e03,2.05107837782607147e03,1.23033935479799725e03,2.15311535474403846e-8],[3.05326634961232344e-1,3.60344899949804439e-1,1.25781726111229246e-1,1.60837851487422766e-2,6.58749161529837803e-4,1.63153871373020978e-2]];var Q=[[2.36012909523441209e01,2.44024637934444173e02,1.28261652607737228e03,2.84423683343917062e03],[1.57449261107098347e01,1.17693950891312499e02,5.37181101862009858e02,1.62138957456669019e03,3.29079923573345963e03,4.36261909014324716e03,3.43936767414372164e03,1.23033935480374942e03],[2.56852019228982242e00,1.87295284992346047e00,5.27905102951428412e-1,6.05183413124413191e-2,2.33520497626869185e-3]];var MAX_NUM=Math.pow(2,53);exports.name='erf';exports.factory=factory;}),(function(module,exports,__webpack_require__){module.exports=[__webpack_require__(535)];}),(function(module,exports,__webpack_require__){module.exports=[__webpack_require__(538),__webpack_require__(159),__webpack_require__(160),__webpack_require__(161),__webpack_require__(162),__webpack_require__(539),__webpack_require__(540),__webpack_require__(541),__webpack_require__(542),__webpack_require__(163),__webpack_require__(164)];}),(function(module,exports,__webpack_require__){"use strict";var flatten=__webpack_require__(7).flatten;function factory(type,config,load,typed){var abs=load(__webpack_require__(34));var map=load(__webpack_require__(95));var median=load(__webpack_require__(161));var subtract=load(__webpack_require__(24));var mad=typed('mad',{'Array | Matrix':_mad,'...':function(args){return _mad(args);}});mad.toTex=undefined;return mad;function _mad(array){array=flatten(array.valueOf());if(array.length===0){throw new Error('Cannot calculate median absolute deviation of an empty array');}
var med=median(array);return median(map(array,function(value){return abs(subtract(value,med));}));}}
exports.name='mad';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var flatten=__webpack_require__(7).flatten;function factory(type,config,load,typed){var mode=typed('mode',{'Array | Matrix':_mode,'...':function(args){return _mode(args);}});return mode;function _mode(values){values=flatten(values.valueOf());var num=values.length;if(num==0){throw new Error('Cannot calculate mode of an empty array');}
var count={},mode=[],max=0;for(var i in values){if(!(values[i]in count)){count[values[i]]=0;}
count[values[i]]++;if(count[values[i]]==max){mode.push(values[i]);}
else if(count[values[i]]>max){max=count[values[i]];mode=[values[i]];}}
return mode;};}
exports.name='mode';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepForEach=__webpack_require__(41);function factory(type,config,load,typed){var multiply=load(__webpack_require__(27));var prod=typed('prod',{'Array | Matrix':_prod,'Array | Matrix, number | BigNumber':function(array,dim){throw new Error('prod(A, dim) is not yet supported');},'...':function(args){return _prod(args);}});prod.toTex=undefined;return prod;function _prod(array){var prod=undefined;deepForEach(array,function(value){prod=(prod===undefined)?value:multiply(prod,value);});if(prod===undefined){throw new Error('Cannot calculate prod of an empty array');}
return prod;}}
exports.name='prod';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var isInteger=__webpack_require__(2).isInteger;var isNumber=__webpack_require__(2).isNumber;var flatten=__webpack_require__(7).flatten;var isCollection=__webpack_require__(49);function factory(type,config,load,typed){var add=load(__webpack_require__(20));var multiply=load(__webpack_require__(13));var partitionSelect=load(__webpack_require__(96));var compare=load(__webpack_require__(58));function quantileSeq(data,probOrN,sorted){var probArr,dataArr,one;if(arguments.length<2||arguments.length>3){throw new SyntaxError('Function quantileSeq requires two or three parameters');}
if(isCollection(data)){sorted=sorted||false;if(typeof sorted==='boolean'){dataArr=data.valueOf();if(isNumber(probOrN)){if(probOrN<0){throw new Error('N/prob must be non-negative');}
if(probOrN<=1){return _quantileSeq(dataArr,probOrN,sorted);}
if(probOrN>1){if(!isInteger(probOrN)){throw new Error('N must be a positive integer');}
var nPlusOne=probOrN+1;probArr=new Array(probOrN);for(var i=0;i<probOrN;){probArr[i]=_quantileSeq(dataArr,(++i)/ nPlusOne,sorted);}
return probArr;}}
if(probOrN&&probOrN.isBigNumber){if(probOrN.isNegative()){throw new Error('N/prob must be non-negative');}
one=new probOrN.constructor(1);if(probOrN.lte(one)){return _quantileSeq(dataArr,probOrN,sorted);}
if(probOrN.gt(one)){if(!probOrN.isInteger()){throw new Error('N must be a positive integer');}
var intN=probOrN.toNumber();if(intN>4294967295){throw new Error('N must be less than or equal to 2^32-1, as that is the maximum length of an Array');}
var nPlusOne=new type.BigNumber(intN+1);probArr=new Array(intN);for(var i=0;i<intN;){probArr[i]=_quantileSeq(dataArr,new type.BigNumber(++i).div(nPlusOne),sorted);}
return probArr;}}
if(Array.isArray(probOrN)){probArr=new Array(probOrN.length);for(var i=0;i<probArr.length;++i){var currProb=probOrN[i];if(isNumber(currProb)){if(currProb<0||currProb>1){throw new Error('Probability must be between 0 and 1, inclusive');}}else if(currProb&&currProb.isBigNumber){one=new currProb.constructor(1);if(currProb.isNegative()||currProb.gt(one)){throw new Error('Probability must be between 0 and 1, inclusive');}}else{throw new TypeError('Unexpected type of argument in function quantileSeq');}
probArr[i]=_quantileSeq(dataArr,currProb,sorted);}
return probArr;}
throw new TypeError('Unexpected type of argument in function quantileSeq');}
throw new TypeError('Unexpected type of argument in function quantileSeq');}
throw new TypeError('Unexpected type of argument in function quantileSeq');}
function _quantileSeq(array,prob,sorted){var flat=flatten(array);var len=flat.length;if(len===0){throw new Error('Cannot calculate quantile of an empty sequence');}
if(isNumber(prob)){var index=prob*(len-1);var fracPart=index%1;if(fracPart===0){var value=sorted?flat[index]:partitionSelect(flat,index);validate(value);return value;}
var integerPart=Math.floor(index);var left,right;if(sorted){left=flat[integerPart];right=flat[integerPart+1];}else{right=partitionSelect(flat,integerPart+1);left=flat[integerPart];for(var i=0;i<integerPart;++i){if(compare(flat[i],left)>0){left=flat[i];}}}
validate(left);validate(right);return add(multiply(left,1-fracPart),multiply(right,fracPart));}
var index=prob.times(len-1);if(index.isInteger()){index=index.toNumber();var value=sorted?flat[index]:partitionSelect(flat,index);validate(value);return value;}
var integerPart=index.floor();var fracPart=index.minus(integerPart);var integerPartNumber=integerPart.toNumber();var left,right;if(sorted){left=flat[integerPartNumber];right=flat[integerPartNumber+1];}else{right=partitionSelect(flat,integerPartNumber+1);left=flat[integerPartNumber];for(var i=0;i<integerPartNumber;++i){if(compare(flat[i],left)>0){left=flat[i];}}}
validate(left);validate(right);var one=new fracPart.constructor(1);return add(multiply(left,one.minus(fracPart)),multiply(right,fracPart));}
var validate=typed({'number | BigNumber | Unit':function(x){return x;}});return quantileSeq;}
exports.name='quantileSeq';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var sqrt=load(__webpack_require__(72));var variance=load(__webpack_require__(164));var std=typed('std',{'Array | Matrix':_std,'Array | Matrix, string':_std,'...':function(args){return _std(args);}});std.toTex=undefined;return std;function _std(array,normalization){if(array.length==0){throw new SyntaxError('Function std requires one or more parameters (0 provided)');}
return sqrt(variance.apply(null,arguments));}}
exports.name='std';exports.factory=factory;}),(function(module,exports,__webpack_require__){module.exports=[__webpack_require__(165),__webpack_require__(544)];}),(function(module,exports,__webpack_require__){"use strict";var isString=__webpack_require__(25).isString;var format=__webpack_require__(25).format;function factory(type,config,load,typed){var print=typed('print',{'string, Object':_print,'string, Object, number | Object':_print});print.toTex=undefined;return print;}
function _print(template,values,options){return template.replace(/\$([\w\.]+)/g,function(original,key){var keys=key.split('.');var value=values[keys.shift()];while(keys.length&&value!==undefined){var k=keys.shift();value=k?value[k]:value+'.';}
if(value!==undefined){if(!isString(value)){return format(value,options);}
else{return value;}}
return original;});}
exports.name='print';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var acos=typed('acos',{'number':function(x){if((x>=-1&&x<=1)||config.predictable){return Math.acos(x);}
else{return new type.Complex(x,0).acos();}},'Complex':function(x){return x.acos();},'BigNumber':function(x){return x.acos();},'Array | Matrix':function(x){return deepMap(x,acos);}});acos.toTex={1:'\\cos^{-1}\\left(${args[0]}\\right)'};return acos;}
exports.name='acos';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var acot=typed('acot',{'number':function(x){return Math.atan(1 / x);},'Complex':function(x){return x.acot();},'BigNumber':function(x){return new type.BigNumber(1).div(x).atan();},'Array | Matrix':function(x){return deepMap(x,acot);}});acot.toTex={1:'\\cot^{-1}\\left(${args[0]}\\right)'};return acot;}
exports.name='acot';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var acoth=typed('acoth',{'number':function(x){if(x>=1||x<=-1||config.predictable){return isFinite(x)?(Math.log((x+1)/x)+Math.log(x/(x-1)))/ 2:0;}
return new type.Complex(x,0).acoth();},'Complex':function(x){return x.acoth();},'BigNumber':function(x){return new type.BigNumber(1).div(x).atanh();},'Array | Matrix':function(x){return deepMap(x,acoth);}});acoth.toTex={1:'\\coth^{-1}\\left(${args[0]}\\right)'};return acoth;}
exports.name='acoth';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var acsc=typed('acsc',{'number':function(x){if(x<=-1||x>=1||config.predictable){return Math.asin(1 / x);}
return new type.Complex(x,0).acsc();},'Complex':function(x){return x.acsc();},'BigNumber':function(x){return new type.BigNumber(1).div(x).asin();},'Array | Matrix':function(x){return deepMap(x,acsc);}});acsc.toTex={1:'\\csc^{-1}\\left(${args[0]}\\right)'};return acsc;}
exports.name='acsc';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var acsch=typed('acsch',{'number':function(x){x=1 / x;return Math.log(x+Math.sqrt(x*x+1));},'Complex':function(x){return x.acsch();},'BigNumber':function(x){return new type.BigNumber(1).div(x).asinh();},'Array | Matrix':function(x){return deepMap(x,acsch);}});acsch.toTex={1:'\\mathrm{csch}^{-1}\\left(${args[0]}\\right)'};return acsch;}
exports.name='acsch';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var asec=typed('asec',{'number':function(x){if(x<=-1||x>=1||config.predictable){return Math.acos(1 / x);}
return new type.Complex(x,0).asec();},'Complex':function(x){return x.asec();},'BigNumber':function(x){return new type.BigNumber(1).div(x).acos();},'Array | Matrix':function(x){return deepMap(x,asec);}});asec.toTex={1:'\\sec^{-1}\\left(${args[0]}\\right)'};return asec;}
exports.name='asec';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var acosh=typed.find(load(__webpack_require__(166)),['Complex']);var asech=typed('asech',{'number':function(x){if((x<=1&&x>=-1)||config.predictable){x=1 / x;var ret=Math.sqrt(x*x-1);if(x>0||config.predictable){return Math.log(ret+x);}
return new type.Complex(Math.log(ret-x),Math.PI);}
return new type.Complex(x,0).asech();},'Complex':function(x){return x.asech()},'BigNumber':function(x){return new type.BigNumber(1).div(x).acosh();},'Array | Matrix':function(x){return deepMap(x,asech);}});asech.toTex={1:'\\mathrm{sech}^{-1}\\left(${args[0]}\\right)'};return asech;}
exports.name='asech';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var asin=typed('asin',{'number':function(x){if((x>=-1&&x<=1)||config.predictable){return Math.asin(x);}
else{return new type.Complex(x,0).asin();}},'Complex':function(x){return x.asin();},'BigNumber':function(x){return x.asin();},'Array | Matrix':function(x){return deepMap(x,asin,true);}});asin.toTex={1:'\\sin^{-1}\\left(${args[0]}\\right)'};return asin;}
exports.name='asin';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var asinh=typed('asinh',{'number':Math.asinh||function(x){return Math.log(Math.sqrt(x*x+1)+x);},'Complex':function(x){return x.asinh();},'BigNumber':function(x){return x.asinh();},'Array | Matrix':function(x){return deepMap(x,asinh,true);}});asinh.toTex={1:'\\sinh^{-1}\\left(${args[0]}\\right)'};return asinh;}
exports.name='asinh';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var atan=typed('atan',{'number':function(x){return Math.atan(x);},'Complex':function(x){return x.atan();},'BigNumber':function(x){return x.atan();},'Array | Matrix':function(x){return deepMap(x,atan,true);}});atan.toTex={1:'\\tan^{-1}\\left(${args[0]}\\right)'};return atan;}
exports.name='atan';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var matrix=load(__webpack_require__(0));var algorithm02=load(__webpack_require__(28));var algorithm03=load(__webpack_require__(16));var algorithm09=load(__webpack_require__(173));var algorithm11=load(__webpack_require__(17));var algorithm12=load(__webpack_require__(18));var algorithm13=load(__webpack_require__(9));var algorithm14=load(__webpack_require__(6));var atan2=typed('atan2',{'number, number':Math.atan2,'BigNumber, BigNumber':function(y,x){return type.BigNumber.atan2(y,x);},'Matrix, Matrix':function(x,y){var c;switch(x.storage()){case'sparse':switch(y.storage()){case'sparse':c=algorithm09(x,y,atan2,false);break;default:c=algorithm02(y,x,atan2,true);break;}
break;default:switch(y.storage()){case'sparse':c=algorithm03(x,y,atan2,false);break;default:c=algorithm13(x,y,atan2);break;}
break;}
return c;},'Array, Array':function(x,y){return atan2(matrix(x),matrix(y)).valueOf();},'Array, Matrix':function(x,y){return atan2(matrix(x),y);},'Matrix, Array':function(x,y){return atan2(x,matrix(y));},'Matrix, number | BigNumber':function(x,y){var c;switch(x.storage()){case'sparse':c=algorithm11(x,y,atan2,false);break;default:c=algorithm14(x,y,atan2,false);break;}
return c;},'number | BigNumber, Matrix':function(x,y){var c;switch(y.storage()){case'sparse':c=algorithm12(y,x,atan2,true);break;default:c=algorithm14(y,x,atan2,true);break;}
return c;},'Array, number | BigNumber':function(x,y){return algorithm14(matrix(x),y,atan2,false).valueOf();},'number | BigNumber, Array':function(x,y){return algorithm14(matrix(y),x,atan2,true).valueOf();}});atan2.toTex={2:'\\mathrm{atan2}\\left(${args}\\right)'};return atan2;}
exports.name='atan2';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var atanh=typed('atanh',{'number':function(x){if((x<=1&&x>=-1)||config.predictable){return _atanh(x);}
return new type.Complex(x,0).atanh();},'Complex':function(x){return x.atanh();},'BigNumber':function(x){return x.atanh();},'Array | Matrix':function(x){return deepMap(x,atanh,true);}});atanh.toTex={1:'\\tanh^{-1}\\left(${args[0]}\\right)'};return atanh;}
var _atanh=Math.atanh||function(x){return Math.log((1+x)/(1-x))/ 2};exports.name='atanh';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var cos=typed('cos',{'number':Math.cos,'Complex':function(x){return x.cos();},'BigNumber':function(x){return x.cos();},'Unit':function(x){if(!x.hasBase(type.Unit.BASE_UNITS.ANGLE)){throw new TypeError('Unit in function cos is no angle');}
return cos(x.value);},'Array | Matrix':function(x){return deepMap(x,cos);}});cos.toTex={1:'\\cos\\left(${args[0]}\\right)'};return cos;}
exports.name='cos';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var cosh=typed('cosh',{'number':_cosh,'Complex':function(x){return x.cosh();},'BigNumber':function(x){return x.cosh();},'Unit':function(x){if(!x.hasBase(type.Unit.BASE_UNITS.ANGLE)){throw new TypeError('Unit in function cosh is no angle');}
return cosh(x.value);},'Array | Matrix':function(x){return deepMap(x,cosh);}});cosh.toTex={1:'\\cosh\\left(${args[0]}\\right)'};return cosh;}
var _cosh=Math.cosh||function(x){return(Math.exp(x)+Math.exp(-x))/ 2;};exports.name='cosh';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var cot=typed('cot',{'number':function(x){return 1 / Math.tan(x);},'Complex':function(x){return x.cot();},'BigNumber':function(x){return new type.BigNumber(1).div(x.tan());},'Unit':function(x){if(!x.hasBase(type.Unit.BASE_UNITS.ANGLE)){throw new TypeError('Unit in function cot is no angle');}
return cot(x.value);},'Array | Matrix':function(x){return deepMap(x,cot);}});cot.toTex={1:'\\cot\\left(${args[0]}\\right)'};return cot;}
exports.name='cot';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var coth=typed('coth',{'number':_coth,'Complex':function(x){return x.coth();},'BigNumber':function(x){return new type.BigNumber(1).div(x.tanh());},'Unit':function(x){if(!x.hasBase(type.Unit.BASE_UNITS.ANGLE)){throw new TypeError('Unit in function coth is no angle');}
return coth(x.value);},'Array | Matrix':function(x){return deepMap(x,coth);}});coth.toTex={1:'\\coth\\left(${args[0]}\\right)'};return coth;}
function _coth(x){var e=Math.exp(2*x);return(e+1)/(e-1);}
exports.name='coth';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var csc=typed('csc',{'number':function(x){return 1 / Math.sin(x);},'Complex':function(x){return x.csc();},'BigNumber':function(x){return new type.BigNumber(1).div(x.sin());},'Unit':function(x){if(!x.hasBase(type.Unit.BASE_UNITS.ANGLE)){throw new TypeError('Unit in function csc is no angle');}
return csc(x.value);},'Array | Matrix':function(x){return deepMap(x,csc);}});csc.toTex={1:'\\csc\\left(${args[0]}\\right)'};return csc;}
exports.name='csc';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);var sign=__webpack_require__(2).sign;function factory(type,config,load,typed){var csch=typed('csch',{'number':_csch,'Complex':function(x){return x.csch();},'BigNumber':function(x){return new type.BigNumber(1).div(x.sinh());},'Unit':function(x){if(!x.hasBase(type.Unit.BASE_UNITS.ANGLE)){throw new TypeError('Unit in function csch is no angle');}
return csch(x.value);},'Array | Matrix':function(x){return deepMap(x,csch);}});csch.toTex={1:'\\mathrm{csch}\\left(${args[0]}\\right)'};return csch;}
function _csch(x){if(x==0){return Number.POSITIVE_INFINITY;}
else{return Math.abs(2 /(Math.exp(x)-Math.exp(-x)))*sign(x);}}
exports.name='csch';exports.factory=factory;}),(function(module,exports,__webpack_require__){module.exports=[__webpack_require__(545),__webpack_require__(166),__webpack_require__(546),__webpack_require__(547),__webpack_require__(548),__webpack_require__(549),__webpack_require__(550),__webpack_require__(551),__webpack_require__(552),__webpack_require__(553),__webpack_require__(554),__webpack_require__(555),__webpack_require__(556),__webpack_require__(557),__webpack_require__(558),__webpack_require__(559),__webpack_require__(560),__webpack_require__(561),__webpack_require__(562),__webpack_require__(564),__webpack_require__(565),__webpack_require__(566),__webpack_require__(567),__webpack_require__(568),__webpack_require__(569)];}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var sec=typed('sec',{'number':function(x){return 1 / Math.cos(x);},'Complex':function(x){return x.sec();},'BigNumber':function(x){return new type.BigNumber(1).div(x.cos());},'Unit':function(x){if(!x.hasBase(type.Unit.BASE_UNITS.ANGLE)){throw new TypeError('Unit in function sec is no angle');}
return sec(x.value);},'Array | Matrix':function(x){return deepMap(x,sec);}});sec.toTex={1:'\\sec\\left(${args[0]}\\right)'};return sec;}
exports.name='sec';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var sech=typed('sech',{'number':_sech,'Complex':function(x){return x.sech();},'BigNumber':function(x){return new type.BigNumber(1).div(x.cosh());},'Unit':function(x){if(!x.hasBase(type.Unit.BASE_UNITS.ANGLE)){throw new TypeError('Unit in function sech is no angle');}
return sech(x.value);},'Array | Matrix':function(x){return deepMap(x,sech);}});sech.toTex={1:'\\mathrm{sech}\\left(${args[0]}\\right)'};return sech;}
function _sech(x){return 2 /(Math.exp(x)+Math.exp(-x));}
exports.name='sech';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var sin=typed('sin',{'number':Math.sin,'Complex':function(x){return x.sin();},'BigNumber':function(x){return x.sin();},'Unit':function(x){if(!x.hasBase(type.Unit.BASE_UNITS.ANGLE)){throw new TypeError('Unit in function sin is no angle');}
return sin(x.value);},'Array | Matrix':function(x){return deepMap(x,sin,true);}});sin.toTex={1:'\\sin\\left(${args[0]}\\right)'};return sin;}
exports.name='sin';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var sinh=typed('sinh',{'number':_sinh,'Complex':function(x){return x.sinh();},'BigNumber':function(x){return x.sinh();},'Unit':function(x){if(!x.hasBase(type.Unit.BASE_UNITS.ANGLE)){throw new TypeError('Unit in function sinh is no angle');}
return sinh(x.value);},'Array | Matrix':function(x){return deepMap(x,sinh,true);}});sinh.toTex={1:'\\sinh\\left(${args[0]}\\right)'};return sinh;}
var _sinh=Math.sinh||function(x){return(Math.exp(x)-Math.exp(-x))/ 2;};exports.name='sinh';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var tan=typed('tan',{'number':Math.tan,'Complex':function(x){return x.tan();},'BigNumber':function(x){return x.tan();},'Unit':function(x){if(!x.hasBase(type.Unit.BASE_UNITS.ANGLE)){throw new TypeError('Unit in function tan is no angle');}
return tan(x.value);},'Array | Matrix':function(x){return deepMap(x,tan,true);}});tan.toTex={1:'\\tan\\left(${args[0]}\\right)'};return tan;}
exports.name='tan';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var tanh=typed('tanh',{'number':_tanh,'Complex':function(x){return x.tanh();},'BigNumber':function(x){return x.tanh();},'Unit':function(x){if(!x.hasBase(type.Unit.BASE_UNITS.ANGLE)){throw new TypeError('Unit in function tanh is no angle');}
return tanh(x.value);},'Array | Matrix':function(x){return deepMap(x,tanh,true);}});tanh.toTex={1:'\\tanh\\left(${args[0]}\\right)'};return tanh;}
var _tanh=Math.tanh||function(x){var e=Math.exp(2*x);return(e-1)/(e+1);};exports.name='tanh';exports.factory=factory;}),(function(module,exports,__webpack_require__){module.exports=[__webpack_require__(571)];}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var latex=__webpack_require__(3);var matrix=load(__webpack_require__(0));var algorithm13=load(__webpack_require__(9));var algorithm14=load(__webpack_require__(6));var to=typed('to',{'Unit, Unit | string':function(x,unit){return x.to(unit);},'Matrix, Matrix':function(x,y){return algorithm13(x,y,to);},'Array, Array':function(x,y){return to(matrix(x),matrix(y)).valueOf();},'Array, Matrix':function(x,y){return to(matrix(x),y);},'Matrix, Array':function(x,y){return to(x,matrix(y));},'Matrix, any':function(x,y){return algorithm14(x,y,to,false);},'any, Matrix':function(x,y){return algorithm14(y,x,to,true);},'Array, any':function(x,y){return algorithm14(matrix(x),y,to,false).valueOf();},'any, Array':function(x,y){return algorithm14(matrix(y),x,to,true).valueOf();}});to.toTex={2:'\\left(${args[0]}'+latex.operators['to']+'${args[1]}\\right)'};return to;}
exports.name='to';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var object=__webpack_require__(5);function factory(type,config,load,typed){var clone=typed('clone',{'any':object.clone});clone.toTex=undefined;return clone;}
exports.name='clone';exports.factory=factory;}),(function(module,exports,__webpack_require__){module.exports=[__webpack_require__(572),__webpack_require__(48),__webpack_require__(59),__webpack_require__(99),__webpack_require__(77),__webpack_require__(575),__webpack_require__(167),__webpack_require__(574),__webpack_require__(168)];}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);var number=__webpack_require__(2);function factory(type,config,load,typed){var isNaN=typed('isNaN',{'number':function(x){return Number.isNaN(x);},'BigNumber':function(x){return x.isNaN();},'Fraction':function(x){return false;},'Complex':function(x){return Number.isNaN(x.re)&&Number.isNaN(x.im);},'Unit':function(x){return Number.isNaN(x.value);},'Array | Matrix':function(x){return deepMap(x,Number.isNaN);}});return isNaN;}
exports.name='isNaN';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var isPrime=typed('isPrime',{'number':function(x){if(x<2){return false;}
if(x==2){return true;}
if(x%2==0){return false;}
for(var i=3;i*i<=x;i+=2){if(x%i==0){return false;}}
return true;},'BigNumber':function(x){if(x.lt(2)){return false;}
if(x.equals(2)){return true;}
if(x.mod(2).isZero()){return false;}
for(var i=type.BigNumber(3);i.times(i).lte(x);i=i.plus(1)){if(x.mod(i).isZero()){return false;}}
return true;},'Array | Matrix':function(x){return deepMap(x,isPrime);}});return isPrime;}
exports.name='isPrime';exports.factory=factory;}),(function(module,exports,__webpack_require__){module.exports=[__webpack_require__(590),__webpack_require__(243),__webpack_require__(433),__webpack_require__(506),__webpack_require__(577),__webpack_require__(248)];}),(function(module,exports,__webpack_require__){module.exports=[__webpack_require__(578)];}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){return function reviver(key,value){var constructor=type[value&&value.mathjs];if(constructor&&typeof constructor.fromJSON==='function'){return constructor.fromJSON(value);}
return value;}}
exports.name='reviver';exports.path='json';exports.factory=factory;}),(function(module,exports,__webpack_require__){var Decimal=__webpack_require__(239);function factory(type,config,load,typed,math){var BigNumber=Decimal.clone({precision:config.precision});BigNumber.prototype.type='BigNumber';BigNumber.prototype.isBigNumber=true;BigNumber.prototype.toJSON=function(){return{mathjs:'BigNumber',value:this.toString()};};BigNumber.fromJSON=function(json){return new BigNumber(json.value);};math.on('config',function(curr,prev){if(curr.precision!==prev.precision){BigNumber.config({precision:curr.precision});}});return BigNumber;}
exports.name='BigNumber';exports.path='type';exports.factory=factory;exports.math=true;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var bignumber=typed('bignumber',{'':function(){return new type.BigNumber(0);},'number':function(x){return new type.BigNumber(x+'');},'string':function(x){return new type.BigNumber(x);},'BigNumber':function(x){return x;},'Fraction':function(x){return new type.BigNumber(x.n).div(x.d);},'Array | Matrix':function(x){return deepMap(x,bignumber);}});bignumber.toTex={0:'0',1:'\\left(${args[0]}\\right)'};return bignumber;}
exports.name='bignumber';exports.factory=factory;}),(function(module,exports,__webpack_require__){module.exports=[__webpack_require__(579),__webpack_require__(580)];}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var bool=typed('bool',{'':function(){return false;},'boolean':function(x){return x;},'number':function(x){return!!x;},'BigNumber':function(x){return!x.isZero();},'string':function(x){var lcase=x.toLowerCase();if(lcase==='true'){return true;}
else if(lcase==='false'){return false;}
var num=Number(x);if(x!=''&&!isNaN(num)){return!!num;}
throw new Error('Cannot convert "'+x+'" to a boolean');},'Array | Matrix':function(x){return deepMap(x,bool);}});return bool;}
exports.name='boolean';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var format=__webpack_require__(25).format;var lazy=__webpack_require__(5).lazy;function factory(type,config,load,typed,math){function Chain(value){if(!(this instanceof Chain)){throw new SyntaxError('Constructor must be called with the new operator');}
if(value&&value.isChain){this.value=value.value;}
else{this.value=value;}}
Chain.prototype.type='Chain';Chain.prototype.isChain=true;Chain.prototype.done=function(){return this.value;};Chain.prototype.valueOf=function(){return this.value;};Chain.prototype.toString=function(){return format(this.value);};function createProxy(name,fn){if(typeof fn==='function'){Chain.prototype[name]=chainify(fn);}}
function createLazyProxy(name,resolver){lazy(Chain.prototype,name,function outerResolver(){var fn=resolver();if(typeof fn==='function'){return chainify(fn);}
return undefined;});}
function chainify(fn){return function(){var args=[this.value];for(var i=0;i<arguments.length;i++){args[i+1]=arguments[i];}
return new Chain(fn.apply(fn,args));}}
Chain.createProxy=function(arg0,arg1){if(typeof arg0==='string'){createProxy(arg0,arg1);}
else{for(var prop in arg0){if(arg0.hasOwnProperty(prop)){createProxy(prop,arg0[prop]);}}}};Chain.createProxy(math);math.on('import',function(name,resolver,path){if(path===undefined){createLazyProxy(name,resolver);}});return Chain;}
exports.name='Chain';exports.path='type';exports.factory=factory;exports.math=true;exports.lazy=false;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){return typed('chain',{'':function(){return new type.Chain();},'any':function(value){return new type.Chain(value);}});}
exports.name='chain';exports.factory=factory;}),(function(module,exports,__webpack_require__){module.exports=[__webpack_require__(583),__webpack_require__(584)];}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var latex=__webpack_require__(3);var complex=typed('complex',{'':function(){return type.Complex.ZERO;},'number':function(x){return new type.Complex(x,0);},'number, number':function(re,im){return new type.Complex(re,im);},'BigNumber, BigNumber':function(re,im){return new type.Complex(re.toNumber(),im.toNumber());},'Complex':function(x){return x.clone();},'string':function(x){return type.Complex(x);},'Object':function(x){if('re'in x&&'im'in x){return new type.Complex(x.re,x.im);}
if('r'in x&&'phi'in x){return new type.Complex(x);}
throw new Error('Expected object with either properties re and im, or properties r and phi.');},'Array | Matrix':function(x){return deepMap(x,complex);}});complex.toTex={0:'0',1:'\\left(${args[0]}\\right)',2:'\\left(\\left(${args[0]}\\right)+'
+latex.symbols['i']+'\\cdot\\left(${args[1]}\\right)\\right)'};return complex;}
exports.name='complex';exports.factory=factory;}),(function(module,exports,__webpack_require__){module.exports=[__webpack_require__(169),__webpack_require__(586)];}),(function(module,exports,__webpack_require__){var Fraction=__webpack_require__(240);Fraction.prototype.type='Fraction';Fraction.prototype.isFraction=true;Fraction.prototype.toJSON=function(){return{mathjs:'Fraction',n:this.s*this.n,d:this.d};};Fraction.fromJSON=function(json){return new Fraction(json);};function factory(type,config,load,typed){return Fraction;}
exports.name='Fraction';exports.path='type';exports.factory=factory;}),(function(module,exports,__webpack_require__){module.exports=[__webpack_require__(588),__webpack_require__(170)];}),(function(module,exports,__webpack_require__){module.exports=[__webpack_require__(581),__webpack_require__(582),__webpack_require__(585),__webpack_require__(587),__webpack_require__(589),__webpack_require__(598),__webpack_require__(103),__webpack_require__(599),__webpack_require__(600),__webpack_require__(604)];}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var smaller=load(__webpack_require__(47));var larger=load(__webpack_require__(35));var oneOverLogPhi=1.0 / Math.log((1.0+Math.sqrt(5.0))/ 2.0);function FibonacciHeap(){if(!(this instanceof FibonacciHeap))
throw new SyntaxError('Constructor must be called with the new operator');this._minimum=null;this._size=0;}
FibonacciHeap.prototype.type='FibonacciHeap';FibonacciHeap.prototype.isFibonacciHeap=true;FibonacciHeap.prototype.insert=function(key,value){var node={key:key,value:value,degree:0};if(this._minimum){var minimum=this._minimum;node.left=minimum;node.right=minimum.right;minimum.right=node;node.right.left=node;if(smaller(key,minimum.key)){this._minimum=node;}}
else{node.left=node;node.right=node;this._minimum=node;}
this._size++;return node;};FibonacciHeap.prototype.size=function(){return this._size;};FibonacciHeap.prototype.clear=function(){this._minimum=null;this._size=0;};FibonacciHeap.prototype.isEmpty=function(){return!!this._minimum;};FibonacciHeap.prototype.extractMinimum=function(){var node=this._minimum;if(node===null)
return node;var minimum=this._minimum;var numberOfChildren=node.degree;var x=node.child;while(numberOfChildren>0){var tempRight=x.right;x.left.right=x.right;x.right.left=x.left;x.left=minimum;x.right=minimum.right;minimum.right=x;x.right.left=x;x.parent=null;x=tempRight;numberOfChildren--;}
node.left.right=node.right;node.right.left=node.left;if(node==node.right){minimum=null;}
else{minimum=node.right;minimum=_findMinimumNode(minimum,this._size);}
this._size--;this._minimum=minimum;return node;};FibonacciHeap.prototype.remove=function(node){this._minimum=_decreaseKey(this._minimum,node,-1);this.extractMinimum();};var _decreaseKey=function(minimum,node,key){node.key=key;var parent=node.parent;if(parent&&smaller(node.key,parent.key)){_cut(minimum,node,parent);_cascadingCut(minimum,parent);}
if(smaller(node.key,minimum.key))
minimum=node;return minimum;};var _cut=function(minimum,node,parent){node.left.right=node.right;node.right.left=node.left;parent.degree--;if(parent.child==node)
parent.child=node.right;if(parent.degree===0)
parent.child=null;node.left=minimum;node.right=minimum.right;minimum.right=node;node.right.left=node;node.parent=null;node.mark=false;};var _cascadingCut=function(minimum,node){var parent=node.parent;if(!parent)
return;if(!node.mark){node.mark=true;}
else{_cut(minimum,node,parent);_cascadingCut(parent);}};var _linkNodes=function(node,parent){node.left.right=node.right;node.right.left=node.left;node.parent=parent;if(!parent.child){parent.child=node;node.right=node;node.left=node;}
else{node.left=parent.child;node.right=parent.child.right;parent.child.right=node;node.right.left=node;}
parent.degree++;node.mark=false;};var _findMinimumNode=function(minimum,size){var arraySize=Math.floor(Math.log(size)*oneOverLogPhi)+1;var array=new Array(arraySize);var numRoots=0;var x=minimum;if(x){numRoots++;x=x.right;while(x!==minimum){numRoots++;x=x.right;}}
var y;while(numRoots>0){var d=x.degree;var next=x.right;while(true){y=array[d];if(!y)
break;if(larger(x.key,y.key)){var temp=y;y=x;x=temp;}
_linkNodes(y,x);array[d]=null;d++;}
array[d]=x;x=next;numRoots--;}
minimum=null;for(var i=0;i<arraySize;i++){y=array[i];if(!y)
continue;if(minimum){y.left.right=y.right;y.right.left=y.left;y.left=minimum;y.right=minimum.right;minimum.right=y;y.right.left=y;if(smaller(y.key,minimum.key))
minimum=y;}
else
minimum=y;}
return minimum;};return FibonacciHeap;}
exports.name='FibonacciHeap';exports.path='type';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var util=__webpack_require__(31);var string=util.string;var object=util.object;var isArray=Array.isArray;var isString=string.isString;function factory(type,config,load){var DenseMatrix=load(__webpack_require__(171));var smaller=load(__webpack_require__(47));function ImmutableDenseMatrix(data,datatype){if(!(this instanceof ImmutableDenseMatrix))
throw new SyntaxError('Constructor must be called with the new operator');if(datatype&&!isString(datatype))
throw new Error('Invalid datatype: '+datatype);if((data&&data.isMatrix===true)||isArray(data)){var matrix=new DenseMatrix(data,datatype);this._data=matrix._data;this._size=matrix._size;this._datatype=matrix._datatype;this._min=null;this._max=null;}
else if(data&&isArray(data.data)&&isArray(data.size)){this._data=data.data;this._size=data.size;this._datatype=data.datatype;this._min=typeof data.min!=='undefined'?data.min:null;this._max=typeof data.max!=='undefined'?data.max:null;}
else if(data){throw new TypeError('Unsupported type of data ('+util.types.type(data)+')');}
else{this._data=[];this._size=[0];this._datatype=datatype;this._min=null;this._max=null;}}
ImmutableDenseMatrix.prototype=new DenseMatrix();ImmutableDenseMatrix.prototype.type='ImmutableDenseMatrix';ImmutableDenseMatrix.prototype.isImmutableDenseMatrix=true;ImmutableDenseMatrix.prototype.subset=function(index){switch(arguments.length){case 1:var m=DenseMatrix.prototype.subset.call(this,index);if(m.isMatrix){return new ImmutableDenseMatrix({data:m._data,size:m._size,datatype:m._datatype});}
return m;case 2:case 3:throw new Error('Cannot invoke set subset on an Immutable Matrix instance');default:throw new SyntaxError('Wrong number of arguments');}};ImmutableDenseMatrix.prototype.set=function(){throw new Error('Cannot invoke set on an Immutable Matrix instance');};ImmutableDenseMatrix.prototype.resize=function(){throw new Error('Cannot invoke resize on an Immutable Matrix instance');};ImmutableDenseMatrix.prototype.reshape=function(){throw new Error('Cannot invoke reshape on an Immutable Matrix instance');};ImmutableDenseMatrix.prototype.clone=function(){var m=new ImmutableDenseMatrix({data:object.clone(this._data),size:object.clone(this._size),datatype:this._datatype});return m;};ImmutableDenseMatrix.prototype.toJSON=function(){return{mathjs:'ImmutableDenseMatrix',data:this._data,size:this._size,datatype:this._datatype};};ImmutableDenseMatrix.fromJSON=function(json){return new ImmutableDenseMatrix(json);};ImmutableDenseMatrix.prototype.swapRows=function(){throw new Error('Cannot invoke swapRows on an Immutable Matrix instance');};ImmutableDenseMatrix.prototype.min=function(){if(this._min===null){var m=null;this.forEach(function(v){if(m===null||smaller(v,m))
m=v;});this._min=m!==null?m:undefined;}
return this._min;};ImmutableDenseMatrix.prototype.max=function(){if(this._max===null){var m=null;this.forEach(function(v){if(m===null||smaller(m,v))
m=v;});this._max=m!==null?m:undefined;}
return this._max;};return ImmutableDenseMatrix;}
exports.name='ImmutableDenseMatrix';exports.path='type';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var clone=__webpack_require__(5).clone;var isInteger=__webpack_require__(2).isInteger;function factory(type){function Index(ranges){if(!(this instanceof Index)){throw new SyntaxError('Constructor must be called with the new operator');}
this._dimensions=[];this._isScalar=true;for(var i=0,ii=arguments.length;i<ii;i++){var arg=arguments[i];if(arg&&(arg.isRange===true)){this._dimensions.push(arg);this._isScalar=false;}
else if(arg&&(Array.isArray(arg)||arg.isMatrix===true)){var m=_createImmutableMatrix(arg.valueOf());this._dimensions.push(m);var size=m.size();if(size.length!==1||size[0]!==1){this._isScalar=false;}}
else if(typeof arg==='number'){this._dimensions.push(_createImmutableMatrix([arg]));}
else if(typeof arg==='string'){this._dimensions.push(arg);}
else{throw new TypeError('Dimension must be an Array, Matrix, number, string, or Range');}}}
Index.prototype.type='Index';Index.prototype.isIndex=true;function _createImmutableMatrix(arg){for(var i=0,l=arg.length;i<l;i++){if(typeof arg[i]!=='number'||!isInteger(arg[i])){throw new TypeError('Index parameters must be positive integer numbers');}}
return new type.ImmutableDenseMatrix(arg);}
Index.prototype.clone=function(){var index=new Index();index._dimensions=clone(this._dimensions);index._isScalar=this._isScalar;return index;};Index.create=function(ranges){var index=new Index();Index.apply(index,ranges);return index;};Index.prototype.size=function(){var size=[];for(var i=0,ii=this._dimensions.length;i<ii;i++){var d=this._dimensions[i];size[i]=(typeof d==='string')?1:d.size()[0];}
return size;};Index.prototype.max=function(){var values=[];for(var i=0,ii=this._dimensions.length;i<ii;i++){var range=this._dimensions[i];values[i]=(typeof range==='string')?range:range.max();}
return values;};Index.prototype.min=function(){var values=[];for(var i=0,ii=this._dimensions.length;i<ii;i++){var range=this._dimensions[i];values[i]=(typeof range==='string')?range:range.min();}
return values;};Index.prototype.forEach=function(callback){for(var i=0,ii=this._dimensions.length;i<ii;i++){callback(this._dimensions[i],i,this);}};Index.prototype.dimension=function(dim){return this._dimensions[dim]||null;};Index.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]==='string';};Index.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null;};Index.prototype.isScalar=function(){return this._isScalar;};Index.prototype.toArray=function(){var array=[];for(var i=0,ii=this._dimensions.length;i<ii;i++){var dimension=this._dimensions[i];array.push((typeof dimension==='string')?dimension:dimension.toArray());}
return array;};Index.prototype.valueOf=Index.prototype.toArray;Index.prototype.toString=function(){var strings=[];for(var i=0,ii=this._dimensions.length;i<ii;i++){var dimension=this._dimensions[i];if(typeof dimension==='string'){strings.push(JSON.stringify(dimension));}
else{strings.push(dimension.toString());}}
return'['+strings.join(', ')+']';};Index.prototype.toJSON=function(){return{mathjs:'Index',dimensions:this._dimensions};};Index.fromJSON=function(json){return Index.create(json.dimensions);};return Index;}
exports.name='Index';exports.path='type';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load){var add=load(__webpack_require__(20));var equalScalar=load(__webpack_require__(12));function Spa(){if(!(this instanceof Spa))
throw new SyntaxError('Constructor must be called with the new operator');this._values=[];this._heap=new type.FibonacciHeap();}
Spa.prototype.type='Spa';Spa.prototype.isSpa=true;Spa.prototype.set=function(i,v){if(!this._values[i]){var node=this._heap.insert(i,v);this._values[i]=node;}
else{this._values[i].value=v;}};Spa.prototype.get=function(i){var node=this._values[i];if(node)
return node.value;return 0;};Spa.prototype.accumulate=function(i,v){var node=this._values[i];if(!node){node=this._heap.insert(i,v);this._values[i]=node;}
else{node.value=add(node.value,v);}};Spa.prototype.forEach=function(from,to,callback){var heap=this._heap;var values=this._values;var nodes=[];var node=heap.extractMinimum();if(node)
nodes.push(node);while(node&&node.key<=to){if(node.key>=from){if(!equalScalar(node.value,0)){callback(node.key,node.value,this);}}
node=heap.extractMinimum();if(node)
nodes.push(node);}
for(var i=0;i<nodes.length;i++){var n=nodes[i];node=heap.insert(n.key,n.value);values[node.key]=node;}};Spa.prototype.swap=function(i,j){var nodei=this._values[i];var nodej=this._values[j];if(!nodei&&nodej){nodei=this._heap.insert(i,nodej.value);this._heap.remove(nodej);this._values[i]=nodei;this._values[j]=undefined;}
else if(nodei&&!nodej){nodej=this._heap.insert(j,nodei.value);this._heap.remove(nodei);this._values[j]=nodej;this._values[i]=undefined;}
else if(nodei&&nodej){var v=nodei.value;nodei.value=nodej.value;nodej.value=v;}};return Spa;}
exports.name='Spa';exports.path='type';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var util=__webpack_require__(31);var DimensionError=__webpack_require__(11);var array=util.array;var object=util.object;var string=util.string;var number=util.number;var isArray=Array.isArray;var isNumber=number.isNumber;var isInteger=number.isInteger;var isString=string.isString;var validateIndex=array.validateIndex;function factory(type,config,load,typed){var Matrix=load(__webpack_require__(100));var equalScalar=load(__webpack_require__(12));function SparseMatrix(data,datatype){if(!(this instanceof SparseMatrix))
throw new SyntaxError('Constructor must be called with the new operator');if(datatype&&!isString(datatype))
throw new Error('Invalid datatype: '+datatype);if(data&&data.isMatrix===true){_createFromMatrix(this,data,datatype);}
else if(data&&isArray(data.index)&&isArray(data.ptr)&&isArray(data.size)){this._values=data.values;this._index=data.index;this._ptr=data.ptr;this._size=data.size;this._datatype=datatype||data.datatype;}
else if(isArray(data)){_createFromArray(this,data,datatype);}
else if(data){throw new TypeError('Unsupported type of data ('+util.types.type(data)+')');}
else{this._values=[];this._index=[];this._ptr=[0];this._size=[0,0];this._datatype=datatype;}}
var _createFromMatrix=function(matrix,source,datatype){if(source.type==='SparseMatrix'){matrix._values=source._values?object.clone(source._values):undefined;matrix._index=object.clone(source._index);matrix._ptr=object.clone(source._ptr);matrix._size=object.clone(source._size);matrix._datatype=datatype||source._datatype;}
else{_createFromArray(matrix,source.valueOf(),datatype||source._datatype);}};var _createFromArray=function(matrix,data,datatype){matrix._values=[];matrix._index=[];matrix._ptr=[];matrix._datatype=datatype;var rows=data.length;var columns=0;var eq=equalScalar;var zero=0;if(isString(datatype)){eq=typed.find(equalScalar,[datatype,datatype])||equalScalar;zero=typed.convert(0,datatype);}
if(rows>0){var j=0;do{matrix._ptr.push(matrix._index.length);for(var i=0;i<rows;i++){var row=data[i];if(isArray(row)){if(j===0&&columns<row.length)
columns=row.length;if(j<row.length){var v=row[j];if(!eq(v,zero)){matrix._values.push(v);matrix._index.push(i);}}}
else{if(j===0&&columns<1)
columns=1;if(!eq(row,zero)){matrix._values.push(row);matrix._index.push(i);}}}
j++;}
while(j<columns);}
matrix._ptr.push(matrix._index.length);matrix._size=[rows,columns];};SparseMatrix.prototype=new Matrix();SparseMatrix.prototype.type='SparseMatrix';SparseMatrix.prototype.isSparseMatrix=true;SparseMatrix.prototype.storage=function(){return'sparse';};SparseMatrix.prototype.datatype=function(){return this._datatype;};SparseMatrix.prototype.create=function(data,datatype){return new SparseMatrix(data,datatype);};SparseMatrix.prototype.density=function(){var rows=this._size[0];var columns=this._size[1];return rows!==0&&columns!==0?(this._index.length /(rows*columns)):0;};SparseMatrix.prototype.subset=function(index,replacement,defaultValue){if(!this._values)
throw new Error('Cannot invoke subset on a Pattern only matrix');switch(arguments.length){case 1:return _getsubset(this,index);case 2:case 3:return _setsubset(this,index,replacement,defaultValue);default:throw new SyntaxError('Wrong number of arguments');}};var _getsubset=function(matrix,idx){if(!idx||idx.isIndex!==true){throw new TypeError('Invalid index');}
var isScalar=idx.isScalar();if(isScalar){return matrix.get(idx.min());}
var size=idx.size();if(size.length!=matrix._size.length){throw new DimensionError(size.length,matrix._size.length);}
var i,ii,k,kk;var min=idx.min();var max=idx.max();for(i=0,ii=matrix._size.length;i<ii;i++){validateIndex(min[i],matrix._size[i]);validateIndex(max[i],matrix._size[i]);}
var mvalues=matrix._values;var mindex=matrix._index;var mptr=matrix._ptr;var rows=idx.dimension(0);var columns=idx.dimension(1);var w=[];var pv=[];rows.forEach(function(i,r){pv[i]=r[0];w[i]=true;});var values=mvalues?[]:undefined;var index=[];var ptr=[];columns.forEach(function(j){ptr.push(index.length);for(k=mptr[j],kk=mptr[j+1];k<kk;k++){i=mindex[k];if(w[i]===true){index.push(pv[i]);if(values)
values.push(mvalues[k]);}}});ptr.push(index.length);return new SparseMatrix({values:values,index:index,ptr:ptr,size:size,datatype:matrix._datatype});};var _setsubset=function(matrix,index,submatrix,defaultValue){if(!index||index.isIndex!==true){throw new TypeError('Invalid index');}
var iSize=index.size(),isScalar=index.isScalar();var sSize;if(submatrix&&submatrix.isMatrix===true){sSize=submatrix.size();submatrix=submatrix.toArray();}
else{sSize=array.size(submatrix);}
if(isScalar){if(sSize.length!==0){throw new TypeError('Scalar expected');}
matrix.set(index.min(),submatrix,defaultValue);}
else{if(iSize.length!==1&&iSize.length!==2){throw new DimensionError(iSize.length,matrix._size.length,'<');}
if(sSize.length<iSize.length){var i=0;var outer=0;while(iSize[i]===1&&sSize[i]===1){i++;}
while(iSize[i]===1){outer++;i++;}
submatrix=array.unsqueeze(submatrix,iSize.length,outer,sSize);}
if(!object.deepEqual(iSize,sSize)){throw new DimensionError(iSize,sSize,'>');}
var x0=index.min()[0];var y0=index.min()[1];var m=sSize[0];var n=sSize[1];for(var x=0;x<m;x++){for(var y=0;y<n;y++){var v=submatrix[x][y];matrix.set([x+x0,y+y0],v,defaultValue);}}}
return matrix;};SparseMatrix.prototype.get=function(index){if(!isArray(index))
throw new TypeError('Array expected');if(index.length!=this._size.length)
throw new DimensionError(index.length,this._size.length);if(!this._values)
throw new Error('Cannot invoke get on a Pattern only matrix');var i=index[0];var j=index[1];validateIndex(i,this._size[0]);validateIndex(j,this._size[1]);var k=_getValueIndex(i,this._ptr[j],this._ptr[j+1],this._index);if(k<this._ptr[j+1]&&this._index[k]===i)
return this._values[k];return 0;};SparseMatrix.prototype.set=function(index,v,defaultValue){if(!isArray(index))
throw new TypeError('Array expected');if(index.length!=this._size.length)
throw new DimensionError(index.length,this._size.length);if(!this._values)
throw new Error('Cannot invoke set on a Pattern only matrix');var i=index[0];var j=index[1];var rows=this._size[0];var columns=this._size[1];var eq=equalScalar;var zero=0;if(isString(this._datatype)){eq=typed.find(equalScalar,[this._datatype,this._datatype])||equalScalar;zero=typed.convert(0,this._datatype);}
if(i>rows-1||j>columns-1){_resize(this,Math.max(i+1,rows),Math.max(j+1,columns),defaultValue);rows=this._size[0];columns=this._size[1];}
validateIndex(i,rows);validateIndex(j,columns);var k=_getValueIndex(i,this._ptr[j],this._ptr[j+1],this._index);if(k<this._ptr[j+1]&&this._index[k]===i){if(!eq(v,zero)){this._values[k]=v;}
else{_remove(k,j,this._values,this._index,this._ptr);}}
else{_insert(k,i,j,v,this._values,this._index,this._ptr);}
return this;};var _getValueIndex=function(i,top,bottom,index){if(bottom-top===0)
return bottom;for(var r=top;r<bottom;r++){if(index[r]===i)
return r;}
return top;};var _remove=function(k,j,values,index,ptr){values.splice(k,1);index.splice(k,1);for(var x=j+1;x<ptr.length;x++)
ptr[x]--;};var _insert=function(k,i,j,v,values,index,ptr){values.splice(k,0,v);index.splice(k,0,i);for(var x=j+1;x<ptr.length;x++)
ptr[x]++;};SparseMatrix.prototype.resize=function(size,defaultValue,copy){if(!isArray(size))
throw new TypeError('Array expected');if(size.length!==2)
throw new Error('Only two dimensions matrix are supported');size.forEach(function(value){if(!number.isNumber(value)||!number.isInteger(value)||value<0){throw new TypeError('Invalid size, must contain positive integers '+'(size: '+string.format(size)+')');}});var m=copy?this.clone():this;return _resize(m,size[0],size[1],defaultValue);};var _resize=function(matrix,rows,columns,defaultValue){var value=defaultValue||0;var eq=equalScalar;var zero=0;if(isString(matrix._datatype)){eq=typed.find(equalScalar,[matrix._datatype,matrix._datatype])||equalScalar;zero=typed.convert(0,matrix._datatype);value=typed.convert(value,matrix._datatype);}
var ins=!eq(value,zero);var r=matrix._size[0];var c=matrix._size[1];var i,j,k;if(columns>c){for(j=c;j<columns;j++){matrix._ptr[j]=matrix._values.length;if(ins){for(i=0;i<r;i++){matrix._values.push(value);matrix._index.push(i);}}}
matrix._ptr[columns]=matrix._values.length;}
else if(columns<c){matrix._ptr.splice(columns+1,c-columns);matrix._values.splice(matrix._ptr[columns],matrix._values.length);matrix._index.splice(matrix._ptr[columns],matrix._index.length);}
c=columns;if(rows>r){if(ins){var n=0;for(j=0;j<c;j++){matrix._ptr[j]=matrix._ptr[j]+n;k=matrix._ptr[j+1]+n;var p=0;for(i=r;i<rows;i++,p++){matrix._values.splice(k+p,0,value);matrix._index.splice(k+p,0,i);n++;}}
matrix._ptr[c]=matrix._values.length;}}
else if(rows<r){var d=0;for(j=0;j<c;j++){matrix._ptr[j]=matrix._ptr[j]-d;var k0=matrix._ptr[j];var k1=matrix._ptr[j+1]-d;for(k=k0;k<k1;k++){i=matrix._index[k];if(i>rows-1){matrix._values.splice(k,1);matrix._index.splice(k,1);d++;}}}
matrix._ptr[j]=matrix._values.length;}
matrix._size[0]=rows;matrix._size[1]=columns;return matrix;};SparseMatrix.prototype.reshape=function(size,copy){if(!isArray(size))
throw new TypeError('Array expected');if(size.length!==2)
throw new Error('Sparse matrices can only be reshaped in two dimensions');size.forEach(function(value){if(!number.isNumber(value)||!number.isInteger(value)||value<0){throw new TypeError('Invalid size, must contain positive integers '+'(size: '+string.format(size)+')');}});if(this._size[0]*this._size[1]!==size[0]*size[1]){throw new Error('Reshaping sparse matrix will result in the wrong number of elements');}
var m=copy?this.clone():this;if(this._size[0]===size[0]&&this._size[1]===size[1]){return m;}
var colIndex=[];for(var i=0;i<m._ptr.length;i++){for(var j=0;j<m._ptr[i+1]-m._ptr[i];j++){colIndex.push(i);}}
var values=m._values.slice();var rowIndex=m._index.slice();for(var i=0;i<m._index.length;i++){var r1=rowIndex[i];var c1=colIndex[i];var flat=r1*m._size[1]+c1;colIndex[i]=flat%size[1];rowIndex[i]=Math.floor(flat / size[1]);}
m._values.length=0;m._index.length=0;m._ptr.length=size[1]+1;m._size=size.slice();for(var i=0;i<m._ptr.length;i++){m._ptr[i]=0;}
for(var h=0;h<values.length;h++){var i=rowIndex[h];var j=colIndex[h];var v=values[h];var k=_getValueIndex(i,m._ptr[j],m._ptr[j+1],m._index);_insert(k,i,j,v,m._values,m._index,m._ptr);}
return m;}
SparseMatrix.prototype.clone=function(){var m=new SparseMatrix({values:this._values?object.clone(this._values):undefined,index:object.clone(this._index),ptr:object.clone(this._ptr),size:object.clone(this._size),datatype:this._datatype});return m;};SparseMatrix.prototype.size=function(){return this._size.slice(0);};SparseMatrix.prototype.map=function(callback,skipZeros){if(!this._values)
throw new Error('Cannot invoke map on a Pattern only matrix');var me=this;var rows=this._size[0];var columns=this._size[1];var invoke=function(v,i,j){return callback(v,[i,j],me);};return _map(this,0,rows-1,0,columns-1,invoke,skipZeros);};var _map=function(matrix,minRow,maxRow,minColumn,maxColumn,callback,skipZeros){var values=[];var index=[];var ptr=[];var eq=equalScalar;var zero=0;if(isString(matrix._datatype)){eq=typed.find(equalScalar,[matrix._datatype,matrix._datatype])||equalScalar;zero=typed.convert(0,matrix._datatype);}
var invoke=function(v,x,y){v=callback(v,x,y);if(!eq(v,zero)){values.push(v);index.push(x);}};for(var j=minColumn;j<=maxColumn;j++){ptr.push(values.length);var k0=matrix._ptr[j];var k1=matrix._ptr[j+1];var p=minRow;for(var k=k0;k<k1;k++){var i=matrix._index[k];if(i>=minRow&&i<=maxRow){if(!skipZeros){for(var x=p;x<i;x++)
invoke(0,x-minRow,j-minColumn);}
invoke(matrix._values[k],i-minRow,j-minColumn);}
p=i+1;}
if(!skipZeros){for(var y=p;y<=maxRow;y++)
invoke(0,y-minRow,j-minColumn);}}
ptr.push(values.length);return new SparseMatrix({values:values,index:index,ptr:ptr,size:[maxRow-minRow+1,maxColumn-minColumn+1]});};SparseMatrix.prototype.forEach=function(callback,skipZeros){if(!this._values)
throw new Error('Cannot invoke forEach on a Pattern only matrix');var me=this;var rows=this._size[0];var columns=this._size[1];for(var j=0;j<columns;j++){var k0=this._ptr[j];var k1=this._ptr[j+1];var p=0;for(var k=k0;k<k1;k++){var i=this._index[k];if(!skipZeros){for(var x=p;x<i;x++)
callback(0,[x,j],me);}
callback(this._values[k],[i,j],me);p=i+1;}
if(!skipZeros){for(var y=p;y<rows;y++)
callback(0,[y,j],me);}}};SparseMatrix.prototype.toArray=function(){return _toArray(this._values,this._index,this._ptr,this._size,true);};SparseMatrix.prototype.valueOf=function(){return _toArray(this._values,this._index,this._ptr,this._size,false);};var _toArray=function(values,index,ptr,size,copy){var rows=size[0];var columns=size[1];var a=[];var i,j;for(i=0;i<rows;i++){a[i]=[];for(j=0;j<columns;j++)
a[i][j]=0;}
for(j=0;j<columns;j++){var k0=ptr[j];var k1=ptr[j+1];for(var k=k0;k<k1;k++){i=index[k];a[i][j]=values?(copy?object.clone(values[k]):values[k]):1;}}
return a;};SparseMatrix.prototype.format=function(options){var rows=this._size[0];var columns=this._size[1];var density=this.density();var str='Sparse Matrix ['+string.format(rows,options)+' x '+string.format(columns,options)+'] density: '+string.format(density,options)+'\n';for(var j=0;j<columns;j++){var k0=this._ptr[j];var k1=this._ptr[j+1];for(var k=k0;k<k1;k++){var i=this._index[k];str+='\n    ('+string.format(i,options)+', '+string.format(j,options)+') ==> '+(this._values?string.format(this._values[k],options):'X');}}
return str;};SparseMatrix.prototype.toString=function(){return string.format(this.toArray());};SparseMatrix.prototype.toJSON=function(){return{mathjs:'SparseMatrix',values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype};};SparseMatrix.prototype.diagonal=function(k){if(k){if(k.isBigNumber===true)
k=k.toNumber();if(!isNumber(k)||!isInteger(k)){throw new TypeError('The parameter k must be an integer number');}}
else{k=0;}
var kSuper=k>0?k:0;var kSub=k<0?-k:0;var rows=this._size[0];var columns=this._size[1];var n=Math.min(rows-kSub,columns-kSuper);var values=[];var index=[];var ptr=[];ptr[0]=0;for(var j=kSuper;j<columns&&values.length<n;j++){var k0=this._ptr[j];var k1=this._ptr[j+1];for(var x=k0;x<k1;x++){var i=this._index[x];if(i===j-kSuper+kSub){values.push(this._values[x]);index[values.length-1]=i-kSub;break;}}}
ptr.push(values.length);return new SparseMatrix({values:values,index:index,ptr:ptr,size:[n,1]});};SparseMatrix.fromJSON=function(json){return new SparseMatrix(json);};SparseMatrix.diagonal=function(size,value,k,defaultValue,datatype){if(!isArray(size))
throw new TypeError('Array expected, size parameter');if(size.length!==2)
throw new Error('Only two dimensions matrix are supported');size=size.map(function(s){if(s&&s.isBigNumber===true){s=s.toNumber();}
if(!isNumber(s)||!isInteger(s)||s<1){throw new Error('Size values must be positive integers');}
return s;});if(k){if(k.isBigNumber===true)
k=k.toNumber();if(!isNumber(k)||!isInteger(k)){throw new TypeError('The parameter k must be an integer number');}}
else{k=0;}
var eq=equalScalar;var zero=0;if(isString(datatype)){eq=typed.find(equalScalar,[datatype,datatype])||equalScalar;zero=typed.convert(0,datatype);}
var kSuper=k>0?k:0;var kSub=k<0?-k:0;var rows=size[0];var columns=size[1];var n=Math.min(rows-kSub,columns-kSuper);var _value;if(isArray(value)){if(value.length!==n){throw new Error('Invalid value array length');}
_value=function(i){return value[i];};}
else if(value&&value.isMatrix===true){var ms=value.size();if(ms.length!==1||ms[0]!==n){throw new Error('Invalid matrix length');}
_value=function(i){return value.get([i]);};}
else{_value=function(){return value;};}
var values=[];var index=[];var ptr=[];for(var j=0;j<columns;j++){ptr.push(values.length);var i=j-kSuper;if(i>=0&&i<n){var v=_value(i);if(!eq(v,zero)){index.push(i+kSub);values.push(v);}}}
ptr.push(values.length);return new SparseMatrix({values:values,index:index,ptr:ptr,size:[rows,columns]});};SparseMatrix.prototype.swapRows=function(i,j){if(!isNumber(i)||!isInteger(i)||!isNumber(j)||!isInteger(j)){throw new Error('Row index must be positive integers');}
if(this._size.length!==2){throw new Error('Only two dimensional matrix is supported');}
validateIndex(i,this._size[0]);validateIndex(j,this._size[0]);SparseMatrix._swapRows(i,j,this._size[1],this._values,this._index,this._ptr);return this;};SparseMatrix._forEachRow=function(j,values,index,ptr,callback){var k0=ptr[j];var k1=ptr[j+1];for(var k=k0;k<k1;k++){callback(index[k],values[k]);}};SparseMatrix._swapRows=function(x,y,columns,values,index,ptr){for(var j=0;j<columns;j++){var k0=ptr[j];var k1=ptr[j+1];var kx=_getValueIndex(x,k0,k1,index);var ky=_getValueIndex(y,k0,k1,index);if(kx<k1&&ky<k1&&index[kx]===x&&index[ky]===y){if(values){var v=values[kx];values[kx]=values[ky];values[ky]=v;}
continue;}
if(kx<k1&&index[kx]===x&&(ky>=k1||index[ky]!==y)){var vx=values?values[kx]:undefined;index.splice(ky,0,y);if(values)
values.splice(ky,0,vx);index.splice(ky<=kx?kx+1:kx,1);if(values)
values.splice(ky<=kx?kx+1:kx,1);continue;}
if(ky<k1&&index[ky]===y&&(kx>=k1||index[kx]!==x)){var vy=values?values[ky]:undefined;index.splice(kx,0,x);if(values)
values.splice(kx,0,vy);index.splice(kx<=ky?ky+1:ky,1);if(values)
values.splice(kx<=ky?ky+1:ky,1);}}};type.Matrix._storage.sparse=SparseMatrix;return SparseMatrix;}
exports.name='SparseMatrix';exports.path='type';exports.factory=factory;exports.lazy=false;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){return typed('index',{'...number | string | BigNumber | Range | Array | Matrix':function(args){var ranges=args.map(function(arg){if(arg&&arg.isBigNumber===true){return arg.toNumber();}
else if(arg&&(Array.isArray(arg)||arg.isMatrix===true)){return arg.map(function(elem){return(elem&&elem.isBigNumber===true)?elem.toNumber():elem;});}
else{return arg;}});var res=new type.Index();type.Index.apply(res,ranges);return res;}});}
exports.name='index';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";function factory(type,config,load,typed){var SparseMatrix=type.SparseMatrix;var sparse=typed('sparse',{'':function(){return new SparseMatrix([]);},'string':function(datatype){return new SparseMatrix([],datatype);},'Array | Matrix':function(data){return new SparseMatrix(data);},'Array | Matrix, string':function(data,datatype){return new SparseMatrix(data,datatype);}});sparse.toTex={0:'\\begin{bsparse}\\end{bsparse}',1:'\\left(${args[0]}\\right)'};return sparse;}
exports.name='sparse';exports.factory=factory;}),(function(module,exports,__webpack_require__){module.exports=[__webpack_require__(100),__webpack_require__(171),__webpack_require__(595),__webpack_require__(594),__webpack_require__(591),__webpack_require__(592),__webpack_require__(593),__webpack_require__(172),__webpack_require__(596),__webpack_require__(0),__webpack_require__(597)];}),(function(module,exports,__webpack_require__){module.exports=[__webpack_require__(174)];}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);var number=__webpack_require__(2);function factory(type,config,load,typed){var string=typed('string',{'':function(){return'';},'number':number.format,'null':function(x){return'null';},'boolean':function(x){return x+'';},'string':function(x){return x;},'Array | Matrix':function(x){return deepMap(x,string);},'any':function(x){return String(x);}});string.toTex={0:'\\mathtt{""}',1:'\\mathrm{string}\\left(${args[0]}\\right)'};return string;}
exports.name='string';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var createUnit=typed('createUnit',{'Object, Object':function(obj,options){return type.Unit.createUnit(obj,options);},'Object':function(obj){return type.Unit.createUnit(obj,{});},'string, Unit | string | Object, Object':function(name,def,options){var obj={};obj[name]=def;return type.Unit.createUnit(obj,options);},'string, Unit | string | Object':function(name,def){var obj={};obj[name]=def;return type.Unit.createUnit(obj,{});},'string':function(name){var obj={};obj[name]={};return type.Unit.createUnit(obj,{});},});return createUnit;}
exports.name='createUnit';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var splitUnit=typed('splitUnit',{'Unit, Array':function(unit,parts){return unit.splitUnit(parts);}});return splitUnit;}
exports.name='splitUnit';exports.factory=factory;}),(function(module,exports,__webpack_require__){"use strict";var deepMap=__webpack_require__(1);function factory(type,config,load,typed){var unit=typed('unit',{'Unit':function(x){return x.clone();},'string':function(x){if(type.Unit.isValuelessUnit(x)){return new type.Unit(null,x);}
return type.Unit.parse(x);},'number | BigNumber | Fraction | Complex, string':function(value,unit){return new type.Unit(value,unit);},'Array | Matrix':function(x){return deepMap(x,unit);}});unit.toTex={1:'\\left(${args[0]}\\right)',2:'\\left(\\left(${args[0]}\\right)${args[1]}\\right)'};return unit;}
exports.name='unit';exports.factory=factory;}),(function(module,exports,__webpack_require__){module.exports=[__webpack_require__(175),__webpack_require__(603),__webpack_require__(601),__webpack_require__(602),__webpack_require__(605)];}),(function(module,exports,__webpack_require__){var lazy=__webpack_require__(5).lazy;function factory(type,config,load,typed,math){function fixedUnit(str){var unit=type.Unit.parse(str);unit.fixPrefix=true;return unit;}
lazy(math,'speedOfLight',function(){return fixedUnit('299792458 m s^-1')});lazy(math,'gravitationConstant',function(){return fixedUnit('6.6738480e-11 m^3 kg^-1 s^-2')});lazy(math,'planckConstant',function(){return fixedUnit('6.626069311e-34 J s')});lazy(math,'reducedPlanckConstant',function(){return fixedUnit('1.05457172647e-34 J s')});lazy(math,'magneticConstant',function(){return fixedUnit('1.2566370614e-6 N A^-2')});lazy(math,'electricConstant',function(){return fixedUnit('8.854187817e-12 F m^-1')});lazy(math,'vacuumImpedance',function(){return fixedUnit('376.730313461 ohm')});lazy(math,'coulomb',function(){return fixedUnit('8.9875517873681764e9 N m^2 C^-2')});lazy(math,'elementaryCharge',function(){return fixedUnit('1.60217656535e-19 C')});lazy(math,'bohrMagneton',function(){return fixedUnit('9.2740096820e-24 J T^-1')});lazy(math,'conductanceQuantum',function(){return fixedUnit('7.748091734625e-5 S')});lazy(math,'inverseConductanceQuantum',function(){return fixedUnit('12906.403721742 ohm')});lazy(math,'magneticFluxQuantum',function(){return fixedUnit('2.06783375846e-15 Wb')});lazy(math,'nuclearMagneton',function(){return fixedUnit('5.0507835311e-27 J T^-1')});lazy(math,'klitzing',function(){return fixedUnit('25812.807443484 ohm')});lazy(math,'bohrRadius',function(){return fixedUnit('5.291772109217e-11 m')});lazy(math,'classicalElectronRadius',function(){return fixedUnit('2.817940326727e-15 m')});lazy(math,'electronMass',function(){return fixedUnit('9.1093829140e-31 kg')});lazy(math,'fermiCoupling',function(){return fixedUnit('1.1663645e-5 GeV^-2')});lazy(math,'fineStructure',function(){return 7.297352569824e-3});lazy(math,'hartreeEnergy',function(){return fixedUnit('4.3597443419e-18 J')});lazy(math,'protonMass',function(){return fixedUnit('1.67262177774e-27 kg')});lazy(math,'deuteronMass',function(){return fixedUnit('3.3435830926e-27 kg')});lazy(math,'neutronMass',function(){return fixedUnit('1.6749271613e-27 kg')});lazy(math,'quantumOfCirculation',function(){return fixedUnit('3.636947552024e-4 m^2 s^-1')});lazy(math,'rydberg',function(){return fixedUnit('10973731.56853955 m^-1')});lazy(math,'thomsonCrossSection',function(){return fixedUnit('6.65245873413e-29 m^2')});lazy(math,'weakMixingAngle',function(){return 0.222321});lazy(math,'efimovFactor',function(){return 22.7});lazy(math,'atomicMass',function(){return fixedUnit('1.66053892173e-27 kg')});lazy(math,'avogadro',function(){return fixedUnit('6.0221412927e23 mol^-1')});lazy(math,'boltzmann',function(){return fixedUnit('1.380648813e-23 J K^-1')});lazy(math,'faraday',function(){return fixedUnit('96485.336521 C mol^-1')});lazy(math,'firstRadiation',function(){return fixedUnit('3.7417715317e-16 W m^2')});lazy(math,'loschmidt',function(){return fixedUnit('2.686780524e25 m^-3')});lazy(math,'gasConstant',function(){return fixedUnit('8.314462175 J K^-1 mol^-1')});lazy(math,'molarPlanckConstant',function(){return fixedUnit('3.990312717628e-10 J s mol^-1')});lazy(math,'molarVolume',function(){return fixedUnit('2.241396820e-10 m^3 mol^-1')});lazy(math,'sackurTetrode',function(){return-1.164870823});lazy(math,'secondRadiation',function(){return fixedUnit('1.438777013e-2 m K')});lazy(math,'stefanBoltzmann',function(){return fixedUnit('5.67037321e-8 W m^-2 K^-4')});lazy(math,'wienDisplacement',function(){return fixedUnit('2.897772126e-3 m K')});lazy(math,'molarMass',function(){return fixedUnit('1e-3 kg mol^-1')});lazy(math,'molarMassC12',function(){return fixedUnit('1.2e-2 kg mol^-1')});lazy(math,'gravity',function(){return fixedUnit('9.80665 m s^-2')});lazy(math,'planckLength',function(){return fixedUnit('1.61619997e-35 m')});lazy(math,'planckMass',function(){return fixedUnit('2.1765113e-8 kg')});lazy(math,'planckTime',function(){return fixedUnit('5.3910632e-44 s')});lazy(math,'planckCharge',function(){return fixedUnit('1.87554595641e-18 C')});lazy(math,'planckTemperature',function(){return fixedUnit('1.41683385e+32 K')});}
exports.factory=factory;exports.lazy=false;exports.math=true;}),(function(module,exports,__webpack_require__){var bitwise=__webpack_require__(105);module.exports=function bitAnd(x,y){if((x.isFinite()&&!x.isInteger())||(y.isFinite()&&!y.isInteger())){throw new Error('Integers expected in function bitAnd');}
var BigNumber=x.constructor;if(x.isNaN()||y.isNaN()){return new BigNumber(NaN);}
if(x.isZero()||y.eq(-1)||x.eq(y)){return x;}
if(y.isZero()||x.eq(-1)){return y;}
if(!x.isFinite()||!y.isFinite()){if(!x.isFinite()&&!y.isFinite()){if(x.isNegative()==y.isNegative()){return x;}
return new BigNumber(0);}
if(!x.isFinite()){if(y.isNegative()){return x;}
if(x.isNegative()){return new BigNumber(0);}
return y;}
if(!y.isFinite()){if(x.isNegative()){return y;}
if(y.isNegative()){return new BigNumber(0);}
return x;}}
return bitwise(x,y,function(a,b){return a&b});};}),(function(module,exports,__webpack_require__){var bitwise=__webpack_require__(105);module.exports=function bitOr(x,y){if((x.isFinite()&&!x.isInteger())||(y.isFinite()&&!y.isInteger())){throw new Error('Integers expected in function bitOr');}
var BigNumber=x.constructor;if(x.isNaN()||y.isNaN()){return new BigNumber(NaN);}
var negOne=new BigNumber(-1);if(x.isZero()||y.eq(negOne)||x.eq(y)){return y;}
if(y.isZero()||x.eq(negOne)){return x;}
if(!x.isFinite()||!y.isFinite()){if((!x.isFinite()&&!x.isNegative()&&y.isNegative())||(x.isNegative()&&!y.isNegative()&&!y.isFinite())){return negOne;}
if(x.isNegative()&&y.isNegative()){return x.isFinite()?x:y;}
return x.isFinite()?y:x;}
return bitwise(x,y,function(a,b){return a|b});};}),(function(module,exports,__webpack_require__){var bitwise=__webpack_require__(105);var bitNot=__webpack_require__(104);module.exports=function bitXor(x,y){if((x.isFinite()&&!x.isInteger())||(y.isFinite()&&!y.isInteger())){throw new Error('Integers expected in function bitXor');}
var BigNumber=x.constructor;if(x.isNaN()||y.isNaN()){return new BigNumber(NaN);}
if(x.isZero()){return y;}
if(y.isZero()){return x;}
if(x.eq(y)){return new BigNumber(0);}
var negOne=new BigNumber(-1);if(x.eq(negOne)){return bitNot(y);}
if(y.eq(negOne)){return bitNot(x);}
if(!x.isFinite()||!y.isFinite()){if(!x.isFinite()&&!y.isFinite()){return negOne;}
return new BigNumber(x.isNegative()==y.isNegative()?Infinity:-Infinity);}
return bitwise(x,y,function(a,b){return a^b});};}),(function(module,exports){exports.format=function(value,options){if(typeof options==='function'){return options(value);}
if(!value.isFinite()){return value.isNaN()?'NaN':(value.gt(0)?'Infinity':'-Infinity');}
var notation='auto';var precision=undefined;if(options!==undefined){if(options.notation){notation=options.notation;}
if(typeof options==='number'){precision=options;}
else if(options.precision){precision=options.precision;}}
switch(notation){case'fixed':return exports.toFixed(value,precision);case'exponential':return exports.toExponential(value,precision);case'auto':var lower=1e-3;var upper=1e5;if(options&&options.exponential){if(options.exponential.lower!==undefined){lower=options.exponential.lower;}
if(options.exponential.upper!==undefined){upper=options.exponential.upper;}}
var oldConfig={toExpNeg:value.constructor.toExpNeg,toExpPos:value.constructor.toExpPos};value.constructor.config({toExpNeg:Math.round(Math.log(lower)/ Math.LN10),toExpPos:Math.round(Math.log(upper)/ Math.LN10)});if(value.isZero())return'0';var str;var abs=value.abs();if(abs.gte(lower)&&abs.lt(upper)){str=value.toSignificantDigits(precision).toFixed();}
else{str=exports.toExponential(value,precision);}
return str.replace(/((\.\d*?)(0+))($|e)/,function(){var digits=arguments[2];var e=arguments[4];return(digits!=='.')?digits+e:e;});default:throw new Error('Unknown notation "'+notation+'". '+'Choose "auto", "exponential", or "fixed".');}};exports.toExponential=function(value,precision){if(precision!==undefined){return value.toExponential(precision-1);}
else{return value.toExponential();}};exports.toFixed=function(value,precision){return value.toFixed(precision||0);};}),(function(module,exports){module.exports=function leftShift(x,y){if((x.isFinite()&&!x.isInteger())||(y.isFinite()&&!y.isInteger())){throw new Error('Integers expected in function leftShift');}
var BigNumber=x.constructor;if(x.isNaN()||y.isNaN()||(y.isNegative()&&!y.isZero())){return new BigNumber(NaN);}
if(x.isZero()||y.isZero()){return x;}
if(!x.isFinite()&&!y.isFinite()){return new BigNumber(NaN);}
if(y.lt(55)){return x.times(Math.pow(2,y.toNumber())+'');}
return x.times(new BigNumber(2).pow(y));};}),(function(module,exports){module.exports=function rightArithShift(x,y){if((x.isFinite()&&!x.isInteger())||(y.isFinite()&&!y.isInteger())){throw new Error('Integers expected in function rightArithShift');}
var BigNumber=x.constructor;if(x.isNaN()||y.isNaN()||(y.isNegative()&&!y.isZero())){return new BigNumber(NaN);}
if(x.isZero()||y.isZero()){return x;}
if(!y.isFinite()){if(x.isNegative()){return new BigNumber(-1);}
if(!x.isFinite()){return new BigNumber(NaN);}
return new BigNumber(0);}
if(y.lt(55)){return x.div(Math.pow(2,y.toNumber())+'').floor();}
return x.div(new BigNumber(2).pow(y)).floor();};}),(function(module,exports,__webpack_require__){"use strict";exports.isBoolean=function(value){return typeof value=='boolean';};}),(function(module,exports,__webpack_require__){"use strict";module.exports=function scatter(a,j,w,x,u,mark,c,f,inverse,update,value){var avalues=a._values;var aindex=a._index;var aptr=a._ptr;var cindex=c._index;var k,k0,k1,i;if(x){for(k0=aptr[j],k1=aptr[j+1],k=k0;k<k1;k++){i=aindex[k];if(w[i]!==mark){w[i]=mark;cindex.push(i);if(update){x[i]=inverse?f(avalues[k],value):f(value,avalues[k]);u[i]=mark;}
else{x[i]=avalues[k];}}
else{x[i]=inverse?f(avalues[k],x[i]):f(x[i],avalues[k]);u[i]=mark;}}}
else{for(k0=aptr[j],k1=aptr[j+1],k=k0;k<k1;k++){i=aindex[k];if(w[i]!==mark){w[i]=mark;cindex.push(i);}
else{u[i]=mark;}}}};}),(function(module,exports){module.exports='3.10.1';}),(function(module,exports,__webpack_require__){"use strict";var getOwnPropertySymbols=Object.getOwnPropertySymbols;var hasOwnProperty=Object.prototype.hasOwnProperty;var propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(val){if(val===null||val===undefined){throw new TypeError('Object.assign cannot be called with null or undefined');}
return Object(val);}
function shouldUseNative(){try{if(!Object.assign){return false;}
var test1=new String('abc');test1[5]='de';if(Object.getOwnPropertyNames(test1)[0]==='5'){return false;}
var test2={};for(var i=0;i<10;i++){test2['_'+String.fromCharCode(i)]=i;}
var order2=Object.getOwnPropertyNames(test2).map(function(n){return test2[n];});if(order2.join('')!=='0123456789'){return false;}
var test3={};'abcdefghijklmnopqrst'.split('').forEach(function(letter){test3[letter]=letter;});if(Object.keys(Object.assign({},test3)).join('')!=='abcdefghijklmnopqrst'){return false;}
return true;}catch(err){return false;}}
module.exports=shouldUseNative()?Object.assign:function(target,source){var from;var to=toObject(target);var symbols;for(var s=1;s<arguments.length;s++){from=Object(arguments[s]);for(var key in from){if(hasOwnProperty.call(from,key)){to[key]=from[key];}}
if(getOwnPropertySymbols){symbols=getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++){if(propIsEnumerable.call(from,symbols[i])){to[symbols[i]]=from[symbols[i]];}}}}
return to;};}),(function(module,exports){var EMPTY_ARRAY_BUFFER=new ArrayBuffer(0);var Buffer=function(gl,type,data,drawType)
{this.gl=gl;this.buffer=gl.createBuffer();this.type=type||gl.ARRAY_BUFFER;this.drawType=drawType||gl.STATIC_DRAW;this.data=EMPTY_ARRAY_BUFFER;if(data)
{this.upload(data);}
this._updateID=0;};Buffer.prototype.upload=function(data,offset,dontBind)
{if(!dontBind)this.bind();var gl=this.gl;data=data||this.data;offset=offset||0;if(this.data.byteLength>=data.byteLength)
{gl.bufferSubData(this.type,offset,data);}
else
{gl.bufferData(this.type,data,this.drawType);}
this.data=data;};Buffer.prototype.bind=function()
{var gl=this.gl;gl.bindBuffer(this.type,this.buffer);};Buffer.createVertexBuffer=function(gl,data,drawType)
{return new Buffer(gl,gl.ARRAY_BUFFER,data,drawType);};Buffer.createIndexBuffer=function(gl,data,drawType)
{return new Buffer(gl,gl.ELEMENT_ARRAY_BUFFER,data,drawType);};Buffer.create=function(gl,type,data,drawType)
{return new Buffer(gl,type,data,drawType);};Buffer.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer);};module.exports=Buffer;}),(function(module,exports,__webpack_require__){var Texture=__webpack_require__(180);var Framebuffer=function(gl,width,height)
{this.gl=gl;this.framebuffer=gl.createFramebuffer();this.stencil=null;this.texture=null;this.width=width||100;this.height=height||100;};Framebuffer.prototype.enableTexture=function(texture)
{var gl=this.gl;this.texture=texture||new Texture(gl);this.texture.bind();this.bind();gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.TEXTURE_2D,this.texture.texture,0);};Framebuffer.prototype.enableStencil=function()
{if(this.stencil)return;var gl=this.gl;this.stencil=gl.createRenderbuffer();gl.bindRenderbuffer(gl.RENDERBUFFER,this.stencil);gl.framebufferRenderbuffer(gl.FRAMEBUFFER,gl.DEPTH_STENCIL_ATTACHMENT,gl.RENDERBUFFER,this.stencil);gl.renderbufferStorage(gl.RENDERBUFFER,gl.DEPTH_STENCIL,this.width,this.height);};Framebuffer.prototype.clear=function(r,g,b,a)
{this.bind();var gl=this.gl;gl.clearColor(r,g,b,a);gl.clear(gl.COLOR_BUFFER_BIT|gl.DEPTH_BUFFER_BIT);};Framebuffer.prototype.bind=function()
{var gl=this.gl;gl.bindFramebuffer(gl.FRAMEBUFFER,this.framebuffer);};Framebuffer.prototype.unbind=function()
{var gl=this.gl;gl.bindFramebuffer(gl.FRAMEBUFFER,null);};Framebuffer.prototype.resize=function(width,height)
{var gl=this.gl;this.width=width;this.height=height;if(this.texture)
{this.texture.uploadData(null,width,height);}
if(this.stencil)
{gl.bindRenderbuffer(gl.RENDERBUFFER,this.stencil);gl.renderbufferStorage(gl.RENDERBUFFER,gl.DEPTH_STENCIL,width,height);}};Framebuffer.prototype.destroy=function()
{var gl=this.gl;if(this.texture)
{this.texture.destroy();}
gl.deleteFramebuffer(this.framebuffer);this.gl=null;this.stencil=null;this.texture=null;};Framebuffer.createRGBA=function(gl,width,height,data)
{var texture=Texture.fromData(gl,null,width,height);texture.enableNearestScaling();texture.enableWrapClamp();var fbo=new Framebuffer(gl,width,height);fbo.enableTexture(texture);fbo.unbind();return fbo;};Framebuffer.createFloat32=function(gl,width,height,data)
{var texture=new Texture.fromData(gl,data,width,height);texture.enableNearestScaling();texture.enableWrapClamp();var fbo=new Framebuffer(gl,width,height);fbo.enableTexture(texture);fbo.unbind();return fbo;};module.exports=Framebuffer;}),(function(module,exports,__webpack_require__){var compileProgram=__webpack_require__(182),extractAttributes=__webpack_require__(184),extractUniforms=__webpack_require__(185),setPrecision=__webpack_require__(188),generateUniformAccessObject=__webpack_require__(186);var Shader=function(gl,vertexSrc,fragmentSrc,precision,attributeLocations)
{this.gl=gl;if(precision)
{vertexSrc=setPrecision(vertexSrc,precision);fragmentSrc=setPrecision(fragmentSrc,precision);}
this.program=compileProgram(gl,vertexSrc,fragmentSrc,attributeLocations);this.attributes=extractAttributes(gl,this.program);this.uniformData=extractUniforms(gl,this.program);this.uniforms=generateUniformAccessObject(gl,this.uniformData);};Shader.prototype.bind=function()
{this.gl.useProgram(this.program);};Shader.prototype.destroy=function()
{this.attributes=null;this.uniformData=null;this.uniforms=null;var gl=this.gl;gl.deleteProgram(this.program);};module.exports=Shader;}),(function(module,exports,__webpack_require__){var setVertexAttribArrays=__webpack_require__(181);function VertexArrayObject(gl,state)
{this.nativeVaoExtension=null;if(!VertexArrayObject.FORCE_NATIVE)
{this.nativeVaoExtension=gl.getExtension('OES_vertex_array_object')||gl.getExtension('MOZ_OES_vertex_array_object')||gl.getExtension('WEBKIT_OES_vertex_array_object');}
this.nativeState=state;if(this.nativeVaoExtension)
{this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var maxAttribs=gl.getParameter(gl.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(maxAttribs),attribState:new Array(maxAttribs)};}
this.gl=gl;this.attributes=[];this.indexBuffer=null;this.dirty=false;}
VertexArrayObject.prototype.constructor=VertexArrayObject;module.exports=VertexArrayObject;VertexArrayObject.FORCE_NATIVE=false;VertexArrayObject.prototype.bind=function()
{if(this.nativeVao)
{this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao);if(this.dirty)
{this.dirty=false;this.activate();}}
else
{this.activate();}
return this;};VertexArrayObject.prototype.unbind=function()
{if(this.nativeVao)
{this.nativeVaoExtension.bindVertexArrayOES(null);}
return this;};VertexArrayObject.prototype.activate=function()
{var gl=this.gl;var lastBuffer=null;for(var i=0;i<this.attributes.length;i++)
{var attrib=this.attributes[i];if(lastBuffer!==attrib.buffer)
{attrib.buffer.bind();lastBuffer=attrib.buffer;}
gl.vertexAttribPointer(attrib.attribute.location,attrib.attribute.size,attrib.type||gl.FLOAT,attrib.normalized||false,attrib.stride||0,attrib.start||0);}
setVertexAttribArrays(gl,this.attributes,this.nativeState);if(this.indexBuffer)
{this.indexBuffer.bind();}
return this;};VertexArrayObject.prototype.addAttribute=function(buffer,attribute,type,normalized,stride,start)
{this.attributes.push({buffer:buffer,attribute:attribute,location:attribute.location,type:type||this.gl.FLOAT,normalized:normalized||false,stride:stride||0,start:start||0});this.dirty=true;return this;};VertexArrayObject.prototype.addIndex=function(buffer)
{this.indexBuffer=buffer;this.dirty=true;return this;};VertexArrayObject.prototype.clear=function()
{if(this.nativeVao)
{this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao);}
this.attributes.length=0;this.indexBuffer=null;return this;};VertexArrayObject.prototype.draw=function(type,size,start)
{var gl=this.gl;if(this.indexBuffer)
{gl.drawElements(type,size||this.indexBuffer.data.length,gl.UNSIGNED_SHORT,(start||0)*2);}
else
{gl.drawArrays(type,start,size||this.getSize());}
return this;};VertexArrayObject.prototype.destroy=function()
{this.gl=null;this.indexBuffer=null;this.attributes=null;this.nativeState=null;if(this.nativeVao)
{this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao);}
this.nativeVaoExtension=null;this.nativeVao=null;};VertexArrayObject.prototype.getSize=function()
{var attrib=this.attributes[0];return attrib.buffer.data.length /((attrib.stride/4)||attrib.attribute.size);};}),(function(module,exports){var createContext=function(canvas,options)
{var gl=canvas.getContext('webgl',options)||canvas.getContext('experimental-webgl',options);if(!gl)
{throw new Error('This browser does not support webGL. Try using the canvas renderer');}
return gl;};module.exports=createContext;}),(function(module,exports,__webpack_require__){module.exports={compileProgram:__webpack_require__(182),defaultValue:__webpack_require__(183),extractAttributes:__webpack_require__(184),extractUniforms:__webpack_require__(185),generateUniformAccessObject:__webpack_require__(186),setPrecision:__webpack_require__(188),mapSize:__webpack_require__(187),mapType:__webpack_require__(106)};}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _core=__webpack_require__(4);var core=_interopRequireWildcard(_core);var _ismobilejs=__webpack_require__(88);var _ismobilejs2=_interopRequireDefault(_ismobilejs);var _accessibleTarget=__webpack_require__(189);var _accessibleTarget2=_interopRequireDefault(_accessibleTarget);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
core.utils.mixins.delayMixin(core.DisplayObject.prototype,_accessibleTarget2.default);var KEY_CODE_TAB=9;var DIV_TOUCH_SIZE=100;var DIV_TOUCH_POS_X=0;var DIV_TOUCH_POS_Y=0;var DIV_TOUCH_ZINDEX=2;var DIV_HOOK_SIZE=1;var DIV_HOOK_POS_X=-1000;var DIV_HOOK_POS_Y=-1000;var DIV_HOOK_ZINDEX=2;var AccessibilityManager=function(){function AccessibilityManager(renderer){_classCallCheck(this,AccessibilityManager);if((_ismobilejs2.default.tablet||_ismobilejs2.default.phone)&&!navigator.isCocoonJS){this.createTouchHook();}
var div=document.createElement('div');div.style.width=DIV_TOUCH_SIZE+'px';div.style.height=DIV_TOUCH_SIZE+'px';div.style.position='absolute';div.style.top=DIV_TOUCH_POS_X+'px';div.style.left=DIV_TOUCH_POS_Y+'px';div.style.zIndex=DIV_TOUCH_ZINDEX;this.div=div;this.pool=[];this.renderId=0;this.debug=false;this.renderer=renderer;this.children=[];this._onKeyDown=this._onKeyDown.bind(this);this._onMouseMove=this._onMouseMove.bind(this);this.isActive=false;this.isMobileAccessabillity=false;window.addEventListener('keydown',this._onKeyDown,false);}
AccessibilityManager.prototype.createTouchHook=function createTouchHook(){var _this=this;var hookDiv=document.createElement('button');hookDiv.style.width=DIV_HOOK_SIZE+'px';hookDiv.style.height=DIV_HOOK_SIZE+'px';hookDiv.style.position='absolute';hookDiv.style.top=DIV_HOOK_POS_X+'px';hookDiv.style.left=DIV_HOOK_POS_Y+'px';hookDiv.style.zIndex=DIV_HOOK_ZINDEX;hookDiv.style.backgroundColor='#FF0000';hookDiv.title='HOOK DIV';hookDiv.addEventListener('focus',function(){_this.isMobileAccessabillity=true;_this.activate();document.body.removeChild(hookDiv);});document.body.appendChild(hookDiv);};AccessibilityManager.prototype.activate=function activate(){if(this.isActive){return;}
this.isActive=true;window.document.addEventListener('mousemove',this._onMouseMove,true);window.removeEventListener('keydown',this._onKeyDown,false);this.renderer.on('postrender',this.update,this);if(this.renderer.view.parentNode){this.renderer.view.parentNode.appendChild(this.div);}};AccessibilityManager.prototype.deactivate=function deactivate(){if(!this.isActive||this.isMobileAccessabillity){return;}
this.isActive=false;window.document.removeEventListener('mousemove',this._onMouseMove);window.addEventListener('keydown',this._onKeyDown,false);this.renderer.off('postrender',this.update);if(this.div.parentNode){this.div.parentNode.removeChild(this.div);}};AccessibilityManager.prototype.updateAccessibleObjects=function updateAccessibleObjects(displayObject){if(!displayObject.visible){return;}
if(displayObject.accessible&&displayObject.interactive){if(!displayObject._accessibleActive){this.addChild(displayObject);}
displayObject.renderId=this.renderId;}
var children=displayObject.children;for(var i=children.length-1;i>=0;i--){this.updateAccessibleObjects(children[i]);}};AccessibilityManager.prototype.update=function update(){if(!this.renderer.renderingToScreen){return;}
this.updateAccessibleObjects(this.renderer._lastObjectRendered);var rect=this.renderer.view.getBoundingClientRect();var sx=rect.width / this.renderer.width;var sy=rect.height / this.renderer.height;var div=this.div;div.style.left=rect.left+'px';div.style.top=rect.top+'px';div.style.width=this.renderer.width+'px';div.style.height=this.renderer.height+'px';for(var i=0;i<this.children.length;i++){var child=this.children[i];if(child.renderId!==this.renderId){child._accessibleActive=false;core.utils.removeItems(this.children,i,1);this.div.removeChild(child._accessibleDiv);this.pool.push(child._accessibleDiv);child._accessibleDiv=null;i--;if(this.children.length===0){this.deactivate();}}else{div=child._accessibleDiv;var hitArea=child.hitArea;var wt=child.worldTransform;if(child.hitArea){div.style.left=(wt.tx+hitArea.x*wt.a)*sx+'px';div.style.top=(wt.ty+hitArea.y*wt.d)*sy+'px';div.style.width=hitArea.width*wt.a*sx+'px';div.style.height=hitArea.height*wt.d*sy+'px';}else{hitArea=child.getBounds();this.capHitArea(hitArea);div.style.left=hitArea.x*sx+'px';div.style.top=hitArea.y*sy+'px';div.style.width=hitArea.width*sx+'px';div.style.height=hitArea.height*sy+'px';}}}
this.renderId++;};AccessibilityManager.prototype.capHitArea=function capHitArea(hitArea){if(hitArea.x<0){hitArea.width+=hitArea.x;hitArea.x=0;}
if(hitArea.y<0){hitArea.height+=hitArea.y;hitArea.y=0;}
if(hitArea.x+hitArea.width>this.renderer.width){hitArea.width=this.renderer.width-hitArea.x;}
if(hitArea.y+hitArea.height>this.renderer.height){hitArea.height=this.renderer.height-hitArea.y;}};AccessibilityManager.prototype.addChild=function addChild(displayObject){var div=this.pool.pop();if(!div){div=document.createElement('button');div.style.width=DIV_TOUCH_SIZE+'px';div.style.height=DIV_TOUCH_SIZE+'px';div.style.backgroundColor=this.debug?'rgba(255,0,0,0.5)':'transparent';div.style.position='absolute';div.style.zIndex=DIV_TOUCH_ZINDEX;div.style.borderStyle='none';div.addEventListener('click',this._onClick.bind(this));div.addEventListener('focus',this._onFocus.bind(this));div.addEventListener('focusout',this._onFocusOut.bind(this));}
if(displayObject.accessibleTitle){div.title=displayObject.accessibleTitle;}else if(!displayObject.accessibleTitle&&!displayObject.accessibleHint){div.title='displayObject '+this.tabIndex;}
if(displayObject.accessibleHint){div.setAttribute('aria-label',displayObject.accessibleHint);}
displayObject._accessibleActive=true;displayObject._accessibleDiv=div;div.displayObject=displayObject;this.children.push(displayObject);this.div.appendChild(displayObject._accessibleDiv);displayObject._accessibleDiv.tabIndex=displayObject.tabIndex;};AccessibilityManager.prototype._onClick=function _onClick(e){var interactionManager=this.renderer.plugins.interaction;interactionManager.dispatchEvent(e.target.displayObject,'click',interactionManager.eventData);};AccessibilityManager.prototype._onFocus=function _onFocus(e){var interactionManager=this.renderer.plugins.interaction;interactionManager.dispatchEvent(e.target.displayObject,'mouseover',interactionManager.eventData);};AccessibilityManager.prototype._onFocusOut=function _onFocusOut(e){var interactionManager=this.renderer.plugins.interaction;interactionManager.dispatchEvent(e.target.displayObject,'mouseout',interactionManager.eventData);};AccessibilityManager.prototype._onKeyDown=function _onKeyDown(e){if(e.keyCode!==KEY_CODE_TAB){return;}
this.activate();};AccessibilityManager.prototype._onMouseMove=function _onMouseMove(){this.deactivate();};AccessibilityManager.prototype.destroy=function destroy(){this.div=null;for(var i=0;i<this.children.length;i++){this.children[i].div=null;}
window.document.removeEventListener('mousemove',this._onMouseMove);window.removeEventListener('keydown',this._onKeyDown);this.pool=null;this.children=null;this.renderer=null;};return AccessibilityManager;}();exports.default=AccessibilityManager;core.WebGLRenderer.registerPlugin('accessibility',AccessibilityManager);core.CanvasRenderer.registerPlugin('accessibility',AccessibilityManager);}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _accessibleTarget=__webpack_require__(189);Object.defineProperty(exports,'accessibleTarget',{enumerable:true,get:function get(){return _interopRequireDefault(_accessibleTarget).default;}});var _AccessibilityManager=__webpack_require__(622);Object.defineProperty(exports,'AccessibilityManager',{enumerable:true,get:function get(){return _interopRequireDefault(_AccessibilityManager).default;}});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _autoDetectRenderer=__webpack_require__(190);var _Container=__webpack_require__(61);var _Container2=_interopRequireDefault(_Container);var _ticker=__webpack_require__(115);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var Application=function(){function Application(width,height,options,noWebGL){var useSharedTicker=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;_classCallCheck(this,Application);this.renderer=(0,_autoDetectRenderer.autoDetectRenderer)(width,height,options,noWebGL);this.stage=new _Container2.default();this._ticker=null;this.ticker=useSharedTicker?_ticker.shared:new _ticker.Ticker();this.start();}
Application.prototype.render=function render(){this.renderer.render(this.stage);};Application.prototype.stop=function stop(){this._ticker.stop();};Application.prototype.start=function start(){this._ticker.start();};Application.prototype.destroy=function destroy(removeView){this.stop();this.ticker=null;this.stage.destroy();this.stage=null;this.renderer.destroy(removeView);this.renderer=null;};_createClass(Application,[{key:'ticker',set:function set(ticker)
{if(this._ticker){this._ticker.remove(this.render,this);}
this._ticker=ticker;if(ticker){ticker.add(this.render,this);}},get:function get()
{return this._ticker;}},{key:'view',get:function get(){return this.renderer.view;}},{key:'screen',get:function get(){return this.renderer.screen;}}]);return Application;}();exports.default=Application;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _Container2=__webpack_require__(61);var _Container3=_interopRequireDefault(_Container2);var _RenderTexture=__webpack_require__(114);var _RenderTexture2=_interopRequireDefault(_RenderTexture);var _Texture=__webpack_require__(50);var _Texture2=_interopRequireDefault(_Texture);var _GraphicsData=__webpack_require__(194);var _GraphicsData2=_interopRequireDefault(_GraphicsData);var _Sprite=__webpack_require__(112);var _Sprite2=_interopRequireDefault(_Sprite);var _math=__webpack_require__(14);var _utils=__webpack_require__(10);var _const=__webpack_require__(8);var _Bounds=__webpack_require__(107);var _Bounds2=_interopRequireDefault(_Bounds);var _bezierCurveTo2=__webpack_require__(627);var _bezierCurveTo3=_interopRequireDefault(_bezierCurveTo2);var _CanvasRenderer=__webpack_require__(62);var _CanvasRenderer2=_interopRequireDefault(_CanvasRenderer);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var canvasRenderer=void 0;var tempMatrix=new _math.Matrix();var tempPoint=new _math.Point();var tempColor1=new Float32Array(4);var tempColor2=new Float32Array(4);var Graphics=function(_Container){_inherits(Graphics,_Container);function Graphics(){var nativeLines=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;_classCallCheck(this,Graphics);var _this=_possibleConstructorReturn(this,_Container.call(this));_this.fillAlpha=1;_this.lineWidth=0;_this.nativeLines=nativeLines;_this.lineColor=0;_this.graphicsData=[];_this.tint=0xFFFFFF;_this._prevTint=0xFFFFFF;_this.blendMode=_const.BLEND_MODES.NORMAL;_this.currentPath=null;_this._webGL={};_this.isMask=false;_this.boundsPadding=0;_this._localBounds=new _Bounds2.default();_this.dirty=0;_this.fastRectDirty=-1;_this.clearDirty=0;_this.boundsDirty=-1;_this.cachedSpriteDirty=false;_this._spriteRect=null;_this._fastRect=false;return _this;}
Graphics.prototype.clone=function clone(){var clone=new Graphics();clone.renderable=this.renderable;clone.fillAlpha=this.fillAlpha;clone.lineWidth=this.lineWidth;clone.lineColor=this.lineColor;clone.tint=this.tint;clone.blendMode=this.blendMode;clone.isMask=this.isMask;clone.boundsPadding=this.boundsPadding;clone.dirty=0;clone.cachedSpriteDirty=this.cachedSpriteDirty;for(var i=0;i<this.graphicsData.length;++i){clone.graphicsData.push(this.graphicsData[i].clone());}
clone.currentPath=clone.graphicsData[clone.graphicsData.length-1];clone.updateLocalBounds();return clone;};Graphics.prototype.lineStyle=function lineStyle(){var lineWidth=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var color=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var alpha=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;this.lineWidth=lineWidth;this.lineColor=color;this.lineAlpha=alpha;if(this.currentPath){if(this.currentPath.shape.points.length){var shape=new _math.Polygon(this.currentPath.shape.points.slice(-2));shape.closed=false;this.drawShape(shape);}else{this.currentPath.lineWidth=this.lineWidth;this.currentPath.lineColor=this.lineColor;this.currentPath.lineAlpha=this.lineAlpha;}}
return this;};Graphics.prototype.moveTo=function moveTo(x,y){var shape=new _math.Polygon([x,y]);shape.closed=false;this.drawShape(shape);return this;};Graphics.prototype.lineTo=function lineTo(x,y){this.currentPath.shape.points.push(x,y);this.dirty++;return this;};Graphics.prototype.quadraticCurveTo=function quadraticCurveTo(cpX,cpY,toX,toY){if(this.currentPath){if(this.currentPath.shape.points.length===0){this.currentPath.shape.points=[0,0];}}else{this.moveTo(0,0);}
var n=20;var points=this.currentPath.shape.points;var xa=0;var ya=0;if(points.length===0){this.moveTo(0,0);}
var fromX=points[points.length-2];var fromY=points[points.length-1];for(var i=1;i<=n;++i){var j=i / n;xa=fromX+(cpX-fromX)*j;ya=fromY+(cpY-fromY)*j;points.push(xa+(cpX+(toX-cpX)*j-xa)*j,ya+(cpY+(toY-cpY)*j-ya)*j);}
this.dirty++;return this;};Graphics.prototype.bezierCurveTo=function bezierCurveTo(cpX,cpY,cpX2,cpY2,toX,toY){if(this.currentPath){if(this.currentPath.shape.points.length===0){this.currentPath.shape.points=[0,0];}}else{this.moveTo(0,0);}
var points=this.currentPath.shape.points;var fromX=points[points.length-2];var fromY=points[points.length-1];points.length-=2;(0,_bezierCurveTo3.default)(fromX,fromY,cpX,cpY,cpX2,cpY2,toX,toY,points);this.dirty++;return this;};Graphics.prototype.arcTo=function arcTo(x1,y1,x2,y2,radius){if(this.currentPath){if(this.currentPath.shape.points.length===0){this.currentPath.shape.points.push(x1,y1);}}else{this.moveTo(x1,y1);}
var points=this.currentPath.shape.points;var fromX=points[points.length-2];var fromY=points[points.length-1];var a1=fromY-y1;var b1=fromX-x1;var a2=y2-y1;var b2=x2-x1;var mm=Math.abs(a1*b2-b1*a2);if(mm<1.0e-8||radius===0){if(points[points.length-2]!==x1||points[points.length-1]!==y1){points.push(x1,y1);}}else{var dd=a1*a1+b1*b1;var cc=a2*a2+b2*b2;var tt=a1*a2+b1*b2;var k1=radius*Math.sqrt(dd)/ mm;var k2=radius*Math.sqrt(cc)/ mm;var j1=k1*tt / dd;var j2=k2*tt / cc;var cx=k1*b2+k2*b1;var cy=k1*a2+k2*a1;var px=b1*(k2+j1);var py=a1*(k2+j1);var qx=b2*(k1+j2);var qy=a2*(k1+j2);var startAngle=Math.atan2(py-cy,px-cx);var endAngle=Math.atan2(qy-cy,qx-cx);this.arc(cx+x1,cy+y1,radius,startAngle,endAngle,b1*a2>b2*a1);}
this.dirty++;return this;};Graphics.prototype.arc=function arc(cx,cy,radius,startAngle,endAngle){var anticlockwise=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;if(startAngle===endAngle){return this;}
if(!anticlockwise&&endAngle<=startAngle){endAngle+=Math.PI*2;}else if(anticlockwise&&startAngle<=endAngle){startAngle+=Math.PI*2;}
var sweep=endAngle-startAngle;var segs=Math.ceil(Math.abs(sweep)/(Math.PI*2))*40;if(sweep===0){return this;}
var startX=cx+Math.cos(startAngle)*radius;var startY=cy+Math.sin(startAngle)*radius;var points=this.currentPath?this.currentPath.shape.points:null;if(points){if(points[points.length-2]!==startX||points[points.length-1]!==startY){points.push(startX,startY);}}else{this.moveTo(startX,startY);points=this.currentPath.shape.points;}
var theta=sweep /(segs*2);var theta2=theta*2;var cTheta=Math.cos(theta);var sTheta=Math.sin(theta);var segMinus=segs-1;var remainder=segMinus%1 / segMinus;for(var i=0;i<=segMinus;++i){var real=i+remainder*i;var angle=theta+startAngle+theta2*real;var c=Math.cos(angle);var s=-Math.sin(angle);points.push((cTheta*c+sTheta*s)*radius+cx,(cTheta*-s+sTheta*c)*radius+cy);}
this.dirty++;return this;};Graphics.prototype.beginFill=function beginFill(){var color=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var alpha=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;this.filling=true;this.fillColor=color;this.fillAlpha=alpha;if(this.currentPath){if(this.currentPath.shape.points.length<=2){this.currentPath.fill=this.filling;this.currentPath.fillColor=this.fillColor;this.currentPath.fillAlpha=this.fillAlpha;}}
return this;};Graphics.prototype.endFill=function endFill(){this.filling=false;this.fillColor=null;this.fillAlpha=1;return this;};Graphics.prototype.drawRect=function drawRect(x,y,width,height){this.drawShape(new _math.Rectangle(x,y,width,height));return this;};Graphics.prototype.drawRoundedRect=function drawRoundedRect(x,y,width,height,radius){this.drawShape(new _math.RoundedRectangle(x,y,width,height,radius));return this;};Graphics.prototype.drawCircle=function drawCircle(x,y,radius){this.drawShape(new _math.Circle(x,y,radius));return this;};Graphics.prototype.drawEllipse=function drawEllipse(x,y,width,height){this.drawShape(new _math.Ellipse(x,y,width,height));return this;};Graphics.prototype.drawPolygon=function drawPolygon(path){var points=path;var closed=true;if(points instanceof _math.Polygon){closed=points.closed;points=points.points;}
if(!Array.isArray(points)){points=new Array(arguments.length);for(var i=0;i<points.length;++i){points[i]=arguments[i];}}
var shape=new _math.Polygon(points);shape.closed=closed;this.drawShape(shape);return this;};Graphics.prototype.clear=function clear(){if(this.lineWidth||this.filling||this.graphicsData.length>0){this.lineWidth=0;this.filling=false;this.boundsDirty=-1;this.dirty++;this.clearDirty++;this.graphicsData.length=0;}
this.currentPath=null;this._spriteRect=null;return this;};Graphics.prototype.isFastRect=function isFastRect(){return this.graphicsData.length===1&&this.graphicsData[0].shape.type===_const.SHAPES.RECT&&!this.graphicsData[0].lineWidth;};Graphics.prototype._renderWebGL=function _renderWebGL(renderer){if(this.dirty!==this.fastRectDirty){this.fastRectDirty=this.dirty;this._fastRect=this.isFastRect();}
if(this._fastRect){this._renderSpriteRect(renderer);}else{renderer.setObjectRenderer(renderer.plugins.graphics);renderer.plugins.graphics.render(this);}};Graphics.prototype._renderSpriteRect=function _renderSpriteRect(renderer){var rect=this.graphicsData[0].shape;if(!this._spriteRect){this._spriteRect=new _Sprite2.default(new _Texture2.default(_Texture2.default.WHITE));}
var sprite=this._spriteRect;if(this.tint===0xffffff){sprite.tint=this.graphicsData[0].fillColor;}else{var t1=tempColor1;var t2=tempColor2;(0,_utils.hex2rgb)(this.graphicsData[0].fillColor,t1);(0,_utils.hex2rgb)(this.tint,t2);t1[0]*=t2[0];t1[1]*=t2[1];t1[2]*=t2[2];sprite.tint=(0,_utils.rgb2hex)(t1);}
sprite.alpha=this.graphicsData[0].fillAlpha;sprite.worldAlpha=this.worldAlpha*sprite.alpha;sprite.blendMode=this.blendMode;sprite.texture._frame.width=rect.width;sprite.texture._frame.height=rect.height;sprite.transform.worldTransform=this.transform.worldTransform;sprite.anchor.set(-rect.x / rect.width,-rect.y / rect.height);sprite._onAnchorUpdate();sprite._renderWebGL(renderer);};Graphics.prototype._renderCanvas=function _renderCanvas(renderer){if(this.isMask===true){return;}
renderer.plugins.graphics.render(this);};Graphics.prototype._calculateBounds=function _calculateBounds(){if(this.boundsDirty!==this.dirty){this.boundsDirty=this.dirty;this.updateLocalBounds();this.cachedSpriteDirty=true;}
var lb=this._localBounds;this._bounds.addFrame(this.transform,lb.minX,lb.minY,lb.maxX,lb.maxY);};Graphics.prototype.containsPoint=function containsPoint(point){this.worldTransform.applyInverse(point,tempPoint);var graphicsData=this.graphicsData;for(var i=0;i<graphicsData.length;++i){var data=graphicsData[i];if(!data.fill){continue;}
if(data.shape){if(data.shape.contains(tempPoint.x,tempPoint.y)){return true;}}}
return false;};Graphics.prototype.updateLocalBounds=function updateLocalBounds(){var minX=Infinity;var maxX=-Infinity;var minY=Infinity;var maxY=-Infinity;if(this.graphicsData.length){var shape=0;var x=0;var y=0;var w=0;var h=0;for(var i=0;i<this.graphicsData.length;i++){var data=this.graphicsData[i];var type=data.type;var lineWidth=data.lineWidth;shape=data.shape;if(type===_const.SHAPES.RECT||type===_const.SHAPES.RREC){x=shape.x-lineWidth / 2;y=shape.y-lineWidth / 2;w=shape.width+lineWidth;h=shape.height+lineWidth;minX=x<minX?x:minX;maxX=x+w>maxX?x+w:maxX;minY=y<minY?y:minY;maxY=y+h>maxY?y+h:maxY;}else if(type===_const.SHAPES.CIRC){x=shape.x;y=shape.y;w=shape.radius+lineWidth / 2;h=shape.radius+lineWidth / 2;minX=x-w<minX?x-w:minX;maxX=x+w>maxX?x+w:maxX;minY=y-h<minY?y-h:minY;maxY=y+h>maxY?y+h:maxY;}else if(type===_const.SHAPES.ELIP){x=shape.x;y=shape.y;w=shape.width+lineWidth / 2;h=shape.height+lineWidth / 2;minX=x-w<minX?x-w:minX;maxX=x+w>maxX?x+w:maxX;minY=y-h<minY?y-h:minY;maxY=y+h>maxY?y+h:maxY;}else{var points=shape.points;var x2=0;var y2=0;var dx=0;var dy=0;var rw=0;var rh=0;var cx=0;var cy=0;for(var j=0;j+2<points.length;j+=2){x=points[j];y=points[j+1];x2=points[j+2];y2=points[j+3];dx=Math.abs(x2-x);dy=Math.abs(y2-y);h=lineWidth;w=Math.sqrt(dx*dx+dy*dy);if(w<1e-9){continue;}
rw=(h / w*dy+dx)/ 2;rh=(h / w*dx+dy)/ 2;cx=(x2+x)/ 2;cy=(y2+y)/ 2;minX=cx-rw<minX?cx-rw:minX;maxX=cx+rw>maxX?cx+rw:maxX;minY=cy-rh<minY?cy-rh:minY;maxY=cy+rh>maxY?cy+rh:maxY;}}}}else{minX=0;maxX=0;minY=0;maxY=0;}
var padding=this.boundsPadding;this._localBounds.minX=minX-padding;this._localBounds.maxX=maxX+padding*2;this._localBounds.minY=minY-padding;this._localBounds.maxY=maxY+padding*2;};Graphics.prototype.drawShape=function drawShape(shape){if(this.currentPath){if(this.currentPath.shape.points.length<=2){this.graphicsData.pop();}}
this.currentPath=null;var data=new _GraphicsData2.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,shape);this.graphicsData.push(data);if(data.type===_const.SHAPES.POLY){data.shape.closed=data.shape.closed||this.filling;this.currentPath=data;}
this.dirty++;return data;};Graphics.prototype.generateCanvasTexture=function generateCanvasTexture(scaleMode){var resolution=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var bounds=this.getLocalBounds();var canvasBuffer=_RenderTexture2.default.create(bounds.width,bounds.height,scaleMode,resolution);if(!canvasRenderer){canvasRenderer=new _CanvasRenderer2.default();}
this.transform.updateLocalTransform();this.transform.localTransform.copy(tempMatrix);tempMatrix.invert();tempMatrix.tx-=bounds.x;tempMatrix.ty-=bounds.y;canvasRenderer.render(this,canvasBuffer,true,tempMatrix);var texture=_Texture2.default.fromCanvas(canvasBuffer.baseTexture._canvasRenderTarget.canvas,scaleMode);texture.baseTexture.resolution=resolution;texture.baseTexture.update();return texture;};Graphics.prototype.closePath=function closePath(){var currentPath=this.currentPath;if(currentPath&&currentPath.shape){currentPath.shape.close();}
return this;};Graphics.prototype.addHole=function addHole(){var hole=this.graphicsData.pop();this.currentPath=this.graphicsData[this.graphicsData.length-1];this.currentPath.addHole(hole.shape);this.currentPath=null;return this;};Graphics.prototype.destroy=function destroy(options){_Container.prototype.destroy.call(this,options);for(var i=0;i<this.graphicsData.length;++i){this.graphicsData[i].destroy();}
for(var id in this._webgl){for(var j=0;j<this._webgl[id].data.length;++j){this._webgl[id].data[j].destroy();}}
if(this._spriteRect){this._spriteRect.destroy();}
this.graphicsData=null;this.currentPath=null;this._webgl=null;this._localBounds=null;};return Graphics;}(_Container3.default);exports.default=Graphics;Graphics._SPRITE_TEXTURE=null;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _CanvasRenderer=__webpack_require__(62);var _CanvasRenderer2=_interopRequireDefault(_CanvasRenderer);var _const=__webpack_require__(8);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var CanvasGraphicsRenderer=function(){function CanvasGraphicsRenderer(renderer){_classCallCheck(this,CanvasGraphicsRenderer);this.renderer=renderer;}
CanvasGraphicsRenderer.prototype.render=function render(graphics){var renderer=this.renderer;var context=renderer.context;var worldAlpha=graphics.worldAlpha;var transform=graphics.transform.worldTransform;var resolution=renderer.resolution;if(this._prevTint!==this.tint){this.dirty=true;}
context.setTransform(transform.a*resolution,transform.b*resolution,transform.c*resolution,transform.d*resolution,transform.tx*resolution,transform.ty*resolution);if(graphics.dirty){this.updateGraphicsTint(graphics);graphics.dirty=false;}
renderer.setBlendMode(graphics.blendMode);for(var i=0;i<graphics.graphicsData.length;i++){var data=graphics.graphicsData[i];var shape=data.shape;var fillColor=data._fillTint;var lineColor=data._lineTint;context.lineWidth=data.lineWidth;if(data.type===_const.SHAPES.POLY){context.beginPath();this.renderPolygon(shape.points,shape.closed,context);for(var j=0;j<data.holes.length;j++){this.renderPolygon(data.holes[j].points,true,context);}
if(data.fill){context.globalAlpha=data.fillAlpha*worldAlpha;context.fillStyle='#'+('00000'+(fillColor|0).toString(16)).substr(-6);context.fill();}
if(data.lineWidth){context.globalAlpha=data.lineAlpha*worldAlpha;context.strokeStyle='#'+('00000'+(lineColor|0).toString(16)).substr(-6);context.stroke();}}else if(data.type===_const.SHAPES.RECT){if(data.fillColor||data.fillColor===0){context.globalAlpha=data.fillAlpha*worldAlpha;context.fillStyle='#'+('00000'+(fillColor|0).toString(16)).substr(-6);context.fillRect(shape.x,shape.y,shape.width,shape.height);}
if(data.lineWidth){context.globalAlpha=data.lineAlpha*worldAlpha;context.strokeStyle='#'+('00000'+(lineColor|0).toString(16)).substr(-6);context.strokeRect(shape.x,shape.y,shape.width,shape.height);}}else if(data.type===_const.SHAPES.CIRC){context.beginPath();context.arc(shape.x,shape.y,shape.radius,0,2*Math.PI);context.closePath();if(data.fill){context.globalAlpha=data.fillAlpha*worldAlpha;context.fillStyle='#'+('00000'+(fillColor|0).toString(16)).substr(-6);context.fill();}
if(data.lineWidth){context.globalAlpha=data.lineAlpha*worldAlpha;context.strokeStyle='#'+('00000'+(lineColor|0).toString(16)).substr(-6);context.stroke();}}else if(data.type===_const.SHAPES.ELIP){var w=shape.width*2;var h=shape.height*2;var x=shape.x-w / 2;var y=shape.y-h / 2;context.beginPath();var kappa=0.5522848;var ox=w / 2*kappa;var oy=h / 2*kappa;var xe=x+w;var ye=y+h;var xm=x+w / 2;var ym=y+h / 2;context.moveTo(x,ym);context.bezierCurveTo(x,ym-oy,xm-ox,y,xm,y);context.bezierCurveTo(xm+ox,y,xe,ym-oy,xe,ym);context.bezierCurveTo(xe,ym+oy,xm+ox,ye,xm,ye);context.bezierCurveTo(xm-ox,ye,x,ym+oy,x,ym);context.closePath();if(data.fill){context.globalAlpha=data.fillAlpha*worldAlpha;context.fillStyle='#'+('00000'+(fillColor|0).toString(16)).substr(-6);context.fill();}
if(data.lineWidth){context.globalAlpha=data.lineAlpha*worldAlpha;context.strokeStyle='#'+('00000'+(lineColor|0).toString(16)).substr(-6);context.stroke();}}else if(data.type===_const.SHAPES.RREC){var rx=shape.x;var ry=shape.y;var width=shape.width;var height=shape.height;var radius=shape.radius;var maxRadius=Math.min(width,height)/ 2|0;radius=radius>maxRadius?maxRadius:radius;context.beginPath();context.moveTo(rx,ry+radius);context.lineTo(rx,ry+height-radius);context.quadraticCurveTo(rx,ry+height,rx+radius,ry+height);context.lineTo(rx+width-radius,ry+height);context.quadraticCurveTo(rx+width,ry+height,rx+width,ry+height-radius);context.lineTo(rx+width,ry+radius);context.quadraticCurveTo(rx+width,ry,rx+width-radius,ry);context.lineTo(rx+radius,ry);context.quadraticCurveTo(rx,ry,rx,ry+radius);context.closePath();if(data.fillColor||data.fillColor===0){context.globalAlpha=data.fillAlpha*worldAlpha;context.fillStyle='#'+('00000'+(fillColor|0).toString(16)).substr(-6);context.fill();}
if(data.lineWidth){context.globalAlpha=data.lineAlpha*worldAlpha;context.strokeStyle='#'+('00000'+(lineColor|0).toString(16)).substr(-6);context.stroke();}}}};CanvasGraphicsRenderer.prototype.updateGraphicsTint=function updateGraphicsTint(graphics){graphics._prevTint=graphics.tint;var tintR=(graphics.tint>>16&0xFF)/ 255;var tintG=(graphics.tint>>8&0xFF)/ 255;var tintB=(graphics.tint&0xFF)/ 255;for(var i=0;i<graphics.graphicsData.length;++i){var data=graphics.graphicsData[i];var fillColor=data.fillColor|0;var lineColor=data.lineColor|0;data._fillTint=((fillColor>>16&0xFF)/ 255*tintR*255<<16)+((fillColor>>8&0xFF)/ 255*tintG*255<<8)+(fillColor&0xFF)/ 255*tintB*255;data._lineTint=((lineColor>>16&0xFF)/ 255*tintR*255<<16)+((lineColor>>8&0xFF)/ 255*tintG*255<<8)+(lineColor&0xFF)/ 255*tintB*255;}};CanvasGraphicsRenderer.prototype.renderPolygon=function renderPolygon(points,close,context){context.moveTo(points[0],points[1]);for(var j=1;j<points.length / 2;++j){context.lineTo(points[j*2],points[j*2+1]);}
if(close){context.closePath();}};CanvasGraphicsRenderer.prototype.destroy=function destroy(){this.renderer=null;};return CanvasGraphicsRenderer;}();exports.default=CanvasGraphicsRenderer;_CanvasRenderer2.default.registerPlugin('graphics',CanvasGraphicsRenderer);}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.default=bezierCurveTo;function bezierCurveTo(fromX,fromY,cpX,cpY,cpX2,cpY2,toX,toY){var path=arguments.length>8&&arguments[8]!==undefined?arguments[8]:[];var n=20;var dt=0;var dt2=0;var dt3=0;var t2=0;var t3=0;path.push(fromX,fromY);for(var i=1,j=0;i<=n;++i){j=i / n;dt=1-j;dt2=dt*dt;dt3=dt2*dt;t2=j*j;t3=t2*j;path.push(dt3*fromX+3*dt2*j*cpX+3*dt*t2*cpX2+t3*toX,dt3*fromY+3*dt2*j*cpY+3*dt*t2*cpY2+t3*toY);}
return path;}}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _utils=__webpack_require__(10);var _const=__webpack_require__(8);var _ObjectRenderer2=__webpack_require__(85);var _ObjectRenderer3=_interopRequireDefault(_ObjectRenderer2);var _WebGLRenderer=__webpack_require__(84);var _WebGLRenderer2=_interopRequireDefault(_WebGLRenderer);var _WebGLGraphicsData=__webpack_require__(629);var _WebGLGraphicsData2=_interopRequireDefault(_WebGLGraphicsData);var _PrimitiveShader=__webpack_require__(630);var _PrimitiveShader2=_interopRequireDefault(_PrimitiveShader);var _buildPoly=__webpack_require__(632);var _buildPoly2=_interopRequireDefault(_buildPoly);var _buildRectangle=__webpack_require__(633);var _buildRectangle2=_interopRequireDefault(_buildRectangle);var _buildRoundedRectangle=__webpack_require__(634);var _buildRoundedRectangle2=_interopRequireDefault(_buildRoundedRectangle);var _buildCircle=__webpack_require__(631);var _buildCircle2=_interopRequireDefault(_buildCircle);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var GraphicsRenderer=function(_ObjectRenderer){_inherits(GraphicsRenderer,_ObjectRenderer);function GraphicsRenderer(renderer){_classCallCheck(this,GraphicsRenderer);var _this=_possibleConstructorReturn(this,_ObjectRenderer.call(this,renderer));_this.graphicsDataPool=[];_this.primitiveShader=null;_this.gl=renderer.gl;_this.CONTEXT_UID=0;return _this;}
GraphicsRenderer.prototype.onContextChange=function onContextChange(){this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID;this.primitiveShader=new _PrimitiveShader2.default(this.gl);};GraphicsRenderer.prototype.destroy=function destroy(){_ObjectRenderer3.default.prototype.destroy.call(this);for(var i=0;i<this.graphicsDataPool.length;++i){this.graphicsDataPool[i].destroy();}
this.graphicsDataPool=null;};GraphicsRenderer.prototype.render=function render(graphics){var renderer=this.renderer;var gl=renderer.gl;var webGLData=void 0;var webGL=graphics._webGL[this.CONTEXT_UID];if(!webGL||graphics.dirty!==webGL.dirty){this.updateGraphics(graphics);webGL=graphics._webGL[this.CONTEXT_UID];}
var shader=this.primitiveShader;renderer.bindShader(shader);renderer.state.setBlendMode(graphics.blendMode);for(var i=0,n=webGL.data.length;i<n;i++){webGLData=webGL.data[i];var shaderTemp=webGLData.shader;renderer.bindShader(shaderTemp);shaderTemp.uniforms.translationMatrix=graphics.transform.worldTransform.toArray(true);shaderTemp.uniforms.tint=(0,_utils.hex2rgb)(graphics.tint);shaderTemp.uniforms.alpha=graphics.worldAlpha;renderer.bindVao(webGLData.vao);if(graphics.nativeLines){gl.drawArrays(gl.LINES,0,webGLData.points.length / 6);}else{webGLData.vao.draw(gl.TRIANGLE_STRIP,webGLData.indices.length);}}};GraphicsRenderer.prototype.updateGraphics=function updateGraphics(graphics){var gl=this.renderer.gl;var webGL=graphics._webGL[this.CONTEXT_UID];if(!webGL){webGL=graphics._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:gl,clearDirty:-1,dirty:-1};}
webGL.dirty=graphics.dirty;if(graphics.clearDirty!==webGL.clearDirty){webGL.clearDirty=graphics.clearDirty;for(var i=0;i<webGL.data.length;i++){this.graphicsDataPool.push(webGL.data[i]);}
webGL.data.length=0;webGL.lastIndex=0;}
var webGLData=void 0;for(var _i=webGL.lastIndex;_i<graphics.graphicsData.length;_i++){var data=graphics.graphicsData[_i];webGLData=this.getWebGLData(webGL,0);if(data.type===_const.SHAPES.POLY){(0,_buildPoly2.default)(data,webGLData);}
if(data.type===_const.SHAPES.RECT){(0,_buildRectangle2.default)(data,webGLData);}else if(data.type===_const.SHAPES.CIRC||data.type===_const.SHAPES.ELIP){(0,_buildCircle2.default)(data,webGLData);}else if(data.type===_const.SHAPES.RREC){(0,_buildRoundedRectangle2.default)(data,webGLData);}
webGL.lastIndex++;}
this.renderer.bindVao(null);for(var _i2=0;_i2<webGL.data.length;_i2++){webGLData=webGL.data[_i2];if(webGLData.dirty){webGLData.upload();}}};GraphicsRenderer.prototype.getWebGLData=function getWebGLData(gl,type){var webGLData=gl.data[gl.data.length-1];if(!webGLData||webGLData.points.length>320000){webGLData=this.graphicsDataPool.pop()||new _WebGLGraphicsData2.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState);webGLData.reset(type);gl.data.push(webGLData);}
webGLData.dirty=true;return webGLData;};return GraphicsRenderer;}(_ObjectRenderer3.default);exports.default=GraphicsRenderer;_WebGLRenderer2.default.registerPlugin('graphics',GraphicsRenderer);}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _pixiGlCore=__webpack_require__(26);var _pixiGlCore2=_interopRequireDefault(_pixiGlCore);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var WebGLGraphicsData=function(){function WebGLGraphicsData(gl,shader,attribsState){_classCallCheck(this,WebGLGraphicsData);this.gl=gl;this.color=[0,0,0];this.points=[];this.indices=[];this.buffer=_pixiGlCore2.default.GLBuffer.createVertexBuffer(gl);this.indexBuffer=_pixiGlCore2.default.GLBuffer.createIndexBuffer(gl);this.dirty=true;this.glPoints=null;this.glIndices=null;this.shader=shader;this.vao=new _pixiGlCore2.default.VertexArrayObject(gl,attribsState).addIndex(this.indexBuffer).addAttribute(this.buffer,shader.attributes.aVertexPosition,gl.FLOAT,false,4*6,0).addAttribute(this.buffer,shader.attributes.aColor,gl.FLOAT,false,4*6,2*4);}
WebGLGraphicsData.prototype.reset=function reset(){this.points.length=0;this.indices.length=0;};WebGLGraphicsData.prototype.upload=function upload(){this.glPoints=new Float32Array(this.points);this.buffer.upload(this.glPoints);this.glIndices=new Uint16Array(this.indices);this.indexBuffer.upload(this.glIndices);this.dirty=false;};WebGLGraphicsData.prototype.destroy=function destroy(){this.color=null;this.points=null;this.indices=null;this.vao.destroy();this.buffer.destroy();this.indexBuffer.destroy();this.gl=null;this.buffer=null;this.indexBuffer=null;this.glPoints=null;this.glIndices=null;};return WebGLGraphicsData;}();exports.default=WebGLGraphicsData;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _Shader2=__webpack_require__(60);var _Shader3=_interopRequireDefault(_Shader2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var PrimitiveShader=function(_Shader){_inherits(PrimitiveShader,_Shader);function PrimitiveShader(gl){_classCallCheck(this,PrimitiveShader);return _possibleConstructorReturn(this,_Shader.call(this,gl,['attribute vec2 aVertexPosition;','attribute vec4 aColor;','uniform mat3 translationMatrix;','uniform mat3 projectionMatrix;','uniform float alpha;','uniform vec3 tint;','varying vec4 vColor;','void main(void){','   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);','   vColor = aColor * vec4(tint * alpha, alpha);','}'].join('\n'),['varying vec4 vColor;','void main(void){','   gl_FragColor = vColor;','}'].join('\n')));}
return PrimitiveShader;}(_Shader3.default);exports.default=PrimitiveShader;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.default=buildCircle;var _buildLine=__webpack_require__(83);var _buildLine2=_interopRequireDefault(_buildLine);var _const=__webpack_require__(8);var _utils=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function buildCircle(graphicsData,webGLData){var circleData=graphicsData.shape;var x=circleData.x;var y=circleData.y;var width=void 0;var height=void 0;if(graphicsData.type===_const.SHAPES.CIRC){width=circleData.radius;height=circleData.radius;}else{width=circleData.width;height=circleData.height;}
if(width===0||height===0){return;}
var totalSegs=Math.floor(30*Math.sqrt(circleData.radius))||Math.floor(15*Math.sqrt(circleData.width+circleData.height));var seg=Math.PI*2 / totalSegs;if(graphicsData.fill){var color=(0,_utils.hex2rgb)(graphicsData.fillColor);var alpha=graphicsData.fillAlpha;var r=color[0]*alpha;var g=color[1]*alpha;var b=color[2]*alpha;var verts=webGLData.points;var indices=webGLData.indices;var vecPos=verts.length / 6;indices.push(vecPos);for(var i=0;i<totalSegs+1;i++){verts.push(x,y,r,g,b,alpha);verts.push(x+Math.sin(seg*i)*width,y+Math.cos(seg*i)*height,r,g,b,alpha);indices.push(vecPos++,vecPos++);}
indices.push(vecPos-1);}
if(graphicsData.lineWidth){var tempPoints=graphicsData.points;graphicsData.points=[];for(var _i=0;_i<totalSegs+1;_i++){graphicsData.points.push(x+Math.sin(seg*_i)*width,y+Math.cos(seg*_i)*height);}
(0,_buildLine2.default)(graphicsData,webGLData);graphicsData.points=tempPoints;}}}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.default=buildPoly;var _buildLine=__webpack_require__(83);var _buildLine2=_interopRequireDefault(_buildLine);var _utils=__webpack_require__(10);var _earcut=__webpack_require__(122);var _earcut2=_interopRequireDefault(_earcut);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function buildPoly(graphicsData,webGLData){graphicsData.points=graphicsData.shape.points.slice();var points=graphicsData.points;if(graphicsData.fill&&points.length>=6){var holeArray=[];var holes=graphicsData.holes;for(var i=0;i<holes.length;i++){var hole=holes[i];holeArray.push(points.length / 2);points=points.concat(hole.points);}
var verts=webGLData.points;var indices=webGLData.indices;var length=points.length / 2;var color=(0,_utils.hex2rgb)(graphicsData.fillColor);var alpha=graphicsData.fillAlpha;var r=color[0]*alpha;var g=color[1]*alpha;var b=color[2]*alpha;var triangles=(0,_earcut2.default)(points,holeArray,2);if(!triangles){return;}
var vertPos=verts.length / 6;for(var _i=0;_i<triangles.length;_i+=3){indices.push(triangles[_i]+vertPos);indices.push(triangles[_i]+vertPos);indices.push(triangles[_i+1]+vertPos);indices.push(triangles[_i+2]+vertPos);indices.push(triangles[_i+2]+vertPos);}
for(var _i2=0;_i2<length;_i2++){verts.push(points[_i2*2],points[_i2*2+1],r,g,b,alpha);}}
if(graphicsData.lineWidth>0){(0,_buildLine2.default)(graphicsData,webGLData);}}}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.default=buildRectangle;var _buildLine=__webpack_require__(83);var _buildLine2=_interopRequireDefault(_buildLine);var _utils=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function buildRectangle(graphicsData,webGLData){var rectData=graphicsData.shape;var x=rectData.x;var y=rectData.y;var width=rectData.width;var height=rectData.height;if(graphicsData.fill){var color=(0,_utils.hex2rgb)(graphicsData.fillColor);var alpha=graphicsData.fillAlpha;var r=color[0]*alpha;var g=color[1]*alpha;var b=color[2]*alpha;var verts=webGLData.points;var indices=webGLData.indices;var vertPos=verts.length / 6;verts.push(x,y);verts.push(r,g,b,alpha);verts.push(x+width,y);verts.push(r,g,b,alpha);verts.push(x,y+height);verts.push(r,g,b,alpha);verts.push(x+width,y+height);verts.push(r,g,b,alpha);indices.push(vertPos,vertPos,vertPos+1,vertPos+2,vertPos+3,vertPos+3);}
if(graphicsData.lineWidth){var tempPoints=graphicsData.points;graphicsData.points=[x,y,x+width,y,x+width,y+height,x,y+height,x,y];(0,_buildLine2.default)(graphicsData,webGLData);graphicsData.points=tempPoints;}}}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.default=buildRoundedRectangle;var _earcut=__webpack_require__(122);var _earcut2=_interopRequireDefault(_earcut);var _buildLine=__webpack_require__(83);var _buildLine2=_interopRequireDefault(_buildLine);var _utils=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function buildRoundedRectangle(graphicsData,webGLData){var rrectData=graphicsData.shape;var x=rrectData.x;var y=rrectData.y;var width=rrectData.width;var height=rrectData.height;var radius=rrectData.radius;var recPoints=[];recPoints.push(x,y+radius);quadraticBezierCurve(x,y+height-radius,x,y+height,x+radius,y+height,recPoints);quadraticBezierCurve(x+width-radius,y+height,x+width,y+height,x+width,y+height-radius,recPoints);quadraticBezierCurve(x+width,y+radius,x+width,y,x+width-radius,y,recPoints);quadraticBezierCurve(x+radius,y,x,y,x,y+radius+0.0000000001,recPoints);if(graphicsData.fill){var color=(0,_utils.hex2rgb)(graphicsData.fillColor);var alpha=graphicsData.fillAlpha;var r=color[0]*alpha;var g=color[1]*alpha;var b=color[2]*alpha;var verts=webGLData.points;var indices=webGLData.indices;var vecPos=verts.length / 6;var triangles=(0,_earcut2.default)(recPoints,null,2);for(var i=0,j=triangles.length;i<j;i+=3){indices.push(triangles[i]+vecPos);indices.push(triangles[i]+vecPos);indices.push(triangles[i+1]+vecPos);indices.push(triangles[i+2]+vecPos);indices.push(triangles[i+2]+vecPos);}
for(var _i=0,_j=recPoints.length;_i<_j;_i++){verts.push(recPoints[_i],recPoints[++_i],r,g,b,alpha);}}
if(graphicsData.lineWidth){var tempPoints=graphicsData.points;graphicsData.points=recPoints;(0,_buildLine2.default)(graphicsData,webGLData);graphicsData.points=tempPoints;}}
function getPt(n1,n2,perc){var diff=n2-n1;return n1+diff*perc;}
function quadraticBezierCurve(fromX,fromY,cpX,cpY,toX,toY){var out=arguments.length>6&&arguments[6]!==undefined?arguments[6]:[];var n=20;var points=out;var xa=0;var ya=0;var xb=0;var yb=0;var x=0;var y=0;for(var i=0,j=0;i<=n;++i){j=i / n;xa=getPt(fromX,cpX,j);ya=getPt(fromY,cpY,j);xb=getPt(cpX,toX,j);yb=getPt(cpY,toY,j);x=getPt(xa,xb,j);y=getPt(ya,yb,j);points.push(x,y);}
return points;}}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _Rectangle=__webpack_require__(111);var _Rectangle2=_interopRequireDefault(_Rectangle);var _const=__webpack_require__(8);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var Circle=function(){function Circle(){var x=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var y=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var radius=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;_classCallCheck(this,Circle);this.x=x;this.y=y;this.radius=radius;this.type=_const.SHAPES.CIRC;}
Circle.prototype.clone=function clone(){return new Circle(this.x,this.y,this.radius);};Circle.prototype.contains=function contains(x,y){if(this.radius<=0){return false;}
var r2=this.radius*this.radius;var dx=this.x-x;var dy=this.y-y;dx*=dx;dy*=dy;return dx+dy<=r2;};Circle.prototype.getBounds=function getBounds(){return new _Rectangle2.default(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2);};return Circle;}();exports.default=Circle;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _Rectangle=__webpack_require__(111);var _Rectangle2=_interopRequireDefault(_Rectangle);var _const=__webpack_require__(8);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var Ellipse=function(){function Ellipse(){var x=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var y=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var width=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var height=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;_classCallCheck(this,Ellipse);this.x=x;this.y=y;this.width=width;this.height=height;this.type=_const.SHAPES.ELIP;}
Ellipse.prototype.clone=function clone(){return new Ellipse(this.x,this.y,this.width,this.height);};Ellipse.prototype.contains=function contains(x,y){if(this.width<=0||this.height<=0){return false;}
var normx=(x-this.x)/ this.width;var normy=(y-this.y)/ this.height;normx*=normx;normy*=normy;return normx+normy<=1;};Ellipse.prototype.getBounds=function getBounds(){return new _Rectangle2.default(this.x-this.width,this.y-this.height,this.width,this.height);};return Ellipse;}();exports.default=Ellipse;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _Point=__webpack_require__(110);var _Point2=_interopRequireDefault(_Point);var _const=__webpack_require__(8);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var Polygon=function(){function Polygon(){for(var _len=arguments.length,points=Array(_len),_key=0;_key<_len;_key++){points[_key]=arguments[_key];}
_classCallCheck(this,Polygon);if(Array.isArray(points[0])){points=points[0];}
if(points[0]instanceof _Point2.default){var p=[];for(var i=0,il=points.length;i<il;i++){p.push(points[i].x,points[i].y);}
points=p;}
this.closed=true;this.points=points;this.type=_const.SHAPES.POLY;}
Polygon.prototype.clone=function clone(){return new Polygon(this.points.slice());};Polygon.prototype.close=function close(){var points=this.points;if(points[0]!==points[points.length-2]||points[1]!==points[points.length-1]){points.push(points[0],points[1]);}};Polygon.prototype.contains=function contains(x,y){var inside=false;var length=this.points.length / 2;for(var i=0,j=length-1;i<length;j=i++){var xi=this.points[i*2];var yi=this.points[i*2+1];var xj=this.points[j*2];var yj=this.points[j*2+1];var intersect=yi>y!==yj>y&&x<(xj-xi)*((y-yi)/(yj-yi))+xi;if(intersect){inside=!inside;}}
return inside;};return Polygon;}();exports.default=Polygon;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _const=__webpack_require__(8);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var RoundedRectangle=function(){function RoundedRectangle(){var x=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var y=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var width=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var height=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var radius=arguments.length>4&&arguments[4]!==undefined?arguments[4]:20;_classCallCheck(this,RoundedRectangle);this.x=x;this.y=y;this.width=width;this.height=height;this.radius=radius;this.type=_const.SHAPES.RREC;}
RoundedRectangle.prototype.clone=function clone(){return new RoundedRectangle(this.x,this.y,this.width,this.height,this.radius);};RoundedRectangle.prototype.contains=function contains(x,y){if(this.width<=0||this.height<=0){return false;}
if(x>=this.x&&x<=this.x+this.width){if(y>=this.y&&y<=this.y+this.height){if(y>=this.y+this.radius&&y<=this.y+this.height-this.radius||x>=this.x+this.radius&&x<=this.x+this.width-this.radius){return true;}
var dx=x-(this.x+this.radius);var dy=y-(this.y+this.radius);var radius2=this.radius*this.radius;if(dx*dx+dy*dy<=radius2){return true;}
dx=x-(this.x+this.width-this.radius);if(dx*dx+dy*dy<=radius2){return true;}
dy=y-(this.y+this.height-this.radius);if(dx*dx+dy*dy<=radius2){return true;}
dx=x-(this.x+this.radius);if(dx*dx+dy*dy<=radius2){return true;}}}
return false;};return RoundedRectangle;}();exports.default=RoundedRectangle;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _const=__webpack_require__(8);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var CanvasMaskManager=function(){function CanvasMaskManager(renderer){_classCallCheck(this,CanvasMaskManager);this.renderer=renderer;}
CanvasMaskManager.prototype.pushMask=function pushMask(maskData){var renderer=this.renderer;renderer.context.save();var cacheAlpha=maskData.alpha;var transform=maskData.transform.worldTransform;var resolution=renderer.resolution;renderer.context.setTransform(transform.a*resolution,transform.b*resolution,transform.c*resolution,transform.d*resolution,transform.tx*resolution,transform.ty*resolution);if(!maskData._texture){this.renderGraphicsShape(maskData);renderer.context.clip();}
maskData.worldAlpha=cacheAlpha;};CanvasMaskManager.prototype.renderGraphicsShape=function renderGraphicsShape(graphics){var context=this.renderer.context;var len=graphics.graphicsData.length;if(len===0){return;}
context.beginPath();for(var i=0;i<len;i++){var data=graphics.graphicsData[i];var shape=data.shape;if(data.type===_const.SHAPES.POLY){var points=shape.points;context.moveTo(points[0],points[1]);for(var j=1;j<points.length / 2;j++){context.lineTo(points[j*2],points[j*2+1]);}
if(points[0]===points[points.length-2]&&points[1]===points[points.length-1]){context.closePath();}}else if(data.type===_const.SHAPES.RECT){context.rect(shape.x,shape.y,shape.width,shape.height);context.closePath();}else if(data.type===_const.SHAPES.CIRC){context.arc(shape.x,shape.y,shape.radius,0,2*Math.PI);context.closePath();}else if(data.type===_const.SHAPES.ELIP){var w=shape.width*2;var h=shape.height*2;var x=shape.x-w / 2;var y=shape.y-h / 2;var kappa=0.5522848;var ox=w / 2*kappa;var oy=h / 2*kappa;var xe=x+w;var ye=y+h;var xm=x+w / 2;var ym=y+h / 2;context.moveTo(x,ym);context.bezierCurveTo(x,ym-oy,xm-ox,y,xm,y);context.bezierCurveTo(xm+ox,y,xe,ym-oy,xe,ym);context.bezierCurveTo(xe,ym+oy,xm+ox,ye,xm,ye);context.bezierCurveTo(xm-ox,ye,x,ym+oy,x,ym);context.closePath();}else if(data.type===_const.SHAPES.RREC){var rx=shape.x;var ry=shape.y;var width=shape.width;var height=shape.height;var radius=shape.radius;var maxRadius=Math.min(width,height)/ 2|0;radius=radius>maxRadius?maxRadius:radius;context.moveTo(rx,ry+radius);context.lineTo(rx,ry+height-radius);context.quadraticCurveTo(rx,ry+height,rx+radius,ry+height);context.lineTo(rx+width-radius,ry+height);context.quadraticCurveTo(rx+width,ry+height,rx+width,ry+height-radius);context.lineTo(rx+width,ry+radius);context.quadraticCurveTo(rx+width,ry,rx+width-radius,ry);context.lineTo(rx+radius,ry);context.quadraticCurveTo(rx,ry,rx,ry+radius);context.closePath();}}};CanvasMaskManager.prototype.popMask=function popMask(renderer){renderer.context.restore();};CanvasMaskManager.prototype.destroy=function destroy(){};return CanvasMaskManager;}();exports.default=CanvasMaskManager;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.default=mapCanvasBlendModesToPixi;var _const=__webpack_require__(8);var _canUseNewCanvasBlendModes=__webpack_require__(199);var _canUseNewCanvasBlendModes2=_interopRequireDefault(_canUseNewCanvasBlendModes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function mapCanvasBlendModesToPixi(){var array=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if((0,_canUseNewCanvasBlendModes2.default)()){array[_const.BLEND_MODES.NORMAL]='source-over';array[_const.BLEND_MODES.ADD]='lighter';array[_const.BLEND_MODES.MULTIPLY]='multiply';array[_const.BLEND_MODES.SCREEN]='screen';array[_const.BLEND_MODES.OVERLAY]='overlay';array[_const.BLEND_MODES.DARKEN]='darken';array[_const.BLEND_MODES.LIGHTEN]='lighten';array[_const.BLEND_MODES.COLOR_DODGE]='color-dodge';array[_const.BLEND_MODES.COLOR_BURN]='color-burn';array[_const.BLEND_MODES.HARD_LIGHT]='hard-light';array[_const.BLEND_MODES.SOFT_LIGHT]='soft-light';array[_const.BLEND_MODES.DIFFERENCE]='difference';array[_const.BLEND_MODES.EXCLUSION]='exclusion';array[_const.BLEND_MODES.HUE]='hue';array[_const.BLEND_MODES.SATURATION]='saturate';array[_const.BLEND_MODES.COLOR]='color';array[_const.BLEND_MODES.LUMINOSITY]='luminosity';}else{array[_const.BLEND_MODES.NORMAL]='source-over';array[_const.BLEND_MODES.ADD]='lighter';array[_const.BLEND_MODES.MULTIPLY]='source-over';array[_const.BLEND_MODES.SCREEN]='source-over';array[_const.BLEND_MODES.OVERLAY]='source-over';array[_const.BLEND_MODES.DARKEN]='source-over';array[_const.BLEND_MODES.LIGHTEN]='source-over';array[_const.BLEND_MODES.COLOR_DODGE]='source-over';array[_const.BLEND_MODES.COLOR_BURN]='source-over';array[_const.BLEND_MODES.HARD_LIGHT]='source-over';array[_const.BLEND_MODES.SOFT_LIGHT]='source-over';array[_const.BLEND_MODES.DIFFERENCE]='source-over';array[_const.BLEND_MODES.EXCLUSION]='source-over';array[_const.BLEND_MODES.HUE]='source-over';array[_const.BLEND_MODES.SATURATION]='source-over';array[_const.BLEND_MODES.COLOR]='source-over';array[_const.BLEND_MODES.LUMINOSITY]='source-over';}
return array;}}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _const=__webpack_require__(8);var _settings=__webpack_require__(19);var _settings2=_interopRequireDefault(_settings);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var TextureGarbageCollector=function(){function TextureGarbageCollector(renderer){_classCallCheck(this,TextureGarbageCollector);this.renderer=renderer;this.count=0;this.checkCount=0;this.maxIdle=_settings2.default.GC_MAX_IDLE;this.checkCountMax=_settings2.default.GC_MAX_CHECK_COUNT;this.mode=_settings2.default.GC_MODE;}
TextureGarbageCollector.prototype.update=function update(){this.count++;if(this.mode===_const.GC_MODES.MANUAL){return;}
this.checkCount++;if(this.checkCount>this.checkCountMax){this.checkCount=0;this.run();}};TextureGarbageCollector.prototype.run=function run(){var tm=this.renderer.textureManager;var managedTextures=tm._managedTextures;var wasRemoved=false;for(var i=0;i<managedTextures.length;i++){var texture=managedTextures[i];if(!texture._glRenderTargets&&this.count-texture.touched>this.maxIdle){tm.destroyTexture(texture,true);managedTextures[i]=null;wasRemoved=true;}}
if(wasRemoved){var j=0;for(var _i=0;_i<managedTextures.length;_i++){if(managedTextures[_i]!==null){managedTextures[j++]=managedTextures[_i];}}
managedTextures.length=j;}};TextureGarbageCollector.prototype.unload=function unload(displayObject){var tm=this.renderer.textureManager;if(displayObject._texture&&displayObject._texture._glRenderTargets){tm.destroyTexture(displayObject._texture,true);}
for(var i=displayObject.children.length-1;i>=0;i--){this.unload(displayObject.children[i]);}};return TextureGarbageCollector;}();exports.default=TextureGarbageCollector;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _pixiGlCore=__webpack_require__(26);var _const=__webpack_require__(8);var _RenderTarget=__webpack_require__(86);var _RenderTarget2=_interopRequireDefault(_RenderTarget);var _utils=__webpack_require__(10);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var TextureManager=function(){function TextureManager(renderer){_classCallCheck(this,TextureManager);this.renderer=renderer;this.gl=renderer.gl;this._managedTextures=[];}
TextureManager.prototype.bindTexture=function bindTexture(){};TextureManager.prototype.getTexture=function getTexture(){};TextureManager.prototype.updateTexture=function updateTexture(texture,location){var gl=this.gl;var isRenderTexture=!!texture._glRenderTargets;if(!texture.hasLoaded){return null;}
var boundTextures=this.renderer.boundTextures;if(location===undefined){location=0;for(var i=0;i<boundTextures.length;++i){if(boundTextures[i]===texture){location=i;break;}}}
boundTextures[location]=texture;gl.activeTexture(gl.TEXTURE0+location);var glTexture=texture._glTextures[this.renderer.CONTEXT_UID];if(!glTexture){if(isRenderTexture){var renderTarget=new _RenderTarget2.default(this.gl,texture.width,texture.height,texture.scaleMode,texture.resolution);renderTarget.resize(texture.width,texture.height);texture._glRenderTargets[this.renderer.CONTEXT_UID]=renderTarget;glTexture=renderTarget.texture;}else{glTexture=new _pixiGlCore.GLTexture(this.gl,null,null,null,null);glTexture.bind(location);glTexture.premultiplyAlpha=true;glTexture.upload(texture.source);}
texture._glTextures[this.renderer.CONTEXT_UID]=glTexture;texture.on('update',this.updateTexture,this);texture.on('dispose',this.destroyTexture,this);this._managedTextures.push(texture);if(texture.isPowerOfTwo){if(texture.mipmap){glTexture.enableMipmap();}
if(texture.wrapMode===_const.WRAP_MODES.CLAMP){glTexture.enableWrapClamp();}else if(texture.wrapMode===_const.WRAP_MODES.REPEAT){glTexture.enableWrapRepeat();}else{glTexture.enableWrapMirrorRepeat();}}else{glTexture.enableWrapClamp();}
if(texture.scaleMode===_const.SCALE_MODES.NEAREST){glTexture.enableNearestScaling();}else{glTexture.enableLinearScaling();}}
else if(isRenderTexture){texture._glRenderTargets[this.renderer.CONTEXT_UID].resize(texture.width,texture.height);}else{glTexture.upload(texture.source);}
return glTexture;};TextureManager.prototype.destroyTexture=function destroyTexture(texture,skipRemove){texture=texture.baseTexture||texture;if(!texture.hasLoaded){return;}
if(texture._glTextures[this.renderer.CONTEXT_UID]){this.renderer.unbindTexture(texture);texture._glTextures[this.renderer.CONTEXT_UID].destroy();texture.off('update',this.updateTexture,this);texture.off('dispose',this.destroyTexture,this);delete texture._glTextures[this.renderer.CONTEXT_UID];if(!skipRemove){var i=this._managedTextures.indexOf(texture);if(i!==-1){(0,_utils.removeItems)(this._managedTextures,i,1);}}}};TextureManager.prototype.removeAll=function removeAll(){for(var i=0;i<this._managedTextures.length;++i){var texture=this._managedTextures[i];if(texture._glTextures[this.renderer.CONTEXT_UID]){delete texture._glTextures[this.renderer.CONTEXT_UID];}}};TextureManager.prototype.destroy=function destroy(){for(var i=0;i<this._managedTextures.length;++i){var texture=this._managedTextures[i];this.destroyTexture(texture,true);texture.off('update',this.updateTexture,this);texture.off('dispose',this.destroyTexture,this);}
this._managedTextures=null;};return TextureManager;}();exports.default=TextureManager;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _mapWebGLBlendModesToPixi=__webpack_require__(650);var _mapWebGLBlendModesToPixi2=_interopRequireDefault(_mapWebGLBlendModesToPixi);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var BLEND=0;var DEPTH_TEST=1;var FRONT_FACE=2;var CULL_FACE=3;var BLEND_FUNC=4;var WebGLState=function(){function WebGLState(gl){_classCallCheck(this,WebGLState);this.activeState=new Uint8Array(16);this.defaultState=new Uint8Array(16);this.defaultState[0]=1;this.stackIndex=0;this.stack=[];this.gl=gl;this.maxAttribs=gl.getParameter(gl.MAX_VERTEX_ATTRIBS);this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)};this.blendModes=(0,_mapWebGLBlendModesToPixi2.default)(gl);this.nativeVaoExtension=gl.getExtension('OES_vertex_array_object')||gl.getExtension('MOZ_OES_vertex_array_object')||gl.getExtension('WEBKIT_OES_vertex_array_object');}
WebGLState.prototype.push=function push(){var state=this.stack[this.stackIndex];if(!state){state=this.stack[this.stackIndex]=new Uint8Array(16);}
++this.stackIndex;for(var i=0;i<this.activeState.length;i++){state[i]=this.activeState[i];}};WebGLState.prototype.pop=function pop(){var state=this.stack[--this.stackIndex];this.setState(state);};WebGLState.prototype.setState=function setState(state){this.setBlend(state[BLEND]);this.setDepthTest(state[DEPTH_TEST]);this.setFrontFace(state[FRONT_FACE]);this.setCullFace(state[CULL_FACE]);this.setBlendMode(state[BLEND_FUNC]);};WebGLState.prototype.setBlend=function setBlend(value){value=value?1:0;if(this.activeState[BLEND]===value){return;}
this.activeState[BLEND]=value;this.gl[value?'enable':'disable'](this.gl.BLEND);};WebGLState.prototype.setBlendMode=function setBlendMode(value){if(value===this.activeState[BLEND_FUNC]){return;}
this.activeState[BLEND_FUNC]=value;this.gl.blendFunc(this.blendModes[value][0],this.blendModes[value][1]);};WebGLState.prototype.setDepthTest=function setDepthTest(value){value=value?1:0;if(this.activeState[DEPTH_TEST]===value){return;}
this.activeState[DEPTH_TEST]=value;this.gl[value?'enable':'disable'](this.gl.DEPTH_TEST);};WebGLState.prototype.setCullFace=function setCullFace(value){value=value?1:0;if(this.activeState[CULL_FACE]===value){return;}
this.activeState[CULL_FACE]=value;this.gl[value?'enable':'disable'](this.gl.CULL_FACE);};WebGLState.prototype.setFrontFace=function setFrontFace(value){value=value?1:0;if(this.activeState[FRONT_FACE]===value){return;}
this.activeState[FRONT_FACE]=value;this.gl.frontFace(this.gl[value?'CW':'CCW']);};WebGLState.prototype.resetAttributes=function resetAttributes(){for(var i=0;i<this.attribState.tempAttribState.length;i++){this.attribState.tempAttribState[i]=0;}
for(var _i=0;_i<this.attribState.attribState.length;_i++){this.attribState.attribState[_i]=0;}
for(var _i2=1;_i2<this.maxAttribs;_i2++){this.gl.disableVertexAttribArray(_i2);}};WebGLState.prototype.resetToDefault=function resetToDefault(){if(this.nativeVaoExtension){this.nativeVaoExtension.bindVertexArrayOES(null);}
this.resetAttributes();for(var i=0;i<this.activeState.length;++i){this.activeState[i]=32;}
this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,false);this.setState(this.defaultState);};return WebGLState;}();exports.default=WebGLState;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.default=extractUniformsFromSrc;var _pixiGlCore=__webpack_require__(26);var _pixiGlCore2=_interopRequireDefault(_pixiGlCore);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var defaultValue=_pixiGlCore2.default.shader.defaultValue;function extractUniformsFromSrc(vertexSrc,fragmentSrc,mask){var vertUniforms=extractUniformsFromString(vertexSrc,mask);var fragUniforms=extractUniformsFromString(fragmentSrc,mask);return Object.assign(vertUniforms,fragUniforms);}
function extractUniformsFromString(string){var maskRegex=new RegExp('^(projectionMatrix|uSampler|filterArea|filterClamp)$');var uniforms={};var nameSplit=void 0;var lines=string.replace(/\s+/g,' ').split(/\s*;\s*/);for(var i=0;i<lines.length;i++){var line=lines[i].trim();if(line.indexOf('uniform')>-1){var splitLine=line.split(' ');var type=splitLine[1];var name=splitLine[2];var size=1;if(name.indexOf('[')>-1){nameSplit=name.split(/\[|]/);name=nameSplit[0];size*=Number(nameSplit[1]);}
if(!name.match(maskRegex)){uniforms[name]={value:defaultValue(type,size),name:name,type:type};}}}
return uniforms;}}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.calculateScreenSpaceMatrix=calculateScreenSpaceMatrix;exports.calculateNormalizedScreenSpaceMatrix=calculateNormalizedScreenSpaceMatrix;exports.calculateSpriteMatrix=calculateSpriteMatrix;var _math=__webpack_require__(14);function calculateScreenSpaceMatrix(outputMatrix,filterArea,textureSize){var mappedMatrix=outputMatrix.identity();mappedMatrix.translate(filterArea.x / textureSize.width,filterArea.y / textureSize.height);mappedMatrix.scale(textureSize.width,textureSize.height);return mappedMatrix;}
function calculateNormalizedScreenSpaceMatrix(outputMatrix,filterArea,textureSize){var mappedMatrix=outputMatrix.identity();mappedMatrix.translate(filterArea.x / textureSize.width,filterArea.y / textureSize.height);var translateScaleX=textureSize.width / filterArea.width;var translateScaleY=textureSize.height / filterArea.height;mappedMatrix.scale(translateScaleX,translateScaleY);return mappedMatrix;}
function calculateSpriteMatrix(outputMatrix,filterArea,textureSize,sprite){var worldTransform=sprite.worldTransform.copy(_math.Matrix.TEMP_MATRIX);var texture=sprite._texture.baseTexture;var mappedMatrix=outputMatrix.identity();var ratio=textureSize.height / textureSize.width;mappedMatrix.translate(filterArea.x / textureSize.width,filterArea.y / textureSize.height);mappedMatrix.scale(1,ratio);var translateScaleX=textureSize.width / texture.width;var translateScaleY=textureSize.height / texture.height;worldTransform.tx /=texture.width*translateScaleX;worldTransform.ty /=texture.width*translateScaleX;worldTransform.invert();mappedMatrix.prepend(worldTransform);mappedMatrix.scale(1,1 / ratio);mappedMatrix.scale(translateScaleX,translateScaleY);mappedMatrix.translate(sprite.anchor.x,sprite.anchor.y);return mappedMatrix;}}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _WebGLManager2=__webpack_require__(63);var _WebGLManager3=_interopRequireDefault(_WebGLManager2);var _RenderTarget=__webpack_require__(86);var _RenderTarget2=_interopRequireDefault(_RenderTarget);var _Quad=__webpack_require__(202);var _Quad2=_interopRequireDefault(_Quad);var _math=__webpack_require__(14);var _Shader=__webpack_require__(60);var _Shader2=_interopRequireDefault(_Shader);var _filterTransforms=__webpack_require__(645);var filterTransforms=_interopRequireWildcard(_filterTransforms);var _bitTwiddle=__webpack_require__(87);var _bitTwiddle2=_interopRequireDefault(_bitTwiddle);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var FilterState=function FilterState(){_classCallCheck(this,FilterState);this.renderTarget=null;this.sourceFrame=new _math.Rectangle();this.destinationFrame=new _math.Rectangle();this.filters=[];this.target=null;this.resolution=1;};var FilterManager=function(_WebGLManager){_inherits(FilterManager,_WebGLManager);function FilterManager(renderer){_classCallCheck(this,FilterManager);var _this=_possibleConstructorReturn(this,_WebGLManager.call(this,renderer));_this.gl=_this.renderer.gl;_this.quad=new _Quad2.default(_this.gl,renderer.state.attribState);_this.shaderCache={};_this.pool={};_this.filterData=null;return _this;}
FilterManager.prototype.pushFilter=function pushFilter(target,filters){var renderer=this.renderer;var filterData=this.filterData;if(!filterData){filterData=this.renderer._activeRenderTarget.filterStack;var filterState=new FilterState();filterState.sourceFrame=filterState.destinationFrame=this.renderer._activeRenderTarget.size;filterState.renderTarget=renderer._activeRenderTarget;this.renderer._activeRenderTarget.filterData=filterData={index:0,stack:[filterState]};this.filterData=filterData;}
var currentState=filterData.stack[++filterData.index];if(!currentState){currentState=filterData.stack[filterData.index]=new FilterState();}
var resolution=filters[0].resolution;var padding=filters[0].padding|0;var targetBounds=target.filterArea||target.getBounds(true);var sourceFrame=currentState.sourceFrame;var destinationFrame=currentState.destinationFrame;sourceFrame.x=(targetBounds.x*resolution|0)/ resolution;sourceFrame.y=(targetBounds.y*resolution|0)/ resolution;sourceFrame.width=(targetBounds.width*resolution|0)/ resolution;sourceFrame.height=(targetBounds.height*resolution|0)/ resolution;if(filterData.stack[0].renderTarget.transform){}else{sourceFrame.fit(filterData.stack[0].destinationFrame);}
sourceFrame.pad(padding);destinationFrame.width=sourceFrame.width;destinationFrame.height=sourceFrame.height;var renderTarget=this.getPotRenderTarget(renderer.gl,sourceFrame.width,sourceFrame.height,resolution);currentState.target=target;currentState.filters=filters;currentState.resolution=resolution;currentState.renderTarget=renderTarget;renderTarget.setFrame(destinationFrame,sourceFrame);renderer.bindRenderTarget(renderTarget);renderTarget.clear();};FilterManager.prototype.popFilter=function popFilter(){var filterData=this.filterData;var lastState=filterData.stack[filterData.index-1];var currentState=filterData.stack[filterData.index];this.quad.map(currentState.renderTarget.size,currentState.sourceFrame).upload();var filters=currentState.filters;if(filters.length===1){filters[0].apply(this,currentState.renderTarget,lastState.renderTarget,false,currentState);this.freePotRenderTarget(currentState.renderTarget);}else{var flip=currentState.renderTarget;var flop=this.getPotRenderTarget(this.renderer.gl,currentState.sourceFrame.width,currentState.sourceFrame.height,currentState.resolution);flop.setFrame(currentState.destinationFrame,currentState.sourceFrame);flop.clear();var i=0;for(i=0;i<filters.length-1;++i){filters[i].apply(this,flip,flop,true,currentState);var t=flip;flip=flop;flop=t;}
filters[i].apply(this,flip,lastState.renderTarget,false,currentState);this.freePotRenderTarget(flip);this.freePotRenderTarget(flop);}
filterData.index--;if(filterData.index===0){this.filterData=null;}};FilterManager.prototype.applyFilter=function applyFilter(filter,input,output,clear){var renderer=this.renderer;var gl=renderer.gl;var shader=filter.glShaders[renderer.CONTEXT_UID];if(!shader){if(filter.glShaderKey){shader=this.shaderCache[filter.glShaderKey];if(!shader){shader=new _Shader2.default(this.gl,filter.vertexSrc,filter.fragmentSrc);filter.glShaders[renderer.CONTEXT_UID]=this.shaderCache[filter.glShaderKey]=shader;}}else{shader=filter.glShaders[renderer.CONTEXT_UID]=new _Shader2.default(this.gl,filter.vertexSrc,filter.fragmentSrc);}
renderer.bindVao(null);this.quad.initVao(shader);}
renderer.bindVao(this.quad.vao);renderer.bindRenderTarget(output);if(clear){gl.disable(gl.SCISSOR_TEST);renderer.clear();gl.enable(gl.SCISSOR_TEST);}
if(output===renderer.maskManager.scissorRenderTarget){renderer.maskManager.pushScissorMask(null,renderer.maskManager.scissorData);}
renderer.bindShader(shader);var tex=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=tex;this.syncUniforms(shader,filter);renderer.state.setBlendMode(filter.blendMode);gl.activeTexture(gl.TEXTURE0);gl.bindTexture(gl.TEXTURE_2D,input.texture.texture);this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0);gl.bindTexture(gl.TEXTURE_2D,tex._glTextures[this.renderer.CONTEXT_UID].texture);};FilterManager.prototype.syncUniforms=function syncUniforms(shader,filter){var uniformData=filter.uniformData;var uniforms=filter.uniforms;var textureCount=1;var currentState=void 0;if(shader.uniforms.filterArea){currentState=this.filterData.stack[this.filterData.index];var filterArea=shader.uniforms.filterArea;filterArea[0]=currentState.renderTarget.size.width;filterArea[1]=currentState.renderTarget.size.height;filterArea[2]=currentState.sourceFrame.x;filterArea[3]=currentState.sourceFrame.y;shader.uniforms.filterArea=filterArea;}
if(shader.uniforms.filterClamp){currentState=currentState||this.filterData.stack[this.filterData.index];var filterClamp=shader.uniforms.filterClamp;filterClamp[0]=0;filterClamp[1]=0;filterClamp[2]=(currentState.sourceFrame.width-1)/ currentState.renderTarget.size.width;filterClamp[3]=(currentState.sourceFrame.height-1)/ currentState.renderTarget.size.height;shader.uniforms.filterClamp=filterClamp;}
for(var i in uniformData){if(uniformData[i].type==='sampler2D'&&uniforms[i]!==0){if(uniforms[i].baseTexture){shader.uniforms[i]=this.renderer.bindTexture(uniforms[i].baseTexture,textureCount);}else{shader.uniforms[i]=textureCount;var gl=this.renderer.gl;this.renderer.boundTextures[textureCount]=this.renderer.emptyTextures[textureCount];gl.activeTexture(gl.TEXTURE0+textureCount);uniforms[i].texture.bind();}
textureCount++;}else if(uniformData[i].type==='mat3'){if(uniforms[i].a!==undefined){shader.uniforms[i]=uniforms[i].toArray(true);}else{shader.uniforms[i]=uniforms[i];}}else if(uniformData[i].type==='vec2'){if(uniforms[i].x!==undefined){var val=shader.uniforms[i]||new Float32Array(2);val[0]=uniforms[i].x;val[1]=uniforms[i].y;shader.uniforms[i]=val;}else{shader.uniforms[i]=uniforms[i];}}else if(uniformData[i].type==='float'){if(shader.uniforms.data[i].value!==uniformData[i]){shader.uniforms[i]=uniforms[i];}}else{shader.uniforms[i]=uniforms[i];}}};FilterManager.prototype.getRenderTarget=function getRenderTarget(clear,resolution){var currentState=this.filterData.stack[this.filterData.index];var renderTarget=this.getPotRenderTarget(this.renderer.gl,currentState.sourceFrame.width,currentState.sourceFrame.height,resolution||currentState.resolution);renderTarget.setFrame(currentState.destinationFrame,currentState.sourceFrame);return renderTarget;};FilterManager.prototype.returnRenderTarget=function returnRenderTarget(renderTarget){this.freePotRenderTarget(renderTarget);};FilterManager.prototype.calculateScreenSpaceMatrix=function calculateScreenSpaceMatrix(outputMatrix){var currentState=this.filterData.stack[this.filterData.index];return filterTransforms.calculateScreenSpaceMatrix(outputMatrix,currentState.sourceFrame,currentState.renderTarget.size);};FilterManager.prototype.calculateNormalizedScreenSpaceMatrix=function calculateNormalizedScreenSpaceMatrix(outputMatrix){var currentState=this.filterData.stack[this.filterData.index];return filterTransforms.calculateNormalizedScreenSpaceMatrix(outputMatrix,currentState.sourceFrame,currentState.renderTarget.size,currentState.destinationFrame);};FilterManager.prototype.calculateSpriteMatrix=function calculateSpriteMatrix(outputMatrix,sprite){var currentState=this.filterData.stack[this.filterData.index];return filterTransforms.calculateSpriteMatrix(outputMatrix,currentState.sourceFrame,currentState.renderTarget.size,sprite);};FilterManager.prototype.destroy=function destroy(){this.shaderCache={};this.emptyPool();};FilterManager.prototype.getPotRenderTarget=function getPotRenderTarget(gl,minWidth,minHeight,resolution){minWidth=_bitTwiddle2.default.nextPow2(minWidth*resolution);minHeight=_bitTwiddle2.default.nextPow2(minHeight*resolution);var key=(minWidth&0xFFFF)<<16|minHeight&0xFFFF;if(!this.pool[key]){this.pool[key]=[];}
var renderTarget=this.pool[key].pop();if(!renderTarget){var tex=this.renderer.boundTextures[0];gl.activeTexture(gl.TEXTURE0);renderTarget=new _RenderTarget2.default(gl,minWidth,minHeight,null,1);gl.bindTexture(gl.TEXTURE_2D,tex._glTextures[this.renderer.CONTEXT_UID].texture);}
renderTarget.resolution=resolution;renderTarget.defaultFrame.width=renderTarget.size.width=minWidth / resolution;renderTarget.defaultFrame.height=renderTarget.size.height=minHeight / resolution;return renderTarget;};FilterManager.prototype.emptyPool=function emptyPool(){for(var i in this.pool){var textures=this.pool[i];if(textures){for(var j=0;j<textures.length;j++){textures[j].destroy(true);}}}
this.pool={};};FilterManager.prototype.freePotRenderTarget=function freePotRenderTarget(renderTarget){var minWidth=renderTarget.size.width*renderTarget.resolution;var minHeight=renderTarget.size.height*renderTarget.resolution;var key=(minWidth&0xFFFF)<<16|minHeight&0xFFFF;this.pool[key].push(renderTarget);};return FilterManager;}(_WebGLManager3.default);exports.default=FilterManager;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _WebGLManager2=__webpack_require__(63);var _WebGLManager3=_interopRequireDefault(_WebGLManager2);var _SpriteMaskFilter=__webpack_require__(201);var _SpriteMaskFilter2=_interopRequireDefault(_SpriteMaskFilter);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var MaskManager=function(_WebGLManager){_inherits(MaskManager,_WebGLManager);function MaskManager(renderer){_classCallCheck(this,MaskManager);var _this=_possibleConstructorReturn(this,_WebGLManager.call(this,renderer));_this.scissor=false;_this.scissorData=null;_this.scissorRenderTarget=null;_this.enableScissor=true;_this.alphaMaskPool=[];_this.alphaMaskIndex=0;return _this;}
MaskManager.prototype.pushMask=function pushMask(target,maskData){if(maskData.texture){this.pushSpriteMask(target,maskData);}else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&maskData.isFastRect()){var matrix=maskData.worldTransform;var rot=Math.atan2(matrix.b,matrix.a);rot=Math.round(rot*(180 / Math.PI));if(rot%90){this.pushStencilMask(maskData);}else{this.pushScissorMask(target,maskData);}}else{this.pushStencilMask(maskData);}};MaskManager.prototype.popMask=function popMask(target,maskData){if(maskData.texture){this.popSpriteMask(target,maskData);}else if(this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length){this.popScissorMask(target,maskData);}else{this.popStencilMask(target,maskData);}};MaskManager.prototype.pushSpriteMask=function pushSpriteMask(target,maskData){var alphaMaskFilter=this.alphaMaskPool[this.alphaMaskIndex];if(!alphaMaskFilter){alphaMaskFilter=this.alphaMaskPool[this.alphaMaskIndex]=[new _SpriteMaskFilter2.default(maskData)];}
alphaMaskFilter[0].resolution=this.renderer.resolution;alphaMaskFilter[0].maskSprite=maskData;target.filterArea=maskData.getBounds(true);this.renderer.filterManager.pushFilter(target,alphaMaskFilter);this.alphaMaskIndex++;};MaskManager.prototype.popSpriteMask=function popSpriteMask(){this.renderer.filterManager.popFilter();this.alphaMaskIndex--;};MaskManager.prototype.pushStencilMask=function pushStencilMask(maskData){this.renderer.currentRenderer.stop();this.renderer.stencilManager.pushStencil(maskData);};MaskManager.prototype.popStencilMask=function popStencilMask(){this.renderer.currentRenderer.stop();this.renderer.stencilManager.popStencil();};MaskManager.prototype.pushScissorMask=function pushScissorMask(target,maskData){maskData.renderable=true;var renderTarget=this.renderer._activeRenderTarget;var bounds=maskData.getBounds();bounds.fit(renderTarget.size);maskData.renderable=false;this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var resolution=this.renderer.resolution;this.renderer.gl.scissor(bounds.x*resolution,(renderTarget.root?renderTarget.size.height-bounds.y-bounds.height:bounds.y)*resolution,bounds.width*resolution,bounds.height*resolution);this.scissorRenderTarget=renderTarget;this.scissorData=maskData;this.scissor=true;};MaskManager.prototype.popScissorMask=function popScissorMask(){this.scissorRenderTarget=null;this.scissorData=null;this.scissor=false;var gl=this.renderer.gl;gl.disable(gl.SCISSOR_TEST);};return MaskManager;}(_WebGLManager3.default);exports.default=MaskManager;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _WebGLManager2=__webpack_require__(63);var _WebGLManager3=_interopRequireDefault(_WebGLManager2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var StencilManager=function(_WebGLManager){_inherits(StencilManager,_WebGLManager);function StencilManager(renderer){_classCallCheck(this,StencilManager);var _this=_possibleConstructorReturn(this,_WebGLManager.call(this,renderer));_this.stencilMaskStack=null;return _this;}
StencilManager.prototype.setMaskStack=function setMaskStack(stencilMaskStack){this.stencilMaskStack=stencilMaskStack;var gl=this.renderer.gl;if(stencilMaskStack.length===0){gl.disable(gl.STENCIL_TEST);}else{gl.enable(gl.STENCIL_TEST);}};StencilManager.prototype.pushStencil=function pushStencil(graphics){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);this.renderer._activeRenderTarget.attachStencilBuffer();var gl=this.renderer.gl;var sms=this.stencilMaskStack;if(sms.length===0){gl.enable(gl.STENCIL_TEST);gl.clear(gl.STENCIL_BUFFER_BIT);gl.stencilFunc(gl.ALWAYS,1,1);}
sms.push(graphics);gl.colorMask(false,false,false,false);gl.stencilOp(gl.KEEP,gl.KEEP,gl.INCR);this.renderer.plugins.graphics.render(graphics);gl.colorMask(true,true,true,true);gl.stencilFunc(gl.NOTEQUAL,0,sms.length);gl.stencilOp(gl.KEEP,gl.KEEP,gl.KEEP);};StencilManager.prototype.popStencil=function popStencil(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var gl=this.renderer.gl;var sms=this.stencilMaskStack;var graphics=sms.pop();if(sms.length===0){gl.disable(gl.STENCIL_TEST);}else{gl.colorMask(false,false,false,false);gl.stencilOp(gl.KEEP,gl.KEEP,gl.DECR);this.renderer.plugins.graphics.render(graphics);gl.colorMask(true,true,true,true);gl.stencilFunc(gl.NOTEQUAL,0,sms.length);gl.stencilOp(gl.KEEP,gl.KEEP,gl.KEEP);}};StencilManager.prototype.destroy=function destroy(){_WebGLManager3.default.prototype.destroy.call(this);this.stencilMaskStack.stencilStack=null;};return StencilManager;}(_WebGLManager3.default);exports.default=StencilManager;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.default=checkMaxIfStatmentsInShader;var _pixiGlCore=__webpack_require__(26);var _pixiGlCore2=_interopRequireDefault(_pixiGlCore);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var fragTemplate=['precision mediump float;','void main(void){','float test = 0.1;','%forloop%','gl_FragColor = vec4(0.0);','}'].join('\n');function checkMaxIfStatmentsInShader(maxIfs,gl){var createTempContext=!gl;if(maxIfs===0){throw new Error('Invalid value of `0` passed to `checkMaxIfStatementsInShader`');}
if(createTempContext){var tinyCanvas=document.createElement('canvas');tinyCanvas.width=1;tinyCanvas.height=1;gl=_pixiGlCore2.default.createContext(tinyCanvas);}
var shader=gl.createShader(gl.FRAGMENT_SHADER);while(true)
{var fragmentSrc=fragTemplate.replace(/%forloop%/gi,generateIfTestSrc(maxIfs));gl.shaderSource(shader,fragmentSrc);gl.compileShader(shader);if(!gl.getShaderParameter(shader,gl.COMPILE_STATUS)){maxIfs=maxIfs / 2|0;}else{break;}}
if(createTempContext){if(gl.getExtension('WEBGL_lose_context')){gl.getExtension('WEBGL_lose_context').loseContext();}}
return maxIfs;}
function generateIfTestSrc(maxIfs){var src='';for(var i=0;i<maxIfs;++i){if(i>0){src+='\nelse ';}
if(i<maxIfs-1){src+='if(test == '+i+'.0){}';}}
return src;}}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.default=mapWebGLBlendModesToPixi;var _const=__webpack_require__(8);function mapWebGLBlendModesToPixi(gl){var array=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];array[_const.BLEND_MODES.NORMAL]=[gl.ONE,gl.ONE_MINUS_SRC_ALPHA];array[_const.BLEND_MODES.ADD]=[gl.ONE,gl.DST_ALPHA];array[_const.BLEND_MODES.MULTIPLY]=[gl.DST_COLOR,gl.ONE_MINUS_SRC_ALPHA];array[_const.BLEND_MODES.SCREEN]=[gl.ONE,gl.ONE_MINUS_SRC_COLOR];array[_const.BLEND_MODES.OVERLAY]=[gl.ONE,gl.ONE_MINUS_SRC_ALPHA];array[_const.BLEND_MODES.DARKEN]=[gl.ONE,gl.ONE_MINUS_SRC_ALPHA];array[_const.BLEND_MODES.LIGHTEN]=[gl.ONE,gl.ONE_MINUS_SRC_ALPHA];array[_const.BLEND_MODES.COLOR_DODGE]=[gl.ONE,gl.ONE_MINUS_SRC_ALPHA];array[_const.BLEND_MODES.COLOR_BURN]=[gl.ONE,gl.ONE_MINUS_SRC_ALPHA];array[_const.BLEND_MODES.HARD_LIGHT]=[gl.ONE,gl.ONE_MINUS_SRC_ALPHA];array[_const.BLEND_MODES.SOFT_LIGHT]=[gl.ONE,gl.ONE_MINUS_SRC_ALPHA];array[_const.BLEND_MODES.DIFFERENCE]=[gl.ONE,gl.ONE_MINUS_SRC_ALPHA];array[_const.BLEND_MODES.EXCLUSION]=[gl.ONE,gl.ONE_MINUS_SRC_ALPHA];array[_const.BLEND_MODES.HUE]=[gl.ONE,gl.ONE_MINUS_SRC_ALPHA];array[_const.BLEND_MODES.SATURATION]=[gl.ONE,gl.ONE_MINUS_SRC_ALPHA];array[_const.BLEND_MODES.COLOR]=[gl.ONE,gl.ONE_MINUS_SRC_ALPHA];array[_const.BLEND_MODES.LUMINOSITY]=[gl.ONE,gl.ONE_MINUS_SRC_ALPHA];return array;}}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.default=mapWebGLDrawModesToPixi;var _const=__webpack_require__(8);function mapWebGLDrawModesToPixi(gl){var object=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};object[_const.DRAW_MODES.POINTS]=gl.POINTS;object[_const.DRAW_MODES.LINES]=gl.LINES;object[_const.DRAW_MODES.LINE_LOOP]=gl.LINE_LOOP;object[_const.DRAW_MODES.LINE_STRIP]=gl.LINE_STRIP;object[_const.DRAW_MODES.TRIANGLES]=gl.TRIANGLES;object[_const.DRAW_MODES.TRIANGLE_STRIP]=gl.TRIANGLE_STRIP;object[_const.DRAW_MODES.TRIANGLE_FAN]=gl.TRIANGLE_FAN;return object;}}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.default=validateContext;function validateContext(gl){var attributes=gl.getContextAttributes();if(!attributes.stencil){console.warn('Provided WebGL context does not have a stencil buffer, masks may not render correctly');}}}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _CanvasRenderer=__webpack_require__(62);var _CanvasRenderer2=_interopRequireDefault(_CanvasRenderer);var _const=__webpack_require__(8);var _math=__webpack_require__(14);var _CanvasTinter=__webpack_require__(113);var _CanvasTinter2=_interopRequireDefault(_CanvasTinter);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var canvasRenderWorldTransform=new _math.Matrix();var CanvasSpriteRenderer=function(){function CanvasSpriteRenderer(renderer){_classCallCheck(this,CanvasSpriteRenderer);this.renderer=renderer;}
CanvasSpriteRenderer.prototype.render=function render(sprite){var texture=sprite._texture;var renderer=this.renderer;var width=texture._frame.width;var height=texture._frame.height;var wt=sprite.transform.worldTransform;var dx=0;var dy=0;if(texture.orig.width<=0||texture.orig.height<=0||!texture.baseTexture.source){return;}
renderer.setBlendMode(sprite.blendMode);if(texture.valid){renderer.context.globalAlpha=sprite.worldAlpha;var smoothingEnabled=texture.baseTexture.scaleMode===_const.SCALE_MODES.LINEAR;if(renderer.smoothProperty&&renderer.context[renderer.smoothProperty]!==smoothingEnabled){renderer.context[renderer.smoothProperty]=smoothingEnabled;}
if(texture.trim){dx=texture.trim.width / 2+texture.trim.x-sprite.anchor.x*texture.orig.width;dy=texture.trim.height / 2+texture.trim.y-sprite.anchor.y*texture.orig.height;}else{dx=(0.5-sprite.anchor.x)*texture.orig.width;dy=(0.5-sprite.anchor.y)*texture.orig.height;}
if(texture.rotate){wt.copy(canvasRenderWorldTransform);wt=canvasRenderWorldTransform;_math.GroupD8.matrixAppendRotationInv(wt,texture.rotate,dx,dy);dx=0;dy=0;}
dx-=width / 2;dy-=height / 2;if(renderer.roundPixels){renderer.context.setTransform(wt.a,wt.b,wt.c,wt.d,wt.tx*renderer.resolution|0,wt.ty*renderer.resolution|0);dx=dx|0;dy=dy|0;}else{renderer.context.setTransform(wt.a,wt.b,wt.c,wt.d,wt.tx*renderer.resolution,wt.ty*renderer.resolution);}
var resolution=texture.baseTexture.resolution;if(sprite.tint!==0xFFFFFF){if(sprite.cachedTint!==sprite.tint){sprite.cachedTint=sprite.tint;sprite.tintedTexture=_CanvasTinter2.default.getTintedTexture(sprite,sprite.tint);}
renderer.context.drawImage(sprite.tintedTexture,0,0,width*resolution,height*resolution,dx*renderer.resolution,dy*renderer.resolution,width*renderer.resolution,height*renderer.resolution);}else{renderer.context.drawImage(texture.baseTexture.source,texture._frame.x*resolution,texture._frame.y*resolution,width*resolution,height*resolution,dx*renderer.resolution,dy*renderer.resolution,width*renderer.resolution,height*renderer.resolution);}}};CanvasSpriteRenderer.prototype.destroy=function destroy(){this.renderer=null;};return CanvasSpriteRenderer;}();exports.default=CanvasSpriteRenderer;_CanvasRenderer2.default.registerPlugin('sprite',CanvasSpriteRenderer);}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var Buffer=function(){function Buffer(size){_classCallCheck(this,Buffer);this.vertices=new ArrayBuffer(size);this.float32View=new Float32Array(this.vertices);this.uint32View=new Uint32Array(this.vertices);}
Buffer.prototype.destroy=function destroy(){this.vertices=null;this.positions=null;this.uvs=null;this.colors=null;};return Buffer;}();exports.default=Buffer;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _ObjectRenderer2=__webpack_require__(85);var _ObjectRenderer3=_interopRequireDefault(_ObjectRenderer2);var _WebGLRenderer=__webpack_require__(84);var _WebGLRenderer2=_interopRequireDefault(_WebGLRenderer);var _createIndicesForQuads=__webpack_require__(116);var _createIndicesForQuads2=_interopRequireDefault(_createIndicesForQuads);var _generateMultiTextureShader=__webpack_require__(656);var _generateMultiTextureShader2=_interopRequireDefault(_generateMultiTextureShader);var _checkMaxIfStatmentsInShader=__webpack_require__(649);var _checkMaxIfStatmentsInShader2=_interopRequireDefault(_checkMaxIfStatmentsInShader);var _BatchBuffer=__webpack_require__(654);var _BatchBuffer2=_interopRequireDefault(_BatchBuffer);var _settings=__webpack_require__(19);var _settings2=_interopRequireDefault(_settings);var _pixiGlCore=__webpack_require__(26);var _pixiGlCore2=_interopRequireDefault(_pixiGlCore);var _bitTwiddle=__webpack_require__(87);var _bitTwiddle2=_interopRequireDefault(_bitTwiddle);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var TICK=0;var TEXTURE_TICK=0;var SpriteRenderer=function(_ObjectRenderer){_inherits(SpriteRenderer,_ObjectRenderer);function SpriteRenderer(renderer){_classCallCheck(this,SpriteRenderer);var _this=_possibleConstructorReturn(this,_ObjectRenderer.call(this,renderer));_this.vertSize=5;_this.vertByteSize=_this.vertSize*4;_this.size=_settings2.default.SPRITE_BATCH_SIZE;_this.buffers=[];for(var i=1;i<=_bitTwiddle2.default.nextPow2(_this.size);i*=2){_this.buffers.push(new _BatchBuffer2.default(i*4*_this.vertByteSize));}
_this.indices=(0,_createIndicesForQuads2.default)(_this.size);_this.shader=null;_this.currentIndex=0;_this.groups=[];for(var k=0;k<_this.size;k++){_this.groups[k]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};}
_this.sprites=[];_this.vertexBuffers=[];_this.vaos=[];_this.vaoMax=2;_this.vertexCount=0;_this.renderer.on('prerender',_this.onPrerender,_this);return _this;}
SpriteRenderer.prototype.onContextChange=function onContextChange(){var gl=this.renderer.gl;if(this.renderer.legacy){this.MAX_TEXTURES=1;}else{this.MAX_TEXTURES=Math.min(gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS),_settings2.default.SPRITE_MAX_TEXTURES);this.MAX_TEXTURES=(0,_checkMaxIfStatmentsInShader2.default)(this.MAX_TEXTURES,gl);}
var shader=this.shader=(0,_generateMultiTextureShader2.default)(gl,this.MAX_TEXTURES);this.indexBuffer=_pixiGlCore2.default.GLBuffer.createIndexBuffer(gl,this.indices,gl.STATIC_DRAW);this.renderer.bindVao(null);for(var i=0;i<this.vaoMax;i++){this.vertexBuffers[i]=_pixiGlCore2.default.GLBuffer.createVertexBuffer(gl,null,gl.STREAM_DRAW);this.vaos[i]=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(this.vertexBuffers[i],shader.attributes.aVertexPosition,gl.FLOAT,false,this.vertByteSize,0).addAttribute(this.vertexBuffers[i],shader.attributes.aTextureCoord,gl.UNSIGNED_SHORT,true,this.vertByteSize,2*4).addAttribute(this.vertexBuffers[i],shader.attributes.aColor,gl.UNSIGNED_BYTE,true,this.vertByteSize,3*4);if(shader.attributes.aTextureId){this.vaos[i].addAttribute(this.vertexBuffers[i],shader.attributes.aTextureId,gl.FLOAT,false,this.vertByteSize,4*4);}}
this.vao=this.vaos[0];this.currentBlendMode=99999;this.boundTextures=new Array(this.MAX_TEXTURES);};SpriteRenderer.prototype.onPrerender=function onPrerender(){this.vertexCount=0;};SpriteRenderer.prototype.render=function render(sprite){if(this.currentIndex>=this.size){this.flush();}
if(!sprite._texture._uvs){return;}
this.sprites[this.currentIndex++]=sprite;};SpriteRenderer.prototype.flush=function flush(){if(this.currentIndex===0){return;}
var gl=this.renderer.gl;var MAX_TEXTURES=this.MAX_TEXTURES;var np2=_bitTwiddle2.default.nextPow2(this.currentIndex);var log2=_bitTwiddle2.default.log2(np2);var buffer=this.buffers[log2];var sprites=this.sprites;var groups=this.groups;var float32View=buffer.float32View;var uint32View=buffer.uint32View;var boundTextures=this.boundTextures;var rendererBoundTextures=this.renderer.boundTextures;var touch=this.renderer.textureGC.count;var index=0;var nextTexture=void 0;var currentTexture=void 0;var groupCount=1;var textureCount=0;var currentGroup=groups[0];var vertexData=void 0;var uvs=void 0;var blendMode=sprites[0].blendMode;currentGroup.textureCount=0;currentGroup.start=0;currentGroup.blend=blendMode;TICK++;var i=void 0;for(i=0;i<MAX_TEXTURES;++i){boundTextures[i]=rendererBoundTextures[i];boundTextures[i]._virtalBoundId=i;}
for(i=0;i<this.currentIndex;++i){var sprite=sprites[i];nextTexture=sprite._texture.baseTexture;if(blendMode!==sprite.blendMode){blendMode=sprite.blendMode;currentTexture=null;textureCount=MAX_TEXTURES;TICK++;}
if(currentTexture!==nextTexture){currentTexture=nextTexture;if(nextTexture._enabled!==TICK){if(textureCount===MAX_TEXTURES){TICK++;currentGroup.size=i-currentGroup.start;textureCount=0;currentGroup=groups[groupCount++];currentGroup.blend=blendMode;currentGroup.textureCount=0;currentGroup.start=i;}
nextTexture.touched=touch;if(nextTexture._virtalBoundId===-1){for(var j=0;j<MAX_TEXTURES;++j){var tIndex=(j+TEXTURE_TICK)%MAX_TEXTURES;var t=boundTextures[tIndex];if(t._enabled!==TICK){TEXTURE_TICK++;t._virtalBoundId=-1;nextTexture._virtalBoundId=tIndex;boundTextures[tIndex]=nextTexture;break;}}}
nextTexture._enabled=TICK;currentGroup.textureCount++;currentGroup.ids[textureCount]=nextTexture._virtalBoundId;currentGroup.textures[textureCount++]=nextTexture;}}
vertexData=sprite.vertexData;uvs=sprite._texture._uvs.uvsUint32;if(this.renderer.roundPixels){var resolution=this.renderer.resolution;float32View[index]=(vertexData[0]*resolution|0)/ resolution;float32View[index+1]=(vertexData[1]*resolution|0)/ resolution;float32View[index+5]=(vertexData[2]*resolution|0)/ resolution;float32View[index+6]=(vertexData[3]*resolution|0)/ resolution;float32View[index+10]=(vertexData[4]*resolution|0)/ resolution;float32View[index+11]=(vertexData[5]*resolution|0)/ resolution;float32View[index+15]=(vertexData[6]*resolution|0)/ resolution;float32View[index+16]=(vertexData[7]*resolution|0)/ resolution;}else{float32View[index]=vertexData[0];float32View[index+1]=vertexData[1];float32View[index+5]=vertexData[2];float32View[index+6]=vertexData[3];float32View[index+10]=vertexData[4];float32View[index+11]=vertexData[5];float32View[index+15]=vertexData[6];float32View[index+16]=vertexData[7];}
uint32View[index+2]=uvs[0];uint32View[index+7]=uvs[1];uint32View[index+12]=uvs[2];uint32View[index+17]=uvs[3];uint32View[index+3]=uint32View[index+8]=uint32View[index+13]=uint32View[index+18]=sprite._tintRGB+(Math.min(sprite.worldAlpha,1)*255<<24);float32View[index+4]=float32View[index+9]=float32View[index+14]=float32View[index+19]=nextTexture._virtalBoundId;index+=20;}
currentGroup.size=i-currentGroup.start;if(!_settings2.default.CAN_UPLOAD_SAME_BUFFER){if(this.vaoMax<=this.vertexCount){this.vaoMax++;this.vertexBuffers[this.vertexCount]=_pixiGlCore2.default.GLBuffer.createVertexBuffer(gl,null,gl.STREAM_DRAW);this.vaos[this.vertexCount]=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(this.vertexBuffers[this.vertexCount],this.shader.attributes.aVertexPosition,gl.FLOAT,false,this.vertByteSize,0).addAttribute(this.vertexBuffers[this.vertexCount],this.shader.attributes.aTextureCoord,gl.UNSIGNED_SHORT,true,this.vertByteSize,2*4).addAttribute(this.vertexBuffers[this.vertexCount],this.shader.attributes.aColor,gl.UNSIGNED_BYTE,true,this.vertByteSize,3*4);if(this.shader.attributes.aTextureId){this.vaos[this.vertexCount].addAttribute(this.vertexBuffers[this.vertexCount],this.shader.attributes.aTextureId,gl.FLOAT,false,this.vertByteSize,4*4);}}
this.renderer.bindVao(this.vaos[this.vertexCount]);this.vertexBuffers[this.vertexCount].upload(buffer.vertices,0,false);this.vertexCount++;}else{this.vertexBuffers[this.vertexCount].upload(buffer.vertices,0,true);}
for(i=0;i<MAX_TEXTURES;++i){rendererBoundTextures[i]._virtalBoundId=-1;}
for(i=0;i<groupCount;++i){var group=groups[i];var groupTextureCount=group.textureCount;for(var _j=0;_j<groupTextureCount;_j++){currentTexture=group.textures[_j];if(rendererBoundTextures[group.ids[_j]]!==currentTexture){this.renderer.bindTexture(currentTexture,group.ids[_j],true);}
currentTexture._virtalBoundId=-1;}
this.renderer.state.setBlendMode(group.blend);gl.drawElements(gl.TRIANGLES,group.size*6,gl.UNSIGNED_SHORT,group.start*6*2);}
this.currentIndex=0;};SpriteRenderer.prototype.start=function start(){this.renderer.bindShader(this.shader);if(_settings2.default.CAN_UPLOAD_SAME_BUFFER){this.renderer.bindVao(this.vaos[this.vertexCount]);this.vertexBuffers[this.vertexCount].bind();}};SpriteRenderer.prototype.stop=function stop(){this.flush();};SpriteRenderer.prototype.destroy=function destroy(){for(var i=0;i<this.vaoMax;i++){if(this.vertexBuffers[i]){this.vertexBuffers[i].destroy();}
if(this.vaos[i]){this.vaos[i].destroy();}}
if(this.indexBuffer){this.indexBuffer.destroy();}
this.renderer.off('prerender',this.onPrerender,this);_ObjectRenderer.prototype.destroy.call(this);if(this.shader){this.shader.destroy();this.shader=null;}
this.vertexBuffers=null;this.vaos=null;this.indexBuffer=null;this.indices=null;this.sprites=null;for(var _i=0;_i<this.buffers.length;++_i){this.buffers[_i].destroy();}};return SpriteRenderer;}(_ObjectRenderer3.default);exports.default=SpriteRenderer;_WebGLRenderer2.default.registerPlugin('sprite',SpriteRenderer);}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.default=generateMultiTextureShader;var _Shader=__webpack_require__(60);var _Shader2=_interopRequireDefault(_Shader);var _path=__webpack_require__(29);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var fragTemplate=['varying vec2 vTextureCoord;','varying vec4 vColor;','varying float vTextureId;','uniform sampler2D uSamplers[%count%];','void main(void){','vec4 color;','float textureId = floor(vTextureId+0.5);','%forloop%','gl_FragColor = color * vColor;','}'].join('\n');function generateMultiTextureShader(gl,maxTextures){var vertexSrc='precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n';var fragmentSrc=fragTemplate;fragmentSrc=fragmentSrc.replace(/%count%/gi,maxTextures);fragmentSrc=fragmentSrc.replace(/%forloop%/gi,generateSampleSrc(maxTextures));var shader=new _Shader2.default(gl,vertexSrc,fragmentSrc);var sampleValues=[];for(var i=0;i<maxTextures;i++){sampleValues[i]=i;}
shader.bind();shader.uniforms.uSamplers=sampleValues;return shader;}
function generateSampleSrc(maxTextures){var src='';src+='\n';src+='\n';for(var i=0;i<maxTextures;i++){if(i>0){src+='\nelse ';}
if(i<maxTextures-1){src+='if(textureId == '+i+'.0)';}
src+='\n{';src+='\n\tcolor = texture2D(uSamplers['+i+'], vTextureCoord);';src+='\n}';}
src+='\n';src+='\n';return src;}}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _Sprite2=__webpack_require__(112);var _Sprite3=_interopRequireDefault(_Sprite2);var _Texture=__webpack_require__(50);var _Texture2=_interopRequireDefault(_Texture);var _math=__webpack_require__(14);var _utils=__webpack_require__(10);var _const=__webpack_require__(8);var _settings=__webpack_require__(19);var _settings2=_interopRequireDefault(_settings);var _TextStyle=__webpack_require__(203);var _TextStyle2=_interopRequireDefault(_TextStyle);var _trimCanvas=__webpack_require__(665);var _trimCanvas2=_interopRequireDefault(_trimCanvas);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var defaultDestroyOptions={texture:true,children:false,baseTexture:true};var Text=function(_Sprite){_inherits(Text,_Sprite);function Text(text,style,canvas){_classCallCheck(this,Text);canvas=canvas||document.createElement('canvas');canvas.width=3;canvas.height=3;var texture=_Texture2.default.fromCanvas(canvas);texture.orig=new _math.Rectangle();texture.trim=new _math.Rectangle();var _this=_possibleConstructorReturn(this,_Sprite.call(this,texture));_this.canvas=canvas;_this.context=_this.canvas.getContext('2d');_this.resolution=_settings2.default.RESOLUTION;_this._text=null;_this._style=null;_this._styleListener=null;_this._font='';_this.text=text;_this.style=style;_this.localStyleID=-1;return _this;}
Text.prototype.updateText=function updateText(respectDirty){var style=this._style;if(this.localStyleID!==style.styleID){this.dirty=true;this.localStyleID=style.styleID;}
if(!this.dirty&&respectDirty){return;}
this._font=Text.getFontStyle(style);this.context.font=this._font;var outputText=style.wordWrap?this.wordWrap(this._text):this._text;var lines=outputText.split(/(?:\r\n|\r|\n)/);var lineWidths=new Array(lines.length);var maxLineWidth=0;var fontProperties=Text.calculateFontProperties(this._font);for(var i=0;i<lines.length;i++){var lineWidth=this.context.measureText(lines[i]).width+(lines[i].length-1)*style.letterSpacing;lineWidths[i]=lineWidth;maxLineWidth=Math.max(maxLineWidth,lineWidth);}
var width=maxLineWidth+style.strokeThickness;if(style.dropShadow){width+=style.dropShadowDistance;}
this.canvas.width=Math.ceil((width+style.padding*2)*this.resolution);var lineHeight=style.lineHeight||fontProperties.fontSize+style.strokeThickness;var height=Math.max(lineHeight,fontProperties.fontSize+style.strokeThickness)+(lines.length-1)*lineHeight;if(style.dropShadow){height+=style.dropShadowDistance;}
this.canvas.height=Math.ceil((height+style.padding*2)*this.resolution);this.context.scale(this.resolution,this.resolution);this.context.clearRect(0,0,this.canvas.width,this.canvas.height);this.context.font=this._font;this.context.strokeStyle=style.stroke;this.context.lineWidth=style.strokeThickness;this.context.textBaseline=style.textBaseline;this.context.lineJoin=style.lineJoin;this.context.miterLimit=style.miterLimit;var linePositionX=void 0;var linePositionY=void 0;if(style.dropShadow){this.context.shadowBlur=style.dropShadowBlur;this.context.globalAlpha=style.dropShadowAlpha;if(style.dropShadowBlur>0){this.context.shadowColor=style.dropShadowColor;}else{this.context.fillStyle=style.dropShadowColor;}
var xShadowOffset=Math.cos(style.dropShadowAngle)*style.dropShadowDistance;var yShadowOffset=Math.sin(style.dropShadowAngle)*style.dropShadowDistance;for(var _i=0;_i<lines.length;_i++){linePositionX=style.strokeThickness / 2;linePositionY=style.strokeThickness / 2+_i*lineHeight+fontProperties.ascent;if(style.align==='right'){linePositionX+=maxLineWidth-lineWidths[_i];}else if(style.align==='center'){linePositionX+=(maxLineWidth-lineWidths[_i])/ 2;}
if(style.fill){this.drawLetterSpacing(lines[_i],linePositionX+xShadowOffset+style.padding,linePositionY+yShadowOffset+style.padding);if(style.stroke&&style.strokeThickness){this.context.strokeStyle=style.dropShadowColor;this.drawLetterSpacing(lines[_i],linePositionX+xShadowOffset+style.padding,linePositionY+yShadowOffset+style.padding,true);this.context.strokeStyle=style.stroke;}}}}
this.context.shadowBlur=0;this.context.globalAlpha=1;this.context.fillStyle=this._generateFillStyle(style,lines);for(var _i2=0;_i2<lines.length;_i2++){linePositionX=style.strokeThickness / 2;linePositionY=style.strokeThickness / 2+_i2*lineHeight+fontProperties.ascent;if(style.align==='right'){linePositionX+=maxLineWidth-lineWidths[_i2];}else if(style.align==='center'){linePositionX+=(maxLineWidth-lineWidths[_i2])/ 2;}
if(style.stroke&&style.strokeThickness){this.drawLetterSpacing(lines[_i2],linePositionX+style.padding,linePositionY+style.padding,true);}
if(style.fill){this.drawLetterSpacing(lines[_i2],linePositionX+style.padding,linePositionY+style.padding);}}
this.updateTexture();};Text.prototype.drawLetterSpacing=function drawLetterSpacing(text,x,y){var isStroke=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var style=this._style;var letterSpacing=style.letterSpacing;if(letterSpacing===0){if(isStroke){this.context.strokeText(text,x,y);}else{this.context.fillText(text,x,y);}
return;}
var characters=String.prototype.split.call(text,'');var currentPosition=x;var index=0;var current='';while(index<text.length){current=characters[index++];if(isStroke){this.context.strokeText(current,currentPosition,y);}else{this.context.fillText(current,currentPosition,y);}
currentPosition+=this.context.measureText(current).width+letterSpacing;}};Text.prototype.updateTexture=function updateTexture(){if(this._style.trim){var trimmed=(0,_trimCanvas2.default)(this.canvas);this.canvas.width=trimmed.width;this.canvas.height=trimmed.height;this.context.putImageData(trimmed.data,0,0);}
var texture=this._texture;var style=this._style;texture.baseTexture.hasLoaded=true;texture.baseTexture.resolution=this.resolution;texture.baseTexture.realWidth=this.canvas.width;texture.baseTexture.realHeight=this.canvas.height;texture.baseTexture.width=this.canvas.width / this.resolution;texture.baseTexture.height=this.canvas.height / this.resolution;texture.trim.width=texture._frame.width=this.canvas.width / this.resolution;texture.trim.height=texture._frame.height=this.canvas.height / this.resolution;texture.trim.x=-style.padding;texture.trim.y=-style.padding;texture.orig.width=texture._frame.width-style.padding*2;texture.orig.height=texture._frame.height-style.padding*2;this._onTextureUpdate();texture.baseTexture.emit('update',texture.baseTexture);this.dirty=false;};Text.prototype.renderWebGL=function renderWebGL(renderer){if(this.resolution!==renderer.resolution){this.resolution=renderer.resolution;this.dirty=true;}
this.updateText(true);_Sprite.prototype.renderWebGL.call(this,renderer);};Text.prototype._renderCanvas=function _renderCanvas(renderer){if(this.resolution!==renderer.resolution){this.resolution=renderer.resolution;this.dirty=true;}
this.updateText(true);_Sprite.prototype._renderCanvas.call(this,renderer);};Text.prototype.wordWrap=function wordWrap(text){var result='';var style=this._style;var lines=text.split('\n');var wordWrapWidth=style.wordWrapWidth;for(var i=0;i<lines.length;i++){var spaceLeft=wordWrapWidth;var words=lines[i].split(' ');for(var j=0;j<words.length;j++){var wordWidth=this.context.measureText(words[j]).width;if(style.breakWords&&wordWidth>wordWrapWidth){var characters=words[j].split('');for(var c=0;c<characters.length;c++){var characterWidth=this.context.measureText(characters[c]).width;if(characterWidth>spaceLeft){result+='\n'+characters[c];spaceLeft=wordWrapWidth-characterWidth;}else{if(c===0){result+=' ';}
result+=characters[c];spaceLeft-=characterWidth;}}}else{var wordWidthWithSpace=wordWidth+this.context.measureText(' ').width;if(j===0||wordWidthWithSpace>spaceLeft){if(j>0){result+='\n';}
result+=words[j];spaceLeft=wordWrapWidth-wordWidth;}else{spaceLeft-=wordWidthWithSpace;result+=' '+words[j];}}}
if(i<lines.length-1){result+='\n';}}
return result;};Text.prototype.getLocalBounds=function getLocalBounds(rect){this.updateText(true);return _Sprite.prototype.getLocalBounds.call(this,rect);};Text.prototype._calculateBounds=function _calculateBounds(){this.updateText(true);this.calculateVertices();this._bounds.addQuad(this.vertexData);};Text.prototype._onStyleChange=function _onStyleChange(){this.dirty=true;};Text.prototype._generateFillStyle=function _generateFillStyle(style,lines){if(!Array.isArray(style.fill)){return style.fill;}
if(navigator.isCocoonJS){return style.fill[0];}
var gradient=void 0;var totalIterations=void 0;var currentIteration=void 0;var stop=void 0;var width=this.canvas.width / this.resolution;var height=this.canvas.height / this.resolution;var fill=style.fill.slice();var fillGradientStops=style.fillGradientStops.slice();if(!fillGradientStops.length){var lengthPlus1=fill.length+1;for(var i=1;i<lengthPlus1;++i){fillGradientStops.push(i / lengthPlus1);}}
fill.unshift(style.fill[0]);fillGradientStops.unshift(0);fill.push(style.fill[style.fill.length-1]);fillGradientStops.push(1);if(style.fillGradientType===_const.TEXT_GRADIENT.LINEAR_VERTICAL){gradient=this.context.createLinearGradient(width / 2,0,width / 2,height);totalIterations=(fill.length+1)*lines.length;currentIteration=0;for(var _i3=0;_i3<lines.length;_i3++){currentIteration+=1;for(var j=0;j<fill.length;j++){if(fillGradientStops[j]){stop=fillGradientStops[j]/ lines.length+_i3 / lines.length;}else{stop=currentIteration / totalIterations;}
gradient.addColorStop(stop,fill[j]);currentIteration++;}}}else{gradient=this.context.createLinearGradient(0,height / 2,width,height / 2);totalIterations=fill.length+1;currentIteration=1;for(var _i4=0;_i4<fill.length;_i4++){if(fillGradientStops[_i4]){stop=fillGradientStops[_i4];}else{stop=currentIteration / totalIterations;}
gradient.addColorStop(stop,fill[_i4]);currentIteration++;}}
return gradient;};Text.prototype.destroy=function destroy(options){if(typeof options==='boolean'){options={children:options};}
options=Object.assign({},defaultDestroyOptions,options);_Sprite.prototype.destroy.call(this,options);this.context=null;this.canvas=null;this._style=null;};Text.getFontStyle=function getFontStyle(style){style=style||{};if(!(style instanceof _TextStyle2.default)){style=new _TextStyle2.default(style);}
var fontSizeString=typeof style.fontSize==='number'?style.fontSize+'px':style.fontSize;var fontFamilies=style.fontFamily;if(!Array.isArray(style.fontFamily)){fontFamilies=style.fontFamily.split(',');}
for(var i=fontFamilies.length-1;i>=0;i--){var fontFamily=fontFamilies[i].trim();if(!/([\"\'])[^\'\"]+\1/.test(fontFamily)){fontFamily='"'+fontFamily+'"';}
fontFamilies[i]=fontFamily;}
return style.fontStyle+' '+style.fontVariant+' '+style.fontWeight+' '+fontSizeString+' '+fontFamilies.join(',');};Text.calculateFontProperties=function calculateFontProperties(fontStyle){if(Text.fontPropertiesCache[fontStyle]){return Text.fontPropertiesCache[fontStyle];}
var properties={};var canvas=Text.fontPropertiesCanvas;var context=Text.fontPropertiesContext;context.font=fontStyle;var width=Math.ceil(context.measureText('|MÉq').width);var baseline=Math.ceil(context.measureText('M').width);var height=2*baseline;baseline=baseline*1.4|0;canvas.width=width;canvas.height=height;context.fillStyle='#f00';context.fillRect(0,0,width,height);context.font=fontStyle;context.textBaseline='alphabetic';context.fillStyle='#000';context.fillText('|MÉq',0,baseline);var imagedata=context.getImageData(0,0,width,height).data;var pixels=imagedata.length;var line=width*4;var i=0;var idx=0;var stop=false;for(i=0;i<baseline;++i){for(var j=0;j<line;j+=4){if(imagedata[idx+j]!==255){stop=true;break;}}
if(!stop){idx+=line;}else{break;}}
properties.ascent=baseline-i;idx=pixels-line;stop=false;for(i=height;i>baseline;--i){for(var _j=0;_j<line;_j+=4){if(imagedata[idx+_j]!==255){stop=true;break;}}
if(!stop){idx-=line;}else{break;}}
properties.descent=i-baseline;properties.fontSize=properties.ascent+properties.descent;Text.fontPropertiesCache[fontStyle]=properties;return properties;};_createClass(Text,[{key:'width',get:function get(){this.updateText(true);return Math.abs(this.scale.x)*this._texture.orig.width;},set:function set(value)
{this.updateText(true);var s=(0,_utils.sign)(this.scale.x)||1;this.scale.x=s*value / this._texture.orig.width;this._width=value;}},{key:'height',get:function get(){this.updateText(true);return Math.abs(this.scale.y)*this._texture.orig.height;},set:function set(value)
{this.updateText(true);var s=(0,_utils.sign)(this.scale.y)||1;this.scale.y=s*value / this._texture.orig.height;this._height=value;}},{key:'style',get:function get(){return this._style;},set:function set(style)
{style=style||{};if(style instanceof _TextStyle2.default){this._style=style;}else{this._style=new _TextStyle2.default(style);}
this.localStyleID=-1;this.dirty=true;}},{key:'text',get:function get(){return this._text;},set:function set(text)
{text=String(text===''||text===null||text===undefined?' ':text);if(this._text===text){return;}
this._text=text;this.dirty=true;}}]);return Text;}(_Sprite3.default);exports.default=Text;Text.fontPropertiesCache={};Text.fontPropertiesCanvas=document.createElement('canvas');Text.fontPropertiesContext=Text.fontPropertiesCanvas.getContext('2d');}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _=__webpack_require__(4);var _utils=__webpack_require__(10);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var Spritesheet=function(){_createClass(Spritesheet,null,[{key:'BATCH_SIZE',get:function get(){return 1000;}}]);function Spritesheet(baseTexture,data){var resolutionFilename=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;_classCallCheck(this,Spritesheet);this.baseTexture=baseTexture;this.textures={};this.data=data;this.resolution=this._updateResolution(resolutionFilename||this.baseTexture.imageUrl);this._frames=this.data.frames;this._frameKeys=Object.keys(this._frames);this._batchIndex=0;this._callback=null;}
Spritesheet.prototype._updateResolution=function _updateResolution(resolutionFilename){var scale=this.data.meta.scale;var resolution=(0,_utils.getResolutionOfUrl)(resolutionFilename,null);if(resolution===null){resolution=scale!==undefined?parseFloat(scale):1;}
if(resolution!==1){this.baseTexture.resolution=resolution;this.baseTexture.update();}
return resolution;};Spritesheet.prototype.parse=function parse(callback){this._batchIndex=0;this._callback=callback;if(this._frameKeys.length<=Spritesheet.BATCH_SIZE){this._processFrames(0);this._parseComplete();}else{this._nextBatch();}};Spritesheet.prototype._processFrames=function _processFrames(initialFrameIndex){var frameIndex=initialFrameIndex;var maxFrames=Spritesheet.BATCH_SIZE;while(frameIndex-initialFrameIndex<maxFrames&&frameIndex<this._frameKeys.length){var i=this._frameKeys[frameIndex];var rect=this._frames[i].frame;if(rect){var frame=null;var trim=null;var orig=new _.Rectangle(0,0,this._frames[i].sourceSize.w / this.resolution,this._frames[i].sourceSize.h / this.resolution);if(this._frames[i].rotated){frame=new _.Rectangle(rect.x / this.resolution,rect.y / this.resolution,rect.h / this.resolution,rect.w / this.resolution);}else{frame=new _.Rectangle(rect.x / this.resolution,rect.y / this.resolution,rect.w / this.resolution,rect.h / this.resolution);}
if(this._frames[i].trimmed){trim=new _.Rectangle(this._frames[i].spriteSourceSize.x / this.resolution,this._frames[i].spriteSourceSize.y / this.resolution,rect.w / this.resolution,rect.h / this.resolution);}
this.textures[i]=new _.Texture(this.baseTexture,frame,orig,trim,this._frames[i].rotated?2:0);_utils.TextureCache[i]=this.textures[i];}
frameIndex++;}};Spritesheet.prototype._parseComplete=function _parseComplete(){var callback=this._callback;this._callback=null;this._batchIndex=0;callback.call(this,this.textures);};Spritesheet.prototype._nextBatch=function _nextBatch(){var _this=this;this._processFrames(this._batchIndex*Spritesheet.BATCH_SIZE);this._batchIndex++;setTimeout(function(){if(_this._batchIndex*Spritesheet.BATCH_SIZE<_this._frameKeys.length){_this._nextBatch();}else{_this._parseComplete();}},0);};Spritesheet.prototype.destroy=function destroy(){var destroyBase=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;for(var i in this.textures){this.textures[i].destroy();}
this._frames=null;this._frameKeys=null;this.data=null;this.textures=null;if(destroyBase){this.baseTexture.destroy();}
this.baseTexture=null;};return Spritesheet;}();exports.default=Spritesheet;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _settings=__webpack_require__(19);var _settings2=_interopRequireDefault(_settings);var _eventemitter=__webpack_require__(32);var _eventemitter2=_interopRequireDefault(_eventemitter);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var TICK='tick';var Ticker=function(){function Ticker(){var _this=this;_classCallCheck(this,Ticker);this._emitter=new _eventemitter2.default();this._requestId=null;this._maxElapsedMS=100;this.autoStart=false;this.deltaTime=1;this.elapsedMS=1 / _settings2.default.TARGET_FPMS;this.lastTime=0;this.speed=1;this.started=false;this._tick=function(time){_this._requestId=null;if(_this.started){_this.update(time);if(_this.started&&_this._requestId===null&&_this._emitter.listeners(TICK,true)){_this._requestId=requestAnimationFrame(_this._tick);}}};}
Ticker.prototype._requestIfNeeded=function _requestIfNeeded(){if(this._requestId===null&&this._emitter.listeners(TICK,true)){this.lastTime=performance.now();this._requestId=requestAnimationFrame(this._tick);}};Ticker.prototype._cancelIfNeeded=function _cancelIfNeeded(){if(this._requestId!==null){cancelAnimationFrame(this._requestId);this._requestId=null;}};Ticker.prototype._startIfPossible=function _startIfPossible(){if(this.started){this._requestIfNeeded();}else if(this.autoStart){this.start();}};Ticker.prototype.add=function add(fn,context){this._emitter.on(TICK,fn,context);this._startIfPossible();return this;};Ticker.prototype.addOnce=function addOnce(fn,context){this._emitter.once(TICK,fn,context);this._startIfPossible();return this;};Ticker.prototype.remove=function remove(fn,context){this._emitter.off(TICK,fn,context);if(!this._emitter.listeners(TICK,true)){this._cancelIfNeeded();}
return this;};Ticker.prototype.start=function start(){if(!this.started){this.started=true;this._requestIfNeeded();}};Ticker.prototype.stop=function stop(){if(this.started){this.started=false;this._cancelIfNeeded();}};Ticker.prototype.update=function update(){var currentTime=arguments.length>0&&arguments[0]!==undefined?arguments[0]:performance.now();var elapsedMS=void 0;if(currentTime>this.lastTime){elapsedMS=this.elapsedMS=currentTime-this.lastTime;if(elapsedMS>this._maxElapsedMS){elapsedMS=this._maxElapsedMS;}
this.deltaTime=elapsedMS*_settings2.default.TARGET_FPMS*this.speed;this._emitter.emit(TICK,this.deltaTime);}else{this.deltaTime=this.elapsedMS=0;}
this.lastTime=currentTime;};_createClass(Ticker,[{key:'FPS',get:function get(){return 1000 / this.elapsedMS;}},{key:'minFPS',get:function get(){return 1000 / this._maxElapsedMS;},set:function set(fps)
{var minFPMS=Math.min(Math.max(0,fps)/ 1000,_settings2.default.TARGET_FPMS);this._maxElapsedMS=1 / minFPMS;}}]);return Ticker;}();exports.default=Ticker;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.default=canUploadSameBuffer;function canUploadSameBuffer(){var ios=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);return!ios;}}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.default=determineCrossOrigin;var _url2=__webpack_require__(721);var _url3=_interopRequireDefault(_url2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var tempAnchor=void 0;function determineCrossOrigin(url){var loc=arguments.length>1&&arguments[1]!==undefined?arguments[1]:window.location;if(url.indexOf('data:')===0){return'';}
loc=loc||window.location;if(!tempAnchor){tempAnchor=document.createElement('a');}
tempAnchor.href=url;url=_url3.default.parse(tempAnchor.href);var samePort=!url.port&&loc.port===''||url.port===loc.port;if(url.hostname!==loc.hostname||!samePort||url.protocol!==loc.protocol){return'anonymous';}
return'';}}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.default=maxRecommendedTextures;var _ismobilejs=__webpack_require__(88);var _ismobilejs2=_interopRequireDefault(_ismobilejs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function maxRecommendedTextures(max){if(_ismobilejs2.default.tablet||_ismobilejs2.default.phone){return 4;}
return max;}}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.mixin=mixin;exports.delayMixin=delayMixin;exports.performMixins=performMixins;function mixin(target,source){if(!target||!source)return;var keys=Object.keys(source);for(var i=0;i<keys.length;++i){var propertyName=keys[i];Object.defineProperty(target,propertyName,Object.getOwnPropertyDescriptor(source,propertyName));}}
var mixins=[];function delayMixin(target,source){mixins.push(target,source);}
function performMixins(){for(var i=0;i<mixins.length;i+=2){mixin(mixins[i],mixins[i+1]);}
mixins.length=0;}}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;function pluginTarget(obj){obj.__plugins={};obj.registerPlugin=function registerPlugin(pluginName,ctor){obj.__plugins[pluginName]=ctor;};obj.prototype.initPlugins=function initPlugins(){this.plugins=this.plugins||{};for(var o in obj.__plugins){this.plugins[o]=new obj.__plugins[o](this);}};obj.prototype.destroyPlugins=function destroyPlugins(){for(var o in this.plugins){this.plugins[o].destroy();this.plugins[o]=null;}
this.plugins=null;};}
exports.default={mixin:function mixin(obj){pluginTarget(obj);}};}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.default=trimCanvas;function trimCanvas(canvas){var width=canvas.width;var height=canvas.height;var context=canvas.getContext('2d');var imageData=context.getImageData(0,0,width,height);var pixels=imageData.data;var len=pixels.length;var bound={top:null,left:null,right:null,bottom:null};var i=void 0;var x=void 0;var y=void 0;for(i=0;i<len;i+=4){if(pixels[i+3]!==0){x=i / 4%width;y=~~(i / 4 / width);if(bound.top===null){bound.top=y;}
if(bound.left===null){bound.left=x;}else if(x<bound.left){bound.left=x;}
if(bound.right===null){bound.right=x+1;}else if(bound.right<x){bound.right=x+1;}
if(bound.bottom===null){bound.bottom=y;}else if(bound.bottom<y){bound.bottom=y;}}}
width=bound.right-bound.left;height=bound.bottom-bound.top+1;var data=context.getImageData(bound.left,bound.top,width,height);return{height:height,width:width,data:data};}}),(function(module,exports,__webpack_require__){"use strict";var _core=__webpack_require__(4);var core=_interopRequireWildcard(_core);var _mesh=__webpack_require__(222);var mesh=_interopRequireWildcard(_mesh);var _particles=__webpack_require__(223);var particles=_interopRequireWildcard(_particles);var _extras=__webpack_require__(117);var extras=_interopRequireWildcard(_extras);var _filters=__webpack_require__(213);var filters=_interopRequireWildcard(_filters);var _prepare=__webpack_require__(224);var prepare=_interopRequireWildcard(_prepare);var _loaders=__webpack_require__(218);var loaders=_interopRequireWildcard(_loaders);var _interaction=__webpack_require__(215);var interaction=_interopRequireWildcard(_interaction);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function warn(msg){var stack=new Error().stack;if(typeof stack==='undefined'){console.warn('Deprecation Warning: ',msg);}else{stack=stack.split('\n').splice(3).join('\n');if(console.groupCollapsed){console.groupCollapsed('%cDeprecation Warning: %c%s','color:#614108;background:#fffbe6','font-weight:normal;color:#614108;background:#fffbe6',msg);console.warn(stack);console.groupEnd();}else{console.warn('Deprecation Warning: ',msg);console.warn(stack);}}}
core.SpriteBatch=function(){throw new ReferenceError('SpriteBatch does not exist any more, please use the new ParticleContainer instead.');};core.AssetLoader=function(){throw new ReferenceError('The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.');};Object.defineProperties(core,{Stage:{enumerable:true,get:function get(){warn('You do not need to use a PIXI Stage any more, you can simply render any container.');return core.Container;}},DisplayObjectContainer:{enumerable:true,get:function get(){warn('DisplayObjectContainer has been shortened to Container, please use Container from now on.');return core.Container;}},Strip:{enumerable:true,get:function get(){warn('The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on.');return mesh.Mesh;}},Rope:{enumerable:true,get:function get(){warn('The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on.');return mesh.Rope;}},ParticleContainer:{enumerable:true,get:function get(){warn('The ParticleContainer class has been moved to particles.ParticleContainer, '+'please use particles.ParticleContainer from now on.');return particles.ParticleContainer;}},MovieClip:{enumerable:true,get:function get(){warn('The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite.');return extras.AnimatedSprite;}},TilingSprite:{enumerable:true,get:function get(){warn('The TilingSprite class has been moved to extras.TilingSprite, '+'please use extras.TilingSprite from now on.');return extras.TilingSprite;}},BitmapText:{enumerable:true,get:function get(){warn('The BitmapText class has been moved to extras.BitmapText, '+'please use extras.BitmapText from now on.');return extras.BitmapText;}},blendModes:{enumerable:true,get:function get(){warn('The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on.');return core.BLEND_MODES;}},scaleModes:{enumerable:true,get:function get(){warn('The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on.');return core.SCALE_MODES;}},BaseTextureCache:{enumerable:true,get:function get(){warn('The BaseTextureCache class has been moved to utils.BaseTextureCache, '+'please use utils.BaseTextureCache from now on.');return core.utils.BaseTextureCache;}},TextureCache:{enumerable:true,get:function get(){warn('The TextureCache class has been moved to utils.TextureCache, '+'please use utils.TextureCache from now on.');return core.utils.TextureCache;}},math:{enumerable:true,get:function get(){warn('The math namespace is deprecated, please access members already accessible on PIXI.');return core;}},AbstractFilter:{enumerable:true,get:function get(){warn('AstractFilter has been renamed to Filter, please use PIXI.Filter');return core.Filter;}},TransformManual:{enumerable:true,get:function get(){warn('TransformManual has been renamed to TransformBase, please update your pixi-spine');return core.TransformBase;}},TARGET_FPMS:{enumerable:true,get:function get(){warn('PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS');return core.settings.TARGET_FPMS;},set:function set(value){warn('PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS');core.settings.TARGET_FPMS=value;}},FILTER_RESOLUTION:{enumerable:true,get:function get(){warn('PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION');return core.settings.FILTER_RESOLUTION;},set:function set(value){warn('PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION');core.settings.FILTER_RESOLUTION=value;}},RESOLUTION:{enumerable:true,get:function get(){warn('PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION');return core.settings.RESOLUTION;},set:function set(value){warn('PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION');core.settings.RESOLUTION=value;}},MIPMAP_TEXTURES:{enumerable:true,get:function get(){warn('PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES');return core.settings.MIPMAP_TEXTURES;},set:function set(value){warn('PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES');core.settings.MIPMAP_TEXTURES=value;}},SPRITE_BATCH_SIZE:{enumerable:true,get:function get(){warn('PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE');return core.settings.SPRITE_BATCH_SIZE;},set:function set(value){warn('PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE');core.settings.SPRITE_BATCH_SIZE=value;}},SPRITE_MAX_TEXTURES:{enumerable:true,get:function get(){warn('PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES');return core.settings.SPRITE_MAX_TEXTURES;},set:function set(value){warn('PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES');core.settings.SPRITE_MAX_TEXTURES=value;}},RETINA_PREFIX:{enumerable:true,get:function get(){warn('PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX');return core.settings.RETINA_PREFIX;},set:function set(value){warn('PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX');core.settings.RETINA_PREFIX=value;}},DEFAULT_RENDER_OPTIONS:{enumerable:true,get:function get(){warn('PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS');return core.settings.RENDER_OPTIONS;}}});var defaults=[{parent:'TRANSFORM_MODE',target:'TRANSFORM_MODE'},{parent:'GC_MODES',target:'GC_MODE'},{parent:'WRAP_MODES',target:'WRAP_MODE'},{parent:'SCALE_MODES',target:'SCALE_MODE'},{parent:'PRECISION',target:'PRECISION_FRAGMENT'}];var _loop=function _loop(i){var deprecation=defaults[i];Object.defineProperty(core[deprecation.parent],'DEFAULT',{enumerable:true,get:function get(){warn('PIXI.'+deprecation.parent+'.DEFAULT has been deprecated, please use PIXI.settings.'+deprecation.target);return core.settings[deprecation.target];},set:function set(value){warn('PIXI.'+deprecation.parent+'.DEFAULT has been deprecated, please use PIXI.settings.'+deprecation.target);core.settings[deprecation.target]=value;}});};for(var i=0;i<defaults.length;i++){_loop(i);}
Object.defineProperties(core.settings,{PRECISION:{enumerable:true,get:function get(){warn('PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT');return core.settings.PRECISION_FRAGMENT;},set:function set(value){warn('PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT');core.settings.PRECISION_FRAGMENT=value;}}});Object.defineProperties(extras,{MovieClip:{enumerable:true,get:function get(){warn('The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on.');return extras.AnimatedSprite;}}});core.DisplayObject.prototype.generateTexture=function generateTexture(renderer,scaleMode,resolution){warn('generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)');return renderer.generateTexture(this,scaleMode,resolution);};core.Graphics.prototype.generateTexture=function generateTexture(scaleMode,resolution){warn('graphics generate texture has moved to the renderer. '+'Or to render a graphics to a texture using canvas please use generateCanvasTexture');return this.generateCanvasTexture(scaleMode,resolution);};core.RenderTexture.prototype.render=function render(displayObject,matrix,clear,updateTransform){this.legacyRenderer.render(displayObject,this,clear,matrix,!updateTransform);warn('RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)');};core.RenderTexture.prototype.getImage=function getImage(target){warn('RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)');return this.legacyRenderer.extract.image(target);};core.RenderTexture.prototype.getBase64=function getBase64(target){warn('RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)');return this.legacyRenderer.extract.base64(target);};core.RenderTexture.prototype.getCanvas=function getCanvas(target){warn('RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)');return this.legacyRenderer.extract.canvas(target);};core.RenderTexture.prototype.getPixels=function getPixels(target){warn('RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)');return this.legacyRenderer.pixels(target);};core.Sprite.prototype.setTexture=function setTexture(texture){this.texture=texture;warn('setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;');};extras.BitmapText.prototype.setText=function setText(text){this.text=text;warn('setText is now deprecated, please use the text property, e.g : myBitmapText.text = \'my text\';');};core.Text.prototype.setText=function setText(text){this.text=text;warn('setText is now deprecated, please use the text property, e.g : myText.text = \'my text\';');};core.Text.prototype.setStyle=function setStyle(style){this.style=style;warn('setStyle is now deprecated, please use the style property, e.g : myText.style = style;');};core.Text.prototype.determineFontProperties=function determineFontProperties(fontStyle){warn('determineFontProperties is now deprecated, please use the static calculateFontProperties method, '+'e.g : Text.calculateFontProperties(fontStyle);');return core.Text.calculateFontProperties(fontStyle);};Object.defineProperties(core.TextStyle.prototype,{font:{get:function get(){warn('text style property \'font\' is now deprecated, please use the '+'\'fontFamily\', \'fontSize\', \'fontStyle\', \'fontVariant\' and \'fontWeight\' properties from now on');var fontSizeString=typeof this._fontSize==='number'?this._fontSize+'px':this._fontSize;return this._fontStyle+' '+this._fontVariant+' '+this._fontWeight+' '+fontSizeString+' '+this._fontFamily;},set:function set(font){warn('text style property \'font\' is now deprecated, please use the '+'\'fontFamily\',\'fontSize\',fontStyle\',\'fontVariant\' and \'fontWeight\' properties from now on');if(font.indexOf('italic')>1){this._fontStyle='italic';}else if(font.indexOf('oblique')>-1){this._fontStyle='oblique';}else{this._fontStyle='normal';}
if(font.indexOf('small-caps')>-1){this._fontVariant='small-caps';}else{this._fontVariant='normal';}
var splits=font.split(' ');var fontSizeIndex=-1;this._fontSize=26;for(var i=0;i<splits.length;++i){if(splits[i].match(/(px|pt|em|%)/)){fontSizeIndex=i;this._fontSize=splits[i];break;}}
this._fontWeight='normal';for(var _i=0;_i<fontSizeIndex;++_i){if(splits[_i].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=splits[_i];break;}}
if(fontSizeIndex>-1&&fontSizeIndex<splits.length-1){this._fontFamily='';for(var _i2=fontSizeIndex+1;_i2<splits.length;++_i2){this._fontFamily+=splits[_i2]+' ';}
this._fontFamily=this._fontFamily.slice(0,-1);}else{this._fontFamily='Arial';}
this.styleID++;}}});core.Texture.prototype.setFrame=function setFrame(frame){this.frame=frame;warn('setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;');};Object.defineProperties(filters,{AbstractFilter:{get:function get(){warn('AstractFilter has been renamed to Filter, please use PIXI.Filter');return core.AbstractFilter;}},SpriteMaskFilter:{get:function get(){warn('filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on.');return core.SpriteMaskFilter;}}});core.utils.uuid=function(){warn('utils.uuid() is deprecated, please use utils.uid() from now on.');return core.utils.uid();};core.utils.canUseNewCanvasBlendModes=function(){warn('utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on');return core.CanvasTinter.canUseMultiply;};var saidHello=true;Object.defineProperty(core.utils,'_saidHello',{set:function set(bool){if(bool){warn('PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()');this.skipHello();}
saidHello=bool;},get:function get(){return saidHello;}});Object.defineProperty(prepare.canvas,'UPLOADS_PER_FRAME',{set:function set(){warn('PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set '+'renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer');},get:function get(){warn('PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use '+'renderer.plugins.prepare.limiter');return NaN;}});Object.defineProperty(prepare.webgl,'UPLOADS_PER_FRAME',{set:function set(){warn('PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set '+'renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer');},get:function get(){warn('PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use '+'renderer.plugins.prepare.limiter');return NaN;}});Object.defineProperties(loaders.Resource.prototype,{isJson:{get:function get(){warn('The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`.');return this.type===loaders.Loader.Resource.TYPE.JSON;}},isXml:{get:function get(){warn('The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`.');return this.type===loaders.Loader.Resource.TYPE.XML;}},isImage:{get:function get(){warn('The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`.');return this.type===loaders.Loader.Resource.TYPE.IMAGE;}},isAudio:{get:function get(){warn('The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`.');return this.type===loaders.Loader.Resource.TYPE.AUDIO;}},isVideo:{get:function get(){warn('The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`.');return this.type===loaders.Loader.Resource.TYPE.VIDEO;}}});Object.defineProperties(loaders.Loader.prototype,{before:{get:function get(){warn('The before() method is deprecated, please use pre().');return this.pre;}},after:{get:function get(){warn('The after() method is deprecated, please use use().');return this.use;}}});Object.defineProperty(interaction.interactiveTarget,'defaultCursor',{set:function set(value){warn('Property defaultCursor has been replaced with \'cursor\'. ');this.cursor=value;},get:function get(){warn('Property defaultCursor has been replaced with \'cursor\'. ');return this.cursor;},enumerable:true});Object.defineProperty(interaction.InteractionManager,'defaultCursorStyle',{set:function set(value){warn('Property defaultCursorStyle has been replaced with \'cursorStyles.default\'. ');this.cursorStyles.default=value;},get:function get(){warn('Property defaultCursorStyle has been replaced with \'cursorStyles.default\'. ');return this.cursorStyles.default;}});Object.defineProperty(interaction.InteractionManager,'currentCursorStyle',{set:function set(value){warn('Property currentCursorStyle has been removed.'+'See the currentCursorMode property, which works differently.');this.currentCursorMode=value;},get:function get(){warn('Property currentCursorStyle has been removed.'+'See the currentCursorMode property, which works differently.');return this.currentCursorMode;}});}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _core=__webpack_require__(4);var core=_interopRequireWildcard(_core);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var TEMP_RECT=new core.Rectangle();var CanvasExtract=function(){function CanvasExtract(renderer){_classCallCheck(this,CanvasExtract);this.renderer=renderer;renderer.extract=this;}
CanvasExtract.prototype.image=function image(target){var image=new Image();image.src=this.base64(target);return image;};CanvasExtract.prototype.base64=function base64(target){return this.canvas(target).toDataURL();};CanvasExtract.prototype.canvas=function canvas(target){var renderer=this.renderer;var context=void 0;var resolution=void 0;var frame=void 0;var renderTexture=void 0;if(target){if(target instanceof core.RenderTexture){renderTexture=target;}else{renderTexture=renderer.generateTexture(target);}}
if(renderTexture){context=renderTexture.baseTexture._canvasRenderTarget.context;resolution=renderTexture.baseTexture._canvasRenderTarget.resolution;frame=renderTexture.frame;}else{context=renderer.rootContext;frame=TEMP_RECT;frame.width=this.renderer.width;frame.height=this.renderer.height;}
var width=frame.width*resolution;var height=frame.height*resolution;var canvasBuffer=new core.CanvasRenderTarget(width,height);var canvasData=context.getImageData(frame.x*resolution,frame.y*resolution,width,height);canvasBuffer.context.putImageData(canvasData,0,0);return canvasBuffer.canvas;};CanvasExtract.prototype.pixels=function pixels(target){var renderer=this.renderer;var context=void 0;var resolution=void 0;var frame=void 0;var renderTexture=void 0;if(target){if(target instanceof core.RenderTexture){renderTexture=target;}else{renderTexture=renderer.generateTexture(target);}}
if(renderTexture){context=renderTexture.baseTexture._canvasRenderTarget.context;resolution=renderTexture.baseTexture._canvasRenderTarget.resolution;frame=renderTexture.frame;}else{context=renderer.rootContext;frame=TEMP_RECT;frame.width=renderer.width;frame.height=renderer.height;}
return context.getImageData(0,0,frame.width*resolution,frame.height*resolution).data;};CanvasExtract.prototype.destroy=function destroy(){this.renderer.extract=null;this.renderer=null;};return CanvasExtract;}();exports.default=CanvasExtract;core.CanvasRenderer.registerPlugin('extract',CanvasExtract);}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _WebGLExtract=__webpack_require__(669);Object.defineProperty(exports,'webgl',{enumerable:true,get:function get(){return _interopRequireDefault(_WebGLExtract).default;}});var _CanvasExtract=__webpack_require__(667);Object.defineProperty(exports,'canvas',{enumerable:true,get:function get(){return _interopRequireDefault(_CanvasExtract).default;}});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _core=__webpack_require__(4);var core=_interopRequireWildcard(_core);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var TEMP_RECT=new core.Rectangle();var BYTES_PER_PIXEL=4;var WebGLExtract=function(){function WebGLExtract(renderer){_classCallCheck(this,WebGLExtract);this.renderer=renderer;renderer.extract=this;}
WebGLExtract.prototype.image=function image(target){var image=new Image();image.src=this.base64(target);return image;};WebGLExtract.prototype.base64=function base64(target){return this.canvas(target).toDataURL();};WebGLExtract.prototype.canvas=function canvas(target){var renderer=this.renderer;var textureBuffer=void 0;var resolution=void 0;var frame=void 0;var flipY=false;var renderTexture=void 0;if(target){if(target instanceof core.RenderTexture){renderTexture=target;}else{renderTexture=this.renderer.generateTexture(target);}}
if(renderTexture){textureBuffer=renderTexture.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID];resolution=textureBuffer.resolution;frame=renderTexture.frame;flipY=false;}else{textureBuffer=this.renderer.rootRenderTarget;resolution=textureBuffer.resolution;flipY=true;frame=TEMP_RECT;frame.width=textureBuffer.size.width;frame.height=textureBuffer.size.height;}
var width=frame.width*resolution;var height=frame.height*resolution;var canvasBuffer=new core.CanvasRenderTarget(width,height);if(textureBuffer){renderer.bindRenderTarget(textureBuffer);var webglPixels=new Uint8Array(BYTES_PER_PIXEL*width*height);var gl=renderer.gl;gl.readPixels(frame.x*resolution,frame.y*resolution,width,height,gl.RGBA,gl.UNSIGNED_BYTE,webglPixels);var canvasData=canvasBuffer.context.getImageData(0,0,width,height);canvasData.data.set(webglPixels);canvasBuffer.context.putImageData(canvasData,0,0);if(flipY){canvasBuffer.context.scale(1,-1);canvasBuffer.context.drawImage(canvasBuffer.canvas,0,-height);}}
return canvasBuffer.canvas;};WebGLExtract.prototype.pixels=function pixels(target){var renderer=this.renderer;var textureBuffer=void 0;var resolution=void 0;var frame=void 0;var renderTexture=void 0;if(target){if(target instanceof core.RenderTexture){renderTexture=target;}else{renderTexture=this.renderer.generateTexture(target);}}
if(renderTexture){textureBuffer=renderTexture.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID];resolution=textureBuffer.resolution;frame=renderTexture.frame;}else{textureBuffer=this.renderer.rootRenderTarget;resolution=textureBuffer.resolution;frame=TEMP_RECT;frame.width=textureBuffer.size.width;frame.height=textureBuffer.size.height;}
var width=frame.width*resolution;var height=frame.height*resolution;var webglPixels=new Uint8Array(BYTES_PER_PIXEL*width*height);if(textureBuffer){renderer.bindRenderTarget(textureBuffer);var gl=renderer.gl;gl.readPixels(frame.x*resolution,frame.y*resolution,width,height,gl.RGBA,gl.UNSIGNED_BYTE,webglPixels);}
return webglPixels;};WebGLExtract.prototype.destroy=function destroy(){this.renderer.extract=null;this.renderer=null;};return WebGLExtract;}();exports.default=WebGLExtract;core.WebGLRenderer.registerPlugin('extract',WebGLExtract);}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _core=__webpack_require__(4);var core=_interopRequireWildcard(_core);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var AnimatedSprite=function(_core$Sprite){_inherits(AnimatedSprite,_core$Sprite);function AnimatedSprite(textures,autoUpdate){_classCallCheck(this,AnimatedSprite);var _this=_possibleConstructorReturn(this,_core$Sprite.call(this,textures[0]instanceof core.Texture?textures[0]:textures[0].texture));_this._textures=null;_this._durations=null;_this.textures=textures;_this._autoUpdate=autoUpdate!==false;_this.animationSpeed=1;_this.loop=true;_this.onComplete=null;_this.onFrameChange=null;_this._currentTime=0;_this.playing=false;return _this;}
AnimatedSprite.prototype.stop=function stop(){if(!this.playing){return;}
this.playing=false;if(this._autoUpdate){core.ticker.shared.remove(this.update,this);}};AnimatedSprite.prototype.play=function play(){if(this.playing){return;}
this.playing=true;if(this._autoUpdate){core.ticker.shared.add(this.update,this);}};AnimatedSprite.prototype.gotoAndStop=function gotoAndStop(frameNumber){this.stop();var previousFrame=this.currentFrame;this._currentTime=frameNumber;if(previousFrame!==this.currentFrame){this.updateTexture();}};AnimatedSprite.prototype.gotoAndPlay=function gotoAndPlay(frameNumber){var previousFrame=this.currentFrame;this._currentTime=frameNumber;if(previousFrame!==this.currentFrame){this.updateTexture();}
this.play();};AnimatedSprite.prototype.update=function update(deltaTime){var elapsed=this.animationSpeed*deltaTime;var previousFrame=this.currentFrame;if(this._durations!==null){var lag=this._currentTime%1*this._durations[this.currentFrame];lag+=elapsed / 60*1000;while(lag<0){this._currentTime--;lag+=this._durations[this.currentFrame];}
var sign=Math.sign(this.animationSpeed*deltaTime);this._currentTime=Math.floor(this._currentTime);while(lag>=this._durations[this.currentFrame]){lag-=this._durations[this.currentFrame]*sign;this._currentTime+=sign;}
this._currentTime+=lag / this._durations[this.currentFrame];}else{this._currentTime+=elapsed;}
if(this._currentTime<0&&!this.loop){this.gotoAndStop(0);if(this.onComplete){this.onComplete();}}else if(this._currentTime>=this._textures.length&&!this.loop){this.gotoAndStop(this._textures.length-1);if(this.onComplete){this.onComplete();}}else if(previousFrame!==this.currentFrame){this.updateTexture();}};AnimatedSprite.prototype.updateTexture=function updateTexture(){this._texture=this._textures[this.currentFrame];this._textureID=-1;if(this.onFrameChange){this.onFrameChange(this.currentFrame);}};AnimatedSprite.prototype.destroy=function destroy(){this.stop();_core$Sprite.prototype.destroy.call(this);};AnimatedSprite.fromFrames=function fromFrames(frames){var textures=[];for(var i=0;i<frames.length;++i){textures.push(core.Texture.fromFrame(frames[i]));}
return new AnimatedSprite(textures);};AnimatedSprite.fromImages=function fromImages(images){var textures=[];for(var i=0;i<images.length;++i){textures.push(core.Texture.fromImage(images[i]));}
return new AnimatedSprite(textures);};_createClass(AnimatedSprite,[{key:'totalFrames',get:function get(){return this._textures.length;}},{key:'textures',get:function get(){return this._textures;},set:function set(value)
{if(value[0]instanceof core.Texture){this._textures=value;this._durations=null;}else{this._textures=[];this._durations=[];for(var i=0;i<value.length;i++){this._textures.push(value[i].texture);this._durations.push(value[i].time);}}}},{key:'currentFrame',get:function get(){var currentFrame=Math.floor(this._currentTime)%this._textures.length;if(currentFrame<0){currentFrame+=this._textures.length;}
return currentFrame;}}]);return AnimatedSprite;}(core.Sprite);exports.default=AnimatedSprite;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _core=__webpack_require__(4);var core=_interopRequireWildcard(_core);var _ObservablePoint=__webpack_require__(196);var _ObservablePoint2=_interopRequireDefault(_ObservablePoint);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var BitmapText=function(_core$Container){_inherits(BitmapText,_core$Container);function BitmapText(text){var style=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,BitmapText);var _this=_possibleConstructorReturn(this,_core$Container.call(this));_this._textWidth=0;_this._textHeight=0;_this._glyphs=[];_this._font={tint:style.tint!==undefined?style.tint:0xFFFFFF,align:style.align||'left',name:null,size:0};_this.font=style.font;_this._text=text;_this.maxWidth=0;_this.maxLineHeight=0;_this._anchor=new _ObservablePoint2.default(function(){_this.dirty=true;},_this,0,0);_this.dirty=false;_this.updateText();return _this;}
BitmapText.prototype.updateText=function updateText(){var data=BitmapText.fonts[this._font.name];var scale=this._font.size / data.size;var pos=new core.Point();var chars=[];var lineWidths=[];var prevCharCode=null;var lastLineWidth=0;var maxLineWidth=0;var line=0;var lastSpace=-1;var lastSpaceWidth=0;var maxLineHeight=0;for(var i=0;i<this.text.length;i++){var charCode=this.text.charCodeAt(i);if(/(\s)/.test(this.text.charAt(i))){lastSpace=i;lastSpaceWidth=lastLineWidth;}
if(/(?:\r\n|\r|\n)/.test(this.text.charAt(i))){lineWidths.push(lastLineWidth);maxLineWidth=Math.max(maxLineWidth,lastLineWidth);line++;pos.x=0;pos.y+=data.lineHeight;prevCharCode=null;continue;}
if(lastSpace!==-1&&this.maxWidth>0&&pos.x*scale>this.maxWidth){core.utils.removeItems(chars,lastSpace,i-lastSpace);i=lastSpace;lastSpace=-1;lineWidths.push(lastSpaceWidth);maxLineWidth=Math.max(maxLineWidth,lastSpaceWidth);line++;pos.x=0;pos.y+=data.lineHeight;prevCharCode=null;continue;}
var charData=data.chars[charCode];if(!charData){continue;}
if(prevCharCode&&charData.kerning[prevCharCode]){pos.x+=charData.kerning[prevCharCode];}
chars.push({texture:charData.texture,line:line,charCode:charCode,position:new core.Point(pos.x+charData.xOffset,pos.y+charData.yOffset)});lastLineWidth=pos.x+(charData.texture.width+charData.xOffset);pos.x+=charData.xAdvance;maxLineHeight=Math.max(maxLineHeight,charData.yOffset+charData.texture.height);prevCharCode=charCode;}
lineWidths.push(lastLineWidth);maxLineWidth=Math.max(maxLineWidth,lastLineWidth);var lineAlignOffsets=[];for(var _i=0;_i<=line;_i++){var alignOffset=0;if(this._font.align==='right'){alignOffset=maxLineWidth-lineWidths[_i];}else if(this._font.align==='center'){alignOffset=(maxLineWidth-lineWidths[_i])/ 2;}
lineAlignOffsets.push(alignOffset);}
var lenChars=chars.length;var tint=this.tint;for(var _i2=0;_i2<lenChars;_i2++){var c=this._glyphs[_i2];if(c){c.texture=chars[_i2].texture;}else{c=new core.Sprite(chars[_i2].texture);this._glyphs.push(c);}
c.position.x=(chars[_i2].position.x+lineAlignOffsets[chars[_i2].line])*scale;c.position.y=chars[_i2].position.y*scale;c.scale.x=c.scale.y=scale;c.tint=tint;if(!c.parent){this.addChild(c);}}
for(var _i3=lenChars;_i3<this._glyphs.length;++_i3){this.removeChild(this._glyphs[_i3]);}
this._textWidth=maxLineWidth*scale;this._textHeight=(pos.y+data.lineHeight)*scale;if(this.anchor.x!==0||this.anchor.y!==0){for(var _i4=0;_i4<lenChars;_i4++){this._glyphs[_i4].x-=this._textWidth*this.anchor.x;this._glyphs[_i4].y-=this._textHeight*this.anchor.y;}}
this.maxLineHeight=maxLineHeight*scale;};BitmapText.prototype.updateTransform=function updateTransform(){this.validate();this.containerUpdateTransform();};BitmapText.prototype.getLocalBounds=function getLocalBounds(){this.validate();return _core$Container.prototype.getLocalBounds.call(this);};BitmapText.prototype.validate=function validate(){if(this.dirty){this.updateText();this.dirty=false;}};BitmapText.registerFont=function registerFont(xml,texture){var data={};var info=xml.getElementsByTagName('info')[0];var common=xml.getElementsByTagName('common')[0];data.font=info.getAttribute('face');data.size=parseInt(info.getAttribute('size'),10);data.lineHeight=parseInt(common.getAttribute('lineHeight'),10);data.chars={};var letters=xml.getElementsByTagName('char');for(var i=0;i<letters.length;i++){var letter=letters[i];var charCode=parseInt(letter.getAttribute('id'),10);var textureRect=new core.Rectangle(parseInt(letter.getAttribute('x'),10)+texture.frame.x,parseInt(letter.getAttribute('y'),10)+texture.frame.y,parseInt(letter.getAttribute('width'),10),parseInt(letter.getAttribute('height'),10));data.chars[charCode]={xOffset:parseInt(letter.getAttribute('xoffset'),10),yOffset:parseInt(letter.getAttribute('yoffset'),10),xAdvance:parseInt(letter.getAttribute('xadvance'),10),kerning:{},texture:new core.Texture(texture.baseTexture,textureRect)};}
var kernings=xml.getElementsByTagName('kerning');for(var _i5=0;_i5<kernings.length;_i5++){var kerning=kernings[_i5];var first=parseInt(kerning.getAttribute('first'),10);var second=parseInt(kerning.getAttribute('second'),10);var amount=parseInt(kerning.getAttribute('amount'),10);if(data.chars[second]){data.chars[second].kerning[first]=amount;}}
BitmapText.fonts[data.font]=data;return data;};_createClass(BitmapText,[{key:'tint',get:function get(){return this._font.tint;},set:function set(value)
{this._font.tint=typeof value==='number'&&value>=0?value:0xFFFFFF;this.dirty=true;}},{key:'align',get:function get(){return this._font.align;},set:function set(value)
{this._font.align=value||'left';this.dirty=true;}},{key:'anchor',get:function get(){return this._anchor;},set:function set(value)
{if(typeof value==='number'){this._anchor.set(value);}else{this._anchor.copy(value);}}},{key:'font',get:function get(){return this._font;},set:function set(value)
{if(!value){return;}
if(typeof value==='string'){value=value.split(' ');this._font.name=value.length===1?value[0]:value.slice(1).join(' ');this._font.size=value.length>=2?parseInt(value[0],10):BitmapText.fonts[this._font.name].size;}else{this._font.name=value.name;this._font.size=typeof value.size==='number'?value.size:parseInt(value.size,10);}
this.dirty=true;}},{key:'text',get:function get(){return this._text;},set:function set(value)
{value=value.toString()||' ';if(this._text===value){return;}
this._text=value;this.dirty=true;}},{key:'textWidth',get:function get(){this.validate();return this._textWidth;}},{key:'textHeight',get:function get(){this.validate();return this._textHeight;}}]);return BitmapText;}(core.Container);exports.default=BitmapText;BitmapText.fonts={};}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _core=__webpack_require__(4);var core=_interopRequireWildcard(_core);var _CanvasTinter=__webpack_require__(113);var _CanvasTinter2=_interopRequireDefault(_CanvasTinter);var _TextureTransform=__webpack_require__(207);var _TextureTransform2=_interopRequireDefault(_TextureTransform);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var tempPoint=new core.Point();var TilingSprite=function(_core$Sprite){_inherits(TilingSprite,_core$Sprite);function TilingSprite(texture){var width=arguments.length>1&&arguments[1]!==undefined?arguments[1]:100;var height=arguments.length>2&&arguments[2]!==undefined?arguments[2]:100;_classCallCheck(this,TilingSprite);var _this=_possibleConstructorReturn(this,_core$Sprite.call(this,texture));_this.tileTransform=new core.TransformStatic();_this._width=width;_this._height=height;_this._canvasPattern=null;_this.uvTransform=texture.transform||new _TextureTransform2.default(texture);_this.pluginName='tilingSprite';_this.uvRespectAnchor=false;return _this;}
TilingSprite.prototype._onTextureUpdate=function _onTextureUpdate(){if(this.uvTransform){this.uvTransform.texture=this._texture;}};TilingSprite.prototype._renderWebGL=function _renderWebGL(renderer){var texture=this._texture;if(!texture||!texture.valid){return;}
this.tileTransform.updateLocalTransform();this.uvTransform.update();renderer.setObjectRenderer(renderer.plugins[this.pluginName]);renderer.plugins[this.pluginName].render(this);};TilingSprite.prototype._renderCanvas=function _renderCanvas(renderer){var texture=this._texture;if(!texture.baseTexture.hasLoaded){return;}
var context=renderer.context;var transform=this.worldTransform;var resolution=renderer.resolution;var baseTexture=texture.baseTexture;var baseTextureResolution=texture.baseTexture.resolution;var modX=this.tilePosition.x / this.tileScale.x%texture._frame.width;var modY=this.tilePosition.y / this.tileScale.y%texture._frame.height;if(!this._canvasPattern){var tempCanvas=new core.CanvasRenderTarget(texture._frame.width,texture._frame.height,baseTextureResolution);if(this.tint!==0xFFFFFF){if(this.cachedTint!==this.tint){this.cachedTint=this.tint;this.tintedTexture=_CanvasTinter2.default.getTintedTexture(this,this.tint);}
tempCanvas.context.drawImage(this.tintedTexture,0,0);}else{tempCanvas.context.drawImage(baseTexture.source,-texture._frame.x,-texture._frame.y);}
this._canvasPattern=tempCanvas.context.createPattern(tempCanvas.canvas,'repeat');}
context.globalAlpha=this.worldAlpha;context.setTransform(transform.a*resolution,transform.b*resolution,transform.c*resolution,transform.d*resolution,transform.tx*resolution,transform.ty*resolution);renderer.setBlendMode(this.blendMode);context.fillStyle=this._canvasPattern;context.scale(this.tileScale.x / baseTextureResolution,this.tileScale.y / baseTextureResolution);var anchorX=this.anchor.x*-this._width;var anchorY=this.anchor.y*-this._height;if(this.uvRespectAnchor){context.translate(modX,modY);context.fillRect(-modX+anchorX,-modY+anchorY,this._width / this.tileScale.x*baseTextureResolution,this._height / this.tileScale.y*baseTextureResolution);}else{context.translate(modX+anchorX,modY+anchorY);context.fillRect(-modX,-modY,this._width / this.tileScale.x*baseTextureResolution,this._height / this.tileScale.y*baseTextureResolution);}};TilingSprite.prototype._calculateBounds=function _calculateBounds(){var minX=this._width*-this._anchor._x;var minY=this._height*-this._anchor._y;var maxX=this._width*(1-this._anchor._x);var maxY=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,minX,minY,maxX,maxY);};TilingSprite.prototype.getLocalBounds=function getLocalBounds(rect){if(this.children.length===0){this._bounds.minX=this._width*-this._anchor._x;this._bounds.minY=this._height*-this._anchor._y;this._bounds.maxX=this._width*(1-this._anchor._x);this._bounds.maxY=this._height*(1-this._anchor._x);if(!rect){if(!this._localBoundsRect){this._localBoundsRect=new core.Rectangle();}
rect=this._localBoundsRect;}
return this._bounds.getRectangle(rect);}
return _core$Sprite.prototype.getLocalBounds.call(this,rect);};TilingSprite.prototype.containsPoint=function containsPoint(point){this.worldTransform.applyInverse(point,tempPoint);var width=this._width;var height=this._height;var x1=-width*this.anchor._x;if(tempPoint.x>x1&&tempPoint.x<x1+width){var y1=-height*this.anchor._y;if(tempPoint.y>y1&&tempPoint.y<y1+height){return true;}}
return false;};TilingSprite.prototype.destroy=function destroy(){_core$Sprite.prototype.destroy.call(this);this.tileTransform=null;this.uvTransform=null;};TilingSprite.from=function from(source,width,height){return new TilingSprite(core.Texture.from(source),width,height);};TilingSprite.fromFrame=function fromFrame(frameId,width,height){var texture=core.utils.TextureCache[frameId];if(!texture){throw new Error('The frameId "'+frameId+'" does not exist in the texture cache '+this);}
return new TilingSprite(texture,width,height);};TilingSprite.fromImage=function fromImage(imageId,width,height,crossorigin,scaleMode){return new TilingSprite(core.Texture.fromImage(imageId,crossorigin,scaleMode),width,height);};_createClass(TilingSprite,[{key:'clampMargin',get:function get(){return this.uvTransform.clampMargin;},set:function set(value)
{this.uvTransform.clampMargin=value;this.uvTransform.update(true);}},{key:'tileScale',get:function get(){return this.tileTransform.scale;},set:function set(value)
{this.tileTransform.scale.copy(value);}},{key:'tilePosition',get:function get(){return this.tileTransform.position;},set:function set(value)
{this.tileTransform.position.copy(value);}},{key:'width',get:function get(){return this._width;},set:function set(value)
{this._width=value;}},{key:'height',get:function get(){return this._height;},set:function set(value)
{this._height=value;}}]);return TilingSprite;}(core.Sprite);exports.default=TilingSprite;}),(function(module,exports,__webpack_require__){"use strict";var _core=__webpack_require__(4);var core=_interopRequireWildcard(_core);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var DisplayObject=core.DisplayObject;var _tempMatrix=new core.Matrix();DisplayObject.prototype._cacheAsBitmap=false;DisplayObject.prototype._cacheData=false;var CacheData=function CacheData(){_classCallCheck(this,CacheData);this.originalRenderWebGL=null;this.originalRenderCanvas=null;this.originalCalculateBounds=null;this.originalGetLocalBounds=null;this.originalUpdateTransform=null;this.originalHitTest=null;this.originalDestroy=null;this.originalMask=null;this.originalFilterArea=null;this.sprite=null;};Object.defineProperties(DisplayObject.prototype,{cacheAsBitmap:{get:function get(){return this._cacheAsBitmap;},set:function set(value){if(this._cacheAsBitmap===value){return;}
this._cacheAsBitmap=value;var data=void 0;if(value){if(!this._cacheData){this._cacheData=new CacheData();}
data=this._cacheData;data.originalRenderWebGL=this.renderWebGL;data.originalRenderCanvas=this.renderCanvas;data.originalUpdateTransform=this.updateTransform;data.originalCalculateBounds=this._calculateBounds;data.originalGetLocalBounds=this.getLocalBounds;data.originalDestroy=this.destroy;data.originalContainsPoint=this.containsPoint;data.originalMask=this._mask;data.originalFilterArea=this.filterArea;this.renderWebGL=this._renderCachedWebGL;this.renderCanvas=this._renderCachedCanvas;this.destroy=this._cacheAsBitmapDestroy;}else{data=this._cacheData;if(data.sprite){this._destroyCachedDisplayObject();}
this.renderWebGL=data.originalRenderWebGL;this.renderCanvas=data.originalRenderCanvas;this._calculateBounds=data.originalCalculateBounds;this.getLocalBounds=data.originalGetLocalBounds;this.destroy=data.originalDestroy;this.updateTransform=data.originalUpdateTransform;this.containsPoint=data.originalContainsPoint;this._mask=data.originalMask;this.filterArea=data.originalFilterArea;}}}});DisplayObject.prototype._renderCachedWebGL=function _renderCachedWebGL(renderer){if(!this.visible||this.worldAlpha<=0||!this.renderable){return;}
this._initCachedDisplayObject(renderer);this._cacheData.sprite._transformID=-1;this._cacheData.sprite.worldAlpha=this.worldAlpha;this._cacheData.sprite._renderWebGL(renderer);};DisplayObject.prototype._initCachedDisplayObject=function _initCachedDisplayObject(renderer){if(this._cacheData&&this._cacheData.sprite){return;}
var cacheAlpha=this.alpha;this.alpha=1;renderer.currentRenderer.flush();var bounds=this.getLocalBounds().clone();if(this._filters){var padding=this._filters[0].padding;bounds.pad(padding);}
var cachedRenderTarget=renderer._activeRenderTarget;var stack=renderer.filterManager.filterStack;var renderTexture=core.RenderTexture.create(bounds.width|0,bounds.height|0);var m=_tempMatrix;m.tx=-bounds.x;m.ty=-bounds.y;this.transform.worldTransform.identity();this.renderWebGL=this._cacheData.originalRenderWebGL;renderer.render(this,renderTexture,true,m,true);renderer.bindRenderTarget(cachedRenderTarget);renderer.filterManager.filterStack=stack;this.renderWebGL=this._renderCachedWebGL;this.updateTransform=this.displayObjectUpdateTransform;this._mask=null;this.filterArea=null;var cachedSprite=new core.Sprite(renderTexture);cachedSprite.transform.worldTransform=this.transform.worldTransform;cachedSprite.anchor.x=-(bounds.x / bounds.width);cachedSprite.anchor.y=-(bounds.y / bounds.height);cachedSprite.alpha=cacheAlpha;cachedSprite._bounds=this._bounds;this._calculateBounds=this._calculateCachedBounds;this.getLocalBounds=this._getCachedLocalBounds;this._cacheData.sprite=cachedSprite;this.transform._parentID=-1;this.updateTransform();this.containsPoint=cachedSprite.containsPoint.bind(cachedSprite);};DisplayObject.prototype._renderCachedCanvas=function _renderCachedCanvas(renderer){if(!this.visible||this.worldAlpha<=0||!this.renderable){return;}
this._initCachedDisplayObjectCanvas(renderer);this._cacheData.sprite.worldAlpha=this.worldAlpha;this._cacheData.sprite.renderCanvas(renderer);};DisplayObject.prototype._initCachedDisplayObjectCanvas=function _initCachedDisplayObjectCanvas(renderer){if(this._cacheData&&this._cacheData.sprite){return;}
var bounds=this.getLocalBounds();var cacheAlpha=this.alpha;this.alpha=1;var cachedRenderTarget=renderer.context;var renderTexture=core.RenderTexture.create(bounds.width|0,bounds.height|0);var m=_tempMatrix;this.transform.localTransform.copy(m);m.invert();m.tx-=bounds.x;m.ty-=bounds.y;this.renderCanvas=this._cacheData.originalRenderCanvas;renderer.render(this,renderTexture,true,m,false);renderer.context=cachedRenderTarget;this.renderCanvas=this._renderCachedCanvas;this._calculateBounds=this._calculateCachedBounds;this._mask=null;this.filterArea=null;var cachedSprite=new core.Sprite(renderTexture);cachedSprite.transform.worldTransform=this.transform.worldTransform;cachedSprite.anchor.x=-(bounds.x / bounds.width);cachedSprite.anchor.y=-(bounds.y / bounds.height);cachedSprite._bounds=this._bounds;cachedSprite.alpha=cacheAlpha;this.updateTransform();this.updateTransform=this.displayObjectUpdateTransform;this._cacheData.sprite=cachedSprite;this.containsPoint=cachedSprite.containsPoint.bind(cachedSprite);};DisplayObject.prototype._calculateCachedBounds=function _calculateCachedBounds(){this._cacheData.sprite._calculateBounds();};DisplayObject.prototype._getCachedLocalBounds=function _getCachedLocalBounds(){return this._cacheData.sprite.getLocalBounds();};DisplayObject.prototype._destroyCachedDisplayObject=function _destroyCachedDisplayObject(){this._cacheData.sprite._texture.destroy(true);this._cacheData.sprite=null;};DisplayObject.prototype._cacheAsBitmapDestroy=function _cacheAsBitmapDestroy(){this.cacheAsBitmap=false;this.destroy();};}),(function(module,exports,__webpack_require__){"use strict";var _core=__webpack_require__(4);var core=_interopRequireWildcard(_core);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
core.DisplayObject.prototype.name=null;core.Container.prototype.getChildByName=function getChildByName(name){for(var i=0;i<this.children.length;i++){if(this.children[i].name===name){return this.children[i];}}
return null;};}),(function(module,exports,__webpack_require__){"use strict";var _core=__webpack_require__(4);var core=_interopRequireWildcard(_core);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
core.DisplayObject.prototype.getGlobalPosition=function getGlobalPosition(){var point=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new core.Point();var skipUpdate=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(this.parent){this.parent.toGlobal(this.position,point,skipUpdate);}else{point.x=this.position.x;point.y=this.position.y;}
return point;};}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _core=__webpack_require__(4);var core=_interopRequireWildcard(_core);var _const=__webpack_require__(8);var _path=__webpack_require__(29);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var tempMat=new core.Matrix();var tempArray=new Float32Array(4);var TilingSpriteRenderer=function(_core$ObjectRenderer){_inherits(TilingSpriteRenderer,_core$ObjectRenderer);function TilingSpriteRenderer(renderer){_classCallCheck(this,TilingSpriteRenderer);var _this=_possibleConstructorReturn(this,_core$ObjectRenderer.call(this,renderer));_this.shader=null;_this.simpleShader=null;_this.quad=null;return _this;}
TilingSpriteRenderer.prototype.onContextChange=function onContextChange(){var gl=this.renderer.gl;this.shader=new core.Shader(gl,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n','varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    vec4 color = vec4(uColor.rgb * uColor.a, uColor.a);\n\n    gl_FragColor = sample * color ;\n}\n');this.simpleShader=new core.Shader(gl,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n','varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    vec4 color = vec4(uColor.rgb * uColor.a, uColor.a);\n    gl_FragColor = sample * color;\n}\n');this.renderer.bindVao(null);this.quad=new core.Quad(gl,this.renderer.state.attribState);this.quad.initVao(this.shader);};TilingSpriteRenderer.prototype.render=function render(ts){var renderer=this.renderer;var quad=this.quad;renderer.bindVao(quad.vao);var vertices=quad.vertices;vertices[0]=vertices[6]=ts._width*-ts.anchor.x;vertices[1]=vertices[3]=ts._height*-ts.anchor.y;vertices[2]=vertices[4]=ts._width*(1.0-ts.anchor.x);vertices[5]=vertices[7]=ts._height*(1.0-ts.anchor.y);if(ts.uvRespectAnchor){vertices=quad.uvs;vertices[0]=vertices[6]=-ts.anchor.x;vertices[1]=vertices[3]=-ts.anchor.y;vertices[2]=vertices[4]=1.0-ts.anchor.x;vertices[5]=vertices[7]=1.0-ts.anchor.y;}
quad.upload();var tex=ts._texture;var baseTex=tex.baseTexture;var lt=ts.tileTransform.localTransform;var uv=ts.uvTransform;var isSimple=baseTex.isPowerOfTwo&&tex.frame.width===baseTex.width&&tex.frame.height===baseTex.height;if(isSimple){if(!baseTex._glTextures[renderer.CONTEXT_UID]){if(baseTex.wrapMode===_const.WRAP_MODES.CLAMP){baseTex.wrapMode=_const.WRAP_MODES.REPEAT;}}else{isSimple=baseTex.wrapMode!==_const.WRAP_MODES.CLAMP;}}
var shader=isSimple?this.simpleShader:this.shader;renderer.bindShader(shader);var w=tex.width;var h=tex.height;var W=ts._width;var H=ts._height;tempMat.set(lt.a*w / W,lt.b*w / H,lt.c*h / W,lt.d*h / H,lt.tx / W,lt.ty / H);tempMat.invert();if(isSimple){tempMat.append(uv.mapCoord);}else{shader.uniforms.uMapCoord=uv.mapCoord.toArray(true);shader.uniforms.uClampFrame=uv.uClampFrame;shader.uniforms.uClampOffset=uv.uClampOffset;}
shader.uniforms.uTransform=tempMat.toArray(true);var color=tempArray;core.utils.hex2rgb(ts.tint,color);color[3]=ts.worldAlpha;shader.uniforms.uColor=color;shader.uniforms.translationMatrix=ts.transform.worldTransform.toArray(true);shader.uniforms.uSampler=renderer.bindTexture(tex);renderer.setBlendMode(ts.blendMode);quad.vao.draw(this.renderer.gl.TRIANGLES,6,0);};return TilingSpriteRenderer;}(core.ObjectRenderer);exports.default=TilingSpriteRenderer;core.WebGLRenderer.registerPlugin('tilingSprite',TilingSpriteRenderer);}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _core=__webpack_require__(4);var core=_interopRequireWildcard(_core);var _BlurXFilter=__webpack_require__(208);var _BlurXFilter2=_interopRequireDefault(_BlurXFilter);var _BlurYFilter=__webpack_require__(209);var _BlurYFilter2=_interopRequireDefault(_BlurYFilter);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var BlurFilter=function(_core$Filter){_inherits(BlurFilter,_core$Filter);function BlurFilter(strength,quality,resolution,kernelSize){_classCallCheck(this,BlurFilter);var _this=_possibleConstructorReturn(this,_core$Filter.call(this));_this.blurXFilter=new _BlurXFilter2.default(strength,quality,resolution,kernelSize);_this.blurYFilter=new _BlurYFilter2.default(strength,quality,resolution,kernelSize);_this.padding=0;_this.resolution=resolution||core.settings.RESOLUTION;_this.quality=quality||4;_this.blur=strength||8;return _this;}
BlurFilter.prototype.apply=function apply(filterManager,input,output){var renderTarget=filterManager.getRenderTarget(true);this.blurXFilter.apply(filterManager,input,renderTarget,true);this.blurYFilter.apply(filterManager,renderTarget,output,false);filterManager.returnRenderTarget(renderTarget);};_createClass(BlurFilter,[{key:'blur',get:function get(){return this.blurXFilter.blur;},set:function set(value)
{this.blurXFilter.blur=this.blurYFilter.blur=value;this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2;}},{key:'quality',get:function get(){return this.blurXFilter.quality;},set:function set(value)
{this.blurXFilter.quality=this.blurYFilter.quality=value;}},{key:'blurX',get:function get(){return this.blurXFilter.blur;},set:function set(value)
{this.blurXFilter.blur=value;this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2;}},{key:'blurY',get:function get(){return this.blurYFilter.blur;},set:function set(value)
{this.blurYFilter.blur=value;this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2;}}]);return BlurFilter;}(core.Filter);exports.default=BlurFilter;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _core=__webpack_require__(4);var core=_interopRequireWildcard(_core);var _path=__webpack_require__(29);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var ColorMatrixFilter=function(_core$Filter){_inherits(ColorMatrixFilter,_core$Filter);function ColorMatrixFilter(){_classCallCheck(this,ColorMatrixFilter);var _this=_possibleConstructorReturn(this,_core$Filter.call(this,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}','varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n    vec4 result;\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    // Premultiply alpha again.\n    result.rgb *= result.a;\n\n    gl_FragColor = result;\n}\n'));_this.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];return _this;}
ColorMatrixFilter.prototype._loadMatrix=function _loadMatrix(matrix){var multiply=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var newMatrix=matrix;if(multiply){this._multiply(newMatrix,this.uniforms.m,matrix);newMatrix=this._colorMatrix(newMatrix);}
this.uniforms.m=newMatrix;};ColorMatrixFilter.prototype._multiply=function _multiply(out,a,b){out[0]=a[0]*b[0]+a[1]*b[5]+a[2]*b[10]+a[3]*b[15];out[1]=a[0]*b[1]+a[1]*b[6]+a[2]*b[11]+a[3]*b[16];out[2]=a[0]*b[2]+a[1]*b[7]+a[2]*b[12]+a[3]*b[17];out[3]=a[0]*b[3]+a[1]*b[8]+a[2]*b[13]+a[3]*b[18];out[4]=a[0]*b[4]+a[1]*b[9]+a[2]*b[14]+a[3]*b[19]+a[4];out[5]=a[5]*b[0]+a[6]*b[5]+a[7]*b[10]+a[8]*b[15];out[6]=a[5]*b[1]+a[6]*b[6]+a[7]*b[11]+a[8]*b[16];out[7]=a[5]*b[2]+a[6]*b[7]+a[7]*b[12]+a[8]*b[17];out[8]=a[5]*b[3]+a[6]*b[8]+a[7]*b[13]+a[8]*b[18];out[9]=a[5]*b[4]+a[6]*b[9]+a[7]*b[14]+a[8]*b[19]+a[9];out[10]=a[10]*b[0]+a[11]*b[5]+a[12]*b[10]+a[13]*b[15];out[11]=a[10]*b[1]+a[11]*b[6]+a[12]*b[11]+a[13]*b[16];out[12]=a[10]*b[2]+a[11]*b[7]+a[12]*b[12]+a[13]*b[17];out[13]=a[10]*b[3]+a[11]*b[8]+a[12]*b[13]+a[13]*b[18];out[14]=a[10]*b[4]+a[11]*b[9]+a[12]*b[14]+a[13]*b[19]+a[14];out[15]=a[15]*b[0]+a[16]*b[5]+a[17]*b[10]+a[18]*b[15];out[16]=a[15]*b[1]+a[16]*b[6]+a[17]*b[11]+a[18]*b[16];out[17]=a[15]*b[2]+a[16]*b[7]+a[17]*b[12]+a[18]*b[17];out[18]=a[15]*b[3]+a[16]*b[8]+a[17]*b[13]+a[18]*b[18];out[19]=a[15]*b[4]+a[16]*b[9]+a[17]*b[14]+a[18]*b[19]+a[19];return out;};ColorMatrixFilter.prototype._colorMatrix=function _colorMatrix(matrix){var m=new Float32Array(matrix);m[4]/=255;m[9]/=255;m[14]/=255;m[19]/=255;return m;};ColorMatrixFilter.prototype.brightness=function brightness(b,multiply){var matrix=[b,0,0,0,0,0,b,0,0,0,0,0,b,0,0,0,0,0,1,0];this._loadMatrix(matrix,multiply);};ColorMatrixFilter.prototype.greyscale=function greyscale(scale,multiply){var matrix=[scale,scale,scale,0,0,scale,scale,scale,0,0,scale,scale,scale,0,0,0,0,0,1,0];this._loadMatrix(matrix,multiply);};ColorMatrixFilter.prototype.blackAndWhite=function blackAndWhite(multiply){var matrix=[0.3,0.6,0.1,0,0,0.3,0.6,0.1,0,0,0.3,0.6,0.1,0,0,0,0,0,1,0];this._loadMatrix(matrix,multiply);};ColorMatrixFilter.prototype.hue=function hue(rotation,multiply){rotation=(rotation||0)/ 180*Math.PI;var cosR=Math.cos(rotation);var sinR=Math.sin(rotation);var sqrt=Math.sqrt;var w=1 / 3;var sqrW=sqrt(w);var a00=cosR+(1.0-cosR)*w;var a01=w*(1.0-cosR)-sqrW*sinR;var a02=w*(1.0-cosR)+sqrW*sinR;var a10=w*(1.0-cosR)+sqrW*sinR;var a11=cosR+w*(1.0-cosR);var a12=w*(1.0-cosR)-sqrW*sinR;var a20=w*(1.0-cosR)-sqrW*sinR;var a21=w*(1.0-cosR)+sqrW*sinR;var a22=cosR+w*(1.0-cosR);var matrix=[a00,a01,a02,0,0,a10,a11,a12,0,0,a20,a21,a22,0,0,0,0,0,1,0];this._loadMatrix(matrix,multiply);};ColorMatrixFilter.prototype.contrast=function contrast(amount,multiply){var v=(amount||0)+1;var o=-128*(v-1);var matrix=[v,0,0,0,o,0,v,0,0,o,0,0,v,0,o,0,0,0,1,0];this._loadMatrix(matrix,multiply);};ColorMatrixFilter.prototype.saturate=function saturate(){var amount=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var multiply=arguments[1];var x=amount*2 / 3+1;var y=(x-1)*-0.5;var matrix=[x,y,y,0,0,y,x,y,0,0,y,y,x,0,0,0,0,0,1,0];this._loadMatrix(matrix,multiply);};ColorMatrixFilter.prototype.desaturate=function desaturate()
{this.saturate(-1);};ColorMatrixFilter.prototype.negative=function negative(multiply){var matrix=[0,1,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,1,0];this._loadMatrix(matrix,multiply);};ColorMatrixFilter.prototype.sepia=function sepia(multiply){var matrix=[0.393,0.7689999,0.18899999,0,0,0.349,0.6859999,0.16799999,0,0,0.272,0.5339999,0.13099999,0,0,0,0,0,1,0];this._loadMatrix(matrix,multiply);};ColorMatrixFilter.prototype.technicolor=function technicolor(multiply){var matrix=[1.9125277891456083,-0.8545344976951645,-0.09155508482755585,0,11.793603434377337,-0.3087833385928097,1.7658908555458428,-0.10601743074722245,0,-70.35205161461398,-0.231103377548616,-0.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(matrix,multiply);};ColorMatrixFilter.prototype.polaroid=function polaroid(multiply){var matrix=[1.438,-0.062,-0.062,0,0,-0.122,1.378,-0.122,0,0,-0.016,-0.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(matrix,multiply);};ColorMatrixFilter.prototype.toBGR=function toBGR(multiply){var matrix=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(matrix,multiply);};ColorMatrixFilter.prototype.kodachrome=function kodachrome(multiply){var matrix=[1.1285582396593525,-0.3967382283601348,-0.03992559172921793,0,63.72958762196502,-0.16404339962244616,1.0835251566291304,-0.05498805115633132,0,24.732407896706203,-0.16786010706155763,-0.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(matrix,multiply);};ColorMatrixFilter.prototype.browni=function browni(multiply){var matrix=[0.5997023498159715,0.34553243048391263,-0.2708298674538042,0,47.43192855600873,-0.037703249837783157,0.8609577587992641,0.15059552388459913,0,-36.96841498319127,0.24113635128153335,-0.07441037908422492,0.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(matrix,multiply);};ColorMatrixFilter.prototype.vintage=function vintage(multiply){var matrix=[0.6279345635605994,0.3202183420819367,-0.03965408211312453,0,9.651285835294123,0.02578397704808868,0.6441188644374771,0.03259127616149294,0,7.462829176470591,0.0466055556782719,-0.0851232987247891,0.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(matrix,multiply);};ColorMatrixFilter.prototype.colorTone=function colorTone(desaturation,toned,lightColor,darkColor,multiply){desaturation=desaturation||0.2;toned=toned||0.15;lightColor=lightColor||0xFFE580;darkColor=darkColor||0x338000;var lR=(lightColor>>16&0xFF)/ 255;var lG=(lightColor>>8&0xFF)/ 255;var lB=(lightColor&0xFF)/ 255;var dR=(darkColor>>16&0xFF)/ 255;var dG=(darkColor>>8&0xFF)/ 255;var dB=(darkColor&0xFF)/ 255;var matrix=[0.3,0.59,0.11,0,0,lR,lG,lB,desaturation,0,dR,dG,dB,toned,0,lR-dR,lG-dG,lB-dB,0,0];this._loadMatrix(matrix,multiply);};ColorMatrixFilter.prototype.night=function night(intensity,multiply){intensity=intensity||0.1;var matrix=[intensity*-2.0,-intensity,0,0,0,-intensity,0,intensity,0,0,0,intensity,intensity*2.0,0,0,0,0,0,1,0];this._loadMatrix(matrix,multiply);};ColorMatrixFilter.prototype.predator=function predator(amount,multiply){var matrix=[11.224130630493164*amount,-4.794486999511719*amount,-2.8746118545532227*amount,0*amount,0.40342438220977783*amount,-3.6330697536468506*amount,9.193157196044922*amount,-2.951810836791992*amount,0*amount,-1.316135048866272*amount,-3.2184197902679443*amount,-4.2375030517578125*amount,7.476448059082031*amount,0*amount,0.8044459223747253*amount,0,0,0,1,0];this._loadMatrix(matrix,multiply);};ColorMatrixFilter.prototype.lsd=function lsd(multiply){var matrix=[2,-0.4,0.5,0,0,-0.5,2,-0.4,0,0,-0.4,-0.5,3,0,0,0,0,0,1,0];this._loadMatrix(matrix,multiply);};ColorMatrixFilter.prototype.reset=function reset(){var matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(matrix,false);};_createClass(ColorMatrixFilter,[{key:'matrix',get:function get(){return this.uniforms.m;},set:function set(value)
{this.uniforms.m=value;}}]);return ColorMatrixFilter;}(core.Filter);exports.default=ColorMatrixFilter;ColorMatrixFilter.prototype.grayscale=ColorMatrixFilter.prototype.greyscale;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _core=__webpack_require__(4);var core=_interopRequireWildcard(_core);var _path=__webpack_require__(29);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var DisplacementFilter=function(_core$Filter){_inherits(DisplacementFilter,_core$Filter);function DisplacementFilter(sprite,scale){_classCallCheck(this,DisplacementFilter);var maskMatrix=new core.Matrix();sprite.renderable=false;var _this=_possibleConstructorReturn(this,_core$Filter.call(this,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}','varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n   vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n'));_this.maskSprite=sprite;_this.maskMatrix=maskMatrix;_this.uniforms.mapSampler=sprite.texture;_this.uniforms.filterMatrix=maskMatrix;_this.uniforms.scale={x:1,y:1};if(scale===null||scale===undefined){scale=20;}
_this.scale=new core.Point(scale,scale);return _this;}
DisplacementFilter.prototype.apply=function apply(filterManager,input,output){var ratio=1 / output.destinationFrame.width*(output.size.width / input.size.width);this.uniforms.filterMatrix=filterManager.calculateSpriteMatrix(this.maskMatrix,this.maskSprite);this.uniforms.scale.x=this.scale.x*ratio;this.uniforms.scale.y=this.scale.y*ratio;filterManager.applyFilter(this,input,output);};_createClass(DisplacementFilter,[{key:'map',get:function get(){return this.uniforms.mapSampler;},set:function set(value)
{this.uniforms.mapSampler=value;}}]);return DisplacementFilter;}(core.Filter);exports.default=DisplacementFilter;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _core=__webpack_require__(4);var core=_interopRequireWildcard(_core);var _path=__webpack_require__(29);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var FXAAFilter=function(_core$Filter){_inherits(FXAAFilter,_core$Filter);function FXAAFilter(){_classCallCheck(this,FXAAFilter);return _possibleConstructorReturn(this,_core$Filter.call(this,'\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}','varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'));}
return FXAAFilter;}(core.Filter);exports.default=FXAAFilter;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _core=__webpack_require__(4);var core=_interopRequireWildcard(_core);var _path=__webpack_require__(29);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var NoiseFilter=function(_core$Filter){_inherits(NoiseFilter,_core$Filter);function NoiseFilter(){_classCallCheck(this,NoiseFilter);var _this=_possibleConstructorReturn(this,_core$Filter.call(this,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}','precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float noise;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    float diff = (rand(gl_FragCoord.xy) - 0.5) * noise;\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    gl_FragColor = color;\n}\n'));_this.noise=0.5;return _this;}
_createClass(NoiseFilter,[{key:'noise',get:function get(){return this.uniforms.noise;},set:function set(value)
{this.uniforms.noise=value;}}]);return NoiseFilter;}(core.Filter);exports.default=NoiseFilter;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _core=__webpack_require__(4);var core=_interopRequireWildcard(_core);var _path=__webpack_require__(29);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var VoidFilter=function(_core$Filter){_inherits(VoidFilter,_core$Filter);function VoidFilter(){_classCallCheck(this,VoidFilter);var _this=_possibleConstructorReturn(this,_core$Filter.call(this,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}','varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n'));_this.glShaderKey='void';return _this;}
return VoidFilter;}(core.Filter);exports.default=VoidFilter;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var InteractionEvent=function(){function InteractionEvent(){_classCallCheck(this,InteractionEvent);this.stopped=false;this.target=null;this.currentTarget=null;this.type=null;this.data=null;}
InteractionEvent.prototype.stopPropagation=function stopPropagation(){this.stopped=true;};InteractionEvent.prototype._reset=function _reset(){this.stopped=false;this.currentTarget=null;this.target=null;};return InteractionEvent;}();exports.default=InteractionEvent;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};var _core=__webpack_require__(4);var core=_interopRequireWildcard(_core);var _InteractionData=__webpack_require__(214);var _InteractionData2=_interopRequireDefault(_InteractionData);var _InteractionEvent=__webpack_require__(683);var _InteractionEvent2=_interopRequireDefault(_InteractionEvent);var _InteractionTrackingData=__webpack_require__(685);var _InteractionTrackingData2=_interopRequireDefault(_InteractionTrackingData);var _eventemitter=__webpack_require__(32);var _eventemitter2=_interopRequireDefault(_eventemitter);var _interactiveTarget=__webpack_require__(216);var _interactiveTarget2=_interopRequireDefault(_interactiveTarget);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
core.utils.mixins.delayMixin(core.DisplayObject.prototype,_interactiveTarget2.default);var MOUSE_POINTER_ID='MOUSE';var InteractionManager=function(_EventEmitter){_inherits(InteractionManager,_EventEmitter);function InteractionManager(renderer,options){_classCallCheck(this,InteractionManager);var _this=_possibleConstructorReturn(this,_EventEmitter.call(this));options=options||{};_this.renderer=renderer;_this.autoPreventDefault=options.autoPreventDefault!==undefined?options.autoPreventDefault:true;_this.interactionFrequency=options.interactionFrequency||10;_this.mouse=new _InteractionData2.default();_this.mouse.identifier=MOUSE_POINTER_ID;_this.mouse.global.set(-999999);_this.activeInteractionData={};_this.activeInteractionData[MOUSE_POINTER_ID]=_this.mouse;_this.interactionDataPool=[];_this.eventData=new _InteractionEvent2.default();_this.interactionDOMElement=null;_this.moveWhenInside=false;_this.eventsAdded=false;_this.mouseOverRenderer=false;_this.supportsTouchEvents='ontouchstart'in window;_this.supportsPointerEvents=!!window.PointerEvent;_this.onPointerUp=_this.onPointerUp.bind(_this);_this.processPointerUp=_this.processPointerUp.bind(_this);_this.onPointerCancel=_this.onPointerCancel.bind(_this);_this.processPointerCancel=_this.processPointerCancel.bind(_this);_this.onPointerDown=_this.onPointerDown.bind(_this);_this.processPointerDown=_this.processPointerDown.bind(_this);_this.onPointerMove=_this.onPointerMove.bind(_this);_this.processPointerMove=_this.processPointerMove.bind(_this);_this.onPointerOut=_this.onPointerOut.bind(_this);_this.processPointerOverOut=_this.processPointerOverOut.bind(_this);_this.onPointerOver=_this.onPointerOver.bind(_this);_this.cursorStyles={default:'inherit',pointer:'pointer'};_this.currentCursorMode=null;_this.cursor=null;_this._tempPoint=new core.Point();_this.resolution=1;_this.setTargetElement(_this.renderer.view,_this.renderer.resolution);return _this;}
InteractionManager.prototype.setTargetElement=function setTargetElement(element){var resolution=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;this.removeEvents();this.interactionDOMElement=element;this.resolution=resolution;this.addEvents();};InteractionManager.prototype.addEvents=function addEvents(){if(!this.interactionDOMElement){return;}
core.ticker.shared.add(this.update,this);if(window.navigator.msPointerEnabled){this.interactionDOMElement.style['-ms-content-zooming']='none';this.interactionDOMElement.style['-ms-touch-action']='none';}else if(this.supportsPointerEvents){this.interactionDOMElement.style['touch-action']='none';}
if(this.supportsPointerEvents){window.document.addEventListener('pointermove',this.onPointerMove,true);this.interactionDOMElement.addEventListener('pointerdown',this.onPointerDown,true);this.interactionDOMElement.addEventListener('pointerleave',this.onPointerOut,true);this.interactionDOMElement.addEventListener('pointerover',this.onPointerOver,true);window.addEventListener('pointercancel',this.onPointerCancel,true);window.addEventListener('pointerup',this.onPointerUp,true);}else{window.document.addEventListener('mousemove',this.onPointerMove,true);this.interactionDOMElement.addEventListener('mousedown',this.onPointerDown,true);this.interactionDOMElement.addEventListener('mouseout',this.onPointerOut,true);this.interactionDOMElement.addEventListener('mouseover',this.onPointerOver,true);window.addEventListener('mouseup',this.onPointerUp,true);if(this.supportsTouchEvents){this.interactionDOMElement.addEventListener('touchstart',this.onPointerDown,true);this.interactionDOMElement.addEventListener('touchcancel',this.onPointerCancel,true);this.interactionDOMElement.addEventListener('touchend',this.onPointerUp,true);this.interactionDOMElement.addEventListener('touchmove',this.onPointerMove,true);}}
this.eventsAdded=true;};InteractionManager.prototype.removeEvents=function removeEvents(){if(!this.interactionDOMElement){return;}
core.ticker.shared.remove(this.update,this);if(window.navigator.msPointerEnabled){this.interactionDOMElement.style['-ms-content-zooming']='';this.interactionDOMElement.style['-ms-touch-action']='';}else if(this.supportsPointerEvents){this.interactionDOMElement.style['touch-action']='';}
if(this.supportsPointerEvents){window.document.removeEventListener('pointermove',this.onPointerMove,true);this.interactionDOMElement.removeEventListener('pointerdown',this.onPointerDown,true);this.interactionDOMElement.removeEventListener('pointerleave',this.onPointerOut,true);this.interactionDOMElement.removeEventListener('pointerover',this.onPointerOver,true);window.removeEventListener('pointercancel',this.onPointerCancel,true);window.removeEventListener('pointerup',this.onPointerUp,true);}else{window.document.removeEventListener('mousemove',this.onPointerMove,true);this.interactionDOMElement.removeEventListener('mousedown',this.onPointerDown,true);this.interactionDOMElement.removeEventListener('mouseout',this.onPointerOut,true);this.interactionDOMElement.removeEventListener('mouseover',this.onPointerOver,true);window.removeEventListener('mouseup',this.onPointerUp,true);if(this.supportsTouchEvents){this.interactionDOMElement.removeEventListener('touchstart',this.onPointerDown,true);this.interactionDOMElement.removeEventListener('touchcancel',this.onPointerCancel,true);this.interactionDOMElement.removeEventListener('touchend',this.onPointerUp,true);this.interactionDOMElement.removeEventListener('touchmove',this.onPointerMove,true);}}
this.interactionDOMElement=null;this.eventsAdded=false;};InteractionManager.prototype.update=function update(deltaTime){this._deltaTime+=deltaTime;if(this._deltaTime<this.interactionFrequency){return;}
this._deltaTime=0;if(!this.interactionDOMElement){return;}
if(this.didMove){this.didMove=false;return;}
this.cursor=null;for(var k in this.activeInteractionData){if(this.activeInteractionData.hasOwnProperty(k)){var interactionData=this.activeInteractionData[k];if(interactionData.originalEvent&&interactionData.pointerType!=='touch'){var interactionEvent=this.configureInteractionEventForDOMEvent(this.eventData,interactionData.originalEvent,interactionData);this.processInteractive(interactionEvent,this.renderer._lastObjectRendered,this.processPointerOverOut,true);}}}
this.setCursorMode(this.cursor);};InteractionManager.prototype.setCursorMode=function setCursorMode(mode){mode=mode||'default';if(this.currentCursorMode===mode){return;}
this.currentCursorMode=mode;var style=this.cursorStyles[mode];if(style){switch(typeof style==='undefined'?'undefined':_typeof(style)){case'string':this.interactionDOMElement.style.cursor=style;break;case'function':style(mode);break;case'object':Object.assign(this.interactionDOMElement.style,style);break;}}};InteractionManager.prototype.dispatchEvent=function dispatchEvent(displayObject,eventString,eventData){if(!eventData.stopped){eventData.currentTarget=displayObject;eventData.type=eventString;displayObject.emit(eventString,eventData);if(displayObject[eventString]){displayObject[eventString](eventData);}}};InteractionManager.prototype.mapPositionToPoint=function mapPositionToPoint(point,x,y){var rect=void 0;if(!this.interactionDOMElement.parentElement){rect={x:0,y:0,width:0,height:0};}else{rect=this.interactionDOMElement.getBoundingClientRect();}
var resolutionMultiplier=navigator.isCocoonJS?this.resolution:1.0 / this.resolution;point.x=(x-rect.left)*(this.interactionDOMElement.width / rect.width)*resolutionMultiplier;point.y=(y-rect.top)*(this.interactionDOMElement.height / rect.height)*resolutionMultiplier;};InteractionManager.prototype.processInteractive=function processInteractive(interactionEvent,displayObject,func,hitTest,interactive){if(!displayObject||!displayObject.visible){return false;}
var point=interactionEvent.data.global;interactive=displayObject.interactive||interactive;var hit=false;var interactiveParent=interactive;if(displayObject.hitArea){interactiveParent=false;}
else if(hitTest&&displayObject._mask){if(!displayObject._mask.containsPoint(point)){hitTest=false;}}
var keepHitTestingAfterChildren=hitTest;if(displayObject.interactiveChildren&&displayObject.children){var children=displayObject.children;for(var i=children.length-1;i>=0;i--){var child=children[i];if(this.processInteractive(interactionEvent,child,func,hitTest,interactiveParent)){if(!child.parent){continue;}
hit=true;interactiveParent=false;keepHitTestingAfterChildren=false;if(child.interactive){hitTest=false;}}}}
hitTest=keepHitTestingAfterChildren;if(interactive){if(hitTest&&!hit){if(displayObject.hitArea){displayObject.worldTransform.applyInverse(point,this._tempPoint);hit=displayObject.hitArea.contains(this._tempPoint.x,this._tempPoint.y);}else if(displayObject.containsPoint){hit=displayObject.containsPoint(point);}}
if(displayObject.interactive){if(hit&&!interactionEvent.target){interactionEvent.target=displayObject;}
func(interactionEvent,displayObject,hit);}}
return hit;};InteractionManager.prototype.onPointerDown=function onPointerDown(originalEvent){var events=this.normalizeToPointerData(originalEvent);if(this.autoPreventDefault&&events[0].isNormalized){originalEvent.preventDefault();}
var eventLen=events.length;for(var i=0;i<eventLen;i++){var event=events[i];var interactionData=this.getInteractionDataForPointerId(event.pointerId);var interactionEvent=this.configureInteractionEventForDOMEvent(this.eventData,event,interactionData);interactionEvent.data.originalEvent=originalEvent;this.processInteractive(interactionEvent,this.renderer._lastObjectRendered,this.processPointerDown,true);this.emit('pointerdown',interactionEvent);if(event.pointerType==='touch'){this.emit('touchstart',interactionEvent);}else if(event.pointerType==='mouse'){var isRightButton=event.button===2||event.which===3;this.emit(isRightButton?'rightdown':'mousedown',this.eventData);}}};InteractionManager.prototype.processPointerDown=function processPointerDown(interactionEvent,displayObject,hit){var e=interactionEvent.data.originalEvent;var id=interactionEvent.data.identifier;if(hit){if(!displayObject.trackedPointers[id]){displayObject.trackedPointers[id]=new _InteractionTrackingData2.default(id);}
this.dispatchEvent(displayObject,'pointerdown',interactionEvent);if(e.type==='touchstart'||e.pointerType==='touch'){this.dispatchEvent(displayObject,'touchstart',interactionEvent);}else if(e.type==='mousedown'||e.pointerType==='mouse'){var isRightButton=e.button===2||e.which===3;if(isRightButton){displayObject.trackedPointers[id].rightDown=true;}else{displayObject.trackedPointers[id].leftDown=true;}
this.dispatchEvent(displayObject,isRightButton?'rightdown':'mousedown',interactionEvent);}}};InteractionManager.prototype.onPointerComplete=function onPointerComplete(originalEvent,cancelled,func){var events=this.normalizeToPointerData(originalEvent);var eventLen=events.length;for(var i=0;i<eventLen;i++){var event=events[i];var interactionData=this.getInteractionDataForPointerId(event.pointerId);var interactionEvent=this.configureInteractionEventForDOMEvent(this.eventData,event,interactionData);interactionEvent.data.originalEvent=originalEvent;this.processInteractive(interactionEvent,this.renderer._lastObjectRendered,func,true);this.emit(cancelled?'pointercancel':'pointerup',interactionEvent);if(event.pointerType==='mouse'){var isRightButton=event.button===2||event.which===3;this.emit(isRightButton?'rightup':'mouseup',interactionEvent);}else if(event.pointerType==='touch'){this.emit(cancelled?'touchcancel':'touchend',interactionEvent);this.releaseInteractionDataForPointerId(event.pointerId,interactionData);}}};InteractionManager.prototype.onPointerCancel=function onPointerCancel(event){this.onPointerComplete(event,true,this.processPointerCancel);};InteractionManager.prototype.processPointerCancel=function processPointerCancel(interactionEvent,displayObject){var e=interactionEvent.data.originalEvent;var id=interactionEvent.data.identifier;if(displayObject.trackedPointers[id]!==undefined){delete displayObject.trackedPointers[id];this.dispatchEvent(displayObject,'pointercancel',interactionEvent);if(e.type==='touchcancel'||e.pointerType==='touch'){this.dispatchEvent(displayObject,'touchcancel',interactionEvent);}}};InteractionManager.prototype.onPointerUp=function onPointerUp(event){this.onPointerComplete(event,false,this.processPointerUp);};InteractionManager.prototype.processPointerUp=function processPointerUp(interactionEvent,displayObject,hit){var e=interactionEvent.data.originalEvent;var id=interactionEvent.data.identifier;var trackingData=displayObject.trackedPointers[id];var isTouch=e.type==='touchend'||e.pointerType==='touch';var isMouse=e.type.indexOf('mouse')===0||e.pointerType==='mouse';if(isMouse){var isRightButton=e.button===2||e.which===3;var flags=_InteractionTrackingData2.default.FLAGS;var test=isRightButton?flags.RIGHT_DOWN:flags.LEFT_DOWN;var isDown=trackingData!==undefined&&trackingData.flags|test;if(hit){this.dispatchEvent(displayObject,isRightButton?'rightup':'mouseup',interactionEvent);if(isDown){this.dispatchEvent(displayObject,isRightButton?'rightclick':'click',interactionEvent);}}else if(isDown){this.dispatchEvent(displayObject,isRightButton?'rightupoutside':'mouseupoutside',interactionEvent);}
if(trackingData){if(isRightButton){trackingData.rightDown=hit;}else{trackingData.leftDown=hit;}}}
if(hit){this.dispatchEvent(displayObject,'pointerup',interactionEvent);if(isTouch)this.dispatchEvent(displayObject,'touchend',interactionEvent);if(trackingData){this.dispatchEvent(displayObject,'pointertap',interactionEvent);if(isTouch){this.dispatchEvent(displayObject,'tap',interactionEvent);trackingData.over=false;}}}else if(trackingData){this.dispatchEvent(displayObject,'pointerupoutside',interactionEvent);if(isTouch)this.dispatchEvent(displayObject,'touchendoutside',interactionEvent);}
if(trackingData&&trackingData.none){delete displayObject.trackedPointers[id];}};InteractionManager.prototype.onPointerMove=function onPointerMove(originalEvent){var events=this.normalizeToPointerData(originalEvent);if(events[0].pointerType==='mouse'){this.didMove=true;this.cursor=null;}
var eventLen=events.length;for(var i=0;i<eventLen;i++){var event=events[i];var interactionData=this.getInteractionDataForPointerId(event.pointerId);var interactionEvent=this.configureInteractionEventForDOMEvent(this.eventData,event,interactionData);interactionEvent.data.originalEvent=originalEvent;var interactive=event.pointerType==='touch'?this.moveWhenInside:true;this.processInteractive(interactionEvent,this.renderer._lastObjectRendered,this.processPointerMove,interactive);this.emit('pointermove',interactionEvent);if(event.pointerType==='touch')this.emit('touchmove',interactionEvent);if(event.pointerType==='mouse')this.emit('mousemove',interactionEvent);}
if(events[0].pointerType==='mouse'){this.setCursorMode(this.cursor);}};InteractionManager.prototype.processPointerMove=function processPointerMove(interactionEvent,displayObject,hit){var e=interactionEvent.data.originalEvent;var isTouch=e.type==='touchmove'||e.pointerType==='touch';var isMouse=e.type==='mousemove'||e.pointerType==='mouse';if(isMouse){this.processPointerOverOut(interactionEvent,displayObject,hit);}
if(!this.moveWhenInside||hit){this.dispatchEvent(displayObject,'pointermove',interactionEvent);if(isTouch)this.dispatchEvent(displayObject,'touchmove',interactionEvent);if(isMouse)this.dispatchEvent(displayObject,'mousemove',interactionEvent);}};InteractionManager.prototype.onPointerOut=function onPointerOut(originalEvent){var events=this.normalizeToPointerData(originalEvent);var event=events[0];if(event.pointerType==='mouse'){this.mouseOverRenderer=false;this.setCursorMode(null);}
var interactionData=this.getInteractionDataForPointerId(event.pointerId);var interactionEvent=this.configureInteractionEventForDOMEvent(this.eventData,event,interactionData);interactionEvent.data.originalEvent=event;this.processInteractive(interactionEvent,this.renderer._lastObjectRendered,this.processPointerOverOut,false);this.emit('pointerout',interactionEvent);if(event.pointerType==='mouse'){this.emit('mouseout',interactionEvent);}};InteractionManager.prototype.processPointerOverOut=function processPointerOverOut(interactionEvent,displayObject,hit){var e=interactionEvent.data.originalEvent;var id=interactionEvent.data.identifier;var isMouse=e.type==='mouseover'||e.type==='mouseout'||e.pointerType==='mouse';var trackingData=displayObject.trackedPointers[id];if(hit&&!trackingData){trackingData=displayObject.trackedPointers[id]=new _InteractionTrackingData2.default(id);}
if(trackingData===undefined)return;if(hit&&this.mouseOverRenderer){if(!trackingData.over){trackingData.over=true;this.dispatchEvent(displayObject,'pointerover',interactionEvent);if(isMouse){this.dispatchEvent(displayObject,'mouseover',interactionEvent);}}
if(isMouse&&this.cursor===null){this.cursor=displayObject.cursor;}}else if(trackingData.over){trackingData.over=false;this.dispatchEvent(displayObject,'pointerout',this.eventData);if(isMouse){this.dispatchEvent(displayObject,'mouseout',interactionEvent);}
if(trackingData.none){delete displayObject.trackedPointers[id];}}};InteractionManager.prototype.onPointerOver=function onPointerOver(originalEvent){var events=this.normalizeToPointerData(originalEvent);var event=events[0];var interactionData=this.getInteractionDataForPointerId(event.pointerId);var interactionEvent=this.configureInteractionEventForDOMEvent(this.eventData,event,interactionData);interactionEvent.data.originalEvent=event;if(event.pointerType==='mouse'){this.mouseOverRenderer=true;}
this.emit('pointerover',interactionEvent);if(event.pointerType==='mouse'){this.emit('mouseover',interactionEvent);}};InteractionManager.prototype.getInteractionDataForPointerId=function getInteractionDataForPointerId(pointerId){if(pointerId===MOUSE_POINTER_ID){return this.mouse;}else if(this.activeInteractionData[pointerId]){return this.activeInteractionData[pointerId];}
var interactionData=this.interactionDataPool.pop()||new _InteractionData2.default();interactionData.identifier=pointerId;this.activeInteractionData[pointerId]=interactionData;return interactionData;};InteractionManager.prototype.releaseInteractionDataForPointerId=function releaseInteractionDataForPointerId(pointerId){var interactionData=this.activeInteractionData[pointerId];if(interactionData){delete this.activeInteractionData[pointerId];this.interactionDataPool.push(interactionData);}};InteractionManager.prototype.configureInteractionEventForDOMEvent=function configureInteractionEventForDOMEvent(interactionEvent,pointerEvent,interactionData){interactionEvent.data=interactionData;this.mapPositionToPoint(interactionData.global,pointerEvent.clientX,pointerEvent.clientY);if(navigator.isCocoonJS&&pointerEvent.pointerType==='touch'){interactionData.global.x=interactionData.global.x / this.resolution;interactionData.global.y=interactionData.global.y / this.resolution;}
if(pointerEvent.pointerType==='touch'){pointerEvent.globalX=interactionData.global.x;pointerEvent.globalY=interactionData.global.y;}
interactionData.originalEvent=pointerEvent;interactionEvent._reset();return interactionEvent;};InteractionManager.prototype.normalizeToPointerData=function normalizeToPointerData(event){var normalizedEvents=[];if(this.supportsTouchEvents&&event instanceof TouchEvent){for(var i=0,li=event.changedTouches.length;i<li;i++){var touch=event.changedTouches[i];if(typeof touch.button==='undefined')touch.button=event.touches.length?1:0;if(typeof touch.buttons==='undefined')touch.buttons=event.touches.length?1:0;if(typeof touch.isPrimary==='undefined')touch.isPrimary=event.touches.length===1;if(typeof touch.width==='undefined')touch.width=touch.radiusX||1;if(typeof touch.height==='undefined')touch.height=touch.radiusY||1;if(typeof touch.tiltX==='undefined')touch.tiltX=0;if(typeof touch.tiltY==='undefined')touch.tiltY=0;if(typeof touch.pointerType==='undefined')touch.pointerType='touch';if(typeof touch.pointerId==='undefined')touch.pointerId=touch.identifier||0;if(typeof touch.pressure==='undefined')touch.pressure=touch.force||0.5;if(typeof touch.rotation==='undefined')touch.rotation=touch.rotationAngle||0;if(typeof touch.layerX==='undefined')touch.layerX=touch.offsetX=touch.clientX;if(typeof touch.layerY==='undefined')touch.layerY=touch.offsetY=touch.clientY;touch.isNormalized=true;normalizedEvents.push(touch);}}
else if(event instanceof MouseEvent&&(!this.supportsPointerEvents||!(event instanceof window.PointerEvent))){if(typeof event.isPrimary==='undefined')event.isPrimary=true;if(typeof event.width==='undefined')event.width=1;if(typeof event.height==='undefined')event.height=1;if(typeof event.tiltX==='undefined')event.tiltX=0;if(typeof event.tiltY==='undefined')event.tiltY=0;if(typeof event.pointerType==='undefined')event.pointerType='mouse';if(typeof event.pointerId==='undefined')event.pointerId=MOUSE_POINTER_ID;if(typeof event.pressure==='undefined')event.pressure=0.5;if(typeof event.rotation==='undefined')event.rotation=0;event.isNormalized=true;normalizedEvents.push(event);}else{normalizedEvents.push(event);}
return normalizedEvents;};InteractionManager.prototype.destroy=function destroy(){this.removeEvents();this.removeAllListeners();this.renderer=null;this.mouse=null;this.eventData=null;this.interactionDOMElement=null;this.onPointerDown=null;this.processPointerDown=null;this.onPointerUp=null;this.processPointerUp=null;this.onPointerCancel=null;this.processPointerCancel=null;this.onPointerMove=null;this.processPointerMove=null;this.onPointerOut=null;this.processPointerOverOut=null;this.onPointerOver=null;this._tempPoint=null;};return InteractionManager;}(_eventemitter2.default);exports.default=InteractionManager;core.WebGLRenderer.registerPlugin('interaction',InteractionManager);core.CanvasRenderer.registerPlugin('interaction',InteractionManager);}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var InteractionTrackingData=function(){function InteractionTrackingData(pointerId){_classCallCheck(this,InteractionTrackingData);this._pointerId=pointerId;this._flags=InteractionTrackingData.FLAGS.NONE;}
InteractionTrackingData.prototype._doSet=function _doSet(flag,yn){if(yn){this._flags=this._flags|flag;}else{this._flags=this._flags&~flag;}};_createClass(InteractionTrackingData,[{key:"pointerId",get:function get(){return this._pointerId;}},{key:"flags",get:function get(){return this._flags;},set:function set(flags){this._flags=flags;}},{key:"none",get:function get(){return this._flags===this.constructor.FLAGS.NONE;}},{key:"over",get:function get(){return(this._flags&this.constructor.FLAGS.OVER)!==0;},set:function set(yn){this._doSet(this.constructor.FLAGS.OVER,yn);}},{key:"rightDown",get:function get(){return(this._flags&this.constructor.FLAGS.RIGHT_DOWN)!==0;},set:function set(yn){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,yn);}},{key:"leftDown",get:function get(){return(this._flags&this.constructor.FLAGS.LEFT_DOWN)!==0;},set:function set(yn){this._doSet(this.constructor.FLAGS.LEFT_DOWN,yn);}}]);return InteractionTrackingData;}();exports.default=InteractionTrackingData;InteractionTrackingData.FLAGS=Object.freeze({NONE:0,OVER:1<<0,LEFT_DOWN:1<<1,RIGHT_DOWN:1<<2});}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _resourceLoader=__webpack_require__(66);var _resourceLoader2=_interopRequireDefault(_resourceLoader);var _blob=__webpack_require__(708);var _eventemitter=__webpack_require__(32);var _eventemitter2=_interopRequireDefault(_eventemitter);var _textureParser=__webpack_require__(220);var _textureParser2=_interopRequireDefault(_textureParser);var _spritesheetParser=__webpack_require__(219);var _spritesheetParser2=_interopRequireDefault(_spritesheetParser);var _bitmapFontParser=__webpack_require__(217);var _bitmapFontParser2=_interopRequireDefault(_bitmapFontParser);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var Loader=function(_ResourceLoader){_inherits(Loader,_ResourceLoader);function Loader(baseUrl,concurrency){_classCallCheck(this,Loader);var _this=_possibleConstructorReturn(this,_ResourceLoader.call(this,baseUrl,concurrency));_eventemitter2.default.call(_this);for(var i=0;i<Loader._pixiMiddleware.length;++i){_this.use(Loader._pixiMiddleware[i]());}
_this.onStart.add(function(l){return _this.emit('start',l);});_this.onProgress.add(function(l,r){return _this.emit('progress',l,r);});_this.onError.add(function(e,l,r){return _this.emit('error',e,l,r);});_this.onLoad.add(function(l,r){return _this.emit('load',l,r);});_this.onComplete.add(function(l,r){return _this.emit('complete',l,r);});return _this;}
Loader.addPixiMiddleware=function addPixiMiddleware(fn){Loader._pixiMiddleware.push(fn);};return Loader;}(_resourceLoader2.default);exports.default=Loader;for(var k in _eventemitter2.default.prototype){Loader.prototype[k]=_eventemitter2.default.prototype[k];}
Loader._pixiMiddleware=[_blob.blobMiddlewareFactory,_textureParser2.default,_spritesheetParser2.default,_bitmapFontParser2.default];var Resource=_resourceLoader2.default.Resource;Resource.setExtensionXhrType('fnt',Resource.XHR_RESPONSE_TYPE.DOCUMENT);}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _Plane2=__webpack_require__(221);var _Plane3=_interopRequireDefault(_Plane2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var DEFAULT_BORDER_SIZE=10;var NineSlicePlane=function(_Plane){_inherits(NineSlicePlane,_Plane);function NineSlicePlane(texture,leftWidth,topHeight,rightWidth,bottomHeight){_classCallCheck(this,NineSlicePlane);var _this=_possibleConstructorReturn(this,_Plane.call(this,texture,4,4));var uvs=_this.uvs;uvs[6]=uvs[14]=uvs[22]=uvs[30]=1;uvs[25]=uvs[27]=uvs[29]=uvs[31]=1;_this._origWidth=texture.width;_this._origHeight=texture.height;_this._uvw=1 / _this._origWidth;_this._uvh=1 / _this._origHeight;_this.width=texture.width;_this.height=texture.height;uvs[2]=uvs[10]=uvs[18]=uvs[26]=_this._uvw*leftWidth;uvs[4]=uvs[12]=uvs[20]=uvs[28]=1-_this._uvw*rightWidth;uvs[9]=uvs[11]=uvs[13]=uvs[15]=_this._uvh*topHeight;uvs[17]=uvs[19]=uvs[21]=uvs[23]=1-_this._uvh*bottomHeight;_this.leftWidth=typeof leftWidth!=='undefined'?leftWidth:DEFAULT_BORDER_SIZE;_this.rightWidth=typeof rightWidth!=='undefined'?rightWidth:DEFAULT_BORDER_SIZE;_this.topHeight=typeof topHeight!=='undefined'?topHeight:DEFAULT_BORDER_SIZE;_this.bottomHeight=typeof bottomHeight!=='undefined'?bottomHeight:DEFAULT_BORDER_SIZE;return _this;}
NineSlicePlane.prototype.updateHorizontalVertices=function updateHorizontalVertices(){var vertices=this.vertices;vertices[9]=vertices[11]=vertices[13]=vertices[15]=this._topHeight;vertices[17]=vertices[19]=vertices[21]=vertices[23]=this._height-this._bottomHeight;vertices[25]=vertices[27]=vertices[29]=vertices[31]=this._height;};NineSlicePlane.prototype.updateVerticalVertices=function updateVerticalVertices(){var vertices=this.vertices;vertices[2]=vertices[10]=vertices[18]=vertices[26]=this._leftWidth;vertices[4]=vertices[12]=vertices[20]=vertices[28]=this._width-this._rightWidth;vertices[6]=vertices[14]=vertices[22]=vertices[30]=this._width;};NineSlicePlane.prototype._renderCanvas=function _renderCanvas(renderer){var context=renderer.context;context.globalAlpha=this.worldAlpha;var transform=this.worldTransform;var res=renderer.resolution;if(renderer.roundPixels){context.setTransform(transform.a*res,transform.b*res,transform.c*res,transform.d*res,transform.tx*res|0,transform.ty*res|0);}else{context.setTransform(transform.a*res,transform.b*res,transform.c*res,transform.d*res,transform.tx*res,transform.ty*res);}
var base=this._texture.baseTexture;var textureSource=base.source;var w=base.width;var h=base.height;this.drawSegment(context,textureSource,w,h,0,1,10,11);this.drawSegment(context,textureSource,w,h,2,3,12,13);this.drawSegment(context,textureSource,w,h,4,5,14,15);this.drawSegment(context,textureSource,w,h,8,9,18,19);this.drawSegment(context,textureSource,w,h,10,11,20,21);this.drawSegment(context,textureSource,w,h,12,13,22,23);this.drawSegment(context,textureSource,w,h,16,17,26,27);this.drawSegment(context,textureSource,w,h,18,19,28,29);this.drawSegment(context,textureSource,w,h,20,21,30,31);};NineSlicePlane.prototype.drawSegment=function drawSegment(context,textureSource,w,h,x1,y1,x2,y2){var uvs=this.uvs;var vertices=this.vertices;var sw=(uvs[x2]-uvs[x1])*w;var sh=(uvs[y2]-uvs[y1])*h;var dw=vertices[x2]-vertices[x1];var dh=vertices[y2]-vertices[y1];if(sw<1){sw=1;}
if(sh<1){sh=1;}
if(dw<1){dw=1;}
if(dh<1){dh=1;}
context.drawImage(textureSource,uvs[x1]*w,uvs[y1]*h,sw,sh,vertices[x1],vertices[y1],dw,dh);};_createClass(NineSlicePlane,[{key:'width',get:function get(){return this._width;},set:function set(value)
{this._width=value;this.updateVerticalVertices();}},{key:'height',get:function get(){return this._height;},set:function set(value)
{this._height=value;this.updateHorizontalVertices();}},{key:'leftWidth',get:function get(){return this._leftWidth;},set:function set(value)
{this._leftWidth=value;var uvs=this.uvs;var vertices=this.vertices;uvs[2]=uvs[10]=uvs[18]=uvs[26]=this._uvw*value;vertices[2]=vertices[10]=vertices[18]=vertices[26]=value;this.dirty=true;}},{key:'rightWidth',get:function get(){return this._rightWidth;},set:function set(value)
{this._rightWidth=value;var uvs=this.uvs;var vertices=this.vertices;uvs[4]=uvs[12]=uvs[20]=uvs[28]=1-this._uvw*value;vertices[4]=vertices[12]=vertices[20]=vertices[28]=this._width-value;this.dirty=true;}},{key:'topHeight',get:function get(){return this._topHeight;},set:function set(value)
{this._topHeight=value;var uvs=this.uvs;var vertices=this.vertices;uvs[9]=uvs[11]=uvs[13]=uvs[15]=this._uvh*value;vertices[9]=vertices[11]=vertices[13]=vertices[15]=value;this.dirty=true;}},{key:'bottomHeight',get:function get(){return this._bottomHeight;},set:function set(value)
{this._bottomHeight=value;var uvs=this.uvs;var vertices=this.vertices;uvs[17]=uvs[19]=uvs[21]=uvs[23]=1-this._uvh*value;vertices[17]=vertices[19]=vertices[21]=vertices[23]=this._height-value;this.dirty=true;}}]);return NineSlicePlane;}(_Plane3.default);exports.default=NineSlicePlane;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _Mesh2=__webpack_require__(65);var _Mesh3=_interopRequireDefault(_Mesh2);var _core=__webpack_require__(4);var core=_interopRequireWildcard(_core);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var Rope=function(_Mesh){_inherits(Rope,_Mesh);function Rope(texture,points){_classCallCheck(this,Rope);var _this=_possibleConstructorReturn(this,_Mesh.call(this,texture));_this.points=points;_this.vertices=new Float32Array(points.length*4);_this.uvs=new Float32Array(points.length*4);_this.colors=new Float32Array(points.length*2);_this.indices=new Uint16Array(points.length*2);_this._ready=true;_this.refresh();return _this;}
Rope.prototype.refresh=function refresh(){var points=this.points;if(points.length<1||!this._texture._uvs){return;}
if(this.vertices.length / 4!==points.length){this.vertices=new Float32Array(points.length*4);this.uvs=new Float32Array(points.length*4);this.colors=new Float32Array(points.length*2);this.indices=new Uint16Array(points.length*2);}
var uvs=this.uvs;var indices=this.indices;var colors=this.colors;var textureUvs=this._texture._uvs;var offset=new core.Point(textureUvs.x0,textureUvs.y0);var factor=new core.Point(textureUvs.x2-textureUvs.x0,Number(textureUvs.y2-textureUvs.y0));uvs[0]=0+offset.x;uvs[1]=0+offset.y;uvs[2]=0+offset.x;uvs[3]=factor.y+offset.y;colors[0]=1;colors[1]=1;indices[0]=0;indices[1]=1;var total=points.length;for(var i=1;i<total;i++){var index=i*4;var amount=i /(total-1);uvs[index]=amount*factor.x+offset.x;uvs[index+1]=0+offset.y;uvs[index+2]=amount*factor.x+offset.x;uvs[index+3]=factor.y+offset.y;index=i*2;colors[index]=1;colors[index+1]=1;index=i*2;indices[index]=index;indices[index+1]=index+1;}
this.dirty++;this.indexDirty++;};Rope.prototype._onTextureUpdate=function _onTextureUpdate(){_Mesh.prototype._onTextureUpdate.call(this);if(this._ready){this.refresh();}};Rope.prototype.updateTransform=function updateTransform(){var points=this.points;if(points.length<1){return;}
var lastPoint=points[0];var nextPoint=void 0;var perpX=0;var perpY=0;var vertices=this.vertices;var total=points.length;for(var i=0;i<total;i++){var point=points[i];var index=i*4;if(i<points.length-1){nextPoint=points[i+1];}else{nextPoint=point;}
perpY=-(nextPoint.x-lastPoint.x);perpX=nextPoint.y-lastPoint.y;var ratio=(1-i /(total-1))*10;if(ratio>1){ratio=1;}
var perpLength=Math.sqrt(perpX*perpX+perpY*perpY);var num=this._texture.height / 2;perpX /=perpLength;perpY /=perpLength;perpX*=num;perpY*=num;vertices[index]=point.x+perpX;vertices[index+1]=point.y+perpY;vertices[index+2]=point.x-perpX;vertices[index+3]=point.y-perpY;lastPoint=point;}
this.containerUpdateTransform();};return Rope;}(_Mesh3.default);exports.default=Rope;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _core=__webpack_require__(4);var core=_interopRequireWildcard(_core);var _Mesh=__webpack_require__(65);var _Mesh2=_interopRequireDefault(_Mesh);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var MeshSpriteRenderer=function(){function MeshSpriteRenderer(renderer){_classCallCheck(this,MeshSpriteRenderer);this.renderer=renderer;}
MeshSpriteRenderer.prototype.render=function render(mesh){var renderer=this.renderer;var context=renderer.context;var transform=mesh.worldTransform;var res=renderer.resolution;if(renderer.roundPixels){context.setTransform(transform.a*res,transform.b*res,transform.c*res,transform.d*res,transform.tx*res|0,transform.ty*res|0);}else{context.setTransform(transform.a*res,transform.b*res,transform.c*res,transform.d*res,transform.tx*res,transform.ty*res);}
renderer.setBlendMode(mesh.blendMode);if(mesh.drawMode===_Mesh2.default.DRAW_MODES.TRIANGLE_MESH){this._renderTriangleMesh(mesh);}else{this._renderTriangles(mesh);}};MeshSpriteRenderer.prototype._renderTriangleMesh=function _renderTriangleMesh(mesh){var length=mesh.vertices.length / 2;for(var i=0;i<length-2;i++){var index=i*2;this._renderDrawTriangle(mesh,index,index+2,index+4);}};MeshSpriteRenderer.prototype._renderTriangles=function _renderTriangles(mesh){var indices=mesh.indices;var length=indices.length;for(var i=0;i<length;i+=3){var index0=indices[i]*2;var index1=indices[i+1]*2;var index2=indices[i+2]*2;this._renderDrawTriangle(mesh,index0,index1,index2);}};MeshSpriteRenderer.prototype._renderDrawTriangle=function _renderDrawTriangle(mesh,index0,index1,index2){var context=this.renderer.context;var uvs=mesh.uvs;var vertices=mesh.vertices;var texture=mesh._texture;if(!texture.valid){return;}
var base=texture.baseTexture;var textureSource=base.source;var textureWidth=base.width;var textureHeight=base.height;var u0=uvs[index0]*base.width;var u1=uvs[index1]*base.width;var u2=uvs[index2]*base.width;var v0=uvs[index0+1]*base.height;var v1=uvs[index1+1]*base.height;var v2=uvs[index2+1]*base.height;var x0=vertices[index0];var x1=vertices[index1];var x2=vertices[index2];var y0=vertices[index0+1];var y1=vertices[index1+1];var y2=vertices[index2+1];if(mesh.canvasPadding>0){var paddingX=mesh.canvasPadding / mesh.worldTransform.a;var paddingY=mesh.canvasPadding / mesh.worldTransform.d;var centerX=(x0+x1+x2)/ 3;var centerY=(y0+y1+y2)/ 3;var normX=x0-centerX;var normY=y0-centerY;var dist=Math.sqrt(normX*normX+normY*normY);x0=centerX+normX / dist*(dist+paddingX);y0=centerY+normY / dist*(dist+paddingY);normX=x1-centerX;normY=y1-centerY;dist=Math.sqrt(normX*normX+normY*normY);x1=centerX+normX / dist*(dist+paddingX);y1=centerY+normY / dist*(dist+paddingY);normX=x2-centerX;normY=y2-centerY;dist=Math.sqrt(normX*normX+normY*normY);x2=centerX+normX / dist*(dist+paddingX);y2=centerY+normY / dist*(dist+paddingY);}
context.save();context.beginPath();context.moveTo(x0,y0);context.lineTo(x1,y1);context.lineTo(x2,y2);context.closePath();context.clip();var delta=u0*v1+v0*u2+u1*v2-v1*u2-v0*u1-u0*v2;var deltaA=x0*v1+v0*x2+x1*v2-v1*x2-v0*x1-x0*v2;var deltaB=u0*x1+x0*u2+u1*x2-x1*u2-x0*u1-u0*x2;var deltaC=u0*v1*x2+v0*x1*u2+x0*u1*v2-x0*v1*u2-v0*u1*x2-u0*x1*v2;var deltaD=y0*v1+v0*y2+y1*v2-v1*y2-v0*y1-y0*v2;var deltaE=u0*y1+y0*u2+u1*y2-y1*u2-y0*u1-u0*y2;var deltaF=u0*v1*y2+v0*y1*u2+y0*u1*v2-y0*v1*u2-v0*u1*y2-u0*y1*v2;context.transform(deltaA / delta,deltaD / delta,deltaB / delta,deltaE / delta,deltaC / delta,deltaF / delta);context.drawImage(textureSource,0,0,textureWidth*base.resolution,textureHeight*base.resolution,0,0,textureWidth,textureHeight);context.restore();};MeshSpriteRenderer.prototype.renderMeshFlat=function renderMeshFlat(mesh){var context=this.renderer.context;var vertices=mesh.vertices;var length=vertices.length / 2;context.beginPath();for(var i=1;i<length-2;++i){var index=i*2;var x0=vertices[index];var y0=vertices[index+1];var x1=vertices[index+2];var y1=vertices[index+3];var x2=vertices[index+4];var y2=vertices[index+5];context.moveTo(x0,y0);context.lineTo(x1,y1);context.lineTo(x2,y2);}
context.fillStyle='#FF0000';context.fill();context.closePath();};MeshSpriteRenderer.prototype.destroy=function destroy(){this.renderer=null;};return MeshSpriteRenderer;}();exports.default=MeshSpriteRenderer;core.CanvasRenderer.registerPlugin('mesh',MeshSpriteRenderer);}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _core=__webpack_require__(4);var core=_interopRequireWildcard(_core);var _pixiGlCore=__webpack_require__(26);var _pixiGlCore2=_interopRequireDefault(_pixiGlCore);var _Mesh=__webpack_require__(65);var _Mesh2=_interopRequireDefault(_Mesh);var _path=__webpack_require__(29);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var MeshRenderer=function(_core$ObjectRenderer){_inherits(MeshRenderer,_core$ObjectRenderer);function MeshRenderer(renderer){_classCallCheck(this,MeshRenderer);var _this=_possibleConstructorReturn(this,_core$ObjectRenderer.call(this,renderer));_this.shader=null;return _this;}
MeshRenderer.prototype.onContextChange=function onContextChange(){var gl=this.renderer.gl;this.shader=new core.Shader(gl,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 translationMatrix;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n}\n','varying vec2 vTextureCoord;\nuniform float alpha;\nuniform vec3 tint;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * vec4(tint * alpha, alpha);\n}\n');};MeshRenderer.prototype.render=function render(mesh){var renderer=this.renderer;var gl=renderer.gl;var texture=mesh._texture;if(!texture.valid){return;}
var glData=mesh._glDatas[renderer.CONTEXT_UID];if(!glData){renderer.bindVao(null);glData={shader:this.shader,vertexBuffer:_pixiGlCore2.default.GLBuffer.createVertexBuffer(gl,mesh.vertices,gl.STREAM_DRAW),uvBuffer:_pixiGlCore2.default.GLBuffer.createVertexBuffer(gl,mesh.uvs,gl.STREAM_DRAW),indexBuffer:_pixiGlCore2.default.GLBuffer.createIndexBuffer(gl,mesh.indices,gl.STATIC_DRAW),vao:null,dirty:mesh.dirty,indexDirty:mesh.indexDirty};glData.vao=new _pixiGlCore2.default.VertexArrayObject(gl).addIndex(glData.indexBuffer).addAttribute(glData.vertexBuffer,glData.shader.attributes.aVertexPosition,gl.FLOAT,false,2*4,0).addAttribute(glData.uvBuffer,glData.shader.attributes.aTextureCoord,gl.FLOAT,false,2*4,0);mesh._glDatas[renderer.CONTEXT_UID]=glData;}
renderer.bindVao(glData.vao);if(mesh.dirty!==glData.dirty){glData.dirty=mesh.dirty;glData.uvBuffer.upload(mesh.uvs);}
if(mesh.indexDirty!==glData.indexDirty){glData.indexDirty=mesh.indexDirty;glData.indexBuffer.upload(mesh.indices);}
glData.vertexBuffer.upload(mesh.vertices);renderer.bindShader(glData.shader);glData.shader.uniforms.uSampler=renderer.bindTexture(texture);renderer.state.setBlendMode(mesh.blendMode);glData.shader.uniforms.translationMatrix=mesh.worldTransform.toArray(true);glData.shader.uniforms.alpha=mesh.worldAlpha;glData.shader.uniforms.tint=mesh.tintRgb;var drawMode=mesh.drawMode===_Mesh2.default.DRAW_MODES.TRIANGLE_MESH?gl.TRIANGLE_STRIP:gl.TRIANGLES;glData.vao.draw(drawMode,mesh.indices.length,0);};return MeshRenderer;}(core.ObjectRenderer);exports.default=MeshRenderer;core.WebGLRenderer.registerPlugin('mesh',MeshRenderer);}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _core=__webpack_require__(4);var core=_interopRequireWildcard(_core);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var ParticleContainer=function(_core$Container){_inherits(ParticleContainer,_core$Container);function ParticleContainer(){var maxSize=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1500;var properties=arguments[1];var batchSize=arguments.length>2&&arguments[2]!==undefined?arguments[2]:16384;_classCallCheck(this,ParticleContainer);var _this=_possibleConstructorReturn(this,_core$Container.call(this));var maxBatchSize=16384;if(batchSize>maxBatchSize){batchSize=maxBatchSize;}
if(batchSize>maxSize){batchSize=maxSize;}
_this._properties=[false,true,false,false,false];_this._maxSize=maxSize;_this._batchSize=batchSize;_this._glBuffers={};_this._bufferToUpdate=0;_this.interactiveChildren=false;_this.blendMode=core.BLEND_MODES.NORMAL;_this.roundPixels=true;_this.baseTexture=null;_this.setProperties(properties);return _this;}
ParticleContainer.prototype.setProperties=function setProperties(properties){if(properties){this._properties[0]='scale'in properties?!!properties.scale:this._properties[0];this._properties[1]='position'in properties?!!properties.position:this._properties[1];this._properties[2]='rotation'in properties?!!properties.rotation:this._properties[2];this._properties[3]='uvs'in properties?!!properties.uvs:this._properties[3];this._properties[4]='alpha'in properties?!!properties.alpha:this._properties[4];}};ParticleContainer.prototype.updateTransform=function updateTransform(){this.displayObjectUpdateTransform();};ParticleContainer.prototype.renderWebGL=function renderWebGL(renderer){var _this2=this;if(!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable){return;}
if(!this.baseTexture){this.baseTexture=this.children[0]._texture.baseTexture;if(!this.baseTexture.hasLoaded){this.baseTexture.once('update',function(){return _this2.onChildrenChange(0);});}}
renderer.setObjectRenderer(renderer.plugins.particle);renderer.plugins.particle.render(this);};ParticleContainer.prototype.onChildrenChange=function onChildrenChange(smallestChildIndex){var bufferIndex=Math.floor(smallestChildIndex / this._batchSize);if(bufferIndex<this._bufferToUpdate){this._bufferToUpdate=bufferIndex;}};ParticleContainer.prototype.renderCanvas=function renderCanvas(renderer){if(!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable){return;}
var context=renderer.context;var transform=this.worldTransform;var isRotated=true;var positionX=0;var positionY=0;var finalWidth=0;var finalHeight=0;var compositeOperation=renderer.blendModes[this.blendMode];if(compositeOperation!==context.globalCompositeOperation){context.globalCompositeOperation=compositeOperation;}
context.globalAlpha=this.worldAlpha;this.displayObjectUpdateTransform();for(var i=0;i<this.children.length;++i){var child=this.children[i];if(!child.visible){continue;}
var frame=child._texture.frame;context.globalAlpha=this.worldAlpha*child.alpha;if(child.rotation%(Math.PI*2)===0){if(isRotated){context.setTransform(transform.a,transform.b,transform.c,transform.d,transform.tx*renderer.resolution,transform.ty*renderer.resolution);isRotated=false;}
positionX=child.anchor.x*(-frame.width*child.scale.x)+child.position.x+0.5;positionY=child.anchor.y*(-frame.height*child.scale.y)+child.position.y+0.5;finalWidth=frame.width*child.scale.x;finalHeight=frame.height*child.scale.y;}else{if(!isRotated){isRotated=true;}
child.displayObjectUpdateTransform();var childTransform=child.worldTransform;if(renderer.roundPixels){context.setTransform(childTransform.a,childTransform.b,childTransform.c,childTransform.d,childTransform.tx*renderer.resolution|0,childTransform.ty*renderer.resolution|0);}else{context.setTransform(childTransform.a,childTransform.b,childTransform.c,childTransform.d,childTransform.tx*renderer.resolution,childTransform.ty*renderer.resolution);}
positionX=child.anchor.x*-frame.width+0.5;positionY=child.anchor.y*-frame.height+0.5;finalWidth=frame.width;finalHeight=frame.height;}
var resolution=child._texture.baseTexture.resolution;context.drawImage(child._texture.baseTexture.source,frame.x*resolution,frame.y*resolution,frame.width*resolution,frame.height*resolution,positionX*resolution,positionY*resolution,finalWidth*resolution,finalHeight*resolution);}};ParticleContainer.prototype.destroy=function destroy(options){_core$Container.prototype.destroy.call(this,options);if(this._buffers){for(var i=0;i<this._buffers.length;++i){this._buffers[i].destroy();}}
this._properties=null;this._buffers=null;};return ParticleContainer;}(core.Container);exports.default=ParticleContainer;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _pixiGlCore=__webpack_require__(26);var _pixiGlCore2=_interopRequireDefault(_pixiGlCore);var _createIndicesForQuads=__webpack_require__(116);var _createIndicesForQuads2=_interopRequireDefault(_createIndicesForQuads);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var ParticleBuffer=function(){function ParticleBuffer(gl,properties,dynamicPropertyFlags,size){_classCallCheck(this,ParticleBuffer);this.gl=gl;this.vertSize=2;this.vertByteSize=this.vertSize*4;this.size=size;this.dynamicProperties=[];this.staticProperties=[];for(var i=0;i<properties.length;++i){var property=properties[i];property={attribute:property.attribute,size:property.size,uploadFunction:property.uploadFunction,offset:property.offset};if(dynamicPropertyFlags[i]){this.dynamicProperties.push(property);}else{this.staticProperties.push(property);}}
this.staticStride=0;this.staticBuffer=null;this.staticData=null;this.dynamicStride=0;this.dynamicBuffer=null;this.dynamicData=null;this.initBuffers();}
ParticleBuffer.prototype.initBuffers=function initBuffers(){var gl=this.gl;var dynamicOffset=0;this.indices=(0,_createIndicesForQuads2.default)(this.size);this.indexBuffer=_pixiGlCore2.default.GLBuffer.createIndexBuffer(gl,this.indices,gl.STATIC_DRAW);this.dynamicStride=0;for(var i=0;i<this.dynamicProperties.length;++i){var property=this.dynamicProperties[i];property.offset=dynamicOffset;dynamicOffset+=property.size;this.dynamicStride+=property.size;}
this.dynamicData=new Float32Array(this.size*this.dynamicStride*4);this.dynamicBuffer=_pixiGlCore2.default.GLBuffer.createVertexBuffer(gl,this.dynamicData,gl.STREAM_DRAW);var staticOffset=0;this.staticStride=0;for(var _i=0;_i<this.staticProperties.length;++_i){var _property=this.staticProperties[_i];_property.offset=staticOffset;staticOffset+=_property.size;this.staticStride+=_property.size;}
this.staticData=new Float32Array(this.size*this.staticStride*4);this.staticBuffer=_pixiGlCore2.default.GLBuffer.createVertexBuffer(gl,this.staticData,gl.STATIC_DRAW);this.vao=new _pixiGlCore2.default.VertexArrayObject(gl).addIndex(this.indexBuffer);for(var _i2=0;_i2<this.dynamicProperties.length;++_i2){var _property2=this.dynamicProperties[_i2];this.vao.addAttribute(this.dynamicBuffer,_property2.attribute,gl.FLOAT,false,this.dynamicStride*4,_property2.offset*4);}
for(var _i3=0;_i3<this.staticProperties.length;++_i3){var _property3=this.staticProperties[_i3];this.vao.addAttribute(this.staticBuffer,_property3.attribute,gl.FLOAT,false,this.staticStride*4,_property3.offset*4);}};ParticleBuffer.prototype.uploadDynamic=function uploadDynamic(children,startIndex,amount){for(var i=0;i<this.dynamicProperties.length;i++){var property=this.dynamicProperties[i];property.uploadFunction(children,startIndex,amount,this.dynamicData,this.dynamicStride,property.offset);}
this.dynamicBuffer.upload();};ParticleBuffer.prototype.uploadStatic=function uploadStatic(children,startIndex,amount){for(var i=0;i<this.staticProperties.length;i++){var property=this.staticProperties[i];property.uploadFunction(children,startIndex,amount,this.staticData,this.staticStride,property.offset);}
this.staticBuffer.upload();};ParticleBuffer.prototype.destroy=function destroy(){this.dynamicProperties=null;this.dynamicData=null;this.dynamicBuffer.destroy();this.staticProperties=null;this.staticData=null;this.staticBuffer.destroy();};return ParticleBuffer;}();exports.default=ParticleBuffer;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _core=__webpack_require__(4);var core=_interopRequireWildcard(_core);var _ParticleShader=__webpack_require__(694);var _ParticleShader2=_interopRequireDefault(_ParticleShader);var _ParticleBuffer=__webpack_require__(692);var _ParticleBuffer2=_interopRequireDefault(_ParticleBuffer);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var ParticleRenderer=function(_core$ObjectRenderer){_inherits(ParticleRenderer,_core$ObjectRenderer);function ParticleRenderer(renderer){_classCallCheck(this,ParticleRenderer);var _this=_possibleConstructorReturn(this,_core$ObjectRenderer.call(this,renderer));_this.shader=null;_this.indexBuffer=null;_this.properties=null;_this.tempMatrix=new core.Matrix();_this.CONTEXT_UID=0;return _this;}
ParticleRenderer.prototype.onContextChange=function onContextChange(){var gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID;this.shader=new _ParticleShader2.default(gl);this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,uploadFunction:this.uploadAlpha,offset:0}];};ParticleRenderer.prototype.start=function start(){this.renderer.bindShader(this.shader);};ParticleRenderer.prototype.render=function render(container){var children=container.children;var maxSize=container._maxSize;var batchSize=container._batchSize;var renderer=this.renderer;var totalChildren=children.length;if(totalChildren===0){return;}else if(totalChildren>maxSize){totalChildren=maxSize;}
var buffers=container._glBuffers[renderer.CONTEXT_UID];if(!buffers){buffers=container._glBuffers[renderer.CONTEXT_UID]=this.generateBuffers(container);}
this.renderer.setBlendMode(container.blendMode);var gl=renderer.gl;var m=container.worldTransform.copy(this.tempMatrix);m.prepend(renderer._activeRenderTarget.projectionMatrix);this.shader.uniforms.projectionMatrix=m.toArray(true);this.shader.uniforms.uAlpha=container.worldAlpha;var baseTexture=children[0]._texture.baseTexture;this.shader.uniforms.uSampler=renderer.bindTexture(baseTexture);for(var i=0,j=0;i<totalChildren;i+=batchSize,j+=1){var amount=totalChildren-i;if(amount>batchSize){amount=batchSize;}
var buffer=buffers[j];buffer.uploadDynamic(children,i,amount);if(container._bufferToUpdate===j){buffer.uploadStatic(children,i,amount);container._bufferToUpdate=j+1;}
renderer.bindVao(buffer.vao);buffer.vao.draw(gl.TRIANGLES,amount*6);}};ParticleRenderer.prototype.generateBuffers=function generateBuffers(container){var gl=this.renderer.gl;var buffers=[];var size=container._maxSize;var batchSize=container._batchSize;var dynamicPropertyFlags=container._properties;for(var i=0;i<size;i+=batchSize){buffers.push(new _ParticleBuffer2.default(gl,this.properties,dynamicPropertyFlags,batchSize));}
return buffers;};ParticleRenderer.prototype.uploadVertices=function uploadVertices(children,startIndex,amount,array,stride,offset){var w0=0;var w1=0;var h0=0;var h1=0;for(var i=0;i<amount;++i){var sprite=children[startIndex+i];var texture=sprite._texture;var sx=sprite.scale.x;var sy=sprite.scale.y;var trim=texture.trim;var orig=texture.orig;if(trim){w1=trim.x-sprite.anchor.x*orig.width;w0=w1+trim.width;h1=trim.y-sprite.anchor.y*orig.height;h0=h1+trim.height;}else{w0=orig.width*(1-sprite.anchor.x);w1=orig.width*-sprite.anchor.x;h0=orig.height*(1-sprite.anchor.y);h1=orig.height*-sprite.anchor.y;}
array[offset]=w1*sx;array[offset+1]=h1*sy;array[offset+stride]=w0*sx;array[offset+stride+1]=h1*sy;array[offset+stride*2]=w0*sx;array[offset+stride*2+1]=h0*sy;array[offset+stride*3]=w1*sx;array[offset+stride*3+1]=h0*sy;offset+=stride*4;}};ParticleRenderer.prototype.uploadPosition=function uploadPosition(children,startIndex,amount,array,stride,offset){for(var i=0;i<amount;i++){var spritePosition=children[startIndex+i].position;array[offset]=spritePosition.x;array[offset+1]=spritePosition.y;array[offset+stride]=spritePosition.x;array[offset+stride+1]=spritePosition.y;array[offset+stride*2]=spritePosition.x;array[offset+stride*2+1]=spritePosition.y;array[offset+stride*3]=spritePosition.x;array[offset+stride*3+1]=spritePosition.y;offset+=stride*4;}};ParticleRenderer.prototype.uploadRotation=function uploadRotation(children,startIndex,amount,array,stride,offset){for(var i=0;i<amount;i++){var spriteRotation=children[startIndex+i].rotation;array[offset]=spriteRotation;array[offset+stride]=spriteRotation;array[offset+stride*2]=spriteRotation;array[offset+stride*3]=spriteRotation;offset+=stride*4;}};ParticleRenderer.prototype.uploadUvs=function uploadUvs(children,startIndex,amount,array,stride,offset){for(var i=0;i<amount;++i){var textureUvs=children[startIndex+i]._texture._uvs;if(textureUvs){array[offset]=textureUvs.x0;array[offset+1]=textureUvs.y0;array[offset+stride]=textureUvs.x1;array[offset+stride+1]=textureUvs.y1;array[offset+stride*2]=textureUvs.x2;array[offset+stride*2+1]=textureUvs.y2;array[offset+stride*3]=textureUvs.x3;array[offset+stride*3+1]=textureUvs.y3;offset+=stride*4;}else{array[offset]=0;array[offset+1]=0;array[offset+stride]=0;array[offset+stride+1]=0;array[offset+stride*2]=0;array[offset+stride*2+1]=0;array[offset+stride*3]=0;array[offset+stride*3+1]=0;offset+=stride*4;}}};ParticleRenderer.prototype.uploadAlpha=function uploadAlpha(children,startIndex,amount,array,stride,offset){for(var i=0;i<amount;i++){var spriteAlpha=children[startIndex+i].alpha;array[offset]=spriteAlpha;array[offset+stride]=spriteAlpha;array[offset+stride*2]=spriteAlpha;array[offset+stride*3]=spriteAlpha;offset+=stride*4;}};ParticleRenderer.prototype.destroy=function destroy(){if(this.renderer.gl){this.renderer.gl.deleteBuffer(this.indexBuffer);}
_core$ObjectRenderer.prototype.destroy.call(this);this.shader.destroy();this.indices=null;this.tempMatrix=null;};return ParticleRenderer;}(core.ObjectRenderer);exports.default=ParticleRenderer;core.WebGLRenderer.registerPlugin('particle',ParticleRenderer);}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _Shader2=__webpack_require__(60);var _Shader3=_interopRequireDefault(_Shader2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var ParticleShader=function(_Shader){_inherits(ParticleShader,_Shader);function ParticleShader(gl){_classCallCheck(this,ParticleShader);return _possibleConstructorReturn(this,_Shader.call(this,gl,['attribute vec2 aVertexPosition;','attribute vec2 aTextureCoord;','attribute float aColor;','attribute vec2 aPositionCoord;','attribute vec2 aScale;','attribute float aRotation;','uniform mat3 projectionMatrix;','varying vec2 vTextureCoord;','varying float vColor;','void main(void){','   vec2 v = aVertexPosition;','   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);','   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);','   v = v + aPositionCoord;','   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);','   vTextureCoord = aTextureCoord;','   vColor = aColor;','}'].join('\n'),['varying vec2 vTextureCoord;','varying float vColor;','uniform sampler2D uSampler;','uniform float uAlpha;','void main(void){','  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uAlpha;','  if (color.a == 0.0) discard;','  gl_FragColor = color;','}'].join('\n')));}
return ParticleShader;}(_Shader3.default);exports.default=ParticleShader;}),(function(module,exports,__webpack_require__){"use strict";if(!Math.sign){Math.sign=function mathSign(x){x=Number(x);if(x===0||isNaN(x)){return x;}
return x>0?1:-1;};}}),(function(module,exports,__webpack_require__){"use strict";var _objectAssign=__webpack_require__(615);var _objectAssign2=_interopRequireDefault(_objectAssign);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
if(!Object.assign){Object.assign=_objectAssign2.default;}}),(function(module,exports,__webpack_require__){"use strict";__webpack_require__(696);__webpack_require__(698);__webpack_require__(695);if(!window.ArrayBuffer){window.ArrayBuffer=Array;}
if(!window.Float32Array){window.Float32Array=Array;}
if(!window.Uint32Array){window.Uint32Array=Array;}
if(!window.Uint16Array){window.Uint16Array=Array;}}),(function(module,exports,__webpack_require__){"use strict";(function(global){var ONE_FRAME_TIME=16;if(!(Date.now&&Date.prototype.getTime)){Date.now=function now(){return new Date().getTime();};}
if(!(global.performance&&global.performance.now)){var startTime=Date.now();if(!global.performance){global.performance={};}
global.performance.now=function(){return Date.now()-startTime;};}
var lastTime=Date.now();var vendors=['ms','moz','webkit','o'];for(var x=0;x<vendors.length&&!global.requestAnimationFrame;++x){var p=vendors[x];global.requestAnimationFrame=global[p+'RequestAnimationFrame'];global.cancelAnimationFrame=global[p+'CancelAnimationFrame']||global[p+'CancelRequestAnimationFrame'];}
if(!global.requestAnimationFrame){global.requestAnimationFrame=function(callback){if(typeof callback!=='function'){throw new TypeError(callback+'is not a function');}
var currentTime=Date.now();var delay=ONE_FRAME_TIME+lastTime-currentTime;if(delay<0){delay=0;}
lastTime=currentTime;return setTimeout(function(){lastTime=Date.now();callback(performance.now());},delay);};}
if(!global.cancelAnimationFrame){global.cancelAnimationFrame=function(id){return clearTimeout(id);};}}.call(exports,__webpack_require__(52)))}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _core=__webpack_require__(4);var core=_interopRequireWildcard(_core);var _BasePrepare2=__webpack_require__(118);var _BasePrepare3=_interopRequireDefault(_BasePrepare2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var CANVAS_START_SIZE=16;var CanvasPrepare=function(_BasePrepare){_inherits(CanvasPrepare,_BasePrepare);function CanvasPrepare(renderer){_classCallCheck(this,CanvasPrepare);var _this=_possibleConstructorReturn(this,_BasePrepare.call(this,renderer));_this.uploadHookHelper=_this;_this.canvas=document.createElement('canvas');_this.canvas.width=CANVAS_START_SIZE;_this.canvas.height=CANVAS_START_SIZE;_this.ctx=_this.canvas.getContext('2d');_this.register(findBaseTextures,uploadBaseTextures);return _this;}
CanvasPrepare.prototype.destroy=function destroy(){_BasePrepare.prototype.destroy.call(this);this.ctx=null;this.canvas=null;};return CanvasPrepare;}(_BasePrepare3.default);exports.default=CanvasPrepare;function uploadBaseTextures(prepare,item){if(item instanceof core.BaseTexture){var image=item.source;var imageWidth=image.width===0?prepare.canvas.width:Math.min(prepare.canvas.width,image.width);var imageHeight=image.height===0?prepare.canvas.height:Math.min(prepare.canvas.height,image.height);prepare.ctx.drawImage(image,0,0,imageWidth,imageHeight,0,0,prepare.canvas.width,prepare.canvas.height);return true;}
return false;}
function findBaseTextures(item,queue){if(item instanceof core.BaseTexture){if(queue.indexOf(item)===-1){queue.push(item);}
return true;}else if(item._texture&&item._texture instanceof core.Texture){var texture=item._texture.baseTexture;if(queue.indexOf(texture)===-1){queue.push(texture);}
return true;}
return false;}
core.CanvasRenderer.registerPlugin('prepare',CanvasPrepare);}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var TimeLimiter=function(){function TimeLimiter(maxMilliseconds){_classCallCheck(this,TimeLimiter);this.maxMilliseconds=maxMilliseconds;this.frameStart=0;}
TimeLimiter.prototype.beginFrame=function beginFrame(){this.frameStart=Date.now();};TimeLimiter.prototype.allowedToUpload=function allowedToUpload(){return Date.now()-this.frameStart<this.maxMilliseconds;};return TimeLimiter;}();exports.default=TimeLimiter;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _core=__webpack_require__(4);var core=_interopRequireWildcard(_core);var _BasePrepare2=__webpack_require__(118);var _BasePrepare3=_interopRequireDefault(_BasePrepare2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var WebGLPrepare=function(_BasePrepare){_inherits(WebGLPrepare,_BasePrepare);function WebGLPrepare(renderer){_classCallCheck(this,WebGLPrepare);var _this=_possibleConstructorReturn(this,_BasePrepare.call(this,renderer));_this.uploadHookHelper=_this.renderer;_this.register(findBaseTextures,uploadBaseTextures).register(findGraphics,uploadGraphics);return _this;}
return WebGLPrepare;}(_BasePrepare3.default);exports.default=WebGLPrepare;function uploadBaseTextures(renderer,item){if(item instanceof core.BaseTexture){if(!item._glTextures[renderer.CONTEXT_UID]){renderer.textureManager.updateTexture(item);}
return true;}
return false;}
function uploadGraphics(renderer,item){if(item instanceof core.Graphics){if(item.dirty||item.clearDirty||!item._webGL[renderer.plugins.graphics.CONTEXT_UID]){renderer.plugins.graphics.updateGraphics(item);}
return true;}
return false;}
function findBaseTextures(item,queue){if(item instanceof core.BaseTexture){if(queue.indexOf(item)===-1){queue.push(item);}
return true;}else if(item._texture&&item._texture instanceof core.Texture){var texture=item._texture.baseTexture;if(queue.indexOf(texture)===-1){queue.push(texture);}
return true;}
return false;}
function findGraphics(item,queue){if(item instanceof core.Graphics){queue.push(item);return true;}
return false;}
core.WebGLRenderer.registerPlugin('prepare',WebGLPrepare);}),(function(module,exports){var process=module.exports={};var cachedSetTimeout;var cachedClearTimeout;function defaultSetTimout(){throw new Error('setTimeout has not been defined');}
function defaultClearTimeout(){throw new Error('clearTimeout has not been defined');}
(function(){try{if(typeof setTimeout==='function'){cachedSetTimeout=setTimeout;}else{cachedSetTimeout=defaultSetTimout;}}catch(e){cachedSetTimeout=defaultSetTimout;}
try{if(typeof clearTimeout==='function'){cachedClearTimeout=clearTimeout;}else{cachedClearTimeout=defaultClearTimeout;}}catch(e){cachedClearTimeout=defaultClearTimeout;}}())
function runTimeout(fun){if(cachedSetTimeout===setTimeout){return setTimeout(fun,0);}
if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout){cachedSetTimeout=setTimeout;return setTimeout(fun,0);}
try{return cachedSetTimeout(fun,0);}catch(e){try{return cachedSetTimeout.call(null,fun,0);}catch(e){return cachedSetTimeout.call(this,fun,0);}}}
function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout){return clearTimeout(marker);}
if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout){cachedClearTimeout=clearTimeout;return clearTimeout(marker);}
try{return cachedClearTimeout(marker);}catch(e){try{return cachedClearTimeout.call(null,marker);}catch(e){return cachedClearTimeout.call(this,marker);}}}
var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return;}
draining=false;if(currentQueue.length){queue=currentQueue.concat(queue);}else{queueIndex=-1;}
if(queue.length){drainQueue();}}
function drainQueue(){if(draining){return;}
var timeout=runTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run();}}
queueIndex=-1;len=queue.length;}
currentQueue=null;draining=false;runClearTimeout(timeout);}
process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i];}}
queue.push(new Item(fun,args));if(queue.length===1&&!draining){runTimeout(drainQueue);}};function Item(fun,array){this.fun=fun;this.array=array;}
Item.prototype.run=function(){this.fun.apply(null,this.array);};process.title='browser';process.browser=true;process.env={};process.argv=[];process.version='';process.versions={};function noop(){}
process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.binding=function(name){throw new Error('process.binding is not supported');};process.cwd=function(){return'/'};process.chdir=function(dir){throw new Error('process.chdir is not supported');};process.umask=function(){return 0;};}),(function(module,exports,__webpack_require__){(function(module,global){var __WEBPACK_AMD_DEFINE_RESULT__;;(function(root){var freeExports=typeof exports=='object'&&exports&&!exports.nodeType&&exports;var freeModule=typeof module=='object'&&module&&!module.nodeType&&module;var freeGlobal=typeof global=='object'&&global;if(freeGlobal.global===freeGlobal||freeGlobal.window===freeGlobal||freeGlobal.self===freeGlobal){root=freeGlobal;}
var punycode,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter='-',regexPunycode=/^xn--/,regexNonASCII=/[^\x20-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={'overflow':'Overflow: input needs wider integers to process','not-basic':'Illegal input >= 0x80 (not a basic code point)','invalid-input':'Invalid input'},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode,key;function error(type){throw new RangeError(errors[type]);}
function map(array,fn){var length=array.length;var result=[];while(length--){result[length]=fn(array[length]);}
return result;}
function mapDomain(string,fn){var parts=string.split('@');var result='';if(parts.length>1){result=parts[0]+'@';string=parts[1];}
string=string.replace(regexSeparators,'\x2E');var labels=string.split('.');var encoded=map(labels,fn).join('.');return result+encoded;}
function ucs2decode(string){var output=[],counter=0,length=string.length,value,extra;while(counter<length){value=string.charCodeAt(counter++);if(value>=0xD800&&value<=0xDBFF&&counter<length){extra=string.charCodeAt(counter++);if((extra&0xFC00)==0xDC00){output.push(((value&0x3FF)<<10)+(extra&0x3FF)+0x10000);}else{output.push(value);counter--;}}else{output.push(value);}}
return output;}
function ucs2encode(array){return map(array,function(value){var output='';if(value>0xFFFF){value-=0x10000;output+=stringFromCharCode(value>>>10&0x3FF|0xD800);value=0xDC00|value&0x3FF;}
output+=stringFromCharCode(value);return output;}).join('');}
function basicToDigit(codePoint){if(codePoint-48<10){return codePoint-22;}
if(codePoint-65<26){return codePoint-65;}
if(codePoint-97<26){return codePoint-97;}
return base;}
function digitToBasic(digit,flag){return digit+22+75*(digit<26)-((flag!=0)<<5);}
function adapt(delta,numPoints,firstTime){var k=0;delta=firstTime?floor(delta / damp):delta>>1;delta+=floor(delta / numPoints);for(;delta>baseMinusTMin*tMax>>1;k+=base){delta=floor(delta / baseMinusTMin);}
return floor(k+(baseMinusTMin+1)*delta /(delta+skew));}
function decode(input){var output=[],inputLength=input.length,out,i=0,n=initialN,bias=initialBias,basic,j,index,oldi,w,k,digit,t,baseMinusT;basic=input.lastIndexOf(delimiter);if(basic<0){basic=0;}
for(j=0;j<basic;++j){if(input.charCodeAt(j)>=0x80){error('not-basic');}
output.push(input.charCodeAt(j));}
for(index=basic>0?basic+1:0;index<inputLength;){for(oldi=i,w=1,k=base;;k+=base){if(index>=inputLength){error('invalid-input');}
digit=basicToDigit(input.charCodeAt(index++));if(digit>=base||digit>floor((maxInt-i)/ w)){error('overflow');}
i+=digit*w;t=k<=bias?tMin:(k>=bias+tMax?tMax:k-bias);if(digit<t){break;}
baseMinusT=base-t;if(w>floor(maxInt / baseMinusT)){error('overflow');}
w*=baseMinusT;}
out=output.length+1;bias=adapt(i-oldi,out,oldi==0);if(floor(i / out)>maxInt-n){error('overflow');}
n+=floor(i / out);i%=out;output.splice(i++,0,n);}
return ucs2encode(output);}
function encode(input){var n,delta,handledCPCount,basicLength,bias,j,m,q,k,t,currentValue,output=[],inputLength,handledCPCountPlusOne,baseMinusT,qMinusT;input=ucs2decode(input);inputLength=input.length;n=initialN;delta=0;bias=initialBias;for(j=0;j<inputLength;++j){currentValue=input[j];if(currentValue<0x80){output.push(stringFromCharCode(currentValue));}}
handledCPCount=basicLength=output.length;if(basicLength){output.push(delimiter);}
while(handledCPCount<inputLength){for(m=maxInt,j=0;j<inputLength;++j){currentValue=input[j];if(currentValue>=n&&currentValue<m){m=currentValue;}}
handledCPCountPlusOne=handledCPCount+1;if(m-n>floor((maxInt-delta)/ handledCPCountPlusOne)){error('overflow');}
delta+=(m-n)*handledCPCountPlusOne;n=m;for(j=0;j<inputLength;++j){currentValue=input[j];if(currentValue<n&&++delta>maxInt){error('overflow');}
if(currentValue==n){for(q=delta,k=base;;k+=base){t=k<=bias?tMin:(k>=bias+tMax?tMax:k-bias);if(q<t){break;}
qMinusT=q-t;baseMinusT=base-t;output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0)));q=floor(qMinusT / baseMinusT);}
output.push(stringFromCharCode(digitToBasic(q,0)));bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength);delta=0;++handledCPCount;}}
++delta;++n;}
return output.join('');}
function toUnicode(input){return mapDomain(input,function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string;});}
function toASCII(input){return mapDomain(input,function(string){return regexNonASCII.test(string)?'xn--'+encode(string):string;});}
punycode={'version':'1.4.1','ucs2':{'decode':ucs2decode,'encode':ucs2encode},'decode':decode,'encode':encode,'toASCII':toASCII,'toUnicode':toUnicode};if(true){!(__WEBPACK_AMD_DEFINE_RESULT__=function(){return punycode;}.call(exports,__webpack_require__,exports,module),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));}else if(freeExports&&freeModule){if(module.exports==freeExports){freeModule.exports=punycode;}else{for(key in punycode){punycode.hasOwnProperty(key)&&(freeExports[key]=punycode[key]);}}}else{root.punycode=punycode;}}(this));}.call(exports,__webpack_require__(121)(module),__webpack_require__(52)))}),(function(module,exports,__webpack_require__){"use strict";function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop);}
module.exports=function(qs,sep,eq,options){sep=sep||'&';eq=eq||'=';var obj={};if(typeof qs!=='string'||qs.length===0){return obj;}
var regexp=/\+/g;qs=qs.split(sep);var maxKeys=1000;if(options&&typeof options.maxKeys==='number'){maxKeys=options.maxKeys;}
var len=qs.length;if(maxKeys>0&&len>maxKeys){len=maxKeys;}
for(var i=0;i<len;++i){var x=qs[i].replace(regexp,'%20'),idx=x.indexOf(eq),kstr,vstr,k,v;if(idx>=0){kstr=x.substr(0,idx);vstr=x.substr(idx+1);}else{kstr=x;vstr='';}
k=decodeURIComponent(kstr);v=decodeURIComponent(vstr);if(!hasOwnProperty(obj,k)){obj[k]=v;}else if(isArray(obj[k])){obj[k].push(v);}else{obj[k]=[obj[k],v];}}
return obj;};var isArray=Array.isArray||function(xs){return Object.prototype.toString.call(xs)==='[object Array]';};}),(function(module,exports,__webpack_require__){"use strict";var stringifyPrimitive=function(v){switch(typeof v){case'string':return v;case'boolean':return v?'true':'false';case'number':return isFinite(v)?v:'';default:return'';}};module.exports=function(obj,sep,eq,name){sep=sep||'&';eq=eq||'=';if(obj===null){obj=undefined;}
if(typeof obj==='object'){return map(objectKeys(obj),function(k){var ks=encodeURIComponent(stringifyPrimitive(k))+eq;if(isArray(obj[k])){return map(obj[k],function(v){return ks+encodeURIComponent(stringifyPrimitive(v));}).join(sep);}else{return ks+encodeURIComponent(stringifyPrimitive(obj[k]));}}).join(sep);}
if(!name)return'';return encodeURIComponent(stringifyPrimitive(name))+eq+
encodeURIComponent(stringifyPrimitive(obj));};var isArray=Array.isArray||function(xs){return Object.prototype.toString.call(xs)==='[object Array]';};function map(xs,f){if(xs.map)return xs.map(f);var res=[];for(var i=0;i<xs.length;i++){res.push(f(xs[i],i));}
return res;}
var objectKeys=Object.keys||function(obj){var res=[];for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))res.push(key);}
return res;};}),(function(module,exports,__webpack_require__){"use strict";exports.decode=exports.parse=__webpack_require__(704);exports.encode=exports.stringify=__webpack_require__(705);}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};var _miniSignals=__webpack_require__(178);var _miniSignals2=_interopRequireDefault(_miniSignals);var _parseUri=__webpack_require__(179);var _parseUri2=_interopRequireDefault(_parseUri);var _async=__webpack_require__(226);var async=_interopRequireWildcard(_async);var _Resource=__webpack_require__(119);var _Resource2=_interopRequireDefault(_Resource);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
var MAX_PROGRESS=100;var rgxExtractUrlHash=/(#[\w-]+)?$/;var Loader=function(){function Loader(){var _this=this;var baseUrl=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var concurrency=arguments.length>1&&arguments[1]!==undefined?arguments[1]:10;_classCallCheck(this,Loader);this.baseUrl=baseUrl;this.progress=0;this.loading=false;this.defaultQueryString='';this._beforeMiddleware=[];this._afterMiddleware=[];this._resourcesParsing=[];this._boundLoadResource=function(r,d){return _this._loadResource(r,d);};this._queue=async.queue(this._boundLoadResource,concurrency);this._queue.pause();this.resources={};this.onProgress=new _miniSignals2.default();this.onError=new _miniSignals2.default();this.onLoad=new _miniSignals2.default();this.onStart=new _miniSignals2.default();this.onComplete=new _miniSignals2.default();}
Loader.prototype.add=function add(name,url,options,cb){if(Array.isArray(name)){for(var i=0;i<name.length;++i){this.add(name[i]);}
return this;}
if((typeof name==='undefined'?'undefined':_typeof(name))==='object'){cb=url||name.callback||name.onComplete;options=name;url=name.url;name=name.name||name.key||name.url;}
if(typeof url!=='string'){cb=options;options=url;url=name;}
if(typeof url!=='string'){throw new Error('No url passed to add resource to loader.');}
if(typeof options==='function'){cb=options;options=null;}
if(this.loading&&(!options||!options.parentResource)){throw new Error('Cannot add resources while the loader is running.');}
if(this.resources[name]){throw new Error('Resource named "'+name+'" already exists.');}
url=this._prepareUrl(url);this.resources[name]=new _Resource2.default(name,url,options);if(typeof cb==='function'){this.resources[name].onAfterMiddleware.once(cb);}
if(this.loading){var parent=options.parentResource;var incompleteChildren=[];for(var _i=0;_i<parent.children.length;++_i){if(!parent.children[_i].isComplete){incompleteChildren.push(parent.children[_i]);}}
var fullChunk=parent.progressChunk*(incompleteChildren.length+1);var eachChunk=fullChunk /(incompleteChildren.length+2);parent.children.push(this.resources[name]);parent.progressChunk=eachChunk;for(var _i2=0;_i2<incompleteChildren.length;++_i2){incompleteChildren[_i2].progressChunk=eachChunk;}
this.resources[name].progressChunk=eachChunk;}
this._queue.push(this.resources[name]);return this;};Loader.prototype.pre=function pre(fn){this._beforeMiddleware.push(fn);return this;};Loader.prototype.use=function use(fn){this._afterMiddleware.push(fn);return this;};Loader.prototype.reset=function reset(){this.progress=0;this.loading=false;this._queue.kill();this._queue.pause();for(var k in this.resources){var res=this.resources[k];if(res._onLoadBinding){res._onLoadBinding.detach();}
if(res.isLoading){res.abort();}}
this.resources={};return this;};Loader.prototype.load=function load(cb){if(typeof cb==='function'){this.onComplete.once(cb);}
if(this.loading){return this;}
var chunk=100 / this._queue._tasks.length;for(var i=0;i<this._queue._tasks.length;++i){this._queue._tasks[i].data.progressChunk=chunk;}
this.loading=true;this.onStart.dispatch(this);this._queue.resume();return this;};Loader.prototype._prepareUrl=function _prepareUrl(url){var parsedUrl=(0,_parseUri2.default)(url,{strictMode:true});var result=void 0;if(parsedUrl.protocol||!parsedUrl.path||url.indexOf('//')===0){result=url;}
else if(this.baseUrl.length&&this.baseUrl.lastIndexOf('/')!==this.baseUrl.length-1&&url.charAt(0)!=='/'){result=this.baseUrl+'/'+url;}else{result=this.baseUrl+url;}
if(this.defaultQueryString){var hash=rgxExtractUrlHash.exec(result)[0];result=result.substr(0,result.length-hash.length);if(result.indexOf('?')!==-1){result+='&'+this.defaultQueryString;}else{result+='?'+this.defaultQueryString;}
result+=hash;}
return result;};Loader.prototype._loadResource=function _loadResource(resource,dequeue){var _this2=this;resource._dequeue=dequeue;async.eachSeries(this._beforeMiddleware,function(fn,next){fn.call(_this2,resource,function(){next(resource.isComplete?{}:null);});},function(){if(resource.isComplete){_this2._onLoad(resource);}else{resource._onLoadBinding=resource.onComplete.once(_this2._onLoad,_this2);resource.load();}});};Loader.prototype._onComplete=function _onComplete(){this.loading=false;this.onComplete.dispatch(this,this.resources);};Loader.prototype._onLoad=function _onLoad(resource){var _this3=this;resource._onLoadBinding=null;resource._dequeue();this._resourcesParsing.push(resource);async.eachSeries(this._afterMiddleware,function(fn,next){fn.call(_this3,resource,next);},function(){resource.onAfterMiddleware.dispatch(resource);_this3.progress+=resource.progressChunk;_this3.onProgress.dispatch(_this3,resource);if(resource.error){_this3.onError.dispatch(resource.error,_this3,resource);}else{_this3.onLoad.dispatch(_this3,resource);}
_this3._resourcesParsing.splice(_this3._resourcesParsing.indexOf(resource),1);if(_this3._queue.idle()&&_this3._resourcesParsing.length===0){_this3.progress=MAX_PROGRESS;_this3._onComplete();}});};return Loader;}();exports.default=Loader;}),(function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};exports.blobMiddlewareFactory=blobMiddlewareFactory;var _Resource=__webpack_require__(119);var _Resource2=_interopRequireDefault(_Resource);var _b=__webpack_require__(227);var _b2=_interopRequireDefault(_b);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}
var Url=window.URL||window.webkitURL;function blobMiddlewareFactory(){return function blobMiddleware(resource,next){if(!resource.data){next();return;}
if(resource.xhr&&resource.xhrType===_Resource2.default.XHR_RESPONSE_TYPE.BLOB){if(!window.Blob||typeof resource.data==='string'){var type=resource.xhr.getResponseHeader('content-type');if(type&&type.indexOf('image')===0){resource.data=new Image();resource.data.src='data:'+type+';base64,'+_b2.default.encodeBinary(resource.xhr.responseText);resource.type=_Resource2.default.TYPE.IMAGE;resource.data.onload=function(){resource.data.onload=null;next();};return;}}
else if(resource.data.type.indexOf('image')===0){var _ret=function(){var src=Url.createObjectURL(resource.data);resource.blob=resource.data;resource.data=new Image();resource.data.src=src;resource.type=_Resource2.default.TYPE.IMAGE;resource.data.onload=function(){Url.revokeObjectURL(src);resource.data.onload=null;next();};return{v:void 0};}();if((typeof _ret==='undefined'?'undefined':_typeof(_ret))==="object")return _ret.v;}}
next();};}}),(function(module,exports,__webpack_require__){"use strict";(function(global){var width=256;var chunks=6;var digits=52;var pool=[];var GLOBAL=typeof global==='undefined'?window:global;var startdenom=Math.pow(width,chunks),significance=Math.pow(2,digits),overflow=significance*2,mask=width-1;var oldRandom=Math.random;module.exports=function(seed,options){if(options&&options.global===true){options.global=false;Math.random=module.exports(seed,options);options.global=true;return Math.random;}
var use_entropy=(options&&options.entropy)||false;var key=[];var shortseed=mixkey(flatten(use_entropy?[seed,tostring(pool)]:0 in arguments?seed:autoseed(),3),key);var arc4=new ARC4(key);mixkey(tostring(arc4.S),pool);return function(){var n=arc4.g(chunks),d=startdenom,x=0;while(n<significance){n=(n+x)*width;d*=width;x=arc4.g(1);}
while(n>=overflow){n /=2;d /=2;x>>>=1;}
return(n+x)/ d;};};module.exports.resetGlobal=function(){Math.random=oldRandom;};function ARC4(key){var t,keylen=key.length,me=this,i=0,j=me.i=me.j=0,s=me.S=[];if(!keylen){key=[keylen++];}
while(i<width){s[i]=i++;}
for(i=0;i<width;i++){s[i]=s[j=mask&(j+key[i%keylen]+(t=s[i]))];s[j]=t;}
(me.g=function(count){var t,r=0,i=me.i,j=me.j,s=me.S;while(count--){t=s[i=mask&(i+1)];r=r*width+s[mask&((s[i]=s[j=mask&(j+t)])+(s[j]=t))];}
me.i=i;me.j=j;return r;})(width);}
function flatten(obj,depth){var result=[],typ=(typeof obj)[0],prop;if(depth&&typ=='o'){for(prop in obj){try{result.push(flatten(obj[prop],depth-1));}catch(e){}}}
return(result.length?result:typ=='s'?obj:obj+'\0');}
function mixkey(seed,key){var stringseed=seed+'',smear,j=0;while(j<stringseed.length){key[mask&j]=mask&((smear^=key[mask&j]*19)+stringseed.charCodeAt(j++));}
return tostring(key);}
function autoseed(seed){try{GLOBAL.crypto.getRandomValues(seed=new Uint8Array(width));return tostring(seed);}catch(e){return[+new Date,GLOBAL,GLOBAL.navigator&&GLOBAL.navigator.plugins,GLOBAL.screen,tostring(pool)];}}
function tostring(a){return String.fromCharCode.apply(0,a);}
mixkey(Math.random(),pool);}.call(exports,__webpack_require__(52)))}),(function(module,exports){function E(){}
E.prototype={on:function(name,callback,ctx){var e=this.e||(this.e={});(e[name]||(e[name]=[])).push({fn:callback,ctx:ctx});return this;},once:function(name,callback,ctx){var self=this;function listener(){self.off(name,listener);callback.apply(ctx,arguments);};listener._=callback
return this.on(name,listener,ctx);},emit:function(name){var data=[].slice.call(arguments,1);var evtArr=((this.e||(this.e={}))[name]||[]).slice();var i=0;var len=evtArr.length;for(i;i<len;i++){evtArr[i].fn.apply(evtArr[i].ctx,data);}
return this;},off:function(name,callback){var e=this.e||(this.e={});var evts=e[name];var liveEvents=[];if(evts&&callback){for(var i=0,len=evts.length;i<len;i++){if(evts[i].fn!==callback&&evts[i].fn._!==callback)
liveEvents.push(evts[i]);}}
(liveEvents.length)?e[name]=liveEvents:delete e[name];return this;}};module.exports=E;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});__webpack_require__(22);const weapon_1=__webpack_require__(68);const bullet_1=__webpack_require__(120);class Bomber extends weapon_1.Weapon{constructor(game,x,y,direction,organization){super(game,{kind:"Circle",x:x,y:y,r:10,angle:0},direction,organization);this.direction="left";this.setSprite(`image/${this.organization.name}-bomber.png`);this.shotInterval=this.game.level.levelData["WeaponList"][this.organization.name]["bomber"]["shot-interval"];}
update(){super.update();this.move.x+=(this.direction==="right"?1:-1)*2;if(this.game.level.countFrame%this.shotInterval==0){this.fire();}
if(this.shape.x<200){this.direction="right";}
if(this.shape.x>400){this.direction="left";}
this.shape.x+=this.move.x;}
draw(renderer){}
fire(){let gravity=0.03;let speed=2;this.game.level.addObject(new bullet_1.Bullet(this.game,this,this.shape.x,this.shape.y,Math.PI+Math.PI / 2,speed,gravity));}}
exports.Bomber=Bomber;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});const organization_1=__webpack_require__(231);class CPU extends organization_1.Organization{constructor(game,config){super(game,config);}
update(){super.update();if(this.game.level.countFrame%100==0){let x=this.game.level.levelData["WeaponList"][this.name]["ship"]["entryPoint"]["x"];let y=this.game.level.levelData["WeaponList"][this.name]["ship"]["entryPoint"]["y"];let ship=this.createWeapon("ship",this.game,x,y,"right");if(ship==null){return;}
this.game.level.addObject(ship);}}}
exports.CPU=CPU;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});__webpack_require__(22);const weapon_1=__webpack_require__(68);const area_1=__webpack_require__(67);const infantry_1=__webpack_require__(230);class Lander extends weapon_1.Weapon{constructor(game,x,y,direction,organization){super(game,{kind:"Rectangle",x:x,y:y,width:20,height:20,angle:0},direction,organization);this.istakeDown=false;this.setSprite(`image/${this.organization.name}-lander.png`);this.shotInterval=this.game.level.levelData["WeaponList"][this.organization.name]["lander"]["shot-interval"];}
update(){super.update();let isLand=false;for(let object of this.collisionList){if(object instanceof area_1.Area&&object.type=="land"){isLand=true;}}
if(isLand){if(this.istakeDown==false){this.takeDown();this.remove();}}
else{this.moveOn();}}
moveOn(){switch(this.direction){case"right":this.move.x++;break;case"left":this.move.x--;break;}}
draw(renderer){}
takeDown(){this.game.level.addObject(new infantry_1.Infantry(this.game,this.shape.x-20,this.shape.y,this.direction,this.organization));this.istakeDown=true;}}
exports.Lander=Lander;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});__webpack_require__(22);const gameObject_1=__webpack_require__(51);class OverObject{}
exports.OverObject=OverObject;class Flag extends gameObject_1.GameObject{constructor(game,x,y,direction,organization){super(game);this.shape={kind:"Circle",x:0,y:0,r:0,angle:0};this.shape.x=x;this.shape.y=y;this.shape.r=1;this.game.level.collision.add(this,this.shape);}
draw(renderer){renderer.beginFill(0xFDD835);renderer.drawPolygon([new PIXI.Point(this.shape.x-2,this.shape.y+10),new PIXI.Point(this.shape.x+2,this.shape.y+10),new PIXI.Point(this.shape.x+2,this.shape.y+2),new PIXI.Point(this.shape.x+10,this.shape.y-4),new PIXI.Point(this.shape.x+2,this.shape.y-10),new PIXI.Point(this.shape.x-2,this.shape.y-10),]);}}
exports.Flag=Flag;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});__webpack_require__(22);const math=__webpack_require__(242);const gameObject_1=__webpack_require__(51);class Particle extends gameObject_1.GameObject{constructor(game,config){super(game);this.config=config;this.shape={kind:"Point",x:0,y:0};this.particles=[];this.shape.x=config.pos.x;this.shape.y=config.pos.y;config.posRandom=config.posRandom==undefined?{xmin:0,xmax:0,ymin:0,ymax:0}:config.posRandom;config.initialVelocity=config.initialVelocity==undefined?{x:0,y:0}:config.initialVelocity;config.randomVelocity=config.randomVelocity==undefined?{xmin:0,xmax:0,ymin:0,ymax:0}:config.randomVelocity;for(let i=0;i<config.sparkNum;i++){let shape={kind:"Circle",x:config.pos.x+math.random(config.posRandom.xmin,config.posRandom.xmax),y:config.pos.y+math.random(config.posRandom.ymin,config.posRandom.ymax),r:1,angle:0,};this.particles[i]={"shape":shape,vector:{x:config.initialVelocity.x+math.random(config.randomVelocity.xmin,config.randomVelocity.xmax),y:config.initialVelocity.y+math.random(config.randomVelocity.ymin,config.randomVelocity.ymax),},};};}
update(){if(this.config.endTime<this.game.level.countFrame){this.remove();}
for(let particle of this.particles){particle.shape.x+=particle.vector.x;particle.shape.y+=particle.vector.y;particle.vector.x*=0.9;particle.vector.y*=0.9;particle.vector.y+=0.1;}}
draw(renderer){renderer.beginFill(this.config.color);for(let particle of this.particles){renderer.drawCircle(particle.shape.x,particle.shape.y,particle.shape.r);}
renderer.endFill();}}
exports.Particle=Particle;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});const organization_1=__webpack_require__(231);class Player extends organization_1.Organization{constructor(game,config){super(game,config);}
update(){super.update();}}
exports.Player=Player;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});__webpack_require__(22);const weapon_1=__webpack_require__(68);const bullet_1=__webpack_require__(120);const area_1=__webpack_require__(67);class Ship extends weapon_1.Weapon{constructor(game,x,y,direction,organization){super(game,{kind:"Rectangle",x:x,y:y,width:20,height:20,angle:0},direction,organization);this.target=null;this.setSprite(`image/${this.organization.name}-ship.png`);this.shotInterval=this.game.level.levelData["WeaponList"][this.organization.name]["ship"]["shot-interval"];}
update(){super.update();this.target=this.targetSelect();if(this.shape.x<-300||this.shape.x>1300||this.shape.y<-300||this.shape.y>1000){this.remove();}
if(this.game.level.countFrame%this.shotInterval==0){this.fire();}
this.moveOn();}
moveOn(){for(let object of this.collisionList){if(object instanceof area_1.Area&&object.type=="land"){this.remove();return;}}
switch(this.direction){case"right":this.move.x++;break;case"left":this.move.x--;break;}}
targetSelect(){let target=null;for(let object of this.game.level.gameObjectList){if(!(object instanceof weapon_1.Weapon)){continue;}
if((this.direction=="left"&&object.shape.x-this.shape.x>=0)||(this.direction=="right"&&object.shape.x-this.shape.x<=0)){continue;}
if(object.organization==this.organization){continue;}
if(target==null){target=object;continue;}
let targetRange=Math.hypot(this.shape.x-target.shape.x,this.shape.y-target.shape.y);let objectRange=Math.hypot(this.shape.x-object.shape.x,this.shape.y-object.shape.y);if(Math.min(targetRange,objectRange)==targetRange){continue;}
target=object;}
return target;}
draw(renderer){}
fire(){let gravity=0.03;let speed=4;let angle0=0;if(this.target==null){return;}
let targetPos={x:this.target.shape.x,y:this.target.shape.y};for(let i=0;i<10;i++){let angle=this.targetAngleOfparabola({x:this.shape.x,y:this.shape.y},targetPos,speed,gravity);if(angle==null){return;}
angle0=angle[0];let flightTime=(targetPos.x-this.shape.x)/(Math.cos(angle0)*speed);targetPos.x=this.target.shape.x+this.target.moveAverage().x*flightTime;}
this.game.level.addObject(new bullet_1.Bullet(this.game,this,this.shape.x,this.shape.y,angle0,speed,gravity));}
targetAngleOfparabola(thisPos,targetPos,speed,gravity){let reversal=false;let width=targetPos.x-thisPos.x;let height=-1*(targetPos.y-thisPos.y);if(width==0&&height==0){return[0,0];}
if(width==0&&height>0){return[Math.PI / 2,Math.PI / 2];}
if(width==0&&height<0){return[Math.PI / 2,Math.PI+Math.PI / 2];}
if(width<0){reversal=true;width*=-1;}
let P=(width*width)/(2*speed*speed)*gravity;let angle0=Math.atan((-width+Math.sqrt(width*width-4*(-P*(-P-height))))/(2*-P));let angle1=Math.atan((-width-Math.sqrt(width*width-4*(-P*(-P-height))))/(2*-P));if(reversal){angle0=Math.PI-angle0;angle1=Math.PI-angle1;}
if(Number.isNaN(angle0)){return null;}
return[angle0,angle1];}}
exports.Ship=Ship;}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});const collision_1=__webpack_require__(228);class WeaponSelectPanel{constructor(game,levelData,player){this.player=player;this.weaponCardList=[];this.game=game;this.collision=new collision_1.Collision();let count=0;for(let weaponTypeName of levelData["CreateWeaponList"]){let weaponType=levelData["WeaponList"]["sun"][weaponTypeName];this.weaponCardList.push(new WeaponCard(game,this,weaponType["name"],{kind:"Rectangle",x:860-count*100,y:440,width:100,height:100,angle:0}));count++;}
let canvas=this.game.app.view;let onDown=(e)=>{let x=e.pageX-canvas.offsetLeft;let y=e.pageY-canvas.offsetTop;let clickObject=this.collision.collision({kind:"Point",x:x,y:y})[0];if(clickObject){let weaponCard=clickObject.object;let weapon=weaponCard.createWeapon();if(weapon==null){return;}
this.game.level.addObject(weapon);}};let onUp=(e)=>{let x=e.pageX-canvas.offsetLeft;let y=e.pageY-canvas.offsetTop;};canvas.addEventListener('mousedown',onDown);canvas.addEventListener('mouseup',onUp);}}
exports.WeaponSelectPanel=WeaponSelectPanel;class WeaponCard{constructor(game,weaponSelectPanel,weaponName,shape){this.game=game;this.weaponSelectPanel=weaponSelectPanel;this.weaponName=weaponName;this.entryPoint=this.game.level.levelData["WeaponList"]["sun"][weaponName]["entryPoint"];this.shape=shape;this.weaponSelectPanel.collision.add(this,this.shape);this.backgroundSprite=new PIXI.Sprite(PIXI.Texture.EMPTY);this.game.loader.load(`image/weaponCardBackground.png`).then((texture)=>{this.backgroundSprite.texture=texture;this.backgroundSprite.x=this.shape.x;this.backgroundSprite.y=this.shape.y;this.game.level.view.addChild(this.backgroundSprite);});this.weaponSprite=new PIXI.Sprite(PIXI.Texture.EMPTY);this.game.loader.load(`image/${this.weaponSelectPanel.player.name}-${this.weaponName}.png`).then((texture)=>{this.weaponSprite.texture=texture;this.weaponSprite.x=this.shape.x+this.shape.width / 2-this.weaponSprite.width / 2;this.weaponSprite.y=this.shape.y+this.shape.height / 2-this.weaponSprite.height / 2;this.game.level.view.addChild(this.weaponSprite);});}
createWeapon(){let x=this.entryPoint.x;let y=this.entryPoint.y;let player=this.weaponSelectPanel.player;return player.createWeapon(this.weaponName,this.game,x,y,"left");}}}),(function(module,exports,__webpack_require__){"use strict";var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(root,factory){if(true){!(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_FACTORY__=(factory),__WEBPACK_AMD_DEFINE_RESULT__=(typeof __WEBPACK_AMD_DEFINE_FACTORY__==='function'?(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__)):__WEBPACK_AMD_DEFINE_FACTORY__),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));}else if(typeof exports==='object'){module.exports=factory();}else{root.typed=factory();}}(this,function(){function create(){function getTypeTest(name){var test;for(var i=0;i<typed.types.length;i++){var entry=typed.types[i];if(entry.name===name){test=entry.test;break;}}
if(!test){var hint;for(i=0;i<typed.types.length;i++){entry=typed.types[i];if(entry.name.toLowerCase()==name.toLowerCase()){hint=entry.name;break;}}
throw new Error('Unknown type "'+name+'"'+
(hint?('. Did you mean "'+hint+'"?'):''));}
return test;}
function getName(fns){var name='';for(var i=0;i<fns.length;i++){var fn=fns[i];if(fn.signatures&&fn.name!=''){if(name==''){name=fn.name;}
else if(name!=fn.name){var err=new Error('Function names do not match (expected: '+name+', actual: '+fn.name+')');err.data={actual:fn.name,expected:name};throw err;}}}
return name;}
function createError(fn,argCount,index,actual,expected){var actualType=getTypeOf(actual);var _expected=expected?expected.split(','):null;var _fn=(fn||'unnamed');var anyType=_expected&&contains(_expected,'any');var message;var data={fn:fn,index:index,actual:actual,expected:_expected};if(_expected){if(argCount>index&&!anyType){message='Unexpected type of argument in function '+_fn+' (expected: '+_expected.join(' or ')+', actual: '+actualType+', index: '+index+')';}
else{message='Too few arguments in function '+_fn+' (expected: '+_expected.join(' or ')+', index: '+index+')';}}
else{message='Too many arguments in function '+_fn+' (expected: '+index+', actual: '+argCount+')'}
var err=new TypeError(message);err.data=data;return err;}
function Refs(name){this.name=name||'refs';this.categories={};}
Refs.prototype.add=function(fn,category){var cat=category||'fn';if(!this.categories[cat])this.categories[cat]=[];var index=this.categories[cat].indexOf(fn);if(index==-1){index=this.categories[cat].length;this.categories[cat].push(fn);}
return cat+index;};Refs.prototype.toCode=function(){var code=[];var path=this.name+'.categories';var categories=this.categories;for(var cat in categories){if(categories.hasOwnProperty(cat)){var category=categories[cat];for(var i=0;i<category.length;i++){code.push('var '+cat+i+' = '+path+'[\''+cat+'\']['+i+'];');}}}
return code.join('\n');};function Param(types,varArgs){if(typeof types==='string'){var _types=types.trim();var _varArgs=_types.substr(0,3)==='...';if(_varArgs){_types=_types.substr(3);}
if(_types===''){this.types=['any'];}
else{this.types=_types.split('|');for(var i=0;i<this.types.length;i++){this.types[i]=this.types[i].trim();}}}
else if(Array.isArray(types)){this.types=types;}
else if(types instanceof Param){return types.clone();}
else{throw new Error('String or Array expected');}
this.conversions=[];this.varArgs=_varArgs||varArgs||false;this.anyType=this.types.indexOf('any')!==-1;}
Param.compare=function(a,b){if(a.anyType)return 1;if(b.anyType)return-1;if(contains(a.types,'Object'))return 1;if(contains(b.types,'Object'))return-1;if(a.hasConversions()){if(b.hasConversions()){var i,ac,bc;for(i=0;i<a.conversions.length;i++){if(a.conversions[i]!==undefined){ac=a.conversions[i];break;}}
for(i=0;i<b.conversions.length;i++){if(b.conversions[i]!==undefined){bc=b.conversions[i];break;}}
return typed.conversions.indexOf(ac)-typed.conversions.indexOf(bc);}
else{return 1;}}
else{if(b.hasConversions()){return-1;}
else{var ai,bi;for(i=0;i<typed.types.length;i++){if(typed.types[i].name===a.types[0]){ai=i;break;}}
for(i=0;i<typed.types.length;i++){if(typed.types[i].name===b.types[0]){bi=i;break;}}
return ai-bi;}}};Param.prototype.overlapping=function(other){for(var i=0;i<this.types.length;i++){if(contains(other.types,this.types[i])){return true;}}
return false;};Param.prototype.matches=function(other){return this.anyType||other.anyType||this.overlapping(other);};Param.prototype.clone=function(){var param=new Param(this.types.slice(),this.varArgs);param.conversions=this.conversions.slice();return param;};Param.prototype.hasConversions=function(){return this.conversions.length>0;};Param.prototype.contains=function(types){for(var i=0;i<this.types.length;i++){if(types[this.types[i]]){return true;}}
return false;};Param.prototype.toString=function(toConversion){var types=[];var keys={};for(var i=0;i<this.types.length;i++){var conversion=this.conversions[i];var type=toConversion&&conversion?conversion.to:this.types[i];if(!(type in keys)){keys[type]=true;types.push(type);}}
return(this.varArgs?'...':'')+types.join('|');};function Signature(params,fn){var _params;if(typeof params==='string'){_params=(params!=='')?params.split(','):[];}
else if(Array.isArray(params)){_params=params;}
else{throw new Error('string or Array expected');}
this.params=new Array(_params.length);this.anyType=false;this.varArgs=false;for(var i=0;i<_params.length;i++){var param=new Param(_params[i]);this.params[i]=param;if(param.anyType){this.anyType=true;}
if(i===_params.length-1){this.varArgs=param.varArgs;}
else{if(param.varArgs){throw new SyntaxError('Unexpected variable arguments operator "..."');}}}
this.fn=fn;}
Signature.prototype.clone=function(){return new Signature(this.params.slice(),this.fn);};Signature.prototype.expand=function(){var signatures=[];function recurse(signature,path){if(path.length<signature.params.length){var i,newParam,conversion;var param=signature.params[path.length];if(param.varArgs){newParam=param.clone();for(i=0;i<typed.conversions.length;i++){conversion=typed.conversions[i];if(!contains(param.types,conversion.from)&&contains(param.types,conversion.to)){var j=newParam.types.length;newParam.types[j]=conversion.from;newParam.conversions[j]=conversion;}}
recurse(signature,path.concat(newParam));}
else{for(i=0;i<param.types.length;i++){recurse(signature,path.concat(new Param(param.types[i])));}
for(i=0;i<typed.conversions.length;i++){conversion=typed.conversions[i];if(!contains(param.types,conversion.from)&&contains(param.types,conversion.to)){newParam=new Param(conversion.from);newParam.conversions[0]=conversion;recurse(signature,path.concat(newParam));}}}}
else{signatures.push(new Signature(path,signature.fn));}}
recurse(this,[]);return signatures;};Signature.compare=function(a,b){if(a.params.length>b.params.length)return 1;if(a.params.length<b.params.length)return-1;var i;var len=a.params.length;var ac=0;var bc=0;for(i=0;i<len;i++){if(a.params[i].hasConversions())ac++;if(b.params[i].hasConversions())bc++;}
if(ac>bc)return 1;if(ac<bc)return-1;for(i=0;i<a.params.length;i++){var cmp=Param.compare(a.params[i],b.params[i]);if(cmp!==0){return cmp;}}
return 0;};Signature.prototype.hasConversions=function(){for(var i=0;i<this.params.length;i++){if(this.params[i].hasConversions()){return true;}}
return false;};Signature.prototype.ignore=function(){var types={};for(var i=0;i<typed.ignore.length;i++){types[typed.ignore[i]]=true;}
for(i=0;i<this.params.length;i++){if(this.params[i].contains(types)){return true;}}
return false;};Signature.prototype.paramsStartWith=function(params){if(params.length===0){return true;}
var aLast=last(this.params);var bLast=last(params);for(var i=0;i<params.length;i++){var a=this.params[i]||(aLast.varArgs?aLast:null);var b=params[i]||(bLast.varArgs?bLast:null);if(!a||!b||!a.matches(b)){return false;}}
return true;};Signature.prototype.toCode=function(refs,prefix){var code=[];var args=new Array(this.params.length);for(var i=0;i<this.params.length;i++){var param=this.params[i];var conversion=param.conversions[0];if(param.varArgs){args[i]='varArgs';}
else if(conversion){args[i]=refs.add(conversion.convert,'convert')+'(arg'+i+')';}
else{args[i]='arg'+i;}}
var ref=this.fn?refs.add(this.fn,'signature'):undefined;if(ref){return prefix+'return '+ref+'('+args.join(', ')+'); // signature: '+this.params.join(', ');}
return code.join('\n');};Signature.prototype.toString=function(){return this.params.join(', ');};function Node(path,signature,childs,fallThrough){this.path=path||[];this.param=path[path.length-1]||null;this.signature=signature||null;this.childs=childs||[];this.fallThrough=fallThrough||false;}
Node.prototype.toCode=function(refs,prefix){var code=[];if(this.param){var index=this.path.length-1;var conversion=this.param.conversions[0];var comment='// type: '+(conversion?(conversion.from+' (convert to '+conversion.to+')'):this.param);if(this.param.varArgs){if(this.param.anyType){code.push(prefix+'if (arguments.length > '+index+') {');code.push(prefix+'  var varArgs = [];');code.push(prefix+'  for (var i = '+index+'; i < arguments.length; i++) {');code.push(prefix+'    varArgs.push(arguments[i]);');code.push(prefix+'  }');code.push(this.signature.toCode(refs,prefix+'  '));code.push(prefix+'}');}
else{var getTests=function(types,arg){var tests=[];for(var i=0;i<types.length;i++){tests[i]=refs.add(getTypeTest(types[i]),'test')+'('+arg+')';}
return tests.join(' || ');}.bind(this);var allTypes=this.param.types;var exactTypes=[];for(var i=0;i<allTypes.length;i++){if(this.param.conversions[i]===undefined){exactTypes.push(allTypes[i]);}}
code.push(prefix+'if ('+getTests(allTypes,'arg'+index)+') { '+comment);code.push(prefix+'  var varArgs = [arg'+index+'];');code.push(prefix+'  for (var i = '+(index+1)+'; i < arguments.length; i++) {');code.push(prefix+'    if ('+getTests(exactTypes,'arguments[i]')+') {');code.push(prefix+'      varArgs.push(arguments[i]);');for(var i=0;i<allTypes.length;i++){var conversion_i=this.param.conversions[i];if(conversion_i){var test=refs.add(getTypeTest(allTypes[i]),'test');var convert=refs.add(conversion_i.convert,'convert');code.push(prefix+'    }');code.push(prefix+'    else if ('+test+'(arguments[i])) {');code.push(prefix+'      varArgs.push('+convert+'(arguments[i]));');}}
code.push(prefix+'    } else {');code.push(prefix+'      throw createError(name, arguments.length, i, arguments[i], \''+exactTypes.join(',')+'\');');code.push(prefix+'    }');code.push(prefix+'  }');code.push(this.signature.toCode(refs,prefix+'  '));code.push(prefix+'}');}}
else{if(this.param.anyType){code.push(prefix+'// type: any');code.push(this._innerCode(refs,prefix));}
else{var type=this.param.types[0];var test=type!=='any'?refs.add(getTypeTest(type),'test'):null;code.push(prefix+'if ('+test+'(arg'+index+')) { '+comment);code.push(this._innerCode(refs,prefix+'  '));code.push(prefix+'}');}}}
else{code.push(this._innerCode(refs,prefix));}
return code.join('\n');};Node.prototype._innerCode=function(refs,prefix){var code=[];var i;if(this.signature){code.push(prefix+'if (arguments.length === '+this.path.length+') {');code.push(this.signature.toCode(refs,prefix+'  '));code.push(prefix+'}');}
for(i=0;i<this.childs.length;i++){code.push(this.childs[i].toCode(refs,prefix));}
if(!this.fallThrough||(this.param&&this.param.anyType)){var exceptions=this._exceptions(refs,prefix);if(exceptions){code.push(exceptions);}}
return code.join('\n');};Node.prototype._exceptions=function(refs,prefix){var index=this.path.length;if(this.childs.length===0){return[prefix+'if (arguments.length > '+index+') {',prefix+'  throw createError(name, arguments.length, '+index+', arguments['+index+']);',prefix+'}'].join('\n');}
else{var keys={};var types=[];for(var i=0;i<this.childs.length;i++){var node=this.childs[i];if(node.param){for(var j=0;j<node.param.types.length;j++){var type=node.param.types[j];if(!(type in keys)&&!node.param.conversions[j]){keys[type]=true;types.push(type);}}}}
return prefix+'throw createError(name, arguments.length, '+index+', arguments['+index+'], \''+types.join(',')+'\');';}};function parseSignatures(rawSignatures){var signature;var keys={};var signatures=[];var i;for(var types in rawSignatures){if(rawSignatures.hasOwnProperty(types)){var fn=rawSignatures[types];signature=new Signature(types,fn);if(signature.ignore()){continue;}
var expanded=signature.expand();for(i=0;i<expanded.length;i++){var signature_i=expanded[i];var key=signature_i.toString();var existing=keys[key];if(!existing){keys[key]=signature_i;}
else{var cmp=Signature.compare(signature_i,existing);if(cmp<0){keys[key]=signature_i;}
else if(cmp===0){throw new Error('Signature "'+key+'" is defined twice');}}}}}
for(key in keys){if(keys.hasOwnProperty(key)){signatures.push(keys[key]);}}
signatures.sort(function(a,b){return Signature.compare(a,b);});for(i=0;i<signatures.length;i++){signature=signatures[i];if(signature.varArgs){var index=signature.params.length-1;var param=signature.params[index];var t=0;while(t<param.types.length){if(param.conversions[t]){var type=param.types[t];for(var j=0;j<signatures.length;j++){var other=signatures[j];var p=other.params[index];if(other!==signature&&p&&contains(p.types,type)&&!p.conversions[index]){param.types.splice(t,1);param.conversions.splice(t,1);t--;break;}}}
t++;}}}
return signatures;}
function filterAnyTypeSignatures(signatures){var filtered=[];for(var i=0;i<signatures.length;i++){if(signatures[i].anyType){filtered.push(signatures[i]);}}
return filtered;}
function mapSignatures(signatures){var normalized={};for(var i=0;i<signatures.length;i++){var signature=signatures[i];if(signature.fn&&!signature.hasConversions()){var params=signature.params.join(',');normalized[params]=signature.fn;}}
return normalized;}
function parseTree(signatures,path,anys){var i,signature;var index=path.length;var nodeSignature;var filtered=[];for(i=0;i<signatures.length;i++){signature=signatures[i];if(signature.params.length===index&&!nodeSignature){nodeSignature=signature;}
if(signature.params[index]!=undefined){filtered.push(signature);}}
filtered.sort(function(a,b){return Param.compare(a.params[index],b.params[index]);});var entries=[];for(i=0;i<filtered.length;i++){signature=filtered[i];var param=signature.params[index];var existing=entries.filter(function(entry){return entry.param.overlapping(param);})[0];if(existing){if(existing.param.varArgs){throw new Error('Conflicting types "'+existing.param+'" and "'+param+'"');}
existing.signatures.push(signature);}
else{entries.push({param:param,signatures:[signature]});}}
var matchingAnys=[];for(i=0;i<anys.length;i++){if(anys[i].paramsStartWith(path)){matchingAnys.push(anys[i]);}}
var fallThrough=false;for(i=0;i<matchingAnys.length;i++){if(!contains(signatures,matchingAnys[i])){fallThrough=true;break;}}
var childs=new Array(entries.length);for(i=0;i<entries.length;i++){var entry=entries[i];childs[i]=parseTree(entry.signatures,path.concat(entry.param),matchingAnys)}
return new Node(path,nodeSignature,childs,fallThrough);}
function getArgs(count){var args=[];for(var i=0;i<count;i++){args[i]='arg'+i;}
return args;}
function _typed(name,signatures){var refs=new Refs();var _signatures=parseSignatures(signatures);if(_signatures.length==0){throw new Error('No signatures provided');}
var anys=filterAnyTypeSignatures(_signatures);var node=parseTree(_signatures,[],anys);var code=[];var _name=name||'';var _args=getArgs(maxParams(_signatures));code.push('function '+_name+'('+_args.join(', ')+') {');code.push('  "use strict";');code.push('  var name = \''+_name+'\';');code.push(node.toCode(refs,'  ',false));code.push('}');var body=[refs.toCode(),'return '+code.join('\n')].join('\n');var factory=(new Function(refs.name,'createError',body));var fn=factory(refs,createError);fn.signatures=mapSignatures(_signatures);return fn;}
function maxParams(signatures){var max=0;for(var i=0;i<signatures.length;i++){var len=signatures[i].params.length;if(len>max){max=len;}}
return max;}
function getTypeOf(x){var obj;for(var i=0;i<typed.types.length;i++){var entry=typed.types[i];if(entry.name==='Object'){obj=entry;}
else{if(entry.test(x))return entry.name;}}
if(obj&&obj.test(x))return obj.name;return'unknown';}
function contains(array,item){return array.indexOf(item)!==-1;}
function last(array){return array[array.length-1];}
var types=[{name:'number',test:function(x){return typeof x==='number'}},{name:'string',test:function(x){return typeof x==='string'}},{name:'boolean',test:function(x){return typeof x==='boolean'}},{name:'Function',test:function(x){return typeof x==='function'}},{name:'Array',test:Array.isArray},{name:'Date',test:function(x){return x instanceof Date}},{name:'RegExp',test:function(x){return x instanceof RegExp}},{name:'Object',test:function(x){return typeof x==='object'}},{name:'null',test:function(x){return x===null}},{name:'undefined',test:function(x){return x===undefined}}];var config={};var conversions=[];var ignore=[];var typed={config:config,types:types,conversions:conversions,ignore:ignore};typed=_typed('typed',{'Object':function(signatures){var fns=[];for(var signature in signatures){if(signatures.hasOwnProperty(signature)){fns.push(signatures[signature]);}}
var name=getName(fns);return _typed(name,signatures);},'string, Object':_typed,'...Function':function(fns){var err;var name=getName(fns);var signatures={};for(var i=0;i<fns.length;i++){var fn=fns[i];if(!(typeof fn.signatures==='object')){err=new TypeError('Function is no typed-function (index: '+i+')');err.data={index:i};throw err;}
for(var signature in fn.signatures){if(fn.signatures.hasOwnProperty(signature)){if(signatures.hasOwnProperty(signature)){if(fn.signatures[signature]!==signatures[signature]){err=new Error('Signature "'+signature+'" is defined twice');err.data={signature:signature};throw err;}}
else{signatures[signature]=fn.signatures[signature];}}}}
return _typed(name,signatures);}});function find(fn,signature){if(!fn.signatures){throw new TypeError('Function is no typed-function');}
var arr;if(typeof signature==='string'){arr=signature.split(',');for(var i=0;i<arr.length;i++){arr[i]=arr[i].trim();}}
else if(Array.isArray(signature)){arr=signature;}
else{throw new TypeError('String array or a comma separated string expected');}
var str=arr.join(',');var match=fn.signatures[str];if(match){return match;}
throw new TypeError('Signature not found (signature: '+(fn.name||'unnamed')+'('+arr.join(', ')+'))');}
function convert(value,type){var from=getTypeOf(value);if(type===from){return value;}
for(var i=0;i<typed.conversions.length;i++){var conversion=typed.conversions[i];if(conversion.from===from&&conversion.to===type){return conversion.convert(value);}}
throw new Error('Cannot convert from '+from+' to '+type);}
typed.config=config;typed.types=types;typed.conversions=conversions;typed.ignore=ignore;typed.create=create;typed.find=find;typed.convert=convert;typed.addType=function(type){if(!type||typeof type.name!=='string'||typeof type.test!=='function'){throw new TypeError('Object with properties {name: string, test: function} expected');}
typed.types.push(type);};typed.addConversion=function(conversion){if(!conversion||typeof conversion.from!=='string'||typeof conversion.to!=='string'||typeof conversion.convert!=='function'){throw new TypeError('Object with properties {from: string, to: string, convert: function} expected');}
typed.conversions.push(conversion);};return typed;}
return create();}));}),(function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(root,factory){'use strict';if(typeof module==='object'&&module.exports){module.exports=factory(__webpack_require__(234),__webpack_require__(232),__webpack_require__(233));}else if(true){!(__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(234),__webpack_require__(232),__webpack_require__(233)],__WEBPACK_AMD_DEFINE_FACTORY__=(factory),__WEBPACK_AMD_DEFINE_RESULT__=(typeof __WEBPACK_AMD_DEFINE_FACTORY__==='function'?(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__)):__WEBPACK_AMD_DEFINE_FACTORY__),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));}else{root.URI=factory(root.punycode,root.IPv6,root.SecondLevelDomains,root);}}(this,function(punycode,IPv6,SLD,root){'use strict';var _URI=root&&root.URI;function URI(url,base){var _urlSupplied=arguments.length>=1;var _baseSupplied=arguments.length>=2;if(!(this instanceof URI)){if(_urlSupplied){if(_baseSupplied){return new URI(url,base);}
return new URI(url);}
return new URI();}
if(url===undefined){if(_urlSupplied){throw new TypeError('undefined is not a valid argument for URI');}
if(typeof location!=='undefined'){url=location.href+'';}else{url='';}}
if(url===null){if(_urlSupplied){throw new TypeError('null is not a valid argument for URI');}}
this.href(url);if(base!==undefined){return this.absoluteTo(base);}
return this;}
URI.version='1.18.9';var p=URI.prototype;var hasOwn=Object.prototype.hasOwnProperty;function escapeRegEx(string){return string.replace(/([.*+?^=!:${}()|[\]\/\\])/g,'\\$1');}
function getType(value){if(value===undefined){return'Undefined';}
return String(Object.prototype.toString.call(value)).slice(8,-1);}
function isArray(obj){return getType(obj)==='Array';}
function filterArrayValues(data,value){var lookup={};var i,length;if(getType(value)==='RegExp'){lookup=null;}else if(isArray(value)){for(i=0,length=value.length;i<length;i++){lookup[value[i]]=true;}}else{lookup[value]=true;}
for(i=0,length=data.length;i<length;i++){var _match=lookup&&lookup[data[i]]!==undefined||!lookup&&value.test(data[i]);if(_match){data.splice(i,1);length--;i--;}}
return data;}
function arrayContains(list,value){var i,length;if(isArray(value)){for(i=0,length=value.length;i<length;i++){if(!arrayContains(list,value[i])){return false;}}
return true;}
var _type=getType(value);for(i=0,length=list.length;i<length;i++){if(_type==='RegExp'){if(typeof list[i]==='string'&&list[i].match(value)){return true;}}else if(list[i]===value){return true;}}
return false;}
function arraysEqual(one,two){if(!isArray(one)||!isArray(two)){return false;}
if(one.length!==two.length){return false;}
one.sort();two.sort();for(var i=0,l=one.length;i<l;i++){if(one[i]!==two[i]){return false;}}
return true;}
function trimSlashes(text){var trim_expression=/^\/+|\/+$/g;return text.replace(trim_expression,'');}
URI._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:URI.duplicateQueryParameters,escapeQuerySpace:URI.escapeQuerySpace};};URI.duplicateQueryParameters=false;URI.escapeQuerySpace=true;URI.protocol_expression=/^[a-z][a-z0-9.+-]*$/i;URI.idn_expression=/[^a-z0-9\.-]/i;URI.punycode_expression=/(xn--)/i;URI.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/;URI.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/;URI.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/ig;URI.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/,parens:/(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g,};URI.defaultPorts={http:'80',https:'443',ftp:'21',gopher:'70',ws:'80',wss:'443'};URI.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/;URI.domAttributes={'a':'href','blockquote':'cite','link':'href','base':'href','script':'src','form':'action','img':'src','area':'href','iframe':'src','embed':'src','source':'src','track':'src','input':'src','audio':'src','video':'src'};URI.getDomAttribute=function(node){if(!node||!node.nodeName){return undefined;}
var nodeName=node.nodeName.toLowerCase();if(nodeName==='input'&&node.type!=='image'){return undefined;}
return URI.domAttributes[nodeName];};function escapeForDumbFirefox36(value){return escape(value);}
function strictEncodeURIComponent(string){return encodeURIComponent(string).replace(/[!'()*]/g,escapeForDumbFirefox36).replace(/\*/g,'%2A');}
URI.encode=strictEncodeURIComponent;URI.decode=decodeURIComponent;URI.iso8859=function(){URI.encode=escape;URI.decode=unescape;};URI.unicode=function(){URI.encode=strictEncodeURIComponent;URI.decode=decodeURIComponent;};URI.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/ig,map:{'%24':'$','%26':'&','%2B':'+','%2C':',','%3B':';','%3D':'=','%3A':':','%40':'@'}},decode:{expression:/[\/\?#]/g,map:{'/':'%2F','?':'%3F','#':'%23'}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/ig,map:{'%3A':':','%2F':'/','%3F':'?','%23':'#','%5B':'[','%5D':']','%40':'@','%21':'!','%24':'$','%26':'&','%27':'\'','%28':'(','%29':')','%2A':'*','%2B':'+','%2C':',','%3B':';','%3D':'='}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/ig,map:{'%21':'!','%24':'$','%27':'\'','%28':'(','%29':')','%2A':'*','%2B':'+','%2C':',','%3B':';','%3D':'=','%40':'@'}},decode:{expression:/[\/\?#:]/g,map:{'/':'%2F','?':'%3F','#':'%23',':':'%3A'}}}};URI.encodeQuery=function(string,escapeQuerySpace){var escaped=URI.encode(string+'');if(escapeQuerySpace===undefined){escapeQuerySpace=URI.escapeQuerySpace;}
return escapeQuerySpace?escaped.replace(/%20/g,'+'):escaped;};URI.decodeQuery=function(string,escapeQuerySpace){string+='';if(escapeQuerySpace===undefined){escapeQuerySpace=URI.escapeQuerySpace;}
try{return URI.decode(escapeQuerySpace?string.replace(/\+/g,'%20'):string);}catch(e){return string;}};var _parts={'encode':'encode','decode':'decode'};var _part;var generateAccessor=function(_group,_part){return function(string){try{return URI[_part](string+'').replace(URI.characters[_group][_part].expression,function(c){return URI.characters[_group][_part].map[c];});}catch(e){return string;}};};for(_part in _parts){URI[_part+'PathSegment']=generateAccessor('pathname',_parts[_part]);URI[_part+'UrnPathSegment']=generateAccessor('urnpath',_parts[_part]);}
var generateSegmentedPathFunction=function(_sep,_codingFuncName,_innerCodingFuncName){return function(string){var actualCodingFunc;if(!_innerCodingFuncName){actualCodingFunc=URI[_codingFuncName];}else{actualCodingFunc=function(string){return URI[_codingFuncName](URI[_innerCodingFuncName](string));};}
var segments=(string+'').split(_sep);for(var i=0,length=segments.length;i<length;i++){segments[i]=actualCodingFunc(segments[i]);}
return segments.join(_sep);};};URI.decodePath=generateSegmentedPathFunction('/','decodePathSegment');URI.decodeUrnPath=generateSegmentedPathFunction(':','decodeUrnPathSegment');URI.recodePath=generateSegmentedPathFunction('/','encodePathSegment','decode');URI.recodeUrnPath=generateSegmentedPathFunction(':','encodeUrnPathSegment','decode');URI.encodeReserved=generateAccessor('reserved','encode');URI.parse=function(string,parts){var pos;if(!parts){parts={};}
pos=string.indexOf('#');if(pos>-1){parts.fragment=string.substring(pos+1)||null;string=string.substring(0,pos);}
pos=string.indexOf('?');if(pos>-1){parts.query=string.substring(pos+1)||null;string=string.substring(0,pos);}
if(string.substring(0,2)==='//'){parts.protocol=null;string=string.substring(2);string=URI.parseAuthority(string,parts);}else{pos=string.indexOf(':');if(pos>-1){parts.protocol=string.substring(0,pos)||null;if(parts.protocol&&!parts.protocol.match(URI.protocol_expression)){parts.protocol=undefined;}else if(string.substring(pos+1,pos+3)==='//'){string=string.substring(pos+3);string=URI.parseAuthority(string,parts);}else{string=string.substring(pos+1);parts.urn=true;}}}
parts.path=string;return parts;};URI.parseHost=function(string,parts){string=string.replace(/\\/g,'/');var pos=string.indexOf('/');var bracketPos;var t;if(pos===-1){pos=string.length;}
if(string.charAt(0)==='['){bracketPos=string.indexOf(']');parts.hostname=string.substring(1,bracketPos)||null;parts.port=string.substring(bracketPos+2,pos)||null;if(parts.port==='/'){parts.port=null;}}else{var firstColon=string.indexOf(':');var firstSlash=string.indexOf('/');var nextColon=string.indexOf(':',firstColon+1);if(nextColon!==-1&&(firstSlash===-1||nextColon<firstSlash)){parts.hostname=string.substring(0,pos)||null;parts.port=null;}else{t=string.substring(0,pos).split(':');parts.hostname=t[0]||null;parts.port=t[1]||null;}}
if(parts.hostname&&string.substring(pos).charAt(0)!=='/'){pos++;string='/'+string;}
return string.substring(pos)||'/';};URI.parseAuthority=function(string,parts){string=URI.parseUserinfo(string,parts);return URI.parseHost(string,parts);};URI.parseUserinfo=function(string,parts){var firstSlash=string.indexOf('/');var pos=string.lastIndexOf('@',firstSlash>-1?firstSlash:string.length-1);var t;if(pos>-1&&(firstSlash===-1||pos<firstSlash)){t=string.substring(0,pos).split(':');parts.username=t[0]?URI.decode(t[0]):null;t.shift();parts.password=t[0]?URI.decode(t.join(':')):null;string=string.substring(pos+1);}else{parts.username=null;parts.password=null;}
return string;};URI.parseQuery=function(string,escapeQuerySpace){if(!string){return{};}
string=string.replace(/&+/g,'&').replace(/^\?*&*|&+$/g,'');if(!string){return{};}
var items={};var splits=string.split('&');var length=splits.length;var v,name,value;for(var i=0;i<length;i++){v=splits[i].split('=');name=URI.decodeQuery(v.shift(),escapeQuerySpace);value=v.length?URI.decodeQuery(v.join('='),escapeQuerySpace):null;if(hasOwn.call(items,name)){if(typeof items[name]==='string'||items[name]===null){items[name]=[items[name]];}
items[name].push(value);}else{items[name]=value;}}
return items;};URI.build=function(parts){var t='';if(parts.protocol){t+=parts.protocol+':';}
if(!parts.urn&&(t||parts.hostname)){t+='//';}
t+=(URI.buildAuthority(parts)||'');if(typeof parts.path==='string'){if(parts.path.charAt(0)!=='/'&&typeof parts.hostname==='string'){t+='/';}
t+=parts.path;}
if(typeof parts.query==='string'&&parts.query){t+='?'+parts.query;}
if(typeof parts.fragment==='string'&&parts.fragment){t+='#'+parts.fragment;}
return t;};URI.buildHost=function(parts){var t='';if(!parts.hostname){return'';}else if(URI.ip6_expression.test(parts.hostname)){t+='['+parts.hostname+']';}else{t+=parts.hostname;}
if(parts.port){t+=':'+parts.port;}
return t;};URI.buildAuthority=function(parts){return URI.buildUserinfo(parts)+URI.buildHost(parts);};URI.buildUserinfo=function(parts){var t='';if(parts.username){t+=URI.encode(parts.username);}
if(parts.password){t+=':'+URI.encode(parts.password);}
if(t){t+='@';}
return t;};URI.buildQuery=function(data,duplicateQueryParameters,escapeQuerySpace){var t='';var unique,key,i,length;for(key in data){if(hasOwn.call(data,key)&&key){if(isArray(data[key])){unique={};for(i=0,length=data[key].length;i<length;i++){if(data[key][i]!==undefined&&unique[data[key][i]+'']===undefined){t+='&'+URI.buildQueryParameter(key,data[key][i],escapeQuerySpace);if(duplicateQueryParameters!==true){unique[data[key][i]+'']=true;}}}}else if(data[key]!==undefined){t+='&'+URI.buildQueryParameter(key,data[key],escapeQuerySpace);}}}
return t.substring(1);};URI.buildQueryParameter=function(name,value,escapeQuerySpace){return URI.encodeQuery(name,escapeQuerySpace)+(value!==null?'='+URI.encodeQuery(value,escapeQuerySpace):'');};URI.addQuery=function(data,name,value){if(typeof name==='object'){for(var key in name){if(hasOwn.call(name,key)){URI.addQuery(data,key,name[key]);}}}else if(typeof name==='string'){if(data[name]===undefined){data[name]=value;return;}else if(typeof data[name]==='string'){data[name]=[data[name]];}
if(!isArray(value)){value=[value];}
data[name]=(data[name]||[]).concat(value);}else{throw new TypeError('URI.addQuery() accepts an object, string as the name parameter');}};URI.removeQuery=function(data,name,value){var i,length,key;if(isArray(name)){for(i=0,length=name.length;i<length;i++){data[name[i]]=undefined;}}else if(getType(name)==='RegExp'){for(key in data){if(name.test(key)){data[key]=undefined;}}}else if(typeof name==='object'){for(key in name){if(hasOwn.call(name,key)){URI.removeQuery(data,key,name[key]);}}}else if(typeof name==='string'){if(value!==undefined){if(getType(value)==='RegExp'){if(!isArray(data[name])&&value.test(data[name])){data[name]=undefined;}else{data[name]=filterArrayValues(data[name],value);}}else if(data[name]===String(value)&&(!isArray(value)||value.length===1)){data[name]=undefined;}else if(isArray(data[name])){data[name]=filterArrayValues(data[name],value);}}else{data[name]=undefined;}}else{throw new TypeError('URI.removeQuery() accepts an object, string, RegExp as the first parameter');}};URI.hasQuery=function(data,name,value,withinArray){switch(getType(name)){case'String':break;case'RegExp':for(var key in data){if(hasOwn.call(data,key)){if(name.test(key)&&(value===undefined||URI.hasQuery(data,key,value))){return true;}}}
return false;case'Object':for(var _key in name){if(hasOwn.call(name,_key)){if(!URI.hasQuery(data,_key,name[_key])){return false;}}}
return true;default:throw new TypeError('URI.hasQuery() accepts a string, regular expression or object as the name parameter');}
switch(getType(value)){case'Undefined':return name in data;case'Boolean':var _booly=Boolean(isArray(data[name])?data[name].length:data[name]);return value===_booly;case'Function':return!!value(data[name],name,data);case'Array':if(!isArray(data[name])){return false;}
var op=withinArray?arrayContains:arraysEqual;return op(data[name],value);case'RegExp':if(!isArray(data[name])){return Boolean(data[name]&&data[name].match(value));}
if(!withinArray){return false;}
return arrayContains(data[name],value);case'Number':value=String(value);case'String':if(!isArray(data[name])){return data[name]===value;}
if(!withinArray){return false;}
return arrayContains(data[name],value);default:throw new TypeError('URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter');}};URI.joinPaths=function(){var input=[];var segments=[];var nonEmptySegments=0;for(var i=0;i<arguments.length;i++){var url=new URI(arguments[i]);input.push(url);var _segments=url.segment();for(var s=0;s<_segments.length;s++){if(typeof _segments[s]==='string'){segments.push(_segments[s]);}
if(_segments[s]){nonEmptySegments++;}}}
if(!segments.length||!nonEmptySegments){return new URI('');}
var uri=new URI('').segment(segments);if(input[0].path()===''||input[0].path().slice(0,1)==='/'){uri.path('/'+uri.path());}
return uri.normalize();};URI.commonPath=function(one,two){var length=Math.min(one.length,two.length);var pos;for(pos=0;pos<length;pos++){if(one.charAt(pos)!==two.charAt(pos)){pos--;break;}}
if(pos<1){return one.charAt(0)===two.charAt(0)&&one.charAt(0)==='/'?'/':'';}
if(one.charAt(pos)!=='/'||two.charAt(pos)!=='/'){pos=one.substring(0,pos).lastIndexOf('/');}
return one.substring(0,pos+1);};URI.withinString=function(string,callback,options){options||(options={});var _start=options.start||URI.findUri.start;var _end=options.end||URI.findUri.end;var _trim=options.trim||URI.findUri.trim;var _parens=options.parens||URI.findUri.parens;var _attributeOpen=/[a-z0-9-]=["']?$/i;_start.lastIndex=0;while(true){var match=_start.exec(string);if(!match){break;}
var start=match.index;if(options.ignoreHtml){var attributeOpen=string.slice(Math.max(start-3,0),start);if(attributeOpen&&_attributeOpen.test(attributeOpen)){continue;}}
var end=start+string.slice(start).search(_end);var slice=string.slice(start,end);var parensEnd=-1;while(true){var parensMatch=_parens.exec(slice);if(!parensMatch){break;}
var parensMatchEnd=parensMatch.index+parensMatch[0].length;parensEnd=Math.max(parensEnd,parensMatchEnd);}
if(parensEnd>-1){slice=slice.slice(0,parensEnd)+slice.slice(parensEnd).replace(_trim,'');}else{slice=slice.replace(_trim,'');}
if(slice.length<=match[0].length){continue;}
if(options.ignore&&options.ignore.test(slice)){continue;}
end=start+slice.length;var result=callback(slice,start,end,string);if(result===undefined){_start.lastIndex=end;continue;}
result=String(result);string=string.slice(0,start)+result+string.slice(end);_start.lastIndex=start+result.length;}
_start.lastIndex=0;return string;};URI.ensureValidHostname=function(v){if(v.match(URI.invalid_hostname_characters)){if(!punycode){throw new TypeError('Hostname "'+v+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');}
if(punycode.toASCII(v).match(URI.invalid_hostname_characters)){throw new TypeError('Hostname "'+v+'" contains characters other than [A-Z0-9.-]');}}};URI.noConflict=function(removeAll){if(removeAll){var unconflicted={URI:this.noConflict()};if(root.URITemplate&&typeof root.URITemplate.noConflict==='function'){unconflicted.URITemplate=root.URITemplate.noConflict();}
if(root.IPv6&&typeof root.IPv6.noConflict==='function'){unconflicted.IPv6=root.IPv6.noConflict();}
if(root.SecondLevelDomains&&typeof root.SecondLevelDomains.noConflict==='function'){unconflicted.SecondLevelDomains=root.SecondLevelDomains.noConflict();}
return unconflicted;}else if(root.URI===this){root.URI=_URI;}
return this;};p.build=function(deferBuild){if(deferBuild===true){this._deferred_build=true;}else if(deferBuild===undefined||this._deferred_build){this._string=URI.build(this._parts);this._deferred_build=false;}
return this;};p.clone=function(){return new URI(this);};p.valueOf=p.toString=function(){return this.build(false)._string;};function generateSimpleAccessor(_part){return function(v,build){if(v===undefined){return this._parts[_part]||'';}else{this._parts[_part]=v||null;this.build(!build);return this;}};}
function generatePrefixAccessor(_part,_key){return function(v,build){if(v===undefined){return this._parts[_part]||'';}else{if(v!==null){v=v+'';if(v.charAt(0)===_key){v=v.substring(1);}}
this._parts[_part]=v;this.build(!build);return this;}};}
p.protocol=generateSimpleAccessor('protocol');p.username=generateSimpleAccessor('username');p.password=generateSimpleAccessor('password');p.hostname=generateSimpleAccessor('hostname');p.port=generateSimpleAccessor('port');p.query=generatePrefixAccessor('query','?');p.fragment=generatePrefixAccessor('fragment','#');p.search=function(v,build){var t=this.query(v,build);return typeof t==='string'&&t.length?('?'+t):t;};p.hash=function(v,build){var t=this.fragment(v,build);return typeof t==='string'&&t.length?('#'+t):t;};p.pathname=function(v,build){if(v===undefined||v===true){var res=this._parts.path||(this._parts.hostname?'/':'');return v?(this._parts.urn?URI.decodeUrnPath:URI.decodePath)(res):res;}else{if(this._parts.urn){this._parts.path=v?URI.recodeUrnPath(v):'';}else{this._parts.path=v?URI.recodePath(v):'/';}
this.build(!build);return this;}};p.path=p.pathname;p.href=function(href,build){var key;if(href===undefined){return this.toString();}
this._string='';this._parts=URI._parts();var _URI=href instanceof URI;var _object=typeof href==='object'&&(href.hostname||href.path||href.pathname);if(href.nodeName){var attribute=URI.getDomAttribute(href);href=href[attribute]||'';_object=false;}
if(!_URI&&_object&&href.pathname!==undefined){href=href.toString();}
if(typeof href==='string'||href instanceof String){this._parts=URI.parse(String(href),this._parts);}else if(_URI||_object){var src=_URI?href._parts:href;for(key in src){if(hasOwn.call(this._parts,key)){this._parts[key]=src[key];}}}else{throw new TypeError('invalid input');}
this.build(!build);return this;};p.is=function(what){var ip=false;var ip4=false;var ip6=false;var name=false;var sld=false;var idn=false;var punycode=false;var relative=!this._parts.urn;if(this._parts.hostname){relative=false;ip4=URI.ip4_expression.test(this._parts.hostname);ip6=URI.ip6_expression.test(this._parts.hostname);ip=ip4||ip6;name=!ip;sld=name&&SLD&&SLD.has(this._parts.hostname);idn=name&&URI.idn_expression.test(this._parts.hostname);punycode=name&&URI.punycode_expression.test(this._parts.hostname);}
switch(what.toLowerCase()){case'relative':return relative;case'absolute':return!relative;case'domain':case'name':return name;case'sld':return sld;case'ip':return ip;case'ip4':case'ipv4':case'inet4':return ip4;case'ip6':case'ipv6':case'inet6':return ip6;case'idn':return idn;case'url':return!this._parts.urn;case'urn':return!!this._parts.urn;case'punycode':return punycode;}
return null;};var _protocol=p.protocol;var _port=p.port;var _hostname=p.hostname;p.protocol=function(v,build){if(v!==undefined){if(v){v=v.replace(/:(\/\/)?$/,'');if(!v.match(URI.protocol_expression)){throw new TypeError('Protocol "'+v+'" contains characters other than [A-Z0-9.+-] or doesn\'t start with [A-Z]');}}}
return _protocol.call(this,v,build);};p.scheme=p.protocol;p.port=function(v,build){if(this._parts.urn){return v===undefined?'':this;}
if(v!==undefined){if(v===0){v=null;}
if(v){v+='';if(v.charAt(0)===':'){v=v.substring(1);}
if(v.match(/[^0-9]/)){throw new TypeError('Port "'+v+'" contains characters other than [0-9]');}}}
return _port.call(this,v,build);};p.hostname=function(v,build){if(this._parts.urn){return v===undefined?'':this;}
if(v!==undefined){var x={};var res=URI.parseHost(v,x);if(res!=='/'){throw new TypeError('Hostname "'+v+'" contains characters other than [A-Z0-9.-]');}
v=x.hostname;}
return _hostname.call(this,v,build);};p.origin=function(v,build){if(this._parts.urn){return v===undefined?'':this;}
if(v===undefined){var protocol=this.protocol();var authority=this.authority();if(!authority){return'';}
return(protocol?protocol+'://':'')+this.authority();}else{var origin=URI(v);this.protocol(origin.protocol()).authority(origin.authority()).build(!build);return this;}};p.host=function(v,build){if(this._parts.urn){return v===undefined?'':this;}
if(v===undefined){return this._parts.hostname?URI.buildHost(this._parts):'';}else{var res=URI.parseHost(v,this._parts);if(res!=='/'){throw new TypeError('Hostname "'+v+'" contains characters other than [A-Z0-9.-]');}
this.build(!build);return this;}};p.authority=function(v,build){if(this._parts.urn){return v===undefined?'':this;}
if(v===undefined){return this._parts.hostname?URI.buildAuthority(this._parts):'';}else{var res=URI.parseAuthority(v,this._parts);if(res!=='/'){throw new TypeError('Hostname "'+v+'" contains characters other than [A-Z0-9.-]');}
this.build(!build);return this;}};p.userinfo=function(v,build){if(this._parts.urn){return v===undefined?'':this;}
if(v===undefined){var t=URI.buildUserinfo(this._parts);return t?t.substring(0,t.length-1):t;}else{if(v[v.length-1]!=='@'){v+='@';}
URI.parseUserinfo(v,this._parts);this.build(!build);return this;}};p.resource=function(v,build){var parts;if(v===undefined){return this.path()+this.search()+this.hash();}
parts=URI.parse(v);this._parts.path=parts.path;this._parts.query=parts.query;this._parts.fragment=parts.fragment;this.build(!build);return this;};p.subdomain=function(v,build){if(this._parts.urn){return v===undefined?'':this;}
if(v===undefined){if(!this._parts.hostname||this.is('IP')){return'';}
var end=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,end)||'';}else{var e=this._parts.hostname.length-this.domain().length;var sub=this._parts.hostname.substring(0,e);var replace=new RegExp('^'+escapeRegEx(sub));if(v&&v.charAt(v.length-1)!=='.'){v+='.';}
if(v){URI.ensureValidHostname(v);}
this._parts.hostname=this._parts.hostname.replace(replace,v);this.build(!build);return this;}};p.domain=function(v,build){if(this._parts.urn){return v===undefined?'':this;}
if(typeof v==='boolean'){build=v;v=undefined;}
if(v===undefined){if(!this._parts.hostname||this.is('IP')){return'';}
var t=this._parts.hostname.match(/\./g);if(t&&t.length<2){return this._parts.hostname;}
var end=this._parts.hostname.length-this.tld(build).length-1;end=this._parts.hostname.lastIndexOf('.',end-1)+1;return this._parts.hostname.substring(end)||'';}else{if(!v){throw new TypeError('cannot set domain empty');}
URI.ensureValidHostname(v);if(!this._parts.hostname||this.is('IP')){this._parts.hostname=v;}else{var replace=new RegExp(escapeRegEx(this.domain())+'$');this._parts.hostname=this._parts.hostname.replace(replace,v);}
this.build(!build);return this;}};p.tld=function(v,build){if(this._parts.urn){return v===undefined?'':this;}
if(typeof v==='boolean'){build=v;v=undefined;}
if(v===undefined){if(!this._parts.hostname||this.is('IP')){return'';}
var pos=this._parts.hostname.lastIndexOf('.');var tld=this._parts.hostname.substring(pos+1);if(build!==true&&SLD&&SLD.list[tld.toLowerCase()]){return SLD.get(this._parts.hostname)||tld;}
return tld;}else{var replace;if(!v){throw new TypeError('cannot set TLD empty');}else if(v.match(/[^a-zA-Z0-9-]/)){if(SLD&&SLD.is(v)){replace=new RegExp(escapeRegEx(this.tld())+'$');this._parts.hostname=this._parts.hostname.replace(replace,v);}else{throw new TypeError('TLD "'+v+'" contains characters other than [A-Z0-9]');}}else if(!this._parts.hostname||this.is('IP')){throw new ReferenceError('cannot set TLD on non-domain host');}else{replace=new RegExp(escapeRegEx(this.tld())+'$');this._parts.hostname=this._parts.hostname.replace(replace,v);}
this.build(!build);return this;}};p.directory=function(v,build){if(this._parts.urn){return v===undefined?'':this;}
if(v===undefined||v===true){if(!this._parts.path&&!this._parts.hostname){return'';}
if(this._parts.path==='/'){return'/';}
var end=this._parts.path.length-this.filename().length-1;var res=this._parts.path.substring(0,end)||(this._parts.hostname?'/':'');return v?URI.decodePath(res):res;}else{var e=this._parts.path.length-this.filename().length;var directory=this._parts.path.substring(0,e);var replace=new RegExp('^'+escapeRegEx(directory));if(!this.is('relative')){if(!v){v='/';}
if(v.charAt(0)!=='/'){v='/'+v;}}
if(v&&v.charAt(v.length-1)!=='/'){v+='/';}
v=URI.recodePath(v);this._parts.path=this._parts.path.replace(replace,v);this.build(!build);return this;}};p.filename=function(v,build){if(this._parts.urn){return v===undefined?'':this;}
if(typeof v!=='string'){if(!this._parts.path||this._parts.path==='/'){return'';}
var pos=this._parts.path.lastIndexOf('/');var res=this._parts.path.substring(pos+1);return v?URI.decodePathSegment(res):res;}else{var mutatedDirectory=false;if(v.charAt(0)==='/'){v=v.substring(1);}
if(v.match(/\.?\//)){mutatedDirectory=true;}
var replace=new RegExp(escapeRegEx(this.filename())+'$');v=URI.recodePath(v);this._parts.path=this._parts.path.replace(replace,v);if(mutatedDirectory){this.normalizePath(build);}else{this.build(!build);}
return this;}};p.suffix=function(v,build){if(this._parts.urn){return v===undefined?'':this;}
if(v===undefined||v===true){if(!this._parts.path||this._parts.path==='/'){return'';}
var filename=this.filename();var pos=filename.lastIndexOf('.');var s,res;if(pos===-1){return'';}
s=filename.substring(pos+1);res=(/^[a-z0-9%]+$/i).test(s)?s:'';return v?URI.decodePathSegment(res):res;}else{if(v.charAt(0)==='.'){v=v.substring(1);}
var suffix=this.suffix();var replace;if(!suffix){if(!v){return this;}
this._parts.path+='.'+URI.recodePath(v);}else if(!v){replace=new RegExp(escapeRegEx('.'+suffix)+'$');}else{replace=new RegExp(escapeRegEx(suffix)+'$');}
if(replace){v=URI.recodePath(v);this._parts.path=this._parts.path.replace(replace,v);}
this.build(!build);return this;}};p.segment=function(segment,v,build){var separator=this._parts.urn?':':'/';var path=this.path();var absolute=path.substring(0,1)==='/';var segments=path.split(separator);if(segment!==undefined&&typeof segment!=='number'){build=v;v=segment;segment=undefined;}
if(segment!==undefined&&typeof segment!=='number'){throw new Error('Bad segment "'+segment+'", must be 0-based integer');}
if(absolute){segments.shift();}
if(segment<0){segment=Math.max(segments.length+segment,0);}
if(v===undefined){return segment===undefined?segments:segments[segment];}else if(segment===null||segments[segment]===undefined){if(isArray(v)){segments=[];for(var i=0,l=v.length;i<l;i++){if(!v[i].length&&(!segments.length||!segments[segments.length-1].length)){continue;}
if(segments.length&&!segments[segments.length-1].length){segments.pop();}
segments.push(trimSlashes(v[i]));}}else if(v||typeof v==='string'){v=trimSlashes(v);if(segments[segments.length-1]===''){segments[segments.length-1]=v;}else{segments.push(v);}}}else{if(v){segments[segment]=trimSlashes(v);}else{segments.splice(segment,1);}}
if(absolute){segments.unshift('');}
return this.path(segments.join(separator),build);};p.segmentCoded=function(segment,v,build){var segments,i,l;if(typeof segment!=='number'){build=v;v=segment;segment=undefined;}
if(v===undefined){segments=this.segment(segment,v,build);if(!isArray(segments)){segments=segments!==undefined?URI.decode(segments):undefined;}else{for(i=0,l=segments.length;i<l;i++){segments[i]=URI.decode(segments[i]);}}
return segments;}
if(!isArray(v)){v=(typeof v==='string'||v instanceof String)?URI.encode(v):v;}else{for(i=0,l=v.length;i<l;i++){v[i]=URI.encode(v[i]);}}
return this.segment(segment,v,build);};var q=p.query;p.query=function(v,build){if(v===true){return URI.parseQuery(this._parts.query,this._parts.escapeQuerySpace);}else if(typeof v==='function'){var data=URI.parseQuery(this._parts.query,this._parts.escapeQuerySpace);var result=v.call(this,data);this._parts.query=URI.buildQuery(result||data,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);this.build(!build);return this;}else if(v!==undefined&&typeof v!=='string'){this._parts.query=URI.buildQuery(v,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);this.build(!build);return this;}else{return q.call(this,v,build);}};p.setQuery=function(name,value,build){var data=URI.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if(typeof name==='string'||name instanceof String){data[name]=value!==undefined?value:null;}else if(typeof name==='object'){for(var key in name){if(hasOwn.call(name,key)){data[key]=name[key];}}}else{throw new TypeError('URI.addQuery() accepts an object, string as the name parameter');}
this._parts.query=URI.buildQuery(data,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);if(typeof name!=='string'){build=value;}
this.build(!build);return this;};p.addQuery=function(name,value,build){var data=URI.parseQuery(this._parts.query,this._parts.escapeQuerySpace);URI.addQuery(data,name,value===undefined?null:value);this._parts.query=URI.buildQuery(data,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);if(typeof name!=='string'){build=value;}
this.build(!build);return this;};p.removeQuery=function(name,value,build){var data=URI.parseQuery(this._parts.query,this._parts.escapeQuerySpace);URI.removeQuery(data,name,value);this._parts.query=URI.buildQuery(data,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);if(typeof name!=='string'){build=value;}
this.build(!build);return this;};p.hasQuery=function(name,value,withinArray){var data=URI.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return URI.hasQuery(data,name,value,withinArray);};p.setSearch=p.setQuery;p.addSearch=p.addQuery;p.removeSearch=p.removeQuery;p.hasSearch=p.hasQuery;p.normalize=function(){if(this._parts.urn){return this.normalizeProtocol(false).normalizePath(false).normalizeQuery(false).normalizeFragment(false).build();}
return this.normalizeProtocol(false).normalizeHostname(false).normalizePort(false).normalizePath(false).normalizeQuery(false).normalizeFragment(false).build();};p.normalizeProtocol=function(build){if(typeof this._parts.protocol==='string'){this._parts.protocol=this._parts.protocol.toLowerCase();this.build(!build);}
return this;};p.normalizeHostname=function(build){if(this._parts.hostname){if(this.is('IDN')&&punycode){this._parts.hostname=punycode.toASCII(this._parts.hostname);}else if(this.is('IPv6')&&IPv6){this._parts.hostname=IPv6.best(this._parts.hostname);}
this._parts.hostname=this._parts.hostname.toLowerCase();this.build(!build);}
return this;};p.normalizePort=function(build){if(typeof this._parts.protocol==='string'&&this._parts.port===URI.defaultPorts[this._parts.protocol]){this._parts.port=null;this.build(!build);}
return this;};p.normalizePath=function(build){var _path=this._parts.path;if(!_path){return this;}
if(this._parts.urn){this._parts.path=URI.recodeUrnPath(this._parts.path);this.build(!build);return this;}
if(this._parts.path==='/'){return this;}
_path=URI.recodePath(_path);var _was_relative;var _leadingParents='';var _parent,_pos;if(_path.charAt(0)!=='/'){_was_relative=true;_path='/'+_path;}
if(_path.slice(-3)==='/..'||_path.slice(-2)==='/.'){_path+='/';}
_path=_path.replace(/(\/(\.\/)+)|(\/\.$)/g,'/').replace(/\/{2,}/g,'/');if(_was_relative){_leadingParents=_path.substring(1).match(/^(\.\.\/)+/)||'';if(_leadingParents){_leadingParents=_leadingParents[0];}}
while(true){_parent=_path.search(/\/\.\.(\/|$)/);if(_parent===-1){break;}else if(_parent===0){_path=_path.substring(3);continue;}
_pos=_path.substring(0,_parent).lastIndexOf('/');if(_pos===-1){_pos=_parent;}
_path=_path.substring(0,_pos)+_path.substring(_parent+3);}
if(_was_relative&&this.is('relative')){_path=_leadingParents+_path.substring(1);}
this._parts.path=_path;this.build(!build);return this;};p.normalizePathname=p.normalizePath;p.normalizeQuery=function(build){if(typeof this._parts.query==='string'){if(!this._parts.query.length){this._parts.query=null;}else{this.query(URI.parseQuery(this._parts.query,this._parts.escapeQuerySpace));}
this.build(!build);}
return this;};p.normalizeFragment=function(build){if(!this._parts.fragment){this._parts.fragment=null;this.build(!build);}
return this;};p.normalizeSearch=p.normalizeQuery;p.normalizeHash=p.normalizeFragment;p.iso8859=function(){var e=URI.encode;var d=URI.decode;URI.encode=escape;URI.decode=decodeURIComponent;try{this.normalize();}finally{URI.encode=e;URI.decode=d;}
return this;};p.unicode=function(){var e=URI.encode;var d=URI.decode;URI.encode=strictEncodeURIComponent;URI.decode=unescape;try{this.normalize();}finally{URI.encode=e;URI.decode=d;}
return this;};p.readable=function(){var uri=this.clone();uri.username('').password('').normalize();var t='';if(uri._parts.protocol){t+=uri._parts.protocol+'://';}
if(uri._parts.hostname){if(uri.is('punycode')&&punycode){t+=punycode.toUnicode(uri._parts.hostname);if(uri._parts.port){t+=':'+uri._parts.port;}}else{t+=uri.host();}}
if(uri._parts.hostname&&uri._parts.path&&uri._parts.path.charAt(0)!=='/'){t+='/';}
t+=uri.path(true);if(uri._parts.query){var q='';for(var i=0,qp=uri._parts.query.split('&'),l=qp.length;i<l;i++){var kv=(qp[i]||'').split('=');q+='&'+URI.decodeQuery(kv[0],this._parts.escapeQuerySpace).replace(/&/g,'%26');if(kv[1]!==undefined){q+='='+URI.decodeQuery(kv[1],this._parts.escapeQuerySpace).replace(/&/g,'%26');}}
t+='?'+q.substring(1);}
t+=URI.decodeQuery(uri.hash(),true);return t;};p.absoluteTo=function(base){var resolved=this.clone();var properties=['protocol','username','password','hostname','port'];var basedir,i,p;if(this._parts.urn){throw new Error('URNs do not have any generally defined hierarchical components');}
if(!(base instanceof URI)){base=new URI(base);}
if(resolved._parts.protocol){return resolved;}else{resolved._parts.protocol=base._parts.protocol;}
if(this._parts.hostname){return resolved;}
for(i=0;(p=properties[i]);i++){resolved._parts[p]=base._parts[p];}
if(!resolved._parts.path){resolved._parts.path=base._parts.path;if(!resolved._parts.query){resolved._parts.query=base._parts.query;}}else{if(resolved._parts.path.substring(-2)==='..'){resolved._parts.path+='/';}
if(resolved.path().charAt(0)!=='/'){basedir=base.directory();basedir=basedir?basedir:base.path().indexOf('/')===0?'/':'';resolved._parts.path=(basedir?(basedir+'/'):'')+resolved._parts.path;resolved.normalizePath();}}
resolved.build();return resolved;};p.relativeTo=function(base){var relative=this.clone().normalize();var relativeParts,baseParts,common,relativePath,basePath;if(relative._parts.urn){throw new Error('URNs do not have any generally defined hierarchical components');}
base=new URI(base).normalize();relativeParts=relative._parts;baseParts=base._parts;relativePath=relative.path();basePath=base.path();if(relativePath.charAt(0)!=='/'){throw new Error('URI is already relative');}
if(basePath.charAt(0)!=='/'){throw new Error('Cannot calculate a URI relative to another relative URI');}
if(relativeParts.protocol===baseParts.protocol){relativeParts.protocol=null;}
if(relativeParts.username!==baseParts.username||relativeParts.password!==baseParts.password){return relative.build();}
if(relativeParts.protocol!==null||relativeParts.username!==null||relativeParts.password!==null){return relative.build();}
if(relativeParts.hostname===baseParts.hostname&&relativeParts.port===baseParts.port){relativeParts.hostname=null;relativeParts.port=null;}else{return relative.build();}
if(relativePath===basePath){relativeParts.path='';return relative.build();}
common=URI.commonPath(relativePath,basePath);if(!common){return relative.build();}
var parents=baseParts.path.substring(common.length).replace(/[^\/]*$/,'').replace(/.*?\//g,'../');relativeParts.path=(parents+relativeParts.path.substring(common.length))||'./';return relative.build();};p.equals=function(uri){var one=this.clone();var two=new URI(uri);var one_map={};var two_map={};var checked={};var one_query,two_query,key;one.normalize();two.normalize();if(one.toString()===two.toString()){return true;}
one_query=one.query();two_query=two.query();one.query('');two.query('');if(one.toString()!==two.toString()){return false;}
if(one_query.length!==two_query.length){return false;}
one_map=URI.parseQuery(one_query,this._parts.escapeQuerySpace);two_map=URI.parseQuery(two_query,this._parts.escapeQuerySpace);for(key in one_map){if(hasOwn.call(one_map,key)){if(!isArray(one_map[key])){if(one_map[key]!==two_map[key]){return false;}}else if(!arraysEqual(one_map[key],two_map[key])){return false;}
checked[key]=true;}}
for(key in two_map){if(hasOwn.call(two_map,key)){if(!checked[key]){return false;}}}
return true;};p.duplicateQueryParameters=function(v){this._parts.duplicateQueryParameters=!!v;return this;};p.escapeQuerySpace=function(v){this._parts.escapeQuerySpace=!!v;return this;};return URI;}));}),(function(module,exports,__webpack_require__){"use strict";var punycode=__webpack_require__(703);var util=__webpack_require__(722);exports.parse=urlParse;exports.resolve=urlResolve;exports.resolveObject=urlResolveObject;exports.format=urlFormat;exports.Url=Url;function Url(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null;}
var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=['<','>','"','`',' ','\r','\n','\t'],unwise=['{','}','|','\\','^','`'].concat(delims),autoEscape=['\''].concat(unwise),nonHostChars=['%','/','?',';','#'].concat(autoEscape),hostEndingChars=['/','?','#'],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={'javascript':true,'javascript:':true},hostlessProtocol={'javascript':true,'javascript:':true},slashedProtocol={'http':true,'https':true,'ftp':true,'gopher':true,'file':true,'http:':true,'https:':true,'ftp:':true,'gopher:':true,'file:':true},querystring=__webpack_require__(706);function urlParse(url,parseQueryString,slashesDenoteHost){if(url&&util.isObject(url)&&url instanceof Url)return url;var u=new Url;u.parse(url,parseQueryString,slashesDenoteHost);return u;}
Url.prototype.parse=function(url,parseQueryString,slashesDenoteHost){if(!util.isString(url)){throw new TypeError("Parameter 'url' must be a string, not "+typeof url);}
var queryIndex=url.indexOf('?'),splitter=(queryIndex!==-1&&queryIndex<url.indexOf('#'))?'?':'#',uSplit=url.split(splitter),slashRegex=/\\/g;uSplit[0]=uSplit[0].replace(slashRegex,'/');url=uSplit.join(splitter);var rest=url;rest=rest.trim();if(!slashesDenoteHost&&url.split('#').length===1){var simplePath=simplePathPattern.exec(rest);if(simplePath){this.path=rest;this.href=rest;this.pathname=simplePath[1];if(simplePath[2]){this.search=simplePath[2];if(parseQueryString){this.query=querystring.parse(this.search.substr(1));}else{this.query=this.search.substr(1);}}else if(parseQueryString){this.search='';this.query={};}
return this;}}
var proto=protocolPattern.exec(rest);if(proto){proto=proto[0];var lowerProto=proto.toLowerCase();this.protocol=lowerProto;rest=rest.substr(proto.length);}
if(slashesDenoteHost||proto||rest.match(/^\/\/[^@\/]+@[^@\/]+/)){var slashes=rest.substr(0,2)==='//';if(slashes&&!(proto&&hostlessProtocol[proto])){rest=rest.substr(2);this.slashes=true;}}
if(!hostlessProtocol[proto]&&(slashes||(proto&&!slashedProtocol[proto]))){var hostEnd=-1;for(var i=0;i<hostEndingChars.length;i++){var hec=rest.indexOf(hostEndingChars[i]);if(hec!==-1&&(hostEnd===-1||hec<hostEnd))
hostEnd=hec;}
var auth,atSign;if(hostEnd===-1){atSign=rest.lastIndexOf('@');}else{atSign=rest.lastIndexOf('@',hostEnd);}
if(atSign!==-1){auth=rest.slice(0,atSign);rest=rest.slice(atSign+1);this.auth=decodeURIComponent(auth);}
hostEnd=-1;for(var i=0;i<nonHostChars.length;i++){var hec=rest.indexOf(nonHostChars[i]);if(hec!==-1&&(hostEnd===-1||hec<hostEnd))
hostEnd=hec;}
if(hostEnd===-1)
hostEnd=rest.length;this.host=rest.slice(0,hostEnd);rest=rest.slice(hostEnd);this.parseHost();this.hostname=this.hostname||'';var ipv6Hostname=this.hostname[0]==='['&&this.hostname[this.hostname.length-1]===']';if(!ipv6Hostname){var hostparts=this.hostname.split(/\./);for(var i=0,l=hostparts.length;i<l;i++){var part=hostparts[i];if(!part)continue;if(!part.match(hostnamePartPattern)){var newpart='';for(var j=0,k=part.length;j<k;j++){if(part.charCodeAt(j)>127){newpart+='x';}else{newpart+=part[j];}}
if(!newpart.match(hostnamePartPattern)){var validParts=hostparts.slice(0,i);var notHost=hostparts.slice(i+1);var bit=part.match(hostnamePartStart);if(bit){validParts.push(bit[1]);notHost.unshift(bit[2]);}
if(notHost.length){rest='/'+notHost.join('.')+rest;}
this.hostname=validParts.join('.');break;}}}}
if(this.hostname.length>hostnameMaxLen){this.hostname='';}else{this.hostname=this.hostname.toLowerCase();}
if(!ipv6Hostname){this.hostname=punycode.toASCII(this.hostname);}
var p=this.port?':'+this.port:'';var h=this.hostname||'';this.host=h+p;this.href+=this.host;if(ipv6Hostname){this.hostname=this.hostname.substr(1,this.hostname.length-2);if(rest[0]!=='/'){rest='/'+rest;}}}
if(!unsafeProtocol[lowerProto]){for(var i=0,l=autoEscape.length;i<l;i++){var ae=autoEscape[i];if(rest.indexOf(ae)===-1)
continue;var esc=encodeURIComponent(ae);if(esc===ae){esc=escape(ae);}
rest=rest.split(ae).join(esc);}}
var hash=rest.indexOf('#');if(hash!==-1){this.hash=rest.substr(hash);rest=rest.slice(0,hash);}
var qm=rest.indexOf('?');if(qm!==-1){this.search=rest.substr(qm);this.query=rest.substr(qm+1);if(parseQueryString){this.query=querystring.parse(this.query);}
rest=rest.slice(0,qm);}else if(parseQueryString){this.search='';this.query={};}
if(rest)this.pathname=rest;if(slashedProtocol[lowerProto]&&this.hostname&&!this.pathname){this.pathname='/';}
if(this.pathname||this.search){var p=this.pathname||'';var s=this.search||'';this.path=p+s;}
this.href=this.format();return this;};function urlFormat(obj){if(util.isString(obj))obj=urlParse(obj);if(!(obj instanceof Url))return Url.prototype.format.call(obj);return obj.format();}
Url.prototype.format=function(){var auth=this.auth||'';if(auth){auth=encodeURIComponent(auth);auth=auth.replace(/%3A/i,':');auth+='@';}
var protocol=this.protocol||'',pathname=this.pathname||'',hash=this.hash||'',host=false,query='';if(this.host){host=auth+this.host;}else if(this.hostname){host=auth+(this.hostname.indexOf(':')===-1?this.hostname:'['+this.hostname+']');if(this.port){host+=':'+this.port;}}
if(this.query&&util.isObject(this.query)&&Object.keys(this.query).length){query=querystring.stringify(this.query);}
var search=this.search||(query&&('?'+query))||'';if(protocol&&protocol.substr(-1)!==':')protocol+=':';if(this.slashes||(!protocol||slashedProtocol[protocol])&&host!==false){host='//'+(host||'');if(pathname&&pathname.charAt(0)!=='/')pathname='/'+pathname;}else if(!host){host='';}
if(hash&&hash.charAt(0)!=='#')hash='#'+hash;if(search&&search.charAt(0)!=='?')search='?'+search;pathname=pathname.replace(/[?#]/g,function(match){return encodeURIComponent(match);});search=search.replace('#','%23');return protocol+host+pathname+search+hash;};function urlResolve(source,relative){return urlParse(source,false,true).resolve(relative);}
Url.prototype.resolve=function(relative){return this.resolveObject(urlParse(relative,false,true)).format();};function urlResolveObject(source,relative){if(!source)return relative;return urlParse(source,false,true).resolveObject(relative);}
Url.prototype.resolveObject=function(relative){if(util.isString(relative)){var rel=new Url();rel.parse(relative,false,true);relative=rel;}
var result=new Url();var tkeys=Object.keys(this);for(var tk=0;tk<tkeys.length;tk++){var tkey=tkeys[tk];result[tkey]=this[tkey];}
result.hash=relative.hash;if(relative.href===''){result.href=result.format();return result;}
if(relative.slashes&&!relative.protocol){var rkeys=Object.keys(relative);for(var rk=0;rk<rkeys.length;rk++){var rkey=rkeys[rk];if(rkey!=='protocol')
result[rkey]=relative[rkey];}
if(slashedProtocol[result.protocol]&&result.hostname&&!result.pathname){result.path=result.pathname='/';}
result.href=result.format();return result;}
if(relative.protocol&&relative.protocol!==result.protocol){if(!slashedProtocol[relative.protocol]){var keys=Object.keys(relative);for(var v=0;v<keys.length;v++){var k=keys[v];result[k]=relative[k];}
result.href=result.format();return result;}
result.protocol=relative.protocol;if(!relative.host&&!hostlessProtocol[relative.protocol]){var relPath=(relative.pathname||'').split('/');while(relPath.length&&!(relative.host=relPath.shift()));if(!relative.host)relative.host='';if(!relative.hostname)relative.hostname='';if(relPath[0]!=='')relPath.unshift('');if(relPath.length<2)relPath.unshift('');result.pathname=relPath.join('/');}else{result.pathname=relative.pathname;}
result.search=relative.search;result.query=relative.query;result.host=relative.host||'';result.auth=relative.auth;result.hostname=relative.hostname||relative.host;result.port=relative.port;if(result.pathname||result.search){var p=result.pathname||'';var s=result.search||'';result.path=p+s;}
result.slashes=result.slashes||relative.slashes;result.href=result.format();return result;}
var isSourceAbs=(result.pathname&&result.pathname.charAt(0)==='/'),isRelAbs=(relative.host||relative.pathname&&relative.pathname.charAt(0)==='/'),mustEndAbs=(isRelAbs||isSourceAbs||(result.host&&relative.pathname)),removeAllDots=mustEndAbs,srcPath=result.pathname&&result.pathname.split('/')||[],relPath=relative.pathname&&relative.pathname.split('/')||[],psychotic=result.protocol&&!slashedProtocol[result.protocol];if(psychotic){result.hostname='';result.port=null;if(result.host){if(srcPath[0]==='')srcPath[0]=result.host;else srcPath.unshift(result.host);}
result.host='';if(relative.protocol){relative.hostname=null;relative.port=null;if(relative.host){if(relPath[0]==='')relPath[0]=relative.host;else relPath.unshift(relative.host);}
relative.host=null;}
mustEndAbs=mustEndAbs&&(relPath[0]===''||srcPath[0]==='');}
if(isRelAbs){result.host=(relative.host||relative.host==='')?relative.host:result.host;result.hostname=(relative.hostname||relative.hostname==='')?relative.hostname:result.hostname;result.search=relative.search;result.query=relative.query;srcPath=relPath;}else if(relPath.length){if(!srcPath)srcPath=[];srcPath.pop();srcPath=srcPath.concat(relPath);result.search=relative.search;result.query=relative.query;}else if(!util.isNullOrUndefined(relative.search)){if(psychotic){result.hostname=result.host=srcPath.shift();var authInHost=result.host&&result.host.indexOf('@')>0?result.host.split('@'):false;if(authInHost){result.auth=authInHost.shift();result.host=result.hostname=authInHost.shift();}}
result.search=relative.search;result.query=relative.query;if(!util.isNull(result.pathname)||!util.isNull(result.search)){result.path=(result.pathname?result.pathname:'')+
(result.search?result.search:'');}
result.href=result.format();return result;}
if(!srcPath.length){result.pathname=null;if(result.search){result.path='/'+result.search;}else{result.path=null;}
result.href=result.format();return result;}
var last=srcPath.slice(-1)[0];var hasTrailingSlash=((result.host||relative.host||srcPath.length>1)&&(last==='.'||last==='..')||last==='');var up=0;for(var i=srcPath.length;i>=0;i--){last=srcPath[i];if(last==='.'){srcPath.splice(i,1);}else if(last==='..'){srcPath.splice(i,1);up++;}else if(up){srcPath.splice(i,1);up--;}}
if(!mustEndAbs&&!removeAllDots){for(;up--;up){srcPath.unshift('..');}}
if(mustEndAbs&&srcPath[0]!==''&&(!srcPath[0]||srcPath[0].charAt(0)!=='/')){srcPath.unshift('');}
if(hasTrailingSlash&&(srcPath.join('/').substr(-1)!=='/')){srcPath.push('');}
var isAbsolute=srcPath[0]===''||(srcPath[0]&&srcPath[0].charAt(0)==='/');if(psychotic){result.hostname=result.host=isAbsolute?'':srcPath.length?srcPath.shift():'';var authInHost=result.host&&result.host.indexOf('@')>0?result.host.split('@'):false;if(authInHost){result.auth=authInHost.shift();result.host=result.hostname=authInHost.shift();}}
mustEndAbs=mustEndAbs||(result.host&&srcPath.length);if(mustEndAbs&&!isAbsolute){srcPath.unshift('');}
if(!srcPath.length){result.pathname=null;result.path=null;}else{result.pathname=srcPath.join('/');}
if(!util.isNull(result.pathname)||!util.isNull(result.search)){result.path=(result.pathname?result.pathname:'')+
(result.search?result.search:'');}
result.auth=relative.auth||result.auth;result.slashes=result.slashes||relative.slashes;result.href=result.format();return result;};Url.prototype.parseHost=function(){var host=this.host;var port=portPattern.exec(host);if(port){port=port[0];if(port!==':'){this.port=port.substr(1);}
host=host.substr(0,host.length-port.length);}
if(host)this.hostname=host;};}),(function(module,exports,__webpack_require__){"use strict";module.exports={isString:function(arg){return typeof(arg)==='string';},isObject:function(arg){return typeof(arg)==='object'&&arg!==null;},isNull:function(arg){return arg===null;},isNullOrUndefined:function(arg){return arg==null;}};}),(function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});__webpack_require__(22);const Stats=__webpack_require__(235);const level_1=__webpack_require__(236);const loader_1=__webpack_require__(237);class Game{constructor(){this.stats=new Stats();this.loader=new loader_1.Loader();document.body.appendChild(this.stats.dom);this.app=new PIXI.Application(960,540);document.body.appendChild(this.app.view);this.graphics=new PIXI.Graphics();this.app.stage.addChild(this.graphics);}
start(){requestAnimationFrame(()=>{console.log(103);this.loop();});}
loop(){requestAnimationFrame(()=>{this.loop();});this.stats.update();this.level.update();this.level.draw(this.graphics);this.app.render();this.graphics.clear();};levelChange(levelData){this.level=new level_1.Level(game);this.level.load(levelData);}}
exports.Game=Game;let game=new Game();let req=new XMLHttpRequest();req.addEventListener('load',(e)=>{game.levelChange(req.responseText);game.start();});req.open('GET','map.json',true);req.send(null);})]);
